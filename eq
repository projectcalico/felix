[33mcommit ca62b93fbe510056855367a5ff7902fffba5edca[m[33m ([m[1;36mHEAD -> [m[1;32mwgctrl-version-bump2[m[33m)[m
Merge: 812528d1 735119ce
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Thu Oct 28 14:09:01 2021 +0000

    Merge branch 'wgctrl-version-bump2' of github.com:mikestephen/felix into wgctrl-version-bump2

[33mcommit 812528d143d8cb693fea6387e4540fe660ddb53a[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Thu Oct 28 14:07:40 2021 +0000

    Only collect wireguard prom stats if enabled

[33mcommit 94ed3ff534fa07fdec84eb1a12be115c634ea88c[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Wed Oct 27 14:19:11 2021 +0000

    Updates wgctrl dep to latest

[33mcommit 735119ced86d9286bfa0be36737493dfe4782601[m[33m ([m[1;31morigin/wgctrl-version-bump2[m[33m)[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Wed Oct 27 14:19:11 2021 +0000

    Updates wgctrl dep to latest

[33mcommit 8aa1ccc8578b6d73fbbcb9ab97d3c998c20c95c8[m[33m ([m[1;31morigin/master[m[33m, [m[1;31morigin/HEAD[m[33m, [m[1;32mmaster[m[33m)[m
Merge: 8b562325 5782124c
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 27 12:18:21 2021 +0100

    Merge pull request #3049 from neiljerram/missing-libelf
    
    Ubuntu packaging: add Build-Depend on libelf-dev

[33mcommit 5782124c621569c10c04877fb39037ba4c6bfe1e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 27 10:19:54 2021 +0100

    Ubuntu packaging: add Build-Depend on libelf-dev
    
    Since the recent libbpf transition, launchpad builds have been failing
    for trusty, xenial and bionic like this:
    
        dpkg-shlibdeps: error: cannot find library libelf.so.1 needed by debian/calico-felix/usr/bin/calico-felix (ELF format: 'elf64-x86-64' abi: '0201003e00000000'; RPATH: '')
        dpkg-shlibdeps: error: cannot continue due to the error above
    
    E.g. https://launchpadlibrarian.net/565743800/buildlog_ubuntu-bionic-amd64.felix_3.22.0~0.dev.post1+20211026221416+0000+d6ffbd7-bionic_BUILDING.txt.gz
    
    https://answers.launchpad.net/launchpad/+question/691996 indicates the
    solution as in this commit.
    
    I don't know for sure, but my interpretation of that is that
    Launchpad's default build environment for Focal (and probably onwards)
    includes libelf-dev, but its default build environment for Bionic and
    earlier does not.

[33mcommit 8b5623257221ba0ba7207648b6ec7ee4398c7873[m
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Tue Oct 26 15:30:43 2021 -0700

    Use global variables and avoid patching (#3041)
    
    * Added support for global variables and avoid patching the binary

[33mcommit d6ffbd7cc6e7d01eb7d629c2c0b5541181ba80ab[m
Merge: adb18dd5 f891d6ad
Author: Matt Leung <mleung975@gmail.com>
Date:   Mon Oct 25 13:30:09 2021 -0700

    Merge pull request #3024 from mgleung/service-ingress
    
    Add support for services in ingress rules

[33mcommit f891d6ade10317551892c0bcb4a8a51c59d8c221[m
Author: matt <mleung975@gmail.com>
Date:   Thu Oct 7 14:14:24 2021 -0700

    Add support for services in ingress rules

[33mcommit adb18dd54715d98bf25ae04d56935303ed1008c0[m[33m ([m[1;33mtag: v3.22.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Oct 20 16:00:00 2021 -0700

    Begin development on v3.22.0

[33mcommit 9b66c15d738adcc4ab27e9e12cab2385b5f9f18a[m
Merge: ff322616 c4bf0c51
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Oct 20 09:50:27 2021 -0700

    Merge pull request #3043 from fasaxc/decouple-tc-pkg
    
    Move tc definitions to own package.

[33mcommit c4bf0c5193dd1e23830175a9ec35ac6710279f27[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 20 16:31:05 2021 +0100

    Increase build timeout.

[33mcommit b2c551ffafe5567a4bdedbf38c99d6d645eb4d04[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 20 15:19:16 2021 +0100

    Move tc definitions to own package.
    
    This should let kube-controllers import felix without needing to build the bpf packages.

[33mcommit ff32261683254c4f4ac66ace687319367db882a4[m
Merge: cdf6ae1c 45e53972
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Oct 19 16:10:00 2021 -0700

    Merge pull request #3042 from tomastigera/tomas-set-sports
    
    bpf: Patch the psnat ports into the binaries

[33mcommit 45e53972b6775fd00a93977d02a998eb3c4f8e8f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Oct 19 13:59:59 2021 -0700

    bpf: Patch the psnat ports into the binaries
    
    Update the binaries with the provided config values.

[33mcommit cdf6ae1cf5993f5021fb74edd170c9ecb9f0f9c3[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Oct 18 15:32:16 2021 -0700

    Kubernetes version to v0.21.0 (#3040)

[33mcommit a37298deb17d714df81a02c54e1a28195dd3d8ae[m
Merge: 167d1526 93f2e74b
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 18 10:58:50 2021 +0100

    Merge pull request #3038 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 93f2e74bb25ae3c4c2334beb3477624bfb491e32[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Sep 10 14:59:09 2021 -0700

    BPFPSNATPorts config option

[33mcommit 9a3da14bfd9c4eb624b2e2e8323c097d0496abfd[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Sat Oct 16 01:20:58 2021 +0000

    Automatic Pin Updates

[33mcommit 167d15263bb9ad846d172c3bb2edcb43cce44938[m
Merge: 14c79f6f 56828e89
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 14 08:58:08 2021 +0100

    Merge pull request #3033 from neiljerram/flake-fixes
    
    Two flake fixes

[33mcommit 56828e89778980408899cce761d7425fb375d283[m
Merge: 928a2df2 14c79f6f
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 23:47:10 2021 +0100

    Merge remote-tracking branch 'origin/master' into flake-fixes

[33mcommit 14c79f6f94ef14cf1f677726c6ef86765eee1a01[m
Merge: 64f16d9a 91887316
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 23:46:33 2021 +0100

    Merge pull request #3034 from neiljerram/ignore-empty-json
    
    Avoid error when bpftool returns empty JSON output at start of day

[33mcommit 91887316b29247db0f1eee14b30fe183cf3b6882[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 20:37:11 2021 +0100

    FV: Don't panic when cleaning up an endpoint and it has already gone
    
    For example:
    
        â€¢! Panic in Spec Setup (BeforeEach) [0.858 seconds]
        _BPF-SAFE_ all-interfaces host endpoints (kubernetes backend)
        /go/src/github.com/projectcalico/felix/fv/infrastructure/datastore_describe.go:42
          _BPF-SAFE_ with no policies and no profiles on the host endpoints [BeforeEach]
          /go/src/github.com/projectcalico/felix/fv/hostendpoints_test.go:190
            should block all traffic except pod-to-pod and host-to-own-pod traffic
            /go/src/github.com/projectcalico/felix/fv/hostendpoints_test.go:254
    
            Test Panicked
            endpoints "test-service" not found
            /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:1013
    
            Full Stack Trace
            github.com/projectcalico/felix/fv/infrastructure.cleanupAllServices(0xc001942840, 0x218eff0, 0xc00157a000)
                    /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:1013 +0x690
            github.com/projectcalico/felix/fv/infrastructure.(*K8sDatastoreInfra).CleanUp(0xc0000f8090)
                    /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:502 +0x198
            github.com/projectcalico/felix/fv/infrastructure.(*K8sDatastoreInfra).EnsureReady(0xc0000f8090)
                    /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:449 +0x1c9
            github.com/projectcalico/felix/fv/infrastructure.GetK8sDatastoreInfra(0x76e375, 0xc0005c7320, 0x3)
                    /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:149 +0x4b
            github.com/projectcalico/felix/fv/infrastructure.createK8sDatastoreInfra(0x0, 0x0)
                    /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:139 +0x26
            github.com/projectcalico/felix/fv_test.describeHostEndpointTests.func1()
                    /go/src/github.com/projectcalico/felix/fv/hostendpoints_test.go:65 +0xb4
            github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc000f52600, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/runner.go:113 +0xa3
            github.com/onsi/ginkgo/internal/leafnodes.(*runner).run(0xc000f52600, 0xc00ae03d80, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/runner.go:64 +0x15c
            github.com/onsi/ginkgo/internal/leafnodes.(*SetupNode).Run(0xc00034fc68, 0x212c800, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/leafnodes/setup_nodes.go:15 +0x87
            github.com/onsi/ginkgo/internal/spec.(*Spec).runSample(0xc000cc6870, 0x0, 0x212c800, 0xc00007c840)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/spec/spec.go:193 +0x28d
            github.com/onsi/ginkgo/internal/spec.(*Spec).Run(0xc000cc6870, 0x212c800, 0xc00007c840)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/spec/spec.go:138 +0xf2
            github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec(0xc000a09040, 0xc000cc6870, 0x0)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:200 +0x111
            github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs(0xc000a09040, 0x1)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:170 +0x147
            github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run(0xc000a09040, 0xc00113e388)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/specrunner/spec_runner.go:66 +0x117
            github.com/onsi/ginkgo/internal/suite.(*Suite).Run(0xc0000fa070, 0x7fc21b3ff0d8, 0xc000583080, 0x1eb8b97, 0x8, 0xc000383a80, 0x2, 0x2, 0x2175338, 0xc00007c840, ...)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/internal/suite/suite.go:79 +0x546
            github.com/onsi/ginkgo.RunSpecsWithCustomReporters(0x212e1a0, 0xc000583080, 0x1eb8b97, 0x8, 0xc000383a60, 0x2, 0x2, 0x2)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/ginkgo_dsl.go:219 +0x218
            github.com/onsi/ginkgo.RunSpecsWithDefaultAndCustomReporters(0x212e1a0, 0xc000583080, 0x1eb8b97, 0x8, 0xc000059760, 0x1, 0x1, 0x61672737)
                    /go/pkg/mod/github.com/onsi/ginkgo@v1.14.1/ginkgo_dsl.go:207 +0xad
            github.com/projectcalico/felix/fv_test.TestFv(0xc000583080)
                    /go/src/github.com/projectcalico/felix/fv/fv_suite_test.go:44 +0xfa
            testing.tRunner(0xc000583080, 0x1f9ac40)
                    /usr/local/go-cgo/src/testing/testing.go:1193 +0xef
            created by testing.(*T).Run
                    /usr/local/go-cgo/src/testing/testing.go:1238 +0x2b3

[33mcommit 7a59a672ff6f5c5c9ee566a2aba27c36a5bc102c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 19:22:40 2021 +0100

    Run Windows FV setup with bash-level tracing

[33mcommit 928a2df29ce981d882e494a2b445b798abe86942[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 17:09:51 2021 +0100

    Review markup: also allow for node update conflicts

[33mcommit 1c605f1fdc46a7d8605fcb2ee4ff4b54df460694[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 16:58:11 2021 +0100

    Run Windows FV setup with bash-level tracing

[33mcommit 4eb1f41e396e02cd04b6f77dce372e1b4dbb680d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 16:02:59 2021 +0100

    Review markup: don't use Expect inside Eventually

[33mcommit 68cf1c215bef5e3ae419192e6375570610e60404[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 15:06:32 2021 +0100

    Avoid error when bpftool returns empty JSON output at start of day
    
    A Calico/OpenStack customer saw this:
    
        [ERROR][61494] felix/connecttime.go 63: BPF program list not json. error=unexpected end of JSON input output="\n"
    
    Customer wasn't trying to run in BPF mode, but this can occur at start
    of day even when not BPF-enabled, as part of cleaning up old BPF
    state.
    
    We presume they have a version of bpftool, on the host, that behaves
    differently from the one that we include in a calico-node image;
    specifically, such that `bpftool -j -p cgroup show <cgroupPath>` gives
    output `\n` and exit status 0; and that trips us up.  ï¿¼

[33mcommit 5506cafdae66a7aa155d0b51a856f9a977af0582[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 12:54:05 2021 +0100

    PolicySync FV: allow time for profile update for second mock workload
    
    Fixes this flake:
    
        â€¢ Failure [8.862 seconds]
        _POL-SYNC_ _BPF-SAFE_ policy sync API tests
        /go/src/github.com/projectcalico/felix/fv/policysync_test.go:53
          with the binder
          /go/src/github.com/projectcalico/felix/fv/policysync_test.go:116
            after creating a client for each workload
            /go/src/github.com/projectcalico/felix/fv/policysync_test.go:177
              with open workload connections
              /go/src/github.com/projectcalico/felix/fv/policysync_test.go:198
                with mock clients syncing
                /go/src/github.com/projectcalico/felix/fv/policysync_test.go:238
                  after adding a policy that applies to workload 0 only
                  /go/src/github.com/projectcalico/felix/fv/policysync_test.go:331
                    should handle a change of profiles [It]
                    /go/src/github.com/projectcalico/felix/fv/policysync_test.go:463
    
                    Failed after 0.000s.
                    Expected
                        <set.mapSet | len:0>: {}
                    to equal
                        <set.mapSet | len:1>: {
                            {Name: "default"}: {},
                        }
    
                    /go/src/github.com/projectcalico/felix/fv/policysync_test.go:485

[33mcommit 4e75ff5c29cae6672987a0b1a2d8f0cc194b2f91[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 13 11:59:43 2021 +0100

    Wireguard FV: allow time for node.Status.WireguardPublicKey to be set
    
    Fixes this flake:
    
        â€¢ Failure [17.040 seconds]
        _BPF-SAFE_ WireGuard-Supported (kubernetes backend)
        /go/src/github.com/projectcalico/felix/fv/infrastructure/datastore_describe.go:42
          with Wireguard enabled
          /go/src/github.com/projectcalico/felix/fv/wireguard_test.go:163
            v3 node resource annotations should automatically heal [It]
            /go/src/github.com/projectcalico/felix/fv/wireguard_test.go:263
    
            Timed out after 5.000s.
            Expected
                <string>: EeaN8ZtO77LP6oeK31m2u+0MaHFcJd9b2xIQFzMZLxA=
            to equal
                <string>:
    
            /go/src/github.com/projectcalico/felix/fv/wireguard_test.go:279

[33mcommit 64f16d9ab9f071d16ae4e9d094615a7d03280d7b[m
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Oct 7 06:57:18 2021 -0700

    Cleanup of map struct and compilation flags (#3020)
    
    * Cleanup of map struct and compilation flags

[33mcommit 5b2b00af96aab4533510c299dfdaaf0b42a066c3[m
Merge: 2f29dd7a d9e7448a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Oct 5 17:25:04 2021 -0700

    Merge pull request #3022 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d9e7448a0390a1d3cdce41364a2053b1c8e86a17[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Oct 5 23:19:33 2021 +0000

    Automatic Pin Updates

[33mcommit 2f29dd7a2041d00d7458b0869533876848498cbe[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Oct 5 15:10:10 2021 -0700

    Replace hyperkube, update k8s version (#3016)

[33mcommit 83a0cd613cf62374834267ed4ea38efe817e06a4[m
Merge: 97f84829 8c8391a5
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Oct 5 07:30:55 2021 -0700

    Merge pull request #3021 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 8c8391a584fc40187a0baace8b0b452526ef4309[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Oct 5 13:12:59 2021 +0000

    Automatic Pin Updates

[33mcommit 97f84829134f83096cbc1e4f5169cbad5e6168d1[m
Merge: 7c83a1e3 88565db9
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Oct 4 16:19:00 2021 -0700

    Merge pull request #3019 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 88565db991633874f3ba8d85fe8bac2abe099c1f[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Oct 4 22:10:55 2021 +0000

    Automatic Pin Updates

[33mcommit 7c83a1e3ca88691f999f2df2383e7dc514b7fec2[m
Merge: f37a732c 5c041be6
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Mon Oct 4 10:10:35 2021 -0700

    Merge pull request #3015 from tomastigera/tomas-bpf-lb-local-fix2
    
    bpf/proxy: fix conn cleaning when ExternalTrafficPolicy=Local

[33mcommit f37a732c83e2b3499c96de1c313bbf60f7bffddf[m
Merge: 5b211b95 5d41368a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Oct 1 16:06:57 2021 -0700

    Merge pull request #3018 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 5d41368a12b5ac30142c871dd9b11d17e82898f3[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Oct 1 22:03:33 2021 +0000

    Automatic Pin Updates

[33mcommit 5c041be66be8a6178b5bdb89a1331803f4512c7e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Sep 28 17:05:34 2021 -0700

    bpf/proxy: fix conn cleaning when ExternalTrafficPolicy=Local
    
    Our desire is to clean up connections from conntrack if we detect that a
    given frontend no longer has a given backend. As a result, clients do
    not need to wait for timeouts as the nodes would reply with RST for the
    clients retransmits.
    
    Because of wrong tracking which frontend may have which backend, when
    ExternalTrafficPolicy=Local, we were incorrectly breaking perfectly good
    connections.
    
    This makes our decisions more conservative as we consider all currently
    known backends as valid. There is no harm in not cleaning up connections
    that couldn't have been started and letting them timeout if they exist.

[33mcommit 5b211b95b3fab08efd7f95d2e4498066999df39a[m
Merge: 98d0e9e6 36fd109d
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Fri Oct 1 09:17:42 2021 -0700

    Merge pull request #3017 from tomastigera/tomas-fix-slices-not-ready
    
    bpf/proxy: program only Ready endpoints in NAT

[33mcommit 98d0e9e61958d12ee5fbc2cc6944f149d6135c3e[m
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Fri Oct 1 09:05:50 2021 -0700

    Load TC programs using libbpf (#2963)
    
    Load TC programs using libbpf

[33mcommit 36fd109dafc4d30021c686650568985e5ade8f08[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Sep 30 15:07:43 2021 -0700

    bpf/proxy: program only Ready endpoints in NAT
    
    Unlike Endpoints, EndpointSlices also include endpoints, that are not
    ready. We need to exclude those when programming NAT, otherwise, traffic
    may get directed to endpoints that are not responding.

[33mcommit 3e00bbcd5104f15c761415e06e2304b2a3cd2af0[m
Merge: 2509ecd2 b6ff8673
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Sep 28 13:49:12 2021 -0700

    Merge pull request #3013 from tomastigera/tomas-bpf-lb-local-fix1
    
    bpf/proxy: exclude local workloads from NodePortRemotes

[33mcommit b6ff8673d05e3f5f4b152c7ee713435ee0143542[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Sep 28 12:35:43 2021 -0700

    bpf/proxy: add a comment

[33mcommit d227bfbbbf2a9e78751dc04f21af327d0574f326[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sun Sep 26 20:33:01 2021 -0700

    bpf/proxy: exclude local workloads from NodePortRemotes
    
    Fixes the problem, where bogus entries were written to NAT table due to
    the fact that local workloads do not have NextHop as an IP, but as the
    index of the cali interface. That lead to programming bogus entries like
    3.0.0.0, 4.0.0.0 etc in the NAT table.
    
    As a side effect, those entries each had just one backend (the pod with
    the cali iface) and due to another bug overwrote the backends for the
    cleaner that thought that there is just a single backend which leads to
    stalls if there is more then a single local backend
    projectcalico/calico#4431. This PR fixes only programming the NAT table
    and does not address the cleaner.
    
    To work around the fact that CTLB does not resolve nodeports at the
    node, but immediately at connect time, we need to know if there are any
    local pods at the destination node if ExternalTrafficPolicy is set to
    Local. Otherwise we would not be compliant with legacy kube-proxy if we
    make connetion to a non-local pod of the destination node.
    
    Note that CTLB would make such a connection with source preservation and
    now extra hop.

[33mcommit 2509ecd2ecc7c95f8417fa3ac3db3778594134ef[m
Merge: 8c85f760 3957b0a9
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Sep 27 17:08:56 2021 -0700

    Merge pull request #3014 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 3957b0a90c5e53d9a83727b78723af7b96dd8055[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Sep 27 23:02:14 2021 +0000

    Automatic Pin Updates

[33mcommit 8c85f76088050268f1e2180e02a56c24f94c020b[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Sep 27 14:58:19 2021 -0700

    Windows impl for service network policy (#2917)

[33mcommit 1e9eaac481e7d4c30c0bd408425f847c295e5121[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 22 20:38:21 2021 -0700

    Do not overwrite the eps copy

[33mcommit 8f7ff67ebb2fbd055df16b441c4f909faddb254a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 22 20:38:04 2021 -0700

    Fix locks

[33mcommit 0507205ee4222d7e9529340d46b8e851bb63289d[m
Merge: 13212179 70bd8cc6
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Sep 24 11:58:22 2021 -0700

    Merge pull request #3011 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 70bd8cc6eb0f213ca7340a969460a66e17c7b4b4[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Sep 24 17:36:14 2021 +0000

    Automatic Pin Updates

[33mcommit 13212179588e8ff77ef8128052186873205ae1de[m
Merge: e596d8a5 35dfcf5a
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Sep 23 15:39:33 2021 -0700

    Merge pull request #3007 from robbrockbank/fix-route-if-regex
    
    [WIP] Backout previous routetable fix and change how we handle empty interface regex

[33mcommit 35dfcf5a6cf99a124002ab64ba30fd5f94fdc9e0[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Sep 22 23:40:02 2021 -0700

    Backout previous routetable fix and change how we handle empty interface regex

[33mcommit e596d8a53dabf8e7c03dcb3d135a5eac64d02ce9[m
Merge: 784dba9a 1656d37e
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Sep 22 14:08:00 2021 -0700

    Merge pull request #3006 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 1656d37e6d3f8f2c7dbada943acaa103ca447158[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Sep 22 19:59:15 2021 +0000

    Automatic Pin Updates

[33mcommit 784dba9ae7b6a302e6aad70b019e834b03984008[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Sep 13 09:30:00 2021 -0700

    Run Windows FV tests (#2895)
    
    * wip: run windows fv tests
    
    This is mostly the same as the setup in cni-plugin and the other felix
    repo
    
    * wip: testing with semaphore
    
    * Update winfv tests
    
    * Fix junit report file
    
    * Use k8s 1.20 and Windows 2004
    
    * Test 2 jobs
    
    * Fix merge issue
    
    * Add comment about infra setup to test
    
    * Try using latest k8s stable
    
    * Restore commented out sections in semaphore.yml
    
    * Add comment explaining windows fv test infra setup

[33mcommit 012f8389275c2c55257de87c8306f020a53ed56e[m
Merge: 5a250927 b2a2f71e
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Fri Sep 10 12:51:24 2021 -0700

    Merge pull request #2983 from tomastigera/tomas-bpf-sport-collisions
    
    bpf: source port collision resolution

[33mcommit 5a25092783d5cc23e36aedda9cf996e9ebf6edab[m
Merge: 2eddfeae bab3551b
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Sep 9 13:50:47 2021 -0700

    Merge pull request #2997 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit bab3551b597cff8bec2045eb3a6bff7060f36028[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Sep 9 19:46:43 2021 +0000

    Automatic Pin Updates

[33mcommit b2a2f71e412f6515d04c8c69c5fea3f4f4d80596[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Sep 9 07:15:18 2021 -0700

    bpf/ut: fix typecast in an assertion

[33mcommit 3eedf6a80d0bdf61ce476239e63b6e3fc99c1ab7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 23:13:27 2021 -0700

    bpf: revert change due to verifier state explosion

[33mcommit 6cc07e2d5f1e3ac7dbc76c1b579c8a4dee6d8b09[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 23:10:50 2021 -0700

    bpf: fix setting conntrack nat_sport iff collision

[33mcommit 2eddfeae075eb1359f17073cfa53a74850365198[m
Author: Seth Malaki <seth@tigera.io>
Date:   Thu Sep 9 06:37:56 2021 +0100

    bugfix: vxlan noencap blackhole contention (#2986)
    
    1. added additional, dynamic setup options for route table
    - additional log fields options
    - programmed routes filter options (for fullResyncRoutesForLink)
    
    2. use dynamic setup options for route table to:
    - filter out blackhole routing and noencap table's routes, making sure blackhole routing table only affects its own blackhole routes.
    - in turn, for safety, noencap table is filtered by syscall.RTN_UNICAST
    
    Addresses: projectcalico/calico#4866

[33mcommit 5c02da78d79b629b217a0dd64d1193b07a2e4284[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 21:48:40 2021 -0700

    bpf/ut: typos and statics checks fixes

[33mcommit 6c0a9c832d4b446678413715196f55b839abac7b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 21:43:38 2021 -0700

    bpf: fix debugs in TC

[33mcommit 4dce515e4d84e60fe7db036b8372d3605c47e29e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 21:39:31 2021 -0700

    bpf: test random port collision
    
    After we have a collision, we pick a random port. That may lead to
    another collision with a previously selected random port. In such a case
    we drop the packet and we let the net protocol to resolve this. TCP
    retries a few times and that should resolve the secondary conflict.
    
    Note that these conflicts should be rare to start with, even more rare
    if we there is a secondary conflict.

[33mcommit 02786ed0f4a9f4173427db2b11e97d979e9cdbba[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 21:39:09 2021 -0700

    bpf: fix pSNAT defaults

[33mcommit fb54f3156c35cd57eed92b2db79228f4d963378d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 20:12:21 2021 -0700

    bpf: always use ct_make_key in conntrack

[33mcommit 3f44f831732c413f13ba1521a5a23529fd87d02a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 19:54:01 2021 -0700

    bpf: fix conntrack typos and dups

[33mcommit 8e8b9878cd68f7a13b35365cfaaf92e0e241cc51[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 8 10:55:17 2021 -0700

    bpf: felix can set the pSNAT port range

[33mcommit 1ac6ea7679a9d776a0a8d4a26444b6afd54efd0d[m
Merge: b4e393f2 528ae8d5
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 8 14:08:12 2021 +0100

    Merge pull request #2994 from neiljerram/xdp-tests-now-run-on-semaphore
    
    XDP tests now run on Semaphore VM

[33mcommit 528ae8d56e13827167b54ce1154ad7a4d22a68e2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 8 13:00:08 2021 +0100

    Skip broken sockmap FV test

[33mcommit fa5cd5b871db7c2c5fbb1aafa33bc1c2dd55a35e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 8 11:40:50 2021 +0100

    XDP tests now run on Semaphore VM
    
    Semaphore just upgraded the 'ubuntu1804' platform to
    
        Linux version 5.4.0-81-generic (buildd@lgw01-amd64-051) (gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04)) #91~18.04.1-Ubuntu SMP Fri Jul 23 13:36:29 UTC 2021
    
    so the XDP tests will now run as part of the main FV matrix on
    Semaphore, and we don't also need to run them on the "new kernel" GCP
    VMs.

[33mcommit 6d56b0094c6eed10c5b132e9134fe8b53f976aee[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Sep 3 22:54:28 2021 +0200

    bpf: source port collision fix for brokem related icmp

[33mcommit f763fc62de0dafac07a4a0007f9836c8268d5079[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Sep 3 20:52:11 2021 +0200

    bpf/ut: static-checks fixes

[33mcommit b4e393f2faa942f7f1722ebf18871abcb0d58b73[m
Merge: c95c1ed0 19cc0bd4
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 2 20:34:59 2021 +0100

    Merge pull request #2991 from neiljerram/any-hep-xdp
    
    Don't crash when untracked policy is applied to a host-* endpoint

[33mcommit c95c1ed0afc5f656578f0f1993bcd4643dc95b58[m
Merge: 084de886 c327d782
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 2 16:32:53 2021 +0100

    Merge pull request #2992 from neiljerram/service-loop-flake
    
    Fix service loop prevention flake

[33mcommit ee9cefe6dd93fbe41df3cf2a52470e14b6b9912c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Sep 2 15:31:46 2021 +0200

    bpf: source port collision resolution for UDP

[33mcommit 1d89816beec76b93995e88565533b74d1f201cb2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 1 12:54:05 2021 +0200

    bpf: source port collision resolution
    
    If there is a collision on the source due to forwarding via multiple
    nodes, we pick a new source port, we remember the source port in
    conntrack and we SNAT the port on the way towards the pod and we
    translate it back for the return traffic. That port is not seen outside
    of the node.
    
    We remember the new port in the FWD entry an we also remember the
    original source port in the reverse entry. We use currenty unsed space
    in the entries, hence there is no need to version the conntrack table.

[33mcommit a693afdf483c0c1fa9f79d439b471e003d91d912[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 31 22:47:39 2021 +0200

    fv/bpf: fix source collision FV

[33mcommit f56584912427b8cebb6ad96850a51a1120d6c48f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 31 13:27:05 2021 +0200

    bpf/ut: source collision test

[33mcommit 522447c4f7b706ae63f5968b550008bed7c2df90[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 26 09:50:34 2021 +0200

    bpf: source port collision detection
    
    We already stop any packet if we detected that the source node
    changed - part of our RPF check.
    
    We now also stop any packet that would have a conflicting tracking
    record after NAT. This means that it has the same 5-tuple after NAT,
    which means that the source is the same and the destination is the
    same but the destination was different before NAT.
    
    The detection is race free in respect to any concurrent connection as we
    first try to create the tracking entry atomically and if that fails, no
    fwd entry it created.

[33mcommit c327d7824befe3d55b1333a5da9b1586713fb419[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 2 15:04:00 2021 +0100

    Fix service loop prevention flake
    
    These loop prevention FVs were occasionally failing with
    
        â€¢ Failure [13.147 seconds]
        service loop prevention; with 2 nodes (kubernetes backend)
        /go/src/github.com/projectcalico/felix/fv/infrastructure/datastore_describe.go:42
          ServiceExternalIPs also blocks service routing loop [It]
          /go/src/github.com/projectcalico/felix/fv/service_loop_prevention_test.go:291
          Timed out after 1.000s.
          Expected
              <int>: 1
          to be >
              <int>: 2
          /go/src/github.com/projectcalico/felix/fv/service_loop_prevention_test.go:178
    
    In other words, they expected tcpdump to show the ping request
    multiple times (because of looping), but it only showed up once.
    
    I think this was happening when we did the ping too early, at a time
    when Felix had not yet updated its iptables to reflect the disabling
    of service loop prevention.  For example, the relevant Felix had
    completed its first update by 00:34:29.265:
    
        felix-0-19564-103-felixfv[stdout] 2021-09-01 00:34:29.265 [INFO][198] felix/int_dataplane.go 1650: Completed first update to dataplane. secsSinceStart=0.750337644
    
    But the ping was kicked off a little before that at 00:34:29.186:
    
        2021-09-01 00:34:29.186 [DEBUG][19564] utils.go 148: Creating Command [docker exec external-client-19564-107-felixfv ping -c 1 -W 1 10.96.0.19].
    
    This PR adds code to check the iptables before doing the ping.

[33mcommit 19cc0bd4749971e38bfca697d78f15d3d3ebcb27[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 2 11:19:56 2021 +0100

    Don't crash when untracked policy is applied to a host-* endpoint

[33mcommit 084de886ed10c04b5d38591c978dbe39f54a4c7b[m
Merge: 5113f967 a44377dd
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Sep 1 17:11:05 2021 -0700

    Merge pull request #2990 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit a44377dd9f5644f3fad11c87350aa4e8654b3594[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Sep 1 23:08:10 2021 +0000

    Automatic Pin Updates

[33mcommit 5113f96761f10bfd66163e277ddbc93845d85a5c[m
Merge: 45ebba7d 56912e3e
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Sep 1 15:04:50 2021 -0700

    Merge pull request #2989 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 56912e3e0e982b0be94af2e6f274a9ba08111afc[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Sep 1 20:58:56 2021 +0000

    Automatic Pin Updates

[33mcommit 45ebba7d9030bb83011a03f60e0aa04b62b6c9e4[m
Merge: b26a07a9 333c2398
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Sep 1 03:16:07 2021 -0700

    Merge pull request #2988 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 333c2398e16eb03cfd5225d43b63be6e3d927a44[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Sep 1 00:05:09 2021 +0000

    Automatic Pin Updates

[33mcommit b26a07a93537b242866a225a6c771fc1ea983f5c[m
Merge: 78fb5dbe b9098005
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Aug 31 16:34:02 2021 -0700

    Merge pull request #2984 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit b90980056a212dc820b98277679ca733dce4b9dc[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Aug 31 09:58:54 2021 -0700

    Use new WorkloadEndpointPort struct

[33mcommit 78fb5dbefd2aa2f82cb5f790d803cebad043c20d[m
Merge: 2ac79567 35a30432
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Aug 31 18:41:55 2021 +0200

    Merge pull request #2987 from tomastigera/tomas-bpf-ut-fix
    
    bpf/ut: withXDP()

[33mcommit 35a3043208a76f073c7887742f0332871596abc0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 31 14:26:11 2021 +0200

    bpf/ut: withXDP()

[33mcommit eea29bf7ea9e2636d6da4b72f7b11e48c1519beb[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 31 13:33:04 2021 +0200

    Revert "XDP UT framework (#2918)"
    
    This reverts commit 4731f6e9d60e25d057abd1f6f6d40e62b13813fb.

[33mcommit d77ab4341b98e8cba47b766d844b7f825d818093[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Aug 30 15:38:56 2021 +0000

    Automatic Pin Updates

[33mcommit 2ac79567b8fdf60e0a34b0bddc81aa8552012bdf[m
Merge: 0b321ab0 cbecfb20
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 25 09:18:41 2021 +0100

    Merge pull request #2982 from neiljerram/bpf-half-untracked
    
    Drop a half-untracked flow at HEP egress

[33mcommit cbecfb20f1d14095423815fb531fa134bf236baa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 24 15:38:28 2021 +0100

    Drop a half-untracked flow at HEP egress

[33mcommit 0b321ab039c8ce3aed87207b38e26563ad538520[m
Merge: 66b72350 79eb0c60
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 24 14:32:06 2021 +0100

    Merge pull request #2981 from neiljerram/common-ipset-mgr
    
    Move IP sets manager to common location

[33mcommit 79eb0c60f192860482c24d3fa9b8c088248fb267[m
Author: song jiang <song@tigera.io>
Date:   Tue Aug 24 11:41:40 2021 +0100

    Fix static-checks

[33mcommit 4edfb6df70327b1373aba3e995ded4bff3d5b728[m
Author: song jiang <song@tigera.io>
Date:   Tue Aug 24 11:27:26 2021 +0100

    More fix

[33mcommit 983519545a307258210e00304e377a6d1a26fbd5[m
Author: song jiang <song@tigera.io>
Date:   Tue Aug 24 10:32:56 2021 +0100

    Windows dataplane use common ipset manager

[33mcommit 66b72350d438c9e5e2a9636a6255a61be15fe603[m
Merge: d9c05d1e 00be823d
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 23 16:15:00 2021 +0100

    Merge pull request #2980 from neiljerram/bpf-mark-bits
    
    Abolish BPF mode's fixed Calico mark pattern

[33mcommit b5ce2f55cb672e98678e10856e13e186aecfdad2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 23 14:06:18 2021 +0100

    Move IP sets manager to common location

[33mcommit 00be823ddb3b0f11298edc36bc5269ab829fa872[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 23 12:26:45 2021 +0100

    Abolish BPF mode's fixed Calico mark pattern

[33mcommit d9c05d1ef9794388a185db5164fb2b169c5d0bc3[m
Merge: d3ad52a2 995a19e8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Aug 20 11:22:51 2021 -0700

    Merge pull request #2979 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 995a19e87f01ff6bd2ef6dec7f6f65db551600eb[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Aug 20 17:19:53 2021 +0000

    Automatic Pin Updates

[33mcommit d3ad52a2268b1b24a334632ab9b651763cff99fe[m
Merge: b91f95da 4547b2bd
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Aug 19 17:58:09 2021 -0700

    Merge pull request #2978 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 4547b2bddb8f02480f78360ec848a6a457a9b08b[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Aug 19 23:54:57 2021 +0000

    Automatic Pin Updates

[33mcommit b91f95da817c28385498afb6679e9588ea1ca984[m
Merge: a61970a8 c3548e30
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 19 15:50:24 2021 +0100

    Merge pull request #2910 from neiljerram/xdp-bpf-allow
    
    BPF mode support for general untracked policy

[33mcommit a61970a8a6351b49417885ea53579206e763812d[m
Merge: e9ebeb49 28886f0e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 19 15:23:47 2021 +0100

    Merge pull request #2866 from fasaxc/map-concurrent-upd
    
    Add test for delete/add during iteration of BPF map

[33mcommit e9ebeb499e2cd51e11d57ab6c8f1bea7a0a94081[m
Merge: 5d916f40 5fa25858
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Aug 19 05:54:32 2021 -0700

    Merge pull request #2975 from sridhartigera/sridhar-libbpf-upgrade
    
    Upgrade libbpf to v0.4.0

[33mcommit 5d916f407bcba8ffb68eac53b5a5284324173ecc[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Thu Aug 19 13:26:25 2021 +0200

    revert union in cali_tc_state (#2976)

[33mcommit 75af13083cb79dff509f511bbc4c0ad60652374a[m
Merge: 1afa3594 60ffbf30
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Aug 19 03:57:45 2021 -0700

    Merge pull request #2974 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit c3548e3063cbfec048165cadb31b2d555d28f35a[m
Merge: bd33d3bd 1afa3594
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 19 10:12:26 2021 +0100

    Merge remote-tracking branch 'origin/master' into xdp-bpf-allow

[33mcommit 1afa3594c6fe5348690e0590cf05e6f6e6b71679[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Thu Aug 19 10:55:49 2021 +0200

    remove unions in cali_tc_ctx/state structure (#2966)
    
    Fix type punning in bpf code by removing unions in cali_tc_ctx/state structs.

[33mcommit 5fa258585feb322dd62e244b824d83ca88da2eaa[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Aug 18 14:26:40 2021 -0700

    Upgrade libbpf to v0.4.0

[33mcommit 60ffbf30a3f46cb8f25d46ea54e9557f586ae6aa[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Aug 18 20:49:34 2021 +0000

    Automatic Pin Updates

[33mcommit 9aa6e676e79d3d465cdeaa225da0c88d3cdf9d6c[m
Merge: 8b176ba6 73b6cc2a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Aug 18 12:43:49 2021 -0700

    Merge pull request #2972 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 73b6cc2abb15d5417433448467c9adaf96d081f3[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Aug 18 18:40:51 2021 +0000

    Automatic Pin Updates

[33mcommit 8b176ba662882647bb56c5317ae897f076b39acc[m
Merge: 151e86b5 a697017c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 18 09:17:08 2021 +0100

    Merge pull request #2964 from fasaxc/fix-slow-ns-update
    
    Fix slow performance of updating a namespace.

[33mcommit 151e86b5186d2721b7c1ad9190a1feb7dd24dd37[m
Merge: a8536c56 59ddc8f8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Aug 17 18:45:05 2021 -0700

    Merge pull request #2965 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 59ddc8f824792266d655832be9b92f54108fe68b[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Aug 18 00:40:47 2021 +0000

    Automatic Pin Updates

[33mcommit bd33d3bd55b37d005a6a0634b04e62c14b25f3b1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 18:48:26 2021 +0100

    UT + fix for IP sets becoming non-needed and re-needed

[33mcommit a697017c98af4230d1bf9d4e6f43af4e25952d0e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 17 18:31:32 2021 +0100

    Fix slow performance of updating a namespace.
    
    Previously we assumed that namespace updates were rare so
    we did a full scan of the endpoint index to find any endpoints
    matching a particular namespace.  That assumption doesn't hold
    on clusters with many namespaces because we need to process
    the namespaces at start of day.
    
    Add an index that tracks the enpdoints that have a given
    parent (i.e. namespace) so that we can do a fast lookup.
    
    Add benchmarks to verify the change.

[33mcommit 018f2542bb09c13df3c30f8fd6b26877dcff6e7a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 18:07:16 2021 +0100

    In BPF mode, only emit untracked policies to raw iptables table

[33mcommit 189b72e45c7394bef9869c0b7d44012ef7fcbae2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 17:52:18 2021 +0100

    Delete IP sets when they become non-needed

[33mcommit 75ab3678deffb1fac8c904bd77d007a5a57d0864[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 17:15:46 2021 +0100

    Fix UT for top bit removal

[33mcommit d7467900cb442671c883d486fb2cdc441596f918[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 14:30:07 2021 +0100

    Other code review markups

[33mcommit 6e31ead53993220eb7dd6d52345be1051ca111c7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 14:35:01 2021 +0100

    Remove highest fixed bit from BPF mode's Calico mark and mask

[33mcommit 9299c82a356aee9627bf45f9b2c9026a76703d57[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 14:26:08 2021 +0100

    Comment checking against failsafes

[33mcommit a8536c5620cf7c214fe24f132c591825a08cef90[m
Merge: 3298ece8 520dae41
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Aug 17 05:30:15 2021 -0700

    Merge pull request #2962 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit a332155c5142e6f3617ba6d7d3a5bf17b01ad640[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 17 12:41:57 2021 +0100

    Merge needed IP set IDs from multiple policies

[33mcommit 520dae4142e4e290f0e4c8b63c0e5fb9a2b1007b[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Aug 17 00:17:42 2021 +0000

    Automatic Pin Updates

[33mcommit 3298ece8b31684f1565d55b101a81d69dad42afe[m
Merge: 96fa20e6 09ae86a3
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Aug 16 17:02:26 2021 -0700

    Merge pull request #2960 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 09ae86a3616b4f95a9b8aa017e7dbb8479b8b7ab[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Aug 16 22:59:41 2021 +0000

    Automatic Pin Updates

[33mcommit 0d7cb5f060029f0d3151b0b0a619dacedc8c79d0[m
Merge: 8aede778 96fa20e6
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 16 15:09:44 2021 +0100

    Merge remote-tracking branch 'origin/master' into xdp-bpf-allow

[33mcommit 96fa20e60e0fbccf5eaaca3f3f45949c6b5f9727[m
Merge: 7d7bdd32 db4f6f7a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Aug 11 06:38:13 2021 -0700

    Merge pull request #2955 from fasaxc/rev-netlink
    
    Rev netlink and fix incompatibility with new netlink library.

[33mcommit db4f6f7a32c4b99e122243352ff1a51d21a70433[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 11 09:58:59 2021 +0100

    Rev netlink and fix incompatibility with new netlink library.

[33mcommit 7d7bdd32426f8c7d5a9092c8af31facdc6fa33db[m
Merge: 265c9d1f 7f3ae0d6
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Aug 9 18:10:08 2021 -0700

    Merge pull request #2952 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 7f3ae0d66ca547b5b9d11cc318722e27c5a13541[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Aug 10 00:03:41 2021 +0000

    Automatic Pin Updates

[33mcommit 8aede778c42a4b1b05fa8d6b7e2e9336a1635b3d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 4 19:20:13 2021 +0100

    BPF mode: Only emit Linux IP sets that we need for untracked egress

[33mcommit 5760cb989ec8d025a5bd4dd10864f3c9d9ff81b4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 6 11:53:36 2021 +0100

    Suppress new CT state creation when allowing untracked mid-flow to continue

[33mcommit 20d5a5bcd9ba4f877a8d79097b6b5bd9d7770800[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 6 10:17:06 2021 +0100

    Skip bogus XDP FV test when in BPF mode

[33mcommit 0d72291d9e661a0b5002ded51dadf7474df35764[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 17:57:25 2021 +0100

    Failsafes in XDP do not generate NOTRACK action

[33mcommit ace154c5866731afe0117aa038d2bc0f23aa6b97[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 17:38:52 2021 +0100

    Allow both inbound and outbound failsafes for untracked policy

[33mcommit fe0c0f4752d41e4a1cf81f97da4d3560acd6de3c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 10:58:26 2021 +0100

    Add another bit to IptablesMarkMask, for FV tests with wireguard enabled

[33mcommit 7f967abffd66a77abbaceaf2897fe7cf52a32626[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 4 14:38:36 2021 +0100

    Mark DoNotTrack FV tests to run in BPF mode

[33mcommit a9dfbda0bfb8a8e04fca00b1f3e9d73b53a39d73[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 4 14:27:36 2021 +0100

    Apply host egress policy to a untracked mid-flow TCP flow
    
    Now that we support untracked flows, we should generally do this.  A
    particular example of when it is needed is as follows.
    
    - Attempted connection from host1 to host0, with untracked policy so
      that the flow is not tracked.
    
    - Outward path, host1 -> host0
      - egress from host1 is allowed by host1's DoNotTrack policy
      - ingress to host0 is allowed by host0's DoNotTrack policy
    
    - Return path: host0 -> host1
      - host0 does not have any egress DoNotTrack policy that matches the
      - packet does not match any CT state, because outward path was
        untracked
      - packet should therefore go through other policy for the host0 HEP
      - in this case there is no normal policy for the HEP, so packet
        should be dropped
    
    Prior to this change, the TC egress program said:
    
        eth0-----E: BPF CT Miss for mid-flow TCP
        eth0-----E: BPF CT Miss but Linux CT entry not signalled
        eth0-----E: conntrack entry flags 0x0
        eth0-----E: CT mid-flow miss away from host with no Linux conntrack entry, allow.
        eth0-----E: Final result=ALLOW (0). Program execution time: 7865ns
    
    Problem is the "goto allow;" after the 4th trace line here.  Instead
    we should continue through the TC code and apply the policy for the HEP.

[33mcommit cabb7c129bd476e9fc339bd02d285e457ed2993f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 3 20:03:48 2021 +0100

    Use BYPASS mark to tell raw ingress iptables to mark packet as NOTRACK

[33mcommit fd8aae786cf7a9fd130f9665091e9df43881e68e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 3 17:39:27 2021 +0100

    Allow IP sets manager to have multiple backend dataplanes

[33mcommit 1730a67bf7f9cd33ec2b88473dcf81276a8faec3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 17:14:43 2021 +0100

    When raw iptables allows a packet, set TC bypass mark so TC skips it

[33mcommit df703e43337f53fd3ca1059fda707025f87f337a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 15:43:40 2021 +0100

    In BPF mode, only generate v4 iptables for raw egress policy

[33mcommit 598cd187756861c831ace51a376978247d705bee[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 15:37:24 2021 +0100

    Create and use iptables ipsets manager

[33mcommit 0e3bad28e39d295dd28f3450efb7f126a47975dd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 15:21:45 2021 +0100

    BPF: Use iptables policy manager for raw egress policy

[33mcommit 224f92f02293d31324509568f696b7290f7da45f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 12:27:02 2021 +0100

    Define mark bits needed for raw ingress policy, even in BPF mode

[33mcommit 7d2ed3b621526488be6d1faf36ea07a00e6a1c73[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 22:55:56 2021 +0100

    Set up BPF mode iptables for untracked egress policy

[33mcommit 265c9d1f6397e381c6913321b7531e6c7601b608[m
Merge: f05e3c07 f0c7d809
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 6 11:11:21 2021 +0100

    Merge pull request #2950 from neiljerram/ut-correction
    
    Correction to polprog building for XDP

[33mcommit f0c7d80932f61275b8fea36c0ef2f8eb0e9ca368[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 10:41:42 2021 +0100

    UT: See command output when bpftool call fails

[33mcommit 270e5070cb38beb9a568e70e154117fdeb301af7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 10:25:56 2021 +0100

    UT: See error and all args when bpftool call fails

[33mcommit 536c31828e6fb2d2edd1d4cf18ae47518ead1b78[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 16:04:21 2021 +0100

    Correction to polprog building for XDP

[33mcommit f05e3c0723857e89f61730961c02eced8bc1bb8a[m
Merge: e4ee56fa 868611e8
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 17:38:02 2021 +0100

    Merge pull request #2949 from neiljerram/polrc-offset
    
    Align setting of BPF policy result with Enterprise code

[33mcommit 868611e8a0af0647a7b7e2e705d9defaf1a44c28[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 12:15:40 2021 +0100

    Align setting of BPF policy result with Enterprise code

[33mcommit 8a3ee629b5df5a4680241c808ec113e958d4400d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 5 11:39:58 2021 +0100

    Update naming and comment for golang State struct to match C code

[33mcommit e4ee56fabe9884f7231f80a2afa242a061061083[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Thu Aug 5 12:41:35 2021 +0200

    XDP UT and fixes to the XDP program (#2944)
    
    XDP Unit test

[33mcommit d6385949074cc33703f8e79527473329030164a5[m
Merge: cb01ca9a c84d96a4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 4 14:39:15 2021 +0100

    Merge pull request #2946 from fasaxc/aws-v2
    
    Update to AWS API v2.

[33mcommit cb01ca9ad37571591c1fd377815ffd85506347f9[m
Author: Seth Malaki <seth@tigera.io>
Date:   Tue Aug 3 17:52:34 2021 +0100

    ease up wireguard metrics log levels (#2945)
    
    * ease up wireguard metrics log levels
    
    * address feedback from casey
    
    * remove warns

[33mcommit c84d96a45bf7c77cb5e04636cd0f6609a87377bd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 3 16:04:32 2021 +0100

    Update to AWS API v2.
    
    The v2 API uses far fewer pointers in its data and it drops
    the non-Context API variants, slimming the API a lot.

[33mcommit f044030386cf4a191184ea56103aa5f5afd70c52[m
Merge: b63d5a17 c11d8181
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jul 30 18:06:12 2021 -0700

    Merge pull request #2943 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit c11d8181d0888295ac46bd299c9d57e0749bfd04[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Sat Jul 31 00:02:56 2021 +0000

    Automatic Pin Updates

[33mcommit b63d5a178cfc931ac0589085bbdbc073c95efdd0[m
Merge: f744adc1 0b18bad0
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jul 30 10:17:47 2021 -0700

    Merge pull request #2941 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit f744adc11a2d3a85870e0278df35e447c46528f4[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Jul 30 09:30:44 2021 -0700

    Move generated files above where they are used (#2939)

[33mcommit 0b18bad06e467dcac4606bc026b401782c09c3e8[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Jul 30 16:16:16 2021 +0000

    Automatic Pin Updates

[33mcommit 4731f6e9d60e25d057abd1f6f6d40e62b13813fb[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Fri Jul 30 12:42:37 2021 +0200

    XDP UT framework (#2918)
    
    Add support to run UT tests via "runBpfTest" in XDP mode.

[33mcommit b3441cf9ddd4d86b88f2c678b4dcb891e2a18b40[m
Merge: b2c5c743 5c481ef3
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Jul 29 12:38:01 2021 -0700

    Merge pull request #2937 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 5c481ef35e638fefe114ce1b2a82775f0ac7d75a[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Jul 29 18:36:54 2021 +0000

    Automatic Pin Updates

[33mcommit b2c5c7439b5cac09a7f68c1b1fb14e9995c0c0c8[m
Merge: ad2d218c 9dd8e732
Author: Matt Leung <mleung975@gmail.com>
Date:   Thu Jul 29 11:34:44 2021 -0700

    Merge pull request #2936 from mgleung/update-release-targets-master
    
    Update release targets

[33mcommit 9dd8e73280c6fcf01312091e7d1d8f96035477bb[m
Author: matt <mleung975@gmail.com>
Date:   Wed Jul 28 16:44:25 2021 -0700

    Update release targets

[33mcommit ad2d218c9dc512eb1ed13c22c49cdbdacc2d7ff4[m
Merge: db6a68d2 5cea4f82
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 29 15:43:54 2021 +0100

    Merge pull request #2929 from neiljerram/xdp-ut
    
    Add UT for the control plane half of BPF mode XDP function

[33mcommit 5cea4f82349926f27cdfa04679e40bb439225f23[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 28 17:15:34 2021 +0100

    Add UT for XDP program attachment

[33mcommit a2d8177f9f035af7b7a490c0d43a36fead2912ea[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 26 15:27:55 2021 +0100

    Add UT for XDP policy programs

[33mcommit db6a68d21206e2c35dd09a67868fdbc77fd6e268[m
Merge: 221b8ac1 f356e06e
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 28 15:09:42 2021 +0100

    Merge pull request #2927 from neiljerram/update-pins
    
    Update pins

[33mcommit 221b8ac1db36b2475d34f6f47adfced4fb6341e7[m
Merge: 0451e73a 20ddc181
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Jul 28 05:32:35 2021 -0700

    Merge pull request #2928 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 20ddc181baf79fdf1bd8c54029c46c027d37c45c[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Jul 28 11:28:13 2021 +0000

    Automatic Pin Updates

[33mcommit f356e06e6feee637b6fe1207195fe8108cd3451d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 28 11:41:26 2021 +0100

    Update pins

[33mcommit 0451e73a6ba6397aa31156c0ccf4134232de1ba7[m
Merge: b24fd41a 6a0e9395
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 28 11:24:26 2021 +0100

    Merge pull request #2920 from neiljerram/private-merge-backports
    
    Some simple backports / alignments from the Enterprise code, mostly BPF

[33mcommit b24fd41ad6fcc72cab37838bb58ba4fe10bf0480[m
Merge: 375ac7e5 bbef5c1e
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 28 11:24:08 2021 +0100

    Merge pull request #2913 from neiljerram/epilogue-allowed
    
    Rename BPF "epilogue" program to "allowed"

[33mcommit 375ac7e5d56f99d1756a9c10a2a91deb64573597[m
Merge: bd0257b3 94c7a7f0
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 28 11:23:44 2021 +0100

    Merge pull request #2919 from neiljerram/fv-cleanup-panic
    
    Avoid race + panic when unnecessarily cleaning up the Kubernetes API service

[33mcommit bd0257b3abed4828f71387ef75156688c658b314[m
Author: Alex O Regan <alexsoregan@gmail.com>
Date:   Wed Jul 28 10:29:02 2021 +0100

    Propagate WireguardHostEncryptionEnabled config_param (#2897)
    
    * derive HostEncryptionEnabled wg param from config_params
    
    * refactor: HostEncryptionEnabled -> EncryptHostTraffic
    
    * pivot all wireguard host encryption off EncryptHostTraffic flag
    
    * additional logging in wireguard.go
    
    * commenting and improve condition for MTU selection on AKS
    
    * add new config options to unit tests
    
    * do not infer whether to encrypt host traffic, just trust the config_param
    
    * correct conditional logic for debug log

[33mcommit b99ebc429477cd4a3d73c69c1cbb14124c667fe3[m
Merge: 347639c9 67a22eea
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Jul 28 02:06:44 2021 -0700

    Merge pull request #2925 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 67a22eea5fa1f4cc47122ccbc0180c15e5826e7a[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Jul 27 23:12:28 2021 +0000

    Automatic Pin Updates

[33mcommit 347639c9316e5613eac6758b6b6c50cec428ee0f[m
Merge: 334c441f 39d51f05
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Jul 27 15:52:16 2021 -0700

    Merge pull request #2924 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 39d51f05fb542a59ca188ba349893bbc27573557[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Jul 27 21:27:54 2021 +0000

    Automatic Pin Updates

[33mcommit 334c441f3c77c5778d1306d2ba7a07019e57499b[m
Merge: b3b570a1 f5ea4297
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 20:43:52 2021 +0100

    Merge pull request #2922 from neiljerram/update-pins
    
    Update pins

[33mcommit f5ea42977988b696d2f7a756347ac8c5205f716d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 19:28:19 2021 +0100

    Update pins

[33mcommit 6a0e939561de68abf407896366647c7cca943086[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 19:02:30 2021 +0100

    List FV tests that will be run, before actually running them

[33mcommit af02e954a0115101dabdfbeddf89ac69463fb9d9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 19:01:09 2021 +0100

    Misc simple BPF code alignments from the Enterprise code

[33mcommit 76dea4e0628929859391c3734d16a4f485df8f97[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 18:50:04 2021 +0100

    Add missing Makefile dependency on include deps for xdp.c

[33mcommit 4c840e8e2ec736ae67ff27c80b0cc6c4f91295b0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 18:32:19 2021 +0100

    Align LoadBPFProgramFromInsns progType support with Enterprise code

[33mcommit 94c7a7f09461e9d8eeaa900756eca449dc69c869[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 27 18:19:54 2021 +0100

    Avoid race + panic when unnecessarily cleaning up the Kubernetes API service
    
    We've been seeing panics from the Kubernetes infrastructure cleanup
    code, e.g. at
    https://tigera.semaphoreci.com/jobs/58885471-c537-438c-864d-d90bf6ec90f0/plain_logs.txt
    and
    https://tigera.semaphoreci.com/jobs/7b8478d6-d88b-4e42-90a9-e3a28260a1e8/plain_logs.txt,
    like this:
    
        Test Panicked
        endpoints "kubernetes" not found
        /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:1077
    
        Full Stack Trace
        github.com/projectcalico/felix/fv/infrastructure.cleanupAllServices(0xc0006a6840, 0x2576f80, 0xc000401400)
            /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:1077 +0x686
        github.com/projectcalico/felix/fv/infrastructure.(*K8sDatastoreInfra).CleanUp(0xc0004c0a20)
            /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:496 +0x1d4
        github.com/projectcalico/felix/fv/infrastructure.(*K8sDatastoreInfra).EnsureReady(0xc0004c0a20)
            /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:439 +0x1c5
        github.com/projectcalico/felix/fv/infrastructure.GetK8sDatastoreInfra(0x3a, 0x13a, 0x0)
            /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:150 +0x4b
        github.com/projectcalico/felix/fv/infrastructure.createK8sDatastoreInfra(0xc0015f3230, 0xc0000ae840)
            /go/src/github.com/projectcalico/felix/fv/infrastructure/infra_k8s.go:140 +0x26
        github.com/projectcalico/felix/fv_test.glob..func31.1()
            /go/src/github.com/projectcalico/felix/fv/ipsec_test.go:602 +0x90
        github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc000ce87e0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/leafnodes/runner.go:113 +0xa3
        github.com/onsi/ginkgo/internal/leafnodes.(*runner).run(0xc000ce87e0, 0xc, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/leafnodes/runner.go:64 +0xd7
        github.com/onsi/ginkgo/internal/leafnodes.(*SetupNode).Run(0xc000436db0, 0x24f4ea0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/leafnodes/setup_nodes.go:15 +0x67
        github.com/onsi/ginkgo/internal/spec.(*Spec).runSample(0xc000fb3860, 0x0, 0x24f4ea0, 0xc0001388c0)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/spec/spec.go:193 +0x25f
        github.com/onsi/ginkgo/internal/spec.(*Spec).Run(0xc000fb3860, 0x24f4ea0, 0xc0001388c0)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/spec/spec.go:138 +0xf2
        github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec(0xc000f6ef00, 0xc000fb3860, 0x0)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/specrunner/spec_runner.go:200 +0x111
        github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs(0xc000f6ef00, 0x1)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/specrunner/spec_runner.go:170 +0x127
        github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run(0xc000f6ef00, 0xc000243560)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/specrunner/spec_runner.go:66 +0x117
        github.com/onsi/ginkgo/internal/suite.(*Suite).Run(0xc000162070, 0x7f1ba02a8360, 0xc00076cc00, 0x22338c7, 0x8, 0xc0003d9e00, 0x2, 0x2, 0x2550ee0, 0xc0001388c0, ...)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/internal/suite/suite.go:79 +0x586
        github.com/onsi/ginkgo.RunSpecsWithCustomReporters(0x24f69a0, 0xc00076cc00, 0x22338c7, 0x8, 0xc0003d9dc0, 0x2, 0x2, 0x2)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/ginkgo_dsl.go:229 +0x238
        github.com/onsi/ginkgo.RunSpecsWithDefaultAndCustomReporters(0x24f69a0, 0xc00076cc00, 0x22338c7, 0x8, 0xc000072760, 0x1, 0x1, 0x61000f89)
            /go/pkg/mod/github.com/onsi/ginkgo@v1.14.2/ginkgo_dsl.go:217 +0xad
        github.com/projectcalico/felix/fv_test.TestFv(0xc00076cc00)
            /go/src/github.com/projectcalico/felix/fv/fv_suite_test.go:44 +0xfa
        testing.tRunner(0xc00076cc00, 0x233b578)
            /usr/local/go-cgo/src/testing/testing.go:1127 +0xef
        created by testing.(*T).Run
            /usr/local/go-cgo/src/testing/testing.go:1178 +0x386
    
    The tracing from the same time says:
    
        2021-07-27 14:09:32.963 [INFO][16354] infra_k8s.go 1040: FelixConfigurations present count=0
        2021-07-27 14:09:32.963 [INFO][16354] infra_k8s.go 1047: Cleaned up felix configurations
        2021-07-27 14:09:32.963 [INFO][16354] infra_k8s.go 1051: Cleaning up services
        apiserver-16354-6-felixfv[stderr] W0727 14:09:32.972928       1 lease.go:224] Resetting endpoints for master service "kubernetes" to [172.17.0.3]
        2021-07-27 14:09:32.987 [INFO][16354] workload.go 70: Stop no-op because nil workload
        2021-07-27 14:09:32.987 [INFO][16354] workload.go 70: Stop no-op because nil workload
        2021-07-27 14:09:32.987 [INFO][16354] workload.go 70: Stop no-op because nil workload
        2021-07-27 14:09:32.987 [INFO][16354] workload.go 70: Stop no-op because nil workload
        2021-07-27 14:09:32.987 [INFO][16354] workload.go 70: Stop no-op because nil workload
    
    It looks like a straightforward race where we delete all the Service
    objects, including â€œkubernetesâ€, and then:
    
    - the API server responds to that by recreating the â€œkubernetesâ€ Service and default Endpoint
    
    - at the same time, we try to delete all the Endpoints.
    
    We shouldn't actually need to delete the â€œkubernetesâ€ Service or
    Endpoints, so let's skip that.

[33mcommit b3b570a17e77c9259a0eb4c395acf5d65e16186d[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Jul 26 11:43:11 2021 -0700

    Add ServiceIndex component (#2874)

[33mcommit 625b2a471cb402b521a8386244a1032f738c9c8b[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Mon Jul 26 18:38:51 2021 +0200

    Add policy and icmp reply programs to XDP (#2911)
    
    * add policy and icmp reply programs
    
    * update calico_xdp_norm_pol_tail
    
    * cleanup xdp.c entry program
    
    * fix return code
    
    * update epilogue program

[33mcommit bbef5c1e4939369bdb93055b5331f93ebed0dac6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 26 14:14:22 2021 +0100

    Rename BPF "epilogue" program to "allowed"

[33mcommit eab597ebdb01fd6ed5533e1bb55347aa578491b1[m
Merge: 7d9fb69c 389a045e
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Jul 22 09:33:29 2021 -0700

    Merge pull request #2906 from tomastigera/tomas-proxy-flake-fix
    
    bpf/proxy: Increase timeouts and log the last error

[33mcommit 7d9fb69cea5f339c5233a71140cfc2456b9e2c54[m
Merge: 9fbe280e c1075b8e
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 15:34:29 2021 +0100

    Merge pull request #2905 from neiljerram/xdp-bpf
    
    Use XDP to implement untracked deny policies in BPF mode

[33mcommit c1075b8ef6261d51578eb458d42562f09aac2e2f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 14:14:11 2021 +0100

    Revert one case where we can't use %w

[33mcommit e1a1849a4bf3cfd36cfc1dda1f79ad4dffc14840[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 13:29:46 2021 +0100

    Use %w to wrap errors when using fmt.Errorf

[33mcommit 4abed71708593b236c23f83dda8013f4f52436ad[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 13:25:49 2021 +0100

    Typo fix

[33mcommit 40c789373593beb44ad6c8eea253ff00cd6a970d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 11:16:49 2021 +0100

    Revert "FV: Fix expected number of jump maps"
    
    This reverts commit f304d623d54444a455c4d4bdded90fed7e1f3102.

[33mcommit 44e694c104cf711aabe41863e807f7d18be24fb7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 11:15:35 2021 +0100

    Add FV tests for whether XDP program is attached

[33mcommit 9b219f79dd5a927be87624bc30e3e087c3b0c082[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 09:55:56 2021 +0100

    Placate CI

[33mcommit 18efe6959b61dbea685ce75c97be165b1c7951ea[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 09:22:03 2021 +0100

    Ignore XDPEnabled when in BPF mode

[33mcommit 88621253627a84b81ab6fc39423e46a8828f599a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 22 07:36:03 2021 +0100

    Only attach our XDP program when untracked policy is configured

[33mcommit 389a045ef59c7836ecf5c9e90b597e33f8fc1121[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jul 21 14:19:20 2021 -0700

    fix typos

[33mcommit 5266a0e1b02772cb59b3a964df2127a8f625d0bb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 21 14:44:34 2021 +0100

    Log path of map still in use

[33mcommit c5017a5348dbb87868c635787c2fcd696a3e5184[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 21 11:09:04 2021 +0100

    Revert "Revert "Protect XDP jump maps from premature clean up""
    
    This reverts commit 5d49ec4e4afb050127e97ddd2e30dd21d2ca19a9.

[33mcommit 5d49ec4e4afb050127e97ddd2e30dd21d2ca19a9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 20 15:15:35 2021 +0100

    Revert "Protect XDP jump maps from premature clean up"
    
    This reverts commit aa11d1630141fb1d20530768955a4fe6b7dc4d92.

[33mcommit c1bec028b0c4ee94d9262fc63c1940b36b90e347[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 20 12:37:12 2021 +0100

    XDP attach: use -force and make sure always to clean up

[33mcommit c4a9dc511f3dd4bc407c38561e9505c69bdf4664[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 20 11:10:18 2021 +0100

    Demote most attachment logs to Debug

[33mcommit c553c4c48e693e56ef1deacf3bfddbb6d3b1a7ec[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 20 11:05:54 2021 +0100

    Use "calico-xdp" in temp dir name for patching XDP program

[33mcommit 452b4740bb66604073407cd22ce4384bdbb8c90a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 20 11:04:42 2021 +0100

    Use label "xdp_pass" for XDP pass case

[33mcommit 4af7eaee7a458ccc8fd191611b93c73db95603fa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 20 10:59:51 2021 +0100

    XDP: generate only the policy code that we really need

[33mcommit 3c3834d4cd40173ecab24a6518b08110f1ba012a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 16:33:39 2021 +0100

    In BPF mode, always behave as though GenericXDPEnabled is true

[33mcommit 8ef6f60faccd8ca738c78470babcf4bfbcefefe4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 15:59:44 2021 +0100

    Revert more temporary logging promotions

[33mcommit 24a916faf145c7004ed0b8ee36401c2dda6860d8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 15:47:32 2021 +0100

    Adjust logging level of new code

[33mcommit 6836baf97db18e8348b1264cab99455b674b235c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 15:39:22 2021 +0100

    Revert temporary logging promotions

[33mcommit 526e2eee7e7d0c6d6bb3a7d4475532ec13bfefbe[m
Merge: e0565c53 9fbe280e
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 15:31:18 2021 +0100

    Merge remote-tracking branch 'origin/master' into xdp-bpf

[33mcommit 9fbe280e269dab56363e07d96a240c3bbd24bf79[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Mon Jul 19 16:27:18 2021 +0200

    XDP program for untracked policies (#2888)
    
    * check for failsafe ports in XDP and update the XDP parser
    
    * update icmp parser
    
    * update structure of xdp.c
    
    * update xdp.c
    
    * some changes to parsing and xdp
    
    * renamed tc_state_fill_from_nextheader to tc_state_fill_from_nexthdr
    
    * Add accepted entry to xdp prog
    
    * Fix some comments
    
    * revert deleting a skb_refresh_validate_ptrs check
    
    * fix a typo
    
    * XDP to TC metadata
    
    * testing metadata
    
    * revert testing metadata xdp2tc
    
    * change struct name
    
    * finalize metadata

[33mcommit e0565c53984806deb0c37d42e986a445700973b9[m
Merge: 23370275 4bfbc8e4
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 15:27:12 2021 +0100

    Merge remote-tracking branch 'mazdak/mazdak-xdp-progs' into xdp-bpf

[33mcommit 4bfbc8e4024d18a7bc04b49580f356eeedf0f97b[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Mon Jul 19 15:16:54 2021 +0200

    finalize metadata

[33mcommit 233702754741c8dfe2006fe00aa1a850c55391ec[m
Merge: 8d1390e6 92234d1f
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 13:03:01 2021 +0100

    Merge remote-tracking branch 'mazdak/mazdak-xdp-progs' into xdp-bpf

[33mcommit 8d1390e6bf501c4be95b5c9c78c7f0c5252a8e4a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 12:38:59 2021 +0100

    Make XDP tracing prefix end with "-X" instead of "-I"

[33mcommit ea32cf9a298b434c9a5682420df34c416e1d20b4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 19 12:35:43 2021 +0100

    Patch interface name into XDP program log prefix

[33mcommit 92234d1f37595dbdfd5dd3d8ca93523349c5ea1b[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Sun Jul 18 19:24:26 2021 +0200

    change struct name

[33mcommit a77d978867493a9db818b9964a755de431a0de02[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Sun Jul 18 16:29:37 2021 +0200

    revert testing metadata xdp2tc

[33mcommit d4052f78baf4554f7f42daa625aa337bd53ca25d[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Sun Jul 18 12:58:14 2021 +0200

    testing metadata

[33mcommit 6394c600690d3c40c17bee40a98bd507b3bea9bc[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Sun Jul 18 11:50:24 2021 +0200

    XDP to TC metadata

[33mcommit 390160a5a3e4e74e86d925a8049b164dcff71e69[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jul 16 15:59:31 2021 -0700

    bpf/proxy: Increase timeouts and log the last error

[33mcommit f37363d082f9d57444104d1721c63a0da87454fa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 17:21:30 2021 +0100

    Revert FV logging changes

[33mcommit 13fbcbb59de0938c92527066961f7054284f4967[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 17:17:19 2021 +0100

    Reinstate all XDP FV tests and run in BPF mode as well

[33mcommit 8b31e3a397485e6c10f3e2d7390db97639d12829[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 17:02:26 2021 +0100

    Revert "Promoted logging in bpf_syscall.go"
    
    This reverts commit 96cd7c96b5b4d66da3a10335376507b41321bfd0.

[33mcommit becf8d0969f68866fbdfdafff5360784f7663c3a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 17:01:58 2021 +0100

    Revert "Placate vet some more"
    
    This reverts commit 529eda1a46baca5bc545f88c97f39c06f67f7f26.

[33mcommit f304d623d54444a455c4d4bdded90fed7e1f3102[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 16:59:32 2021 +0100

    FV: Fix expected number of jump maps

[33mcommit 529eda1a46baca5bc545f88c97f39c06f67f7f26[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:32:35 2021 +0100

    Placate vet some more

[33mcommit 90b1bf374aaeef21e9a9dc7830d804bf7f9aba20[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:25:16 2021 +0100

    Placate vet
    
    ```
    dataplane/linux/bpf_ep_mgr.go:1352:4: S1005: unnecessary assignment to the blank identifier (gosimple)01:23
                            fd, _ = iface.dpState.jumpMapFDs[ap.JumpMapFDMapKey()]01:23
                            ^
    ```

[33mcommit 8eb2203bd6a6b4373b410259d11f67f3bcc73a19[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:23:08 2021 +0100

    Jump map update logging

[33mcommit 555943326ae9438c60de6efa993041f01d0cd5df[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:21:45 2021 +0100

    Remove maybe existing program when attaching an XDP program

[33mcommit 96cd7c96b5b4d66da3a10335376507b41321bfd0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:21:12 2021 +0100

    Promoted logging in bpf_syscall.go

[33mcommit 2fb41fa52bad0411f7644e7e19774a03a40bf006[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:20:19 2021 +0100

    XDP FV: suppress iptables-related tests, which don't apply for BPF mode

[33mcommit df3ce648b1123dfc976276694872eb85a9cad34e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 14:19:42 2021 +0100

    Specify XDP program type when loading XDP policy program

[33mcommit 6d4382d7f8ada7482bb8d35bd6c44bc79e9a09f0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 10:22:13 2021 +0100

    Temp: suppress bpf-log

[33mcommit 6f0347b8339754e78dcca620512b30889388ffb4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 10:17:50 2021 +0100

    Temp: suppress unhelpful XDP FV tests

[33mcommit 8a7e30319b65fbcdb6dbb22ae7ec2587deeaf208[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 10:17:27 2021 +0100

    Temp: switch off BPF tracing

[33mcommit aa11d1630141fb1d20530768955a4fe6b7dc4d92[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 10:16:57 2021 +0100

    Protect XDP jump maps from premature clean up

[33mcommit 1d0a83ce34876619feaf468697d716e3f914e31a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 16 10:16:41 2021 +0100

    More attach point logging

[33mcommit 171a1282264e1d4ae47721fabdf23ef857637d29[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 13:36:12 2021 +0100

    Consistent context logging for XDP attach point

[33mcommit 66d113d391231aa551bce9e81b72d227944ecb15[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 13:29:30 2021 +0100

    Make BPF mode XDP function subject to config.XDPEnabled

[33mcommit cb93f6438dbe87a39226972090ad66e1a8530ba8[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Thu Jul 15 14:13:21 2021 +0200

    fix a typo

[33mcommit 0dca000df2b681833bd5a5774cf5ceea8b8fe6c3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 12:27:56 2021 +0100

    Set CALI_XDP_PROG when compiling xdp.c

[33mcommit 346a0b36b2668935321cebef20c42bcbab7fe88a[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Thu Jul 15 14:00:00 2021 +0200

    revert deleting a skb_refresh_validate_ptrs check

[33mcommit bb232820bda70ee563769265c9a91c05db7fbec9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 12:02:51 2021 +0100

    Compile the XDP program

[33mcommit 73f1500669a67f47b0919278d2e37c6c3d3bf178[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 11:41:45 2021 +0100

    Build fixes

[33mcommit 51b3c818e82c79603b788d03a515b0f8737266e1[m
Merge: e8804675 d7a70495
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 11:38:08 2021 +0100

    Merge remote-tracking branch 'mazdak/mazdak-xdp-progs' into xdp-bpf

[33mcommit e880467546dd0261cda4b3e153099874a6657d1c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 11:37:25 2021 +0100

    Info logging for xdp/attach.go

[33mcommit 5b7c3c4eec61245a1e26a1e0688b1a92fce86fa5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 11:35:13 2021 +0100

    Policy program tweaks for XDP

[33mcommit 26ff19634233982634bb7af17afd2e544e8bef25[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 15 10:36:38 2021 +0100

    Revert "Suppress XDP attachment for now"
    
    This reverts commit 88865c1e4ebdec9afad48cd6c3aaecee8e13af3e.

[33mcommit 199bf25fd88f42a36f925513591d40961ad1fd68[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 14 10:54:48 2021 +0100

    Attachment WIP

[33mcommit 5a949bef064b4610ccb63b78a8169b0363158b4c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 9 15:22:18 2021 +0100

    Suppress XDP attachment for now

[33mcommit 09819af2a17300a03248dff50e080f2f6675d510[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 9 15:21:38 2021 +0100

    Log bpftool output when trouble getting program metadata

[33mcommit d565fa9e5ee6808dc9252ea40ae5e8b0e7027679[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 9 15:21:01 2021 +0100

    WIP commenting for xdp/attach.go

[33mcommit 128e06ab44de0167c9d38ee19c6d609a98ac2bde[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 9 15:20:45 2021 +0100

    Info logging for tc/attach.go

[33mcommit a275d0808ad7465d450ced5f461ddf9abb2ebf46[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 9 15:20:07 2021 +0100

    Info logging for bpf_ep_mgr.go

[33mcommit 7eefa96be555df333c612fc96105b9cf8c6a41a2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 7 17:16:57 2021 +0100

    XDP program attachment

[33mcommit d0b95d051dabd7f377e70e9c66ee775e2476695a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 7 17:13:35 2021 +0100

    Typo

[33mcommit d7a70495d471806815cf376ed4106af6addeb8ea[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Thu Jul 15 10:04:24 2021 +0200

    Fix some comments

[33mcommit b97c9ab1874d4bf803c441125ff58561bb7d82a4[m
Merge: d9ac8df0 5e057828
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Jul 14 18:04:30 2021 -0700

    Merge pull request #2900 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d9ac8df06dea9d3bf8806da31972a0e0429f3734[m[33m ([m[1;33mtag: v3.21.0-0.dev[m[33m)[m
Author: matt <mleung975@gmail.com>
Date:   Wed Jul 14 17:34:18 2021 -0700

    Begin development on v3.21.0

[33mcommit 5e057828b5c78e7c89284b8c6def97fef98042a5[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Jul 15 00:02:44 2021 +0000

    Automatic Pin Updates

[33mcommit c36521c6ed62a243420e1ddc836e5779240f16cd[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Wed Jul 14 17:47:59 2021 +0200

    Add accepted entry to xdp prog

[33mcommit feac817d17cc8661274fde49466d5923d220e31e[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Wed Jul 14 10:57:10 2021 +0200

    renamed tc_state_fill_from_nextheader to tc_state_fill_from_nexthdr

[33mcommit ada21205f90943d3f5cacc1dfb83c42c276fbb88[m
Merge: 268ada45 9c4eb825
Author: Seth Malaki <seth@tigera.io>
Date:   Wed Jul 14 06:24:13 2021 +0100

    Merge pull request #2892 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 9c4eb8256441019cd3c823918632a9a11e47631d[m
Author: Seth Malaki <seth.malaki@gmail.com>
Date:   Tue Jul 13 21:59:04 2021 +0100

    added wg host to host encryption flag

[33mcommit 09e5b2d102abdb61444a16e341536c8f3f89c5ed[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Jul 13 19:36:52 2021 +0000

    Automatic Pin Updates

[33mcommit e130fb8942d4765a78e5e6f750dc4af552ae03ef[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Tue Jul 13 16:36:13 2021 +0200

    some changes to parsing and xdp

[33mcommit 8db3967077b68d8cacffd7c587c74ea7d176c602[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Tue Jul 13 12:53:26 2021 +0200

    update xdp.c

[33mcommit 98ca33d689b44097e974322231e89a37942df617[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Tue Jul 13 11:13:04 2021 +0200

    update structure of xdp.c

[33mcommit 268ada4549528c36685ad2f7926503a102f539de[m
Merge: 1e12483b de89d742
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 12 18:49:43 2021 +0100

    Merge pull request #2890 from neiljerram/clean-up-tcpdump-oss
    
    Don't leak tcpdump containers

[33mcommit 1e12483b8700d7816f33db68fe582bf88443ad6b[m
Merge: 67b9bafa 757b331d
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Jul 12 10:23:00 2021 -0700

    Merge pull request #2889 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit de89d742a43bae92b5c5e1fecdd9610b3a29a848[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 12 16:54:56 2021 +0100

    Don't leak tcpdump containers
    
    In recent testing I've noticed around 10 leaked corfr/tcpdump
    containers.  They come from the cases where AttachTCPDump starts a new
    container, as opposed to exec'ing tcpdump within an existing
    container.  When that happens, it doesn't work to kill the original
    "docker run ..." process, because for some reason that parent process
    no longer exists (although the corfr/tcpdump container does, and the
    desired underlying tcpdump process still exists).
    
    Instead, use "docker stop" to clean up the container in that case.
    
    In passing, I also found that we don't need to run the container with
    --privileged.

[33mcommit 757b331db826024dbf3299dfa88a0f329f141318[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Jul 12 16:20:34 2021 +0000

    Automatic Pin Updates

[33mcommit f4cc7fcc374d71cb44c7f22d093bb0221cbe9b14[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Mon Jul 12 16:57:09 2021 +0200

    update icmp parser

[33mcommit 6eef99f33b5a9362a55d5de4c4ba537358504939[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Mon Jul 12 15:05:31 2021 +0200

    check for failsafe ports in XDP and update the XDP parser

[33mcommit 67b9bafa13ba12ed6f44715be3166e6e5c73d2ab[m
Merge: 4614bbc7 952e8ae8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Jul 8 16:50:00 2021 -0700

    Merge pull request #2886 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 952e8ae8211f7bd51346d05eec807c3bca748835[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Jul 8 22:51:30 2021 +0000

    Automatic Pin Updates

[33mcommit 4614bbc7741d9977eed57e0ad3f625c8564c6e03[m
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Thu Jul 8 12:26:16 2021 +0200

    XDP parser (#2877)
    
    * XDP parser + a sample program
    
    * Clean xdp.c + update skb.h
    
    * Fix a CALI_DEBUG in skb.h
    
    * fix calico_xdp definition
    
    * use generic return codes in parsing.h
    
    * Add some comments
    
    * fix a comment
    
    * fix switch on parse_packet_ip in tc.c
    
    * Generic return code from parse_packet_ip

[33mcommit 4ca61f5b80982caa154f9a2b2871d2364a4ff9c1[m
Merge: ed2bec95 d238d0bc
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Jul 7 15:14:18 2021 -0700

    Merge pull request #2885 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d238d0bcfd2d3de8c501aa5d4d56fd9e6617c043[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Jul 7 21:16:12 2021 +0000

    Automatic Pin Updates

[33mcommit ed2bec95201f9e687f024502ae77a8c0f4bd7438[m
Merge: d04ee2c3 5dda419f
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Jul 6 11:11:05 2021 -0700

    Merge pull request #2884 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 5dda419fc39f3653181995a25114e0e64b79c1cd[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Jul 6 17:08:47 2021 +0000

    Automatic Pin Updates

[33mcommit d04ee2c303fdf7445c219f86698bedc29544a781[m
Merge: 12d317e4 d1629b6c
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 5 11:29:11 2021 +0100

    Merge pull request #2881 from neiljerram/xdp-callbacks
    
    Convert XDP callback usage to mainline Felix architecture

[33mcommit d1629b6ce0e6e29aacf8c77b204f09f65b01984c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 15:20:35 2021 +0100

    More IP set callback code can be removed

[33mcommit 0bdfe3c415450b1de3d1d89855c874c08be9a456[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 12:41:58 2021 +0100

    Remove XDP callbacks from policy manager

[33mcommit f05a35042f11def4a3878218ca87b3dc4040dfca[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 21 17:31:13 2021 +0100

    Remove XDP callbacks from ipsets manager

[33mcommit b0ca25f0db946dcb9bf31fd91611e5cfe8d6567c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 21 09:29:15 2021 +0100

    Notes

[33mcommit 12d317e4820767aa170e68f00e8d108ed334762f[m
Merge: dfaeaa0a 9c7dce21
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jul 2 07:07:10 2021 -0700

    Merge pull request #2880 from neiljerram/xdp-flake
    
    Fix XDP flake: a check that we cannot reasonably rely on

[33mcommit 9c7dce21d4b333b6a5c385cc51cdf51c7b93eabb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 14:02:49 2021 +0100

    Update Ubuntu image for "new kernel" tests
    
    CI has been showing this deprecation message:
    
        - The resource 'projects/ubuntu-os-cloud/global/images/ubuntu-2004-focal-v20200609' is deprecated. A suggested replacement is 'projects/ubuntu-os-cloud/global/images/ubuntu-2004-focal-v20210623'.
    
    And this occasional flake:
    
        + gcloud --quiet compute ssh --zone=europe-west3-c ubuntu@sem-felix-56d03633-ut -- sudo apt-get update -y
        ...
        Get:43 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [528 B]
        Traceback (most recent call last):
          File "/usr/lib/cnf-update-db", line 26, in <module>
            col.create(db)
          File "/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py", line 100, in create
            json.dump(self._calc_input_metadata(), fp)
          File "/usr/lib/python3/dist-packages/CommandNotFound/db/creator.py", line 114, in _calc_input_metadata
            st = os.stat(p)
        FileNotFoundError: [Errno 2] No such file or directory: '/var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_focal-backports_universe_cnf_Commands-amd64'
        Fetched 19.4 MB in 4s (4,447 kB/s)
        Reading package lists...
        E: Problem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/lib/command-not-found/ -a -e /usr/lib/cnf-update-db; then /usr/lib/cnf-update-db > /dev/null; fi'
        E: Sub-process returned an error code
        + echo 'Failed to create VM.  Tearing it down.'
    
    Hoping an Ubuntu update will fix the latter as well as the former.

[33mcommit f9000581f19985078197e534f064e67db7a28be2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 13:01:11 2021 +0100

    Fix XDP flake: a check that we cannot reasonably rely on

[33mcommit dfaeaa0a90c1ae5d5f9a634ba04552a6f4779755[m
Merge: 2f09f329 057a9840
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jul 2 05:35:34 2021 -0700

    Merge pull request #2879 from neiljerram/fix-xdp-fv
    
    Fix XDP FV tests and add them to Semaphore CI

[33mcommit 057a9840c076aa72ae339612704d5224ea18b07f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 12:21:55 2021 +0100

    Avoid quoting passthrough issue
    
    Batch was failing with
    
        make: *** No rule to make target 'tests'.  Stop.
    
    which I guess is something to do with the "XDP tests" focus being
    passed through incorrectly.

[33mcommit 4f857eba894d234c4187230fc3e9f77d5658df6c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 11:51:11 2021 +0100

    Centralize definition of new kernel tests

[33mcommit 5cb2a95346ae4b7aa47b6a200b8cda384dcbcbf3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 11:34:02 2021 +0100

    Run XDP FV tests in Semaphore CI

[33mcommit 65ba81a5ab9c6c8c56e18bae5d7dbed95e46baf3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 2 11:30:47 2021 +0100

    Fix XDP program removal

[33mcommit 679579f96632e720bed0d64a9d29bcd7144d8c6a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 30 09:28:22 2021 +0100

    Give XDP FV tests a more useful title, for focussing

[33mcommit 487be8123370c15f5d6104ed6c44f9bf3ea535ae[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 22 12:26:23 2021 +0100

    Log output of XDP loading commands

[33mcommit 2f09f3294d17939cf44a47ed3e401837bee31730[m
Merge: 4d8888db e0c70358
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Jun 30 18:02:38 2021 -0700

    Merge pull request #2878 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit e0c70358fe2c4010132662a1ec3a31afae5fabcc[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Jul 1 00:02:11 2021 +0000

    Automatic Pin Updates

[33mcommit 4d8888db9b6ec6890aac7dd1cd95dee225e1befe[m
Merge: f1585334 0fca5d28
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 29 16:30:44 2021 +0100

    Merge pull request #2876 from neiljerram/wireguard-test-debug
    
    Wireguard FV: capture and log wireguard module debugging

[33mcommit 0fca5d28c4fbbc58c8edf02e97715fbef59cf7d2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 25 17:51:39 2021 +0100

    Wireguard FV: capture and log wireguard module debugging
    
    This is to help next time we see Wireguard flakes like this:
    
        â€¢ Failure [50.287 seconds]
        _BPF-SAFE_ WireGuard-Supported (etcdv3 backend)
        /go/src/github.com/projectcalico/felix/fv/infrastructure/datastore_describe.go:37
          traffic with Wireguard enabled
          /go/src/github.com/projectcalico/felix/fv/wireguard_test.go:259
            between pod to pod should be encrypted using wg tunnel with egress policies applied [It]
            /go/src/github.com/projectcalico/felix/fv/wireguard_test.go:470
    
            Connectivity was incorrect:

[33mcommit f1585334b2e3663e6c8ec09b3701612cc3167c33[m
Author: Seth Malaki <seth@tigera.io>
Date:   Mon Jun 28 12:53:32 2021 +0100

    fix wireguard package import from daemon.go  breaking windows buid (#2873)

[33mcommit 43b8da97e656722e77e840e01c5aa5bdb0858921[m
Merge: 1b3a8b61 fb0c09b8
Author: Song Jiang <song@tigera.io>
Date:   Mon Jun 28 11:45:09 2021 +0100

    Merge pull request #2872 from song-jiang/song-build-exe
    
    Added CI job to build calico-felix.exe

[33mcommit fb0c09b8fb663214768bc444a21cbfeea3124898[m
Author: song jiang <song@tigera.io>
Date:   Mon Jun 28 10:00:39 2021 +0000

    Added CI job to build calico-felix.exe

[33mcommit 1b3a8b61e15c3fedfca1abf9422276521499a7f5[m
Author: Seth Malaki <seth@tigera.io>
Date:   Sat Jun 26 12:49:58 2021 +0100

    basic wireguard prometheus stats (#2853)

[33mcommit c0def27d005c399dd7104ea184018d2d7cdeeed4[m
Merge: 5e17c723 4c020d67
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jun 25 10:47:36 2021 -0700

    Merge pull request #2870 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 4c020d674ee2ba37caf45797d45b7213330d0e84[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Jun 25 16:45:34 2021 +0000

    Automatic Pin Updates

[33mcommit 5e17c72322441762ea37dfa360f809e9e49b0d3f[m
Merge: 189712a3 ff910ac2
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Fri Jun 25 08:54:57 2021 -0700

    Merge pull request #2867 from Brian-McM/bm-api-pin-updates
    
    Update api pins on pin update

[33mcommit 189712a3a2f4d2be46e935b01e81e328085ab1f2[m
Merge: 5b29e35c d8850f14
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Jun 24 18:06:13 2021 -0700

    Merge pull request #2868 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d8850f14cdde0d65d1b41a538a07c3db677a4353[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Jun 25 00:02:48 2021 +0000

    Automatic Pin Updates

[33mcommit ff910ac279748281486c8cbbd234b7eb801df923[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Thu Jun 24 16:23:42 2021 -0700

    Update api pins on pin update

[33mcommit 5b29e35c2035096c3bb64e64a97434ec4f59fa94[m
Merge: 68fb4eb7 e9e80304
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Jun 24 09:40:05 2021 -0700

    Merge pull request #2864 from sridhartigera/sridhar-clang
    
    upgrade clang version from clang-7 to clang-11 for bpf build

[33mcommit 28886f0e39c9512a54ef0003431d800db8e83134[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 24 14:39:16 2021 +0100

    Add test for delete/add during iteration of BPF map

[33mcommit 68fb4eb7310b1ebdfba05e625e417e75f617e3fc[m
Merge: 91f2dbe2 d584d4df
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 24 13:51:49 2021 +0100

    Merge pull request #2865 from neiljerram/map-iteration-race
    
    BPF: Handle window between BPF_MAP_GET_NEXT_KEY and BPF_MAP_LOOKUP_ELEM

[33mcommit d584d4df3540160dbd9d6ec47b84e74187fcf5e5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 24 11:08:35 2021 +0100

    BPF: Handle window between BPF_MAP_GET_NEXT_KEY and BPF_MAP_LOOKUP_ELEM
    
    In bpf_map_load_multi, which we use for iterating through maps,
    there's a window between BPF_MAP_GET_NEXT_KEY and BPF_MAP_LOOKUP_ELEM
    where the entry for the next key can be deleted.  ï¿¼
    
    Prior to this fix, that can cause an ENOENT error that bubbles up like:
    
        felix-0-26959-235-felixfv[exec-err] time="2021-06-23T17:53:11Z" level=info msg="Loaded map file descriptor." fd=6 name=/sys/fs/bpf/tc/globals/cali_v4_ct3
        felix-0-26959-235-felixfv[exec-err] time="2021-06-23T17:53:11Z" level=fatal msg="Failed to iterate over conntrack entries" error="iterating the map failed: no such file or directory"

[33mcommit e9e80304f1ebe45f8e0dc3e090725ddfa4f0c654[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 23 12:24:08 2021 -0700

    Move go-build to v0.54

[33mcommit 1f2b1cd44a4c490f838ac9eeac7c78bf1bab3899[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 23 10:46:18 2021 -0700

    upgrade clang version from clang-7 to clang-11 for bpf build

[33mcommit 91f2dbe2dd6c08e3a355e3ade9139b845497bf04[m
Merge: 806d6958 664198d5
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Tue Jun 22 16:05:22 2021 -0700

    Merge pull request #2862 from fasaxc/fv-log-level
    
    Reduce felix FV log severity; add env var to override for debug

[33mcommit 664198d597425719bbff2cec99f6840a18c0825c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 17:43:30 2021 +0100

    Markups.

[33mcommit 806d6958d72720f0434771c98d2cfe3a38a7b989[m
Merge: 22e621e6 55fb42db
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 17:03:18 2021 +0100

    Merge pull request #2861 from fasaxc/fv-tweaks
    
    Tweaks to new parallel FV system

[33mcommit 55fb42db80bcfe11273071d3977f1a9099c67659[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 13:53:06 2021 +0100

    Markups

[33mcommit 86977e71a4cb887864a4cff98a8bb15608fa7026[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 14:37:29 2021 +0100

    Reduce felix FV log severity; add env var to override for debug purposes.

[33mcommit f47dd4472c367184a75b94474c5a8d586f629756[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 11:19:16 2021 +0100

    Streamline diags collection
    
    - Avoid downloading binaries multiple times.
    - Do diags collection in parallel.

[33mcommit eae0ef3b572714c5bdf2be536683d953fa4080ca[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 11:03:17 2021 +0100

    Fine tune output of parallel test runner

[33mcommit bd39ed8c85059e5a67a22c56cd4679831f3f7181[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 10:38:53 2021 +0100

    Increse slow test threshold to avoid spam.

[33mcommit c58e57b4f7f78c490560a761249c670e9ce8201d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 22 10:38:28 2021 +0100

    Wait for per-test log file to show up if it hasn't been created yet.

[33mcommit 22e621e6916512d072f31881ca05f911ae5c3335[m
Merge: dd2aef24 044ca244
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Jun 21 18:18:09 2021 -0700

    Merge pull request #2859 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit dd2aef24874f0f909f0551d1057fc184ccd94d2c[m
Merge: 169d9f3e 88908a6c
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Jun 21 17:31:14 2021 -0700

    Merge pull request #2858 from mikestephen/disable-wireguard-fv-flakes
    
    disable unreliable wireguard fv tests

[33mcommit 044ca24452d1d53bfda15443ad185371bbb63e2c[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Jun 21 23:58:05 2021 +0000

    Automatic Pin Updates

[33mcommit 88908a6c29b0449bd81e26ac7bcf1e19f3fa0cf2[m[33m ([m[1;31morigin/disable-wireguard-fv-flakes[m[33m)[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Tue Jun 22 00:04:05 2021 +0100

    disable unreliable wireguard fv tests

[33mcommit 169d9f3e95acbc5ffdb9e5672cf393f8fc49a305[m
Merge: e698ad14 e56d3806
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Jun 21 15:35:25 2021 -0700

    Merge pull request #2856 from fasaxc/combine-bpf-fvs
    
    Combine bpf fvs

[33mcommit e56d38061be8cfebd57a552c31cafa6ffe788c69[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 21 19:18:30 2021 +0100

    Fix that wait would terminate the script early.

[33mcommit 693c242a766289a2a5a292bbc7a561a6142fbd7a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 21 16:57:12 2021 +0100

    Run all FV batches from one Semaphore VM.

[33mcommit e698ad14af3eb9f19d2a23c7199b0383157ef1bb[m
Merge: 32095c3c fe338f3e
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Jun 21 09:46:58 2021 -0700

    Merge pull request #2854 from fasaxc/serialise-sem
    
    Reduce organisation impact of semaphore job

[33mcommit fe338f3e36a0faceb042da20f780e76dc5013bdb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 21 14:38:29 2021 +0100

    Remove dependencies between blocks that use different VM types.

[33mcommit 8ac89dc2677b29e04fe50b50fe44d2b2c7de25ab[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 21 14:07:26 2021 +0100

    Add queues for PRs and non-PR builds.
    
    - Run PR builds in parallel (as now).
    - Queue everything else up serially.
    - Classify pin update PRs as "everything else".

[33mcommit 2b93f668937769d8abc429f7c2e84caa59f4760a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 21 13:42:57 2021 +0100

    Auto-cancel all in-progress jobb, even on master.

[33mcommit 63ed5661dd8a68a7421d103cab998c5c04597a49[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 21 13:39:15 2021 +0100

    Reduce width of felix sempahore job.

[33mcommit 32095c3cf6dc6bb0ef163a2d60439b0499145f76[m
Merge: 3290fca7 e968f4b1
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jun 18 14:04:45 2021 -0700

    Merge pull request #2851 from Brian-McM/bm-fix-sem-timeouts-again
    
    Fix sem timeouts and priorities

[33mcommit e968f4b1bd8915957db242754af4cfa31c9d9349[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Fri Jun 18 10:38:33 2021 -0700

    Fix sem timeouts and priorities again

[33mcommit 3290fca7bf6652a6130f344a09c342c548fe6aec[m
Merge: 863e2eb8 869652f8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jun 18 08:15:45 2021 -0700

    Merge pull request #2849 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 869652f8d41a555f2eb1ac0cba85381572671335[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Jun 18 14:12:19 2021 +0000

    Automatic Pin Updates

[33mcommit 863e2eb8f8af96fa27e0ca80e444e211af88a188[m
Merge: 9e85307e 65c9118a
Author: Song Jiang <song@tigera.io>
Date:   Fri Jun 18 15:09:51 2021 +0100

    Merge pull request #2847 from song-jiang/song-api
    
    Replace lib/v3 package with projectcalico/api

[33mcommit 65c9118a684f8eb55e98fc7d1d17b035dd9d2b41[m
Author: song jiang <song@tigera.io>
Date:   Thu Jun 17 15:24:17 2021 +0100

    Replace lib/v3 package with projectcalico/api

[33mcommit 9e85307e367e6318d5818834cd29ae1c93c8c52f[m
Merge: aef7cd3c 28b909f7
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Jun 16 22:22:54 2021 -0700

    Merge pull request #2844 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 28b909f7d9ca22c295a177f09fa42df09124fe8c[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Jun 16 03:58:00 2021 +0000

    Automatic Pin Updates

[33mcommit aef7cd3c4a681ff2e656bab7483ca606d72f97ab[m
Merge: 38dc9753 46140455
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Jun 15 18:55:16 2021 -0700

    Merge pull request #2843 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 46140455f6762299adcf758ff282c8912b01a67a[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Jun 16 00:48:24 2021 +0000

    Automatic Pin Updates

[33mcommit 38dc97531efcf7833812cc221a730fdd1b15facc[m
Merge: bb400e98 25e30168
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 15 13:39:07 2021 +0100

    Merge pull request #2842 from neiljerram/keep-going
    
    UT: Run following UT suites when one suite fails

[33mcommit 25e30168a73ccff117646f70723266bf1a464e0c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 15 11:27:54 2021 +0100

    UT: Run following UT suites when one suite fails
    
    From `ginkgo -h`:
    
        -keepGoing
              When true, failures from earlier test suites do not prevent later test suites from running

[33mcommit bb400e9825f91f10fb75632b5d47069170c49d47[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Tue Jun 15 10:06:42 2021 +0100

    Wireguard MTU calculation on AKS and ANI allows for underlying network (#2840)
    
    * mtu calc on aks and ani allows for underlying network
    * Add comment explaining MTU quirks on AKS
    * add debug logging for kubernetes provider detection
    * explicitly return nil when failing to detect mtu
    * fixed wireguard mtu logic
    * moved comment to the code it references
    * moved Provider logic to config_params.go
    * fixed import ordering
    * kubernetes provider can now be anywhere in the cluster type string
    * add tests for wireguard MTU calculation
    * change enum to start at 0
    * add non-AKS test
    * revert rename of config param

[33mcommit 6d1c783ccffff22a0e1bfc335fa35833fe120cc9[m
Merge: 9c778662 842ed3d5
Author: Mazdak Nasab <mazdak@tigera.io>
Date:   Fri Jun 11 19:03:58 2021 +0200

    Merge pull request #2841 from mazdakn/mazdak-tc-state
    
    add ip_size to cali_tc_state struct

[33mcommit 842ed3d589a0b8b42f77f6547b36ef15acb24c12[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Fri Jun 11 16:45:17 2021 +0200

    remove unused code

[33mcommit 4b6a6602e0e8a95c74e24b9ea248533e03265999[m
Author: Mazdak Nasab <mazdak.rajabinasab@gmail.com>
Date:   Fri Jun 11 16:31:36 2021 +0200

    add ip_size to cali_tc_state struct

[33mcommit 9c7786629885d5ff55a02f2d92304078252dc3ba[m
Merge: 727b378a dba473e6
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 9 17:51:00 2021 +0100

    Merge pull request #2839 from neiljerram/bpf-constants
    
    Make CALI_ST constants easier to identify when debugging

[33mcommit 727b378a8b3464db6bd3ae29c4a0daf4c5e3bb7d[m
Merge: 7bef5f46 13e1d08a
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 9 11:08:06 2021 +0100

    Merge pull request #2838 from neiljerram/bpf-vxlan-program
    
    Apply BPF TC program to vxlan.calico devices

[33mcommit 13e1d08ac0c2465a405c3b528b407db5de28c453[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 9 01:22:00 2021 +0100

    Apply BPF TC program to vxlan.calico devices

[33mcommit dba473e612974b9212f4ef159ee7bffc8377ee39[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 9 01:19:55 2021 +0100

    Make CALI_ST constants easier to identify when debugging

[33mcommit 7bef5f46d7df062cbda749bc17c298fb4d0e60bb[m
Merge: d711ce26 8fd957cf
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Jun 4 10:56:55 2021 -0700

    Merge pull request #2837 from fasaxc/vxlan-bhole-tweak
    
    Ignore /32 routes when programming VXLAN blackhole routes.

[33mcommit 8fd957cf6061a6603c0a2ac90ff0f1dbb7bcd0f0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 4 17:49:06 2021 +0100

    Add test for /32 blackhole.

[33mcommit bb9f346d56fe9b9365e1092929db7a7c21969775[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 4 16:45:47 2021 +0100

    Ignore /32 routes when programming VXLAN blackhole routes.
    
    /32 blackholes are inherently racey vs the CNI plugin adding a workload.

[33mcommit d711ce2688870a1d74d114dda4965a6af2ea287b[m
Merge: be336bf2 bf837e78
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon May 31 12:21:37 2021 -0700

    Merge pull request #2835 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit bf837e78d67deb435520523cf86edd671cd74aaf[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Sat May 29 00:02:49 2021 +0000

    Automatic Pin Updates

[33mcommit be336bf201685665b9792bc9b24c064418747c4f[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Thu May 27 17:16:17 2021 +0100

    Wireguard fv handshake wait (#2832)
    
    * setting MTU in FVs
    
    * fix imports and formatting
    
    * wireguard etcd FVs were incorrectly excluded
    
    * Add some comments and clearer handshake waiting code

[33mcommit 47e6b92053f2b8d93efb626fa1dc3a745bfdfb00[m
Merge: e8293cfd 04bfaaa1
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 27 13:31:57 2021 +0100

    Merge pull request #2834 from neiljerram/sep-fv-options
    
    FV: Make a separate copy of TopologyOptions for each Felix

[33mcommit e8293cfd2fc6c5e01f5627de04d397b154a4de62[m
Author: Seth Malaki <seth@tigera.io>
Date:   Thu May 27 12:37:10 2021 +0100

    CORE-4739 | Install blackhole routes in VXLAN mode (#2696)
    
    * blackhole routes from vxlan mgr
    - ensure we can handle blackhole types properly with routetable
    - update mockRouteTable with above same behaviour
    - add simple fv tests to verify we have blackhole routes
    
    * fixes and comments from feedback / debugging (thanks @fasaxc!)
    - fixed vxlanmgr dirtiness logic, now manages to add everything even if the messages are out of order
    - updated test case expects to include expected blackhole missing from prior node
    - increased test timeout due to additional deferment of mgr CompleteDeferredWork routine
    - works even with WorkloadIPs only
    
    * Fix log level and typos (thanks @caseydavenport!)
    
    * remove unusable test (thanks @fasaxc!)

[33mcommit 04bfaaa17b98a093f6d8e71d00922fb87aa3c281[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 27 10:23:13 2021 +0100

    FV: Make a separate copy of TopologyOptions for each Felix

[33mcommit 269912c5ad0e6c9737df70598b6b373dfadfbb1e[m
Merge: 7056b008 4e0aa1ee
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 26 19:30:01 2021 +0100

    Merge pull request #2831 from neiljerram/bpf-ct-simplify
    
    BPF: Simplify CT context code

[33mcommit 4e0aa1ee0abe4d177de3805c14ac297bfedede04[m
Merge: 238bac43 7056b008
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 26 18:24:25 2021 +0100

    Merge remote-tracking branch 'origin/master' into bpf-ct-simplify

[33mcommit 7056b008bae9e79a1c3963f83958ed406ffff826[m
Merge: 050f7397 e856b386
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 26 17:10:37 2021 +0100

    Merge pull request #2829 from neiljerram/bpf-review
    
    BPF coding markups

[33mcommit 238bac43d896df37493ce1b932d024792b7221e6[m
Merge: d464ff52 e856b386
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 26 11:47:52 2021 +0100

    Merge branch 'bpf-review' into bpf-ct-simplify

[33mcommit e856b386d8c48120ffb3c215e8f71ca1d652dbc8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 26 11:43:07 2021 +0100

    Check for TCP from host inside ICMP error
    
    This reinstates the block that was removed by 6f0b31cfa, correcting
    the proto check to check the inner protocol (which may be TCP) instead
    of the original (which we know is ICMP and so not TCP).

[33mcommit 050f739785d13761941ea707162d05d2eb02eeb7[m
Merge: feec8fab 8d900e98
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue May 25 17:26:49 2021 -0700

    Merge pull request #2826 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit feec8fabc51729c0420ad62466709666c4ef8436[m
Merge: 4c435626 8c12974f
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Tue May 25 09:17:17 2021 -0700

    Merge pull request #2822 from Brian-McM/bm-use-new-common-cd-formatting
    
    Use new common cd formatting / pipeline

[33mcommit d464ff522b7a98752bdeb8e606f27f254e346170[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 25 13:53:16 2021 +0100

    Rename + simplify CT lookup ctx, using TC ctx where straightforward

[33mcommit 4c435626d3bcd3dfeab9551324fabf2deb289a69[m
Merge: a5d6453e a93ee5f1
Author: Peter Kelly <659713+petercork@users.noreply.github.com>
Date:   Tue May 25 13:43:27 2021 +0100

    Merge pull request #2820 from mikestephen/wireguard-arp-fix
    
    Stop ARP traffic being dropped due to RPF check

[33mcommit 3f92d0f5157f61f36d81d5318f23d42aebc2e2a4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 25 13:09:42 2021 +0100

    Simplify CT state creation code
    
    I believe this is an equivalent transformation of the previous code,
    with no change in logic or behaviour.  I think it helps by eliminating
    an intermediate layer in the call chain and by pulling out the
    "allow_return" meaning.

[33mcommit f94841c404ae214f25db2c0f61a0fc4b3fff4926[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 25 11:15:29 2021 +0100

    Useful explanatory comment

[33mcommit 69deadde95730b133e55a890228e64cd8704bbe2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 25 11:46:13 2021 +0100

    Fix check for TCP packet inside ICMP error

[33mcommit 6f0b31cfa89675356d4b84ce0d1eeefc9100a75e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 25 11:16:13 2021 +0100

    Remove a code block that can never execute

[33mcommit a93ee5f1a33c5d07071dc9b052b0a3011f737349[m[33m ([m[1;31morigin/wireguard-arp-fix[m[33m)[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Tue May 25 07:34:29 2021 +0100

    remove wireguard chain creation duplication

[33mcommit a5d6453e4821c667d857d130b4b77e45aa50237b[m
Merge: 4e237c93 c3ba0958
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 24 16:40:22 2021 +0100

    Merge pull request #2827 from neiljerram/bpf-disable-repin
    
    DebugBPFMapRepinEnabled -> false

[33mcommit 4e237c93098eca6d330fafb09d74bb00aa6e9f52[m
Merge: 2a1bbe78 c3829f55
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 24 16:32:24 2021 +0100

    Merge pull request #2828 from neiljerram/bpf-code-formatting
    
    Small improvements to BPF C coding

[33mcommit c3829f55415247d35caad50b462a471e74fa60d9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 19 17:31:50 2021 +0100

    Add numbers to CALI_CT codes, to help with debugging
    
    For example, if I see trace that includes ct_rc=518, I can more easily
    work out that that means CALI_CT_INVALID | CALI_CT_RPF_FAILED.

[33mcommit 73fc41b4f2b273b7596d80d611ad61bccd6b027b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 17 18:15:33 2021 +0100

    Fix two cases of unusual C code formatting

[33mcommit c3ba09588d76f211651660b616a874b35fc81565[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 17 11:16:56 2021 +0100

    DebugBPFMapRepinEnabled -> false
    
    There are now no use cases where we need map repinning, so let's
    disable it by default.  After running with this for a while, if there
    are no issues, we can remove the related code.

[33mcommit 2a1bbe78caa4379166141df18453f93f75813287[m
Merge: f05cbef6 526a68b1
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon May 24 04:19:19 2021 -0700

    Merge pull request #2825 from fasaxc/remove-uuid
    
    Swap out unmaintained UUID library for Google one.

[33mcommit 8d900e98ce8c78fc643373eef96c90ab5590b8c4[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon May 24 10:54:53 2021 +0000

    Automatic Pin Updates

[33mcommit 526a68b1f1735913ea3b3c0d65dd1ac2e3f6b2ed[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 24 11:09:47 2021 +0100

    Swap out unmaintained UUID library for Google one.

[33mcommit f05cbef690c1d4410a73e794e7d68ac4c5127e6f[m
Merge: db4bd512 e6caf39e
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri May 21 16:27:29 2021 -0700

    Merge pull request #2824 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 8c12974ffa57216bbc2889929e3985a23391e73b[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Fri May 21 10:04:03 2021 -0700

    Use new common cd formatting / pipeline

[33mcommit e6caf39e1fc28a53834333b75a007f35184093d9[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri May 21 22:25:56 2021 +0000

    Automatic Pin Updates

[33mcommit db4bd512c113ce6b19d0cccbf5a5e80d704cf703[m
Merge: 43c61f7f 7a26bc4e
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri May 21 12:40:05 2021 -0700

    Merge pull request #2823 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 7a26bc4ea3e8c7612fb63de1f1e79ff0d570ab3b[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri May 21 18:34:28 2021 +0000

    Automatic Pin Updates

[33mcommit 43c61f7f874c9e5c5e0126778a634dba88049f1d[m
Merge: 1bebc1b1 49a5aa2c
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri May 21 10:30:49 2021 -0700

    Merge pull request #2821 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 49a5aa2cc6c4c5d4d868fef54eb39057e3f63dba[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri May 21 16:24:45 2021 +0000

    Automatic Pin Updates

[33mcommit 1bebc1b16ea2e0e0df136ce2e1d299e3053cfdc8[m[33m ([m[1;33mtag: v3.20.0-0.dev[m[33m)[m
Author: matt <mleung975@gmail.com>
Date:   Fri May 21 09:14:26 2021 -0700

    Begin development on v3.20.0

[33mcommit 08f1d47c0f91dde3f388f71dc990aeeb75af3aa4[m
Merge: 85901f01 0dc48d8d
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu May 20 12:23:58 2021 -0700

    Merge pull request #2819 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 9715d5b0110356066f1636626ac0efc91c38a91c[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Thu May 20 19:38:03 2021 +0100

    Stop ARP traffic being dropped due to RPF check
    
    ARP request packets were being dropped on the receiving node due to the
    RPF check. This was because the incoming packets arrived on eth0, but
    the RPF check determined that as the packets were not marked with the
    wireguard fwmark, the return route would be through the wireguard
    interface.
    
    To fix this issue, iptables rules were introduced to mark all packets
    which were not from the lo, wireguard, or cali+ interfaces with the
    wireguard fwmark. This has the affect that these packets will then not
    be routed through the wireguard interface and will pass the RPF
    check.

[33mcommit 0dc48d8d523c2fa1612645b216f4b90434443714[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu May 20 18:22:59 2021 +0000

    Automatic Pin Updates

[33mcommit 85901f01a6dc468783a97189d016afceff6c7bcd[m
Merge: 85d0253f 3d5b83bd
Author: Peter Kelly <659713+petercork@users.noreply.github.com>
Date:   Thu May 20 17:24:55 2021 +0100

    Merge pull request #2818 from mikestephen/ip-rule-churn-fix

[33mcommit 3d5b83bd37dc724e3e7fd1c11e4172995e7c1278[m[33m ([m[1;31morigin/ip-rule-churn-fix[m[33m)[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Thu May 20 11:01:05 2021 +0100

    Fix ip rule logic to stop churning rules
    
    The netlink library has a couple of quirks when listing rules:
    - it doesn't populate the family field, instead returning 0
    - if a rule has fwmark of 0, netlink returns -1
    
    These quirks were causing felix to determine that the wireguard ip
    rule entry on the node was different to what should be present, and so
    felix deleted the "incorrect" rule and re-created it.
    
    To workaround these quirks:
    
    - when listing the rules, we populate the family ourselves
    
    - the wireguard ip rule was changed from:
      from all fwmark 0x0/0x100000 lookup 1
      to:
      not from all fwmark 0x100000/0x100000 lookup 1

[33mcommit 85d0253f1f2d979e4e064b1603d9130018cc90e1[m
Merge: 31a1f2ad f8a13726
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue May 18 09:55:40 2021 -0700

    Merge pull request #2816 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit f8a1372680635498b800dbf31b7158284961885b[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue May 18 15:53:47 2021 +0000

    Automatic Pin Updates

[33mcommit 31a1f2adfdec9fbe3552d6700a062a7e98c2279e[m
Merge: e7a8ae47 0e3e12e4
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue May 18 04:47:16 2021 -0700

    Merge pull request #2811 from fasaxc/vxlan-checksum
    
    Disable checksum offload on the VXLAN tunnel for kernels <v5.7.

[33mcommit e7a8ae477b313176f4bf8eb01de6689fae2c6e73[m
Merge: 93e7c7ed 6c88ebba
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue May 18 04:40:49 2021 -0700

    Merge pull request #2814 from fasaxc/fix-bpf-logs
    
    Reduce FV verbosity

[33mcommit 0e3e12e4b6ede80615a88ee4683687be0d9c4332[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 18 10:37:25 2021 +0100

    Pre-load ipip kernel module to prevent flake.

[33mcommit c334f05993761a6656bdcce137fb6b68f9591810[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 17 16:00:50 2021 +0100

    Add extra diags and remove no-op.

[33mcommit 24c2930b36f817bef2137c4a126f21a020829e28[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 14 15:05:57 2021 +0100

    Add VXLAN checksum FV, fix feature detect override.
    
    Use reflection to access the feature fields to avoid needing
    code or every field.

[33mcommit 5e86f1d8ec6bf19d43ae2391d2cfe9391fa824d8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 14 14:08:35 2021 +0100

    Disable checksum offload on the VXLAN tunnel for kernels <v5.7.
    
    The combination of iptables MASQUERADE --random-fully and such
    kernels results in broken checksum calculations.

[33mcommit 6c88ebbac1bdfcf7db8b426679def3a15c97b974[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 18 11:01:18 2021 +0100

    Markups: fine tune command output.

[33mcommit 2fff0dc5ba84c506a4648ce84609cfa32ccd9f4d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 17 14:47:02 2021 +0100

    Reduce FV verbosity:
    
    Ignore infra logs during stop.
    Log command output inline rather than buffer.

[33mcommit 93e7c7eda61cc28af4e74c20592def06a3e1873e[m
Merge: 80af6d53 a8831f64
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri May 14 10:52:18 2021 -0700

    Merge pull request #2812 from fasaxc/fix-bpf-logs
    
    Fix bpf logs

[33mcommit a8831f646a0f5a626fdd31fe50ca0f694fd9ffc1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 14 16:20:39 2021 +0100

    Squash interrupted dump errors.

[33mcommit 2e40968b6e8f4586709a63fd5ebf5d1acac9baea[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 14 16:14:10 2021 +0100

    Add loop summarisation for BPF components.

[33mcommit 4d4acde383ea361ff651ed6ead0d20430456d999[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 14 16:00:28 2021 +0100

    Squash spurious logs for deleted devices.
    
    Handle ntlink errors as well as tc errors.

[33mcommit 80af6d53203e8b099460f14a68f5fb1a8ac8fc7b[m
Merge: 4eabde05 bd1363eb
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu May 13 13:04:03 2021 -0700

    Merge pull request #2806 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit bd1363eb798cf6d6857872a9a54d593be6e9da7f[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu May 13 18:58:07 2021 +0000

    Automatic Pin Updates

[33mcommit 4eabde05be2960e662b377c4813021b2740895a9[m
Merge: e8a580e7 66ba1f5e
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu May 13 10:51:23 2021 -0700

    Merge pull request #2802 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 66ba1f5ee100f36acf0677f79a75df58d5ba36a4[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon May 10 21:24:00 2021 +0000

    Automatic Pin Updates

[33mcommit e8a580e712d55a50a9be876edf22c6c4e354c452[m
Author: Jiawei Huang <hjiawei@gmail.com>
Date:   Thu May 6 02:11:46 2021 -0700

    Retry setting AWS EC2 src-dst-check until successful (#2795)
    
    * Retry setting AWS EC2 src-dst-check until successful
    
    Implement exponential backoff retries when setting aws-src-dst-check
    config. The initial backoff interval is 30 seconds with a jitter factor
    of 0.1. The maximum backoff interval is 8 minutes and will keep retrying
    until the config is set successfully.
    
    * Move backoff manager into function and use FakeClock in UT
    
    Increase `awsEC2UpdateSrcDstCheck` function UT test coverage to 100%.
    
    * Move awsEC2UpdateSrcDstCheck function from dataplane to aws

[33mcommit e9c4e81921c1c82d424a126a20d04e571280772b[m
Merge: f1ca165a 86db7f57
Author: Peter Kelly <659713+petercork@users.noreply.github.com>
Date:   Fri Apr 30 14:37:12 2021 +0100

    Merge pull request #2781 from mikestephen/fix-aks-wireguard
    
    Fix wireguard support for AKS (and workloadIP environments)

[33mcommit f1ca165a90fed573c198f1636d24021a67724127[m[33m ([m[1;33mtag: untagged-16af6a7632a27b797d76[m[33m)[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Apr 29 16:08:55 2021 -0700

    Service loop prevention for LoadBalancer IPs (#2798)

[33mcommit 86db7f5779493ee8a17c58c57293868eb5c3d883[m[33m ([m[1;31morigin/fix-aks-wireguard[m[33m)[m
Author: Mike Stephen <mike.stephen@tigera.io>
Date:   Thu Apr 15 15:40:13 2021 +0100

    Fix wireguard routing for WorkloadIPs route source
    - added sysctl net.ipv4.conf.all.src_valid_mark=1
    - added routes to send traffic to other hosts through wireguard
    - added host ips to wireguard peer allowed-ips
    - added iptables rule to raw table cali-PREROUTING chain to mark
    wireguard packets
    - added new FV tests to cover wireguard with WorkloadIPS
    
    Co-authored-by: Seth <seth@tigera.io>
    Co-authored-by: Peter <peter@tigera.io>

[33mcommit 860649f081309ff8a9e024bbdb396fa725c0ef57[m
Merge: 2ac1a657 989f22ab
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Apr 28 12:30:32 2021 -0700

    Merge pull request #2796 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 989f22abd952e76b5b9d093f783046e2b63eff19[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Apr 28 18:16:52 2021 +0000

    Automatic Pin Updates

[33mcommit 2ac1a65787ec0b66d64974b26d34bcaf465f2579[m
Author: Tim Bart <tim@pims.me>
Date:   Mon Apr 26 14:27:34 2021 -0700

    Reduce log level to debug for selector ID check (#2787)
    
    This has generated in the order of 500M+ log messages in the last 24h for a large-ish kubernetes cluster

[33mcommit a8ba2b09ffc225629856f061da2c507d7d3bd57b[m
Merge: ba1a63e3 75900ce2
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Apr 23 13:59:43 2021 -0700

    Merge pull request #2792 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 75900ce2e018de390dc8b39ebfd223b2498d7700[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Apr 23 19:51:30 2021 +0000

    Automatic Pin Updates

[33mcommit ba1a63e346875c2abb1984e863f5c3e32ef97a8c[m
Merge: 7a38390c 8554eaf8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Apr 21 18:57:22 2021 -0700

    Merge pull request #2782 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 8554eaf85355c320ef3afff02320907286e39d0f[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Apr 22 00:03:08 2021 +0000

    Automatic Pin Updates

[33mcommit 7a38390c65b65b11fdd3dd2f311e4c06543aecce[m[33m ([m[1;33mtag: v3.19.0[m[33m)[m
Merge: 2884c1e4 95d0bd07
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Apr 21 09:22:48 2021 -0700

    Merge pull request #2780 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 95d0bd07f9c65bde79aa7cfd454cbb7c436a3630[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Apr 20 19:22:52 2021 +0000

    Automatic Pin Updates

[33mcommit 2884c1e48f3db0b38b73407698601b54a19a01d2[m
Merge: 6cab83fb 0f5df477
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Apr 20 11:12:07 2021 -0700

    Merge pull request #2779 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 0f5df4770220e6f09315f3c31c8b034461996990[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Apr 20 17:07:40 2021 +0000

    Automatic Pin Updates

[33mcommit 6cab83fb61ade0404df4e8212460b2245fdfd35a[m
Merge: 6ba7bf39 755206b4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 20 10:20:53 2021 +0100

    Merge pull request #2777 from tomastigera/tomas-bpf-conntrack-flags-fix
    
    bpf: reserve conntrack flags for upgrade compatibility

[33mcommit 755206b4f61e44473805664cc20459c4386ffa0f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 19 14:21:27 2021 -0700

    bpf: reserve conntrack flags for upgrade compatibility

[33mcommit 6ba7bf397922e26b467d7be5224c981f52a0b1fa[m
Merge: fbe51d56 5e24eaa1
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Apr 19 07:35:58 2021 -0700

    Merge pull request #2776 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 5e24eaa1c31e9723c32068d92f5a40dcbcd4ef55[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Apr 19 13:29:52 2021 +0000

    Automatic Pin Updates

[33mcommit fbe51d56c9f2a1106a8a433cb9617d264dc0bdbd[m
Merge: cc81fd3e 427228d7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 19 09:38:31 2021 +0100

    Merge pull request #2770 from fasaxc/fix-proxy-syncer
    
    Fix handling of overlapping IPs in kube-proxy implementation

[33mcommit cc81fd3e925731056f5fd819ebb4e3235963849d[m
Merge: f203238c 268ac9ce
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Apr 16 18:12:00 2021 -0700

    Merge pull request #2775 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 268ac9cee44b610d88a63763aa46a4d30102cd63[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Sat Apr 17 00:02:48 2021 +0000

    Automatic Pin Updates

[33mcommit 427228d721cc4c64ccd8f1ee8deb2e0ab1b8f43f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 16 14:20:32 2021 +0100

    Fix that benchmark was timing the set-up on the first iteration.
    
    Throws off the numbers if the benchmark only runs once.

[33mcommit f203238c77ee411c84fcd3ae1cbedd3a34553f08[m
Merge: d1549f98 c23ee527
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 16 12:49:42 2021 +0100

    Merge pull request #2767 from tomastigera/tomas-bpf-eks-routing
    
    BPF: RPF check in EKS

[33mcommit 02a8726bd382771788359836b9b79a08e378e57d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 16 11:20:28 2021 +0100

    Reuse keys and values in caching map for performance.

[33mcommit 844f52121f8a7896aa136b31da3193c5befbf011[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 16 10:36:56 2021 +0100

    Markups.

[33mcommit c23ee5276382a09b318dbfcdf050f33a6751e26e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 13 22:16:55 2021 -0700

    fix fv FELIX_BPFExternalServiceMode

[33mcommit 87c68a8b66f6a57170a3ab5084c8c7b66baacdd4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Apr 9 14:17:45 2021 -0700

    bpf: EKS workaround iptables rule for BPFExtToServiceMark
    
    EKS tries to restore the 0x80 mark from connection. This removes the
    BPFExtToServiceMark we set on egress from pods if we do not set it on
    the connection in host namespace.
    
    Preferably, EKS would restore the mark only if the mark was set and
    would leave the mark untouched otherwise.

[33mcommit a662ef7aed985e05e84076f00059a844c6d3e847[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 7 16:49:10 2021 -0700

    bpf: BpfExtToServiceConnmark - EKS rpf check
    
    env FELIX_BpfExtToServiceConnmark allows us to set a mark if a packet is
    DNATed at the host interace (therefore is not comming from a pod), which
    allows us to influence routing if the packet would go through the host
    namespace - that means it is not forwarded to another interface
    directly. We set a flag at the connection so that we mark all such
    packets in both directions.
    
    EKS uses a mark to trace nodeport connections to route them to correct
    interface on the way back (the main ENI) in case the backend pod is
    associated with a secondary ENI. Setting the mark allows us to follow
    the same routing and pass RPF check.

[33mcommit 7987c8f81503ca9cec397fefd71df0dd0763176f[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Apr 16 00:33:31 2021 +0000

    Automatic Pin Updates

[33mcommit d1549f98eb26c0d72a3caeb476bcc7d328566d4b[m
Merge: 47947d05 1f950755
Author: Matt Leung <mleung975@gmail.com>
Date:   Thu Apr 15 15:28:24 2021 -0700

    Merge pull request #2769 from mgleung/failsafes-cidr-bpf
    
    Add CIDR handling for failsafes in bpf

[33mcommit 0d02dcea69d8f67d76093d06a2ad505fe4cb429e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 15 15:05:38 2021 +0100

    Node port fixer: only trigger new sync if an endpoint was resolved.

[33mcommit 47947d0559e74c7a5b50742dd136f02ef5f76527[m
Merge: 2a0a5726 7ce747cd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 15 09:24:16 2021 +0100

    Merge pull request #2771 from sridhartigera/sridhar-sctp
    
    Dont panic when we see a sctp named port

[33mcommit 7ce747cdfd7bf096ec422dcb3d1f33e381a796eb[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 14 14:48:50 2021 -0700

    Change Error to warning

[33mcommit 1f95075581cdf1bad4cea15122792acbd5997a7b[m
Author: matt <mleung975@gmail.com>
Date:   Wed Apr 14 13:17:12 2021 -0700

    add default cidr

[33mcommit b89a7a56345f023149706817e8a7e8dd0f326d96[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 14 11:58:11 2021 -0700

    Dont panic when we see a sctp named port

[33mcommit 5eff89ae547a95794f153abb5be5f0e7a0b1e7d1[m
Author: matt <mleung975@gmail.com>
Date:   Wed Apr 14 11:56:52 2021 -0700

    Add to error

[33mcommit a54dd441aa94526704709c66d8b538c17e5e1cd2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 14 15:57:13 2021 +0100

    Cover CachingMap.

[33mcommit 8d72d22f16e9f2b4df0f9508419d718214aaed3f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 14 14:49:55 2021 +0100

    Add external IP overlap UT.

[33mcommit 7f50f568646d9610c71eebe721828f7e6c4d47df[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 14 13:59:56 2021 +0100

    UTs for CachingMap.

[33mcommit 51f4f5180e02fa14f03e4ac7be26b46417625114[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 14 10:08:55 2021 +0100

    Markups.

[33mcommit becb75ace02a592e663410ef742a7fe9839fcd98[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 14 10:04:29 2021 +0100

    Remove unused function.

[33mcommit a12dea417cc90845e31c054399f70beb5e7915a7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 14 09:46:40 2021 +0100

    Remove stick service deletion flag; no longer being set.

[33mcommit 837b6c4a6132ea8d6046c80c567e61c62f216a32[m
Author: matt <mleung975@gmail.com>
Date:   Tue Apr 13 17:27:56 2021 -0700

    Fix errors from old versions of failsafes and add regression tests

[33mcommit 533f4088a460f781a37bc91b9dd0650571cdb137[m
Author: matt <mleung975@gmail.com>
Date:   Tue Apr 13 11:27:28 2021 -0700

    refactor tests

[33mcommit 049fd62e2bb8e6788a80f6a2d88ef1df92b0e855[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 15:05:02 2021 +0100

    Fix benchmark.

[33mcommit db1b3ef02f58a817df680f597a80eca87b5c5958[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 14:45:13 2021 +0100

    Fix up more UTs.

[33mcommit 78678fe52ed1a300feeec37ca14d55b500a0c347[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 14:04:24 2021 +0100

    Fix incorrect update logic.

[33mcommit ce819111d2104d5e9324d43a9d09027d5f21ce62[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 11:18:49 2021 +0100

    Get UTs compiling (not passing yet)

[33mcommit eed0ed8d09cdcf4d0cf03730cd0e0b821b47061c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 10:50:19 2021 +0100

    Initial rebase of proxy Syncer onto CachingMap.
    
    Syncer's delta-tracking logic was buggy due to aliasing, where
    multiple services shared an IP (e.g. due to transient misconfiguration
    or manual creation of clashing external IPs).
    
    Stop trying to track deltas. Instead, recalculate the full state of
    the maps from scratch with each sync.  Then, rely on the CachingMap
    to minimise the writes to the dataplane.

[33mcommit ac04f13df4524a7769e1e8070430089eeee0dbc2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 10:49:24 2021 +0100

    Add FV test of overlapping external IPs.

[33mcommit 7e2bd9f0b20eaaf71952305ef1d6b48c055597b3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 13 10:48:32 2021 +0100

    Add a caching wrapper around a BPF map.
    
    CachingMap tracks deltas against a cache of the dataplane's state and
    supports resync to populate the cache and apply minimal deltas.

[33mcommit 47076320f902e3f780e569adfec6ccefb3742569[m
Author: matt <mleung975@gmail.com>
Date:   Mon Apr 12 17:58:06 2021 -0700

    make key hashable

[33mcommit c0377618cd71fa2972807167a7578445abe093f2[m
Author: matt <mleung975@gmail.com>
Date:   Tue Mar 23 15:49:05 2021 -0700

    Add CIDR handling for failsafes in bpf

[33mcommit 2a0a572644caefe0b55452d75155aaefcb4facea[m
Merge: d0202d25 53b3745e
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Apr 12 15:39:40 2021 -0700

    Merge pull request #2768 from Brian-McM/bm-splitup-ci-semaphore
    
    Split up CI to avoid disk issues

[33mcommit 53b3745e2a9b042483a149c73d764c2d7460a304[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Apr 12 14:14:14 2021 -0700

    Split up CI to avoid disk issues

[33mcommit d0202d25f804c712b322eb94f966b507c08608db[m
Merge: 7bee769a 71a07978
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Apr 9 19:12:29 2021 -0700

    Merge pull request #2766 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 7bee769af95533649b7418e46b5ad5f83ad684b6[m
Merge: 967255bf 3eecb2d7
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Apr 9 18:10:39 2021 -0700

    Merge pull request #2762 from Brian-McM/bm-clean-up-makefile
    
    Clean up Makefile

[33mcommit 71a079787c331e32c046f841eb985dd2ee4e7f3b[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Sat Apr 10 01:04:41 2021 +0000

    Automatic Pin Updates

[33mcommit 3eecb2d7f9120a51bb2bfc2507e8be334e3279ad[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Fri Apr 9 15:53:26 2021 -0700

    Clean up Makefile
    
    Add ORGANIZATION env variable, remove duplicate targets / macros that exist in update common Makefile

[33mcommit 967255bf3bec6c4880f9a16946eb6b9dbf7d9b84[m
Merge: 3fae190b 53db53fa
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Apr 8 18:47:05 2021 -0700

    Merge pull request #2761 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 53db53fa2368110c8a4fdb118d21b2f7690ca263[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Apr 9 00:41:57 2021 +0000

    Automatic Pin Updates

[33mcommit 3fae190b1c5ff594dcbb9589fd32278415b03f80[m
Merge: 9f2bfb37 b05915e8
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Apr 8 16:38:11 2021 -0700

    Merge pull request #2755 from sridhartigera/sridhar-ipip-fv-2
    
    Fix for IPIP FV failures

[33mcommit b05915e8d4459ecec64b41f0038e59e233264287[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Apr 8 14:51:55 2021 -0700

    Updating go.sum

[33mcommit ce6c0d09341b9737756fcd075169ae6b065971d1[m
Merge: d57ac5aa af70c56d
Author: sridhar <sridhar@tigera.io>
Date:   Thu Apr 8 14:43:14 2021 -0700

    Merge branch 'semaphore-auto-pin-updates-master' into sridhar-ipip-fv-2

[33mcommit d57ac5aa520b59776fbc649176793e8d9258f1f3[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Apr 8 14:19:23 2021 -0700

    Remove the go.mod changes

[33mcommit b8a0c04f8eeddb8f3f7fa552fb32d73240604b5e[m
Merge: da549028 9f2bfb37
Author: sridhar <sridhar@tigera.io>
Date:   Thu Apr 8 14:11:35 2021 -0700

    Merge github.com:projectcalico/felix into sridhar-ipip-fv-2

[33mcommit 9f2bfb37804e971c10e5dac8c8332bc7d256776f[m
Author: Ricardo Katz <rikatz@users.noreply.github.com>
Date:   Thu Apr 8 18:07:50 2021 -0300

    Update libcalico-go to latest version (#2754)

[33mcommit af70c56de48619ee7dce09085bf8f2dc8ba680d5[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Apr 8 19:26:45 2021 +0000

    Automatic Pin Updates

[33mcommit da54902862c1af2b063afd2b226485fe7d95a59a[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 7 19:18:11 2021 -0700

    Remove addresses in vxlan tests

[33mcommit ba2de998d22eb5e8df21227da49e9141f6349e54[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 7 17:43:49 2021 -0700

    Adding go.mod and go.sum for test purposes

[33mcommit 7a5a6b58a7deb3456ba043f3fad2aec6012bef1b[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 7 17:34:38 2021 -0700

    Fix FV tests

[33mcommit 7e1854410e5116ca48c7574450efdfd8b34a1376[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Apr 6 19:27:22 2021 -0700

    Populate Vxlan addresses and node addresses

[33mcommit 2c443dc71139ecd87f9a8e5c3d34d752de9d51b5[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Apr 6 18:07:37 2021 -0700

    Fix for FV failures in l3_route_resolver

[33mcommit 65f99db2d86ba31cad524af91721e657fbc2ffc5[m
Merge: 91b19f9e d04d8374
Author: Matt Leung <mleung975@gmail.com>
Date:   Wed Mar 31 22:01:03 2021 -0700

    Merge pull request #2751 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d04d83747d4bde6799264a1253d53e18610e4446[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Apr 1 04:05:28 2021 +0000

    Automatic Pin Updates

[33mcommit 91b19f9e03091c8326863e57af49b58e98ece6b6[m
Merge: 66f55a9c 1ef8eef9
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Mar 30 16:05:57 2021 -0700

    Merge pull request #2744 from tomastigera/tomas-failsafe-fix
    
    bpf: fix ensure failsafes map exists

[33mcommit 66f55a9c8a00209161ba865b4ac989d11e2e414d[m
Merge: 1adadda6 0316b28a
Author: Matt Leung <mleung975@gmail.com>
Date:   Tue Mar 30 15:11:40 2021 -0700

    Merge pull request #2742 from mgleung/failsafe-ipv6
    
    Add handling for IPv6 networks in failsafe rules

[33mcommit 0316b28a95b139b3f9e55f7336481d10d17200d8[m
Author: matt <mleung975@gmail.com>
Date:   Fri Mar 26 14:40:25 2021 -0700

    Add handling for IPv6 networks in failsafe rules

[33mcommit 1ef8eef9953fdc19cefb7bddf47688769ae6ba3f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 30 10:43:47 2021 -0700

    bpf: fix ensure failsafes map exists

[33mcommit 1adadda6816377046dc6de95e768c98d3e015c8f[m
Merge: 03b645b3 671e7354
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Mar 25 17:37:07 2021 -0700

    Merge pull request #2736 from tomastigera/tomas-bpf-redirect-fallback-fix
    
    bpf: set rc to TC_ACT_UNSPEC if CALI_RES_REDIR_IFINDEX fails

[33mcommit 671e7354dd3c3dcde428d43d11eede15188d8190[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Mar 25 15:35:57 2021 -0700

    bpf: set rc to TC_ACT_UNSPEC if CALI_RES_REDIR_IFINDEX fails
    
    If we fallback to fib/netstack we need to return a value that would let
    the packet through.

[33mcommit 03b645b333ad6ddc0af2d6f497430a364489a508[m
Merge: f688ac94 d7cf3b58
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Mar 25 11:20:36 2021 -0700

    Merge pull request #2724 from projectcalico/sridhar-icmp
    
    Set interface IP as source IP for ICMP replies

[33mcommit d7cf3b580a6de0255e7e66ca1a4b9c8527763c07[m[33m ([m[1;31morigin/sridhar-icmp[m[33m)[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Mar 25 10:17:10 2021 -0700

    Filter out net.IPNet and sort the IPv4 addresses

[33mcommit 1b9927d1c83286277205b8af0a78294498d6cc40[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Mar 25 08:07:53 2021 -0700

    Sort IP addresses from getInterfaceByName

[33mcommit 5b4f94e8a8a47d9d7aaaae6bfee07a5ce9e8247f[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Mar 24 17:36:09 2021 -0700

    Fix static check error

[33mcommit 9ff5f9c61dc36d9afa57e35b02226052741805c3[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Mar 24 15:29:08 2021 -0700

    Sort interface IP addresses

[33mcommit da0749c1388835d38e18273351d76a5b6ff465d1[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Mar 23 11:28:54 2021 -0700

    Pass CalicoRouterIP as intf IP for workloads

[33mcommit f688ac94bc35e2742237c0b2b45e4450803a184a[m
Merge: 47e588e7 9bd910de
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Mar 23 11:21:15 2021 -0700

    Merge pull request #2731 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 9bd910de54e2ca0416a129f1063be254e91f9637[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Mar 23 17:19:00 2021 +0000

    Automatic Pin Updates

[33mcommit 47e588e79ae009fd91f6295964286fdecb78bdb1[m
Merge: 3b8232b3 275dfc72
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Mar 22 18:08:45 2021 -0700

    Merge pull request #2730 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 275dfc72ff18c74255b85a31f3e459b407af2b22[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Mar 23 00:02:11 2021 +0000

    Automatic Pin Updates

[33mcommit bb50cb29fd2800b0c0f837f8d4f58ed6a37303e4[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 22 14:05:14 2021 -0700

    Set Interface IP as 0.0.0.0 for workloads

[33mcommit 1595f3cb663e9fd379e26637e74c8c01a9e93fd5[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 22 11:40:07 2021 -0700

    Fix panic

[33mcommit f23e3957681c9b32de8553d239ea0c5881e6c8d8[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 22 10:02:34 2021 -0700

    Fix felix crash

[33mcommit 479c564ac14772de0eb45adef629dd11ed6efd31[m
Author: sridhar <sridhar@tigera.io>
Date:   Sun Mar 21 21:11:22 2021 -0700

    Remove unwanted debug prints

[33mcommit 3b8232b3ebeef783bcbf433302f4e43e9b6eee01[m
Merge: b89ea01d 25eaf768
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Mar 18 18:06:04 2021 -0700

    Merge pull request #2723 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 25eaf768924756041ea2cdbca9abcef4fc00b239[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Mar 19 00:02:01 2021 +0000

    Automatic Pin Updates

[33mcommit b89ea01de957824cf2217ea9467b6f06a1d8c8a1[m
Merge: 01e74aa3 3d89d8fe
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 18 15:21:01 2021 +0000

    Merge pull request #2722 from fasaxc/rev-lib-c-k8s
    
    Rev libcalico-go and kubernetes pins.

[33mcommit 3d89d8fed91de5bccc1847399eab309778bd98a3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 18 13:40:38 2021 +0000

    Rev libcalico-go and kubernetes pins.
    
    Adjust proxier to handle minor API changes in kube-proxy.

[33mcommit 69d164b6301dbd8d7adb4c1eabcdc25dc3da71f1[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Mar 17 13:51:11 2021 -0700

    Debug

[33mcommit f63c88d06b030b0f23efed3fc62d3f0eee4fac81[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Mar 17 12:04:47 2021 -0700

    Pass Intf_ip to the BPF program

[33mcommit 0a9d5e7031aebbde9a80850c2804bb59ebfdfb4e[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Mar 16 14:58:33 2021 -0700

    Debug

[33mcommit 771bb034b3d25866d3a789d879f8a46db78202b7[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Mar 16 14:18:26 2021 -0700

    Debug

[33mcommit c0e5ebaa0158372c5b73358c8d13e4cc3ba82b5c[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Mar 16 13:22:38 2021 -0700

    Debug IP addrs add

[33mcommit 01e74aa3589a1b4f5fdf352b8382429cbbd32298[m
Merge: 83636f64 3588f84b
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Mar 16 10:41:12 2021 -0700

    Merge pull request #2675 from fasaxc/conntrack-syns
    
    Send SYN retries to the same backend.

[33mcommit 3588f84b7921d469fc30257025afb7ca98e9abed[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 16 16:14:33 2021 +0000

    Add UT for SYN conntrack.

[33mcommit 0731baeeffb0088339adbf7b756b5f0012903747[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 15 19:09:09 2021 -0700

    IPv4 address get

[33mcommit dc8c91b84b7a673f3960af5f8be3551361ca3958[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 15 18:40:51 2021 -0700

    Return IPv4 address

[33mcommit b7b2481fb77bea8bd89cf45a92db0149e85c13f8[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 15 18:31:58 2021 -0700

    Get IP address for interface name

[33mcommit 0ffca5de8875ce43b6b275b28b3db743026a6f10[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 15 16:29:24 2021 -0700

    Add debug logs

[33mcommit 561d2d9b5a57cd54e228d755e3120520fe21c1f0[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Mar 15 16:09:15 2021 -0700

    Receive interface address updates

[33mcommit 83636f648e8525dee207308c858b670440a9928f[m
Merge: ee4cb8f0 0e75360a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 11 17:20:14 2021 +0000

    Merge pull request #2710 from fasaxc/fix-netlink-fail
    
    Handle failure of netlink channel.  Reconnect and resync

[33mcommit ee4cb8f05b744ae4b6d65c43d305ea8bb785b76c[m
Merge: 891b03f4 784659d3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 11 15:54:00 2021 +0000

    Merge pull request #2707 from tomastigera/tomas-bpf-conntrack-scanners-ordering-fix
    
    bpf/conntrack: scanners IterationEnd called in reverse order

[33mcommit 0e75360ad0dd0eacc17fafe775161f7e2f241e22[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 11 15:48:42 2021 +0000

    Markups.

[33mcommit cd4be787791052687abc370a2687d06661c94411[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 11 15:43:43 2021 +0000

    Make interface monitor retry if netlink fails.

[33mcommit 69c3afe8b04335c78bb2cc1644e44060ecbd06ae[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 11 11:37:31 2021 +0000

    Handle failure of netlink channel.  Report a fatal error.

[33mcommit 891b03f46d98f49033834edeb97a4caeed8d19fb[m
Merge: 9880845d 78b5edcf
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Mar 10 17:43:59 2021 -0800

    Merge pull request #2709 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 78b5edcf36371d26d21905da29e6abf56aa5a59e[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Mar 11 00:40:54 2021 +0000

    Automatic Pin Updates

[33mcommit 9880845dee11f55c937e3bb3993377bca04b3826[m
Merge: ac9266e1 0f47f5f2
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Mar 10 15:36:07 2021 -0800

    Merge pull request #2708 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 0f47f5f28cbaf4f752be1d0805cf3a0a972352bf[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Mar 10 22:31:03 2021 +0000

    Automatic Pin Updates

[33mcommit ac9266e12ac18b1b0b4261a5b1bd4ec55132023d[m
Merge: 8b0a2f78 0c1d193e
Author: Matt Leung <mleung975@gmail.com>
Date:   Wed Mar 10 13:24:47 2021 -0800

    Merge pull request #2646 from kgtw/failsafe-cidrs
    
    Allow FailsafeInboundHostPorts & FailsafeOutboundHostPorts CIDRs

[33mcommit 784659d33fa75e2857ac47cb29e6cd7eab5f70a3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Mar 10 10:04:17 2021 -0800

    bpf/conntrack: scanners IterationEnd called in reverse order
    
    To minimize the danger of scanners deadlocking, call the IterationEnd()
    in a reverse order than the IterationStart so that if scanners acquire
    locks and resources, they release them in the LIFO way.
    
    Atm the only scanner that acquires a lock is the StaleNATScanner, which
    calls into the kubeproxy, which internally grabs a lock.

[33mcommit 8b0a2f78820c3a6f935e281c46b14cfc6e9c3ef7[m
Merge: 7cf1d4fb 56f7d254
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Mar 9 09:09:41 2021 -0800

    Merge pull request #2705 from tomastigera/tomas-icmp-csum-fix
    
    bpf: calculate ICMP csum as L4 not to confuse offloading

[33mcommit 56f7d254826ac0b95e879d4833196f9723217304[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Mar 8 17:47:52 2021 -0800

    bpf: calculate ICMP csum as L4 not to confuse offloading

[33mcommit 7cf1d4fb32c8e87ea9197b4ff57a5be7b004e871[m
Merge: 6fc5f76b 2a505016
Author: Song Jiang <song@tigera.io>
Date:   Sun Mar 7 21:17:08 2021 +0000

    Merge pull request #2702 from song-jiang/song-master-static
    
    Added support for programming static rules on Windows

[33mcommit 2a505016ba7865f38f1689e0e0c0fa27ce45329b[m
Author: Song Jiang <song@tigera.io>
Date:   Fri Mar 5 16:10:56 2021 +0000

    Merge pull request #2694 from song-jiang/song-static-rule
    
    Added support for programming static rules on Windows
    (cherry picked from commit 3d6f33e0b845573297c4897d12bdfb111846e384)

[33mcommit 6fc5f76b4774c2c2ee3bd37b18f67fcd5b5315de[m
Merge: 729471cc 4b58bbaf
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Mar 4 17:07:39 2021 -0800

    Merge pull request #2699 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 4b58bbaf9925fbc77454eef9b4c3761a5eecb54d[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Mar 5 00:02:42 2021 +0000

    Automatic Pin Updates

[33mcommit 0c1d193e04e0c3ec1de4dc4340c889c4302b4c76[m
Author: Kris Gambirazzi <kris.gambirazzi@transferwise.com>
Date:   Thu Mar 4 17:17:08 2021 +0000

    Move copy of slice inside if statements so there isn't an empty element at the end if a custom failsafe has been provided for wireguard
    
    Signed-off-by: Kris Gambirazzi <kris.gambirazzi@transferwise.com>

[33mcommit 62b22a34551af79c08a0533072d2176d561052c4[m
Author: Kris Gambirazzi <kris.gambirazzi@transferwise.com>
Date:   Thu Mar 4 11:00:34 2021 +0000

    Add debug logging for failsafes when wiregaurd is enabled to indicate if user or system configured failsafes are being used

[33mcommit 729471ccb532bd5b2116f6bf4d43d44cf97eae5d[m
Merge: c08e640b 96887fc8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Mar 3 17:03:31 2021 -0800

    Merge pull request #2695 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 96887fc8df3c88b6ed16b9f25ffa8fd068c9c187[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Mar 4 00:01:35 2021 +0000

    Automatic Pin Updates

[33mcommit c08e640ba5ac2a1b9a143aff5423a628d2893ea3[m
Merge: 3c16893d 5c0408d3
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 3 17:07:33 2021 +0000

    Merge pull request #2690 from neiljerram/fix-external-ip-loop
    
    Service loop prevention for external IPs

[33mcommit 30a6abbf9dae364754729ea02fbbd204c87a3de0[m
Author: Kris Gambirazzi <kris.gambirazzi@transferwise.com>
Date:   Tue Mar 2 20:50:39 2021 +0000

    Default wireguard FailsafeInboundHostPorts & FailsafeOutboundHostPorts net to 0.0.0.0/0 if the protocol and listening port doesn't already exist in the failsafe list.
    
    Signed-off-by: Kris Gambirazzi <kris.gambirazzi@transferwise.com>

[33mcommit 0be01b32261091f93000c855f3ed1ef063ba0383[m
Author: Kris Gambirazzi <kris.gambirazzi@transferwise.com>
Date:   Tue Mar 2 20:39:13 2021 +0000

    switch FailsafeInboundHostPorts & FailsafeOutboundHostPorts config structure to <protocol>:<net>:<port>
    
    Signed-off-by: Kris Gambirazzi <kris.gambirazzi@transferwise.com>

[33mcommit 0a3a6bf2285f017dfb1c9045b5ceaf5a84c5d167[m
Merge: 52eba277 3c16893d
Author: Kris Gambirazzi <kris.gambirazzi@transferwise.com>
Date:   Tue Mar 2 19:49:40 2021 +0000

    Merge remote-tracking branch 'upstream/master' into failsafe-cidrs

[33mcommit 3c16893d10f655e7a13651b89201f9bcf5d0fc49[m
Merge: 6fa1de98 5396784f
Author: Seth Malaki <seth@tigera.io>
Date:   Tue Mar 2 17:04:57 2021 +0000

    Merge pull request #2691 from electricjesus/remove-deprecated-build-flag
    
    Remove deprecated go build -i flag

[33mcommit 5396784ff4f7ae068fb5486cfec2af00c043643f[m
Author: Seth Malaki <seth@tigera.io>
Date:   Mon Mar 1 23:33:23 2021 +0000

    Remove -i flag on go build
    
    - the -i flag is deprecated
    - https://golang.org/cmd/go/#hdr-Compile_packages_and_dependencies

[33mcommit 5c0408d372cb34bcce1d7265c36744a2ffa407a1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Feb 26 10:21:16 2021 +0000

    Service loop prevention for external IPs

[33mcommit 6fa1de9892acb79930b3d6020bf373291c3d1872[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Feb 24 15:37:30 2021 -0800

    For eBPF data plane, respect externalTrafficPolicy for LB services (#2686)

[33mcommit 82d315e46b7c29854d2b2a2cdf3248889d9ec916[m
Merge: a8e8251b 4220f445
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 24 14:03:28 2021 +0000

    Merge pull request #2689 from fasaxc/fix-vxlan-test
    
    Fix that VXLAN tests only ever tested the WorkloadIP case.

[33mcommit 4220f445dc16c7c8e88cc36bdc4dc1e23c3ae9e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 24 10:54:38 2021 +0000

    Fix that VXLAN tests only ever tested the WorkloadIP case.
    
    The loop variable was being used in a func(), resulting in both
    instances of the test referring to the same variable.

[33mcommit a8e8251bee3f1d6c07e2146858a8c1ffd64a4891[m
Merge: e3ba7e07 91eca0ea
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Feb 23 04:06:35 2021 -0800

    Merge pull request #2688 from aalaesar/patch-1
    
    Allow felix build on 32 bits systems (armv7)

[33mcommit 91eca0ea9976e48fd3c35df623974138423556cc[m
Author: Marc Crebassa <aalaesar@gmail.com>
Date:   Tue Feb 23 11:16:23 2021 +0100

    Allow felix build on 32 bits systems (armv7)

[33mcommit e3ba7e07f080c0335ddb7a41227632268eff2b83[m
Merge: 4410a423 c0c99338
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Feb 18 12:13:04 2021 -0800

    Merge pull request #2685 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit c0c9933840923e18fa274d6e017a770b22b9f94f[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Feb 18 20:12:51 2021 +0000

    Automatic Pin Updates

[33mcommit 4410a423a5d140e832cec3cebf11e8eb9d60f3e2[m
Merge: b382b80d ce5f09a4
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Feb 17 09:36:36 2021 -0800

    Merge pull request #2682 from fasaxc/ignore-log
    
    Ignore log rules in BPF mode.

[33mcommit ce5f09a46e7fd546756f2700f0d1419022f2ea97[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 17 16:33:52 2021 +0000

    Ignore log rules in BPF mode.
    
    Log rules are not suported but they were causing panics instead of
    being ignored.

[33mcommit b382b80d8cc964d0b6c5f2f3c3cda1b540557a82[m
Merge: 6f305fd3 b33b9270
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Feb 16 15:13:56 2021 -0800

    Merge pull request #2680 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit b33b92706929148a3fb60833976f141380b2549c[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Feb 16 23:13:43 2021 +0000

    Automatic Pin Updates

[33mcommit 6f305fd3bad658f64d9745e6d3ef0a6d2f2b595b[m
Merge: 01a62ae7 68d0b530
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Feb 16 10:20:43 2021 -0800

    Merge pull request #2678 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 68d0b530554f72c4f5b8e16c7f922fcd80258ed1[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Feb 16 18:20:30 2021 +0000

    Automatic Pin Updates

[33mcommit 01a62ae7e68f3531b9cd3610e5a76205c1a6261a[m
Merge: c16ab254 8ba1413d
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Feb 16 08:08:50 2021 -0800

    Merge pull request #2676 from fasaxc/vxlan-no-fwd
    
    Do not forward incoming VXLAN packets.

[33mcommit 8ba1413d0283c7bb66fee5a085ba4c14f6352f07[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 16 14:47:04 2021 +0000

    Do not forward incoming VXLAN packets.

[33mcommit 4736236909461562a0ad68900ab1483d1daa2ada[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 15 19:01:00 2021 +0000

    Markups.

[33mcommit 8ea176a8c429ed4493828710669257a1fe3bd0ce[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 15 15:32:09 2021 +0000

    Send SYN retries to the same backend.
    
    Allow conntrack lookup for SYNs.

[33mcommit c16ab2545ffc5107f252a26519041f913b4a6a43[m
Merge: 3822a0fa e9fc0108
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Feb 11 12:02:05 2021 -0800

    Merge pull request #2674 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit e9fc0108b6f1691114cd1657328d95586672ad96[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Feb 11 20:01:51 2021 +0000

    Automatic Pin Updates

[33mcommit 3822a0fa629929afb6e2ebf207444342bb005c9a[m
Merge: 1685e9dd ebe487f1
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Feb 11 10:59:49 2021 -0800

    Merge pull request #2673 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit ebe487f1bf009c673a482f13dd4a9cf6f21d1d68[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Feb 11 18:59:35 2021 +0000

    Automatic Pin Updates

[33mcommit 1685e9dd67928ee01d35ff0c2d7a91b5ef84958a[m
Merge: 6c8f0162 bb102df8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Feb 11 10:16:44 2021 -0800

    Merge pull request #2672 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit bb102df87f43af9854bb31f92df954ee225bc54c[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Feb 11 18:16:29 2021 +0000

    Automatic Pin Updates

[33mcommit 6c8f0162d7f7cff65c2e49934e6c749367e9faa5[m
Merge: d332ac4e 1fb342a8
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Feb 11 09:59:10 2021 -0800

    Merge pull request #2671 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 1fb342a89d2beff0dbdef3b8b094d54d580014dd[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Feb 11 17:58:58 2021 +0000

    Automatic Pin Updates

[33mcommit d332ac4e6279226f398e64acb1bcf7d6486c9e5d[m[33m ([m[1;33mtag: v3.19.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Feb 11 09:54:51 2021 -0800

    Begin development on v3.19.0

[33mcommit f1a98607a3fed6f007c7996a4f32f35daf7f3702[m
Merge: c3182ead 58056669
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 11 14:38:23 2021 +0000

    Merge pull request #2670 from neiljerram/bpf-dp-sep
    
    Group dataplane code together at the end of bpf_ep_mgr.go

[33mcommit c3182eadf1be98cf4f971be629b45600640e3016[m
Merge: cea5a44f 254e080b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 11 14:13:44 2021 +0000

    Merge pull request #2669 from fasaxc/bpf-vxlan-fib
    
    In BPF mode, enable the FIB lookup when VXLAN is enabled.

[33mcommit 58056669e426654e428e0103410976d34fdd937f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 11 13:12:22 2021 +0000

    Group dataplane code together at the end of bpf_ep_mgr.go

[33mcommit 254e080b3a098b029011cf9d739afaae5a5e8d0c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 11 11:46:01 2021 +0000

    In BPF mode, enable the FIB lookup when VXLAN is enabled.
    
    This was previously disabled out of caution, but it appears to work
    fine so allow this.

[33mcommit cea5a44f7b9954e4af5038d3d4a82c0e23e5bb6e[m
Merge: d93d8fe2 0c3667e4
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Feb 10 16:21:39 2021 -0800

    Merge pull request #2666 from fasaxc/non-port-protos
    
    Add support for generic IP protocols.

[33mcommit 0c3667e45e2adc2a81c10c2f8966b7a26a4f7548[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 10 14:20:32 2021 +0000

    Fake a response object when testing API server and Typha conn checks.

[33mcommit 2b48e82b96b7cd0470cad5e4258ba3654a0fa9de[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 10 13:59:12 2021 +0000

    Typo.

[33mcommit da8f75aee884a67c50d29653287f4bc26a509e5a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 10 13:54:58 2021 +0000

    Apply suggestions from code review
    
    Co-authored-by: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>

[33mcommit 078c05d9024117322e9f186caf3d7ee48308d898[m
Merge: 3b0156df d93d8fe2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 9 18:08:25 2021 +0000

    Merge remote-tracking branch 'origin/master' into non-port-protos

[33mcommit 3b0156dfdf9e90ec92bfc578a9b5cc76c1146507[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 9 18:04:05 2021 +0000

    go fmt.

[33mcommit 099f0ead15dfc014a7f4e1734b827a3b24076437[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 9 18:01:10 2021 +0000

    Add tests of raw protocols with host endpoints.

[33mcommit 8af3bad1fbccf915819e007285f4e835f56ddeb6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 9 18:00:26 2021 +0000

    Fix that only UDP,TCP,ICMP were conntracked.

[33mcommit d93d8fe24cc00713b1b9e5824748ecd07f87ff16[m
Merge: 311962d6 bd9d9d5e
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Feb 9 17:51:10 2021 +0000

    Merge pull request #2667 from neiljerram/hep-policy-ut
    
    UT for BPF-mode host endpoint policy

[33mcommit 1962c5ff7b5ec0d2676ab9280103d6929c0d4570[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 9 15:44:08 2021 +0000

    Clean up inconsistent protocol handling in test-workload.

[33mcommit 72f1d6c826ea63af1112cbc13f0f0b6e134beed5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 9 14:30:44 2021 +0000

    Add raw IP packet support to test-connection and test-workload.

[33mcommit bd9d9d5e11c8c1b3ae285224f2933b3946e078c5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Feb 9 14:37:26 2021 +0000

    Add protection for asynchronous access to mock dataplane state

[33mcommit 2fa169bda25a0affd2d8b35653eaa3c4ed665901[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Feb 9 12:58:28 2021 +0000

    Review markups

[33mcommit d624a314450f954b821365c12a8bc556b4951512[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 8 19:09:25 2021 +0000

    UT for how BPF endpoint manager generates polprog.Rules

[33mcommit 92ae820c0a9bbae9d317331c8a6dcf528e5aeaeb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 8 15:06:57 2021 +0000

    More polprog UT variations

[33mcommit 42148291b9a54fbf5fa7f43a1d5769e8fe8f5e69[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 8 13:49:47 2021 +0000

    nil BPF manager can be called through non-nil hepListener interface

[33mcommit f73369a592cee785d942fc2a506f05c5f969d9cd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 8 11:05:33 2021 +0000

    UT for endpoint manager calling OnHEPUpdate

[33mcommit 51ace1766b4ba446deceae0bab5570575383a3d8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 22 11:21:47 2021 +0000

    UT for BPF implementation of host endpoint policy

[33mcommit 3c1fb1a4c42f13d622d1766e28e76d18c35a2d29[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 5 14:17:11 2021 +0000

    Add support for generic IP protocols.
    
    * Allow such packets through to policy.
    * Add conntrack support with 10 min timer (based in Linux default).
    * Add UTs for policy matches.

[33mcommit 311962d6cb8d77d4b2f5463607ffdd9fb3469afd[m
Merge: 59484329 73565326
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 4 19:42:24 2021 +0000

    Merge pull request #2665 from neiljerram/dns-pr
    
    BPF: upstreaming general improvements made as part of Enterprise PR for DNS policy work

[33mcommit 73565326a2a62548cd6883990c996d5d2099c9ff[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 1 17:32:39 2021 +0000

    Unify meanings and usages of CT state ifindex field
    
    Before the BPF DNS policy work (in Enterprise), calico_ct_leg.ifindex
    was always set to the ingress interface index of packets on that leg.
    
    - For a leg coming from a workload or outside the
    host (CALI_F_TO_HOST), this is the same as the index of the interface
    that the TC program is on.
    
    - For a leg coming from the host (CALI_F_FROM_HOST), it's different.
    Actually we haven't checked if Linux populates an ingress interface
    index at all, in this case, but it definitely shouldn't be the
    interface index of the TC program that the packet is _egressing_
    through.
    
    Prior to DNS work, we actually only needed calico_ct_leg.ifindex to be
    set in CALI_F_TO_HOST cases.  It's used in order to do RPF on incoming
    packets (or to let iptables do RPF), and for looking up the outgoing
    interface index when a packet is being bypassed; and neither of those
    applies to legs coming from the host.
    
    Now, for DNS I want a way of determining "is the current TC program on
    the interface where the CT state (for this packet) was first created?"
    But I only need that when the CT state was created in a CALI_F_TO_HOST
    context, so the condition for DNS purposes can be "CT state was
    created in a CALI_F_FROM_HOST context, or on the same interface as the
    current TC program."
    
    Therefore the key point of this change is _not_ to set
    calico_ct_leg.ifindex when creating a CT state in a CALI_F_FROM_HOST
    context.  Instead it's left as CT_INVALID_IFINDEX (0).  Then all of
    the pre-DNS cases still work, and the DNS condition can be
    
       (CT ifindex == CT_INVALID_IFINDEX) || (CT ifindex == this TC program)

[33mcommit d4d4b886778ac7271d3198825ea56ea60a9df053[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 4 09:23:24 2021 +0000

    FV: Add utility for updating FelixConfiguration

[33mcommit daf97c827d59b36db22df8732fd5158dfa3749d4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Feb 2 09:42:28 2021 +0000

    Add utility for getting a workload interface's ifindex

[33mcommit a78d6cadde7bb304938acdfd0e9cb48e1eaec582[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Feb 2 15:35:06 2021 +0000

    Number CALI_RES_REDIR_IFINDEX explicitly so it's easier to find when debugging

[33mcommit f46224227c49227bfba001d677e96a387ea609df[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 1 14:56:41 2021 +0000

    Log TC program's ifindex and CT state flags

[33mcommit e72b5433fbcd2db545a42b84baf19c36cc736704[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Feb 1 11:45:30 2021 +0000

    Make CALI_CT_FLAG values easier to read

[33mcommit d10a0c3a1a86c6b7680418d93e4dc3e39d8143a9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 29 14:43:34 2021 +0000

    FV test-connection feature: read + send message data from stdin

[33mcommit 9539cda70f3ffb4f7c7ded771bbf84f4ce37514c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 29 14:42:26 2021 +0000

    Infrastructure for Exec with standard input

[33mcommit 4191d4cb738931d4334c7d6a7b567687c38748c1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 29 14:10:18 2021 +0000

    Avoid rebuilding Felix when only FV code changes

[33mcommit 8613c545ddc9a496ba2810a1d07543e9e160902a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 28 14:51:05 2021 +0000

    Fix typos

[33mcommit 59484329888270276b84e08ae6b03f3901a10a99[m
Merge: 91b86984 14b0099a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Feb 4 08:46:45 2021 -0800

    Merge pull request #2664 from projectcalico/bpf-heps
    
    BPF: Host endpoint support

[33mcommit 14b0099ae7df9fd658ffcd7951ff9efc2f191a61[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 25 10:24:27 2021 +0000

    Disable Semaphore's copy-on-write docker mount.
    
    The copy-on-write docker mount is intended to provide a cache
    of useful images but it doesn't cover any images that we use.
    
    In addition, as we churn through docker containers in the FV tests
    the copy-on-write FS grows and grows until it fills the root FS.
    It's actually better for us to simly write to the root FS directly
    since deleted files on the root FS can actually be reclaimed.

[33mcommit 4173b7806d3fbd9c7cbb31f28a72818bc682c828[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 4 10:23:06 2021 +0000

    Fix lint.

[33mcommit 3195c9783b72fb60d14b0875aeeb449fddca23a2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 3 14:57:20 2021 +0000

    Fit host port tests: clean up BPF conntrack too.

[33mcommit 65e92c9ec4fc599f12066d81f4267e2ab47df4fa[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 26 15:42:52 2021 -0800

    bpf: adding missing \n in debug prints

[33mcommit 6e6b52f8b846d20c2465888357529581800771b4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 26 22:41:41 2021 +0000

    Allow DeleteMapEntry to fail when entry is not present
    
    Upstream enterprise PR #1021

[33mcommit f8186047e8bf7dc6f23f0f5489cc8531b81e0bf2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 26 13:20:44 2021 +0000

    Handle mapping host-* endpoint to new data interface state changes
    
    Upstream Enterprise PR #1008

[33mcommit 0e9bca5f45a89d376ab21030bafb0bb0a90e0683[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 26 11:34:10 2021 +0000

    BPF VXLAN policing/bypass
    
    Upstream Enterprise PR #1000

[33mcommit 55a464e98cc15fb918b9fd466381bae06cad46ee[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 25 13:31:34 2021 +0000

    Upstream minor rework of FV infra  to avoid OS->private conflicts later.

[33mcommit 8ceef1e42361d42158f3bb707cbfbb272af3975b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 26 10:26:45 2021 +0000

    Summarise logs from more places

[33mcommit 57838658761f4e497ba968eb9d162654889c13cc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 22 13:13:05 2021 +0000

    Keep .d files so that we don't always do a complete rebuild
    
    Upstream Enterprise PR #983

[33mcommit b0bd59b54b3f2adc4f67c2a9e18573485123d5ce[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 22 20:20:47 2021 +0000

    BPF mode implementation of host endpoint policy
    
    Upstream Enterprise PR #978

[33mcommit 91b8698441890c32e9b2fc529f8d36ad61d7c0e2[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Feb 4 08:04:44 2021 +0000

    Semaphore Automatic Update

[33mcommit 7c7b7dda134aac52826877c803ecf0473d025dad[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Feb 3 08:04:30 2021 +0000

    Semaphore Automatic Update

[33mcommit 5270f7d808ab3ae178b9d5523936501f9eb3aa67[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 22 09:45:05 2021 +0000

    BPF IPIP bypass fixes
    
    Upstream Enterprise PR #981

[33mcommit 91cab996645398ee256ee6a5e7907d8db5264622[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 21 09:47:16 2021 +0000

    BPF support for failsafe ports
    
    Upstream Enterprise PR #979

[33mcommit d888a10ee7e3ab4f1a252f2a5ace9f91a6818ffb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 2 14:58:45 2021 +0000

    Upstream renaming of PROG_INDEX enum.

[33mcommit 92122b0e1cafea358686c907c426693c07b0133b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 20 09:14:55 2021 +0000

    Enablement work for BPF HEPs
    
    Upstream enterprise PR #954

[33mcommit 0f76cebe09f589ae89d5f187f47106fa22da6db8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 13 17:46:37 2021 +0000

    [bpf-heps] Cooperate between Linux and BPF conntrack
    
    Upstreaming Enterprise PR #955.

[33mcommit 104de8044d46acfb0ea5d75351f54e4544a94a4e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 16:38:29 2020 +0100

    Add assert to k8s FV infra to catch test leakage.

[33mcommit 09647dd0cee29745a836d55d3d2f1ea5924363f6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 11 16:41:20 2021 +0000

    Ensure that node IP is set for tests involving a BPF data if program

[33mcommit 092e3b76f40c0eba36c94a78752abc2856878509[m
Merge: ed67e03c ef3ef7ed
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 20 13:52:04 2021 +0000

    Merge pull request #2657 from AloysAugustin/fix/ext-dataplane-messages
    
    Update ext dataplane with recent proto messages

[33mcommit ed67e03cc9fa682d19415edd258001d2260b1c47[m
Merge: d6902f76 1fa19415
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Jan 19 15:07:22 2021 -0800

    Merge pull request #2658 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 1fa19415608f89622e38955524684de19ce4eaee[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Jan 19 22:06:53 2021 +0000

    Automatic Pin Updates

[33mcommit ef3ef7edfb8dd962fb949090c06836b67489c50b[m
Author: Aloys Augustin <aloaugus@cisco.com>
Date:   Tue Jan 19 15:32:58 2021 +0100

    Update ext dataplane with recent proto messages
    
    This fixes a crash in felix when running with an external dataplane
    configured.

[33mcommit d6902f763beab626b5a6e20f5cc9e20c669796f2[m
Merge: 03b96586 d48bc0e3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 13 16:23:27 2021 +0000

    Merge pull request #2653 from tomastigera/tomas-bpf-sk-seen
    
    bpf: updated skb_seen() - used everywhere

[33mcommit d48bc0e3644b4ee32fedcd812cc5ade120e55e4b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 12 16:12:56 2021 -0800

    bpf: updated skb_seen() - used everywhere

[33mcommit 03b9658679b056efcbd97a7fa469858a9d3fe79f[m
Merge: 11fd3436 a09ce2de
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 7 12:01:59 2021 +0000

    Merge pull request #2612 from fasaxc/bpf-refactor
    
    Refactor BPF programs: split out headers and introduce context

[33mcommit a09ce2deeb196fb248da4527f3962494807ba296[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 7 09:58:47 2021 +0000

    Markups.

[33mcommit 014a3363a39ac3d455cf47d0d6280af0c78e8905[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 6 11:46:05 2021 +0000

    Initialise tcp header in conntrack lookup.

[33mcommit 11fd343627ef12298aa339d442bc283c96312d15[m
Merge: c8a6c0b2 d9a101c7
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Jan 4 15:58:45 2021 -0800

    Merge pull request #2651 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d9a101c71041b178bec657d112e974bcc6679cd1[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Jan 4 22:00:03 2021 +0000

    Automatic Pin Updates

[33mcommit 5676f5b72c82719e50b0bcdb5ae676e216923857[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 23 11:48:03 2020 +0000

    Rename conntrack contexts to use ct_ctx prefix.

[33mcommit 1d60142f1480f92472eb5a4006666df0b13439fa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 23 10:59:37 2020 +0000

    Clean ups.

[33mcommit f0c339459b85dd2eb9787ea44069419d095e32ec[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 23 10:54:43 2020 +0000

    Clean ups.

[33mcommit cdfe314efce89d86f09cb118056cbf62efce3e64[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 23 10:32:06 2020 +0000

    Fix ICMP error packet parsing; check the inner IP header.

[33mcommit 03987494956559bc86424caf10f9c35835a9fba4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 23 10:19:14 2020 +0000

    Rename skb_is_icmp_err_unpack.

[33mcommit ea710473b5aa528d06d95b184712b8067f4f74cb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 23 10:00:50 2020 +0000

    Fix typo.

[33mcommit 4ff94e4e186fc67643330085ee044d9f0e36bc2b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 22 14:58:24 2020 +0000

    Fix endianess in VXLAN log.

[33mcommit 261daead623f88ccc54a140e097f3d606e62b9cc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 22 10:39:33 2020 +0000

    Clean ups

[33mcommit c42e82d2e30b5ce5b2e6f1dd0495f4ba40cf71b1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 22 10:17:54 2020 +0000

    Fix ICMP reply program.

[33mcommit b1698482f4223d80b79669ef6f2e92ef96a181d9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 21 16:53:19 2020 +0000

    Post-refactor cleanups.

[33mcommit b127c16e443565bf7a0554914ba84a98c208418d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 21 15:23:56 2020 +0000

    Fix up ICMP next header skip.

[33mcommit 0cc6d8723de36877c2e8f4e098c70633cb30a845[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 21 14:59:17 2020 +0000

    Move bpf_exit to bpf.h.

[33mcommit dff7dff6a8c5f98305c9bc07290ddb05665fa2aa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 21 14:28:09 2020 +0000

    Remove bpf_exit from wrong branch.

[33mcommit 5af4c8007c3ad6f9e69f7d17d993525de3aab266[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 21 14:01:06 2020 +0000

    WiP on ICMP related fix-up

[33mcommit 0fda6fe3d67a844ab19e4166b38f827c3cc97cc3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 17 09:37:43 2020 +0000

    Disable VXLAN on wireguard interface.
    
    - VXLAN code assumes a L2 packet but wireguard is a L3 interface.
    - Auto-refresh the ip header.

[33mcommit 5dddb2103a55c7ce58db31840bdb957f1bb851d3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 16 10:23:03 2020 +0000

    Get some programs past the verifier.

[33mcommit 779d6bd4359f6d79cef9605bb4efb06c2e5b2793[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 15 15:05:33 2020 +0000

    Get code compiling (but not verifying) with context.

[33mcommit 4e18be4e2498ef2a8eef743621943521ad08b069[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 14 15:36:21 2020 +0000

    Split out types to avoid curcular imports. WiP on context.

[33mcommit 22e1071da05d8e7842d59bc97f6b000e13610aaf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 11 15:15:50 2020 +0000

    Tweaks: move arpk into ctx.

[33mcommit 48eef5d2b3c38b4301ff54577212b14810185524[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 11 11:43:51 2020 +0000

    Move headers into context.

[33mcommit e28122a505b2bdae090ec23488a5715fc2f3817c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 11 11:28:18 2020 +0000

    Introduce context in main function.

[33mcommit 52eba27746813420d6e16de1cb9de5bb3f331c1d[m
Author: Kris Gambirazzi <kris.gambirazzi@transferwise.com>
Date:   Fri Dec 18 13:25:58 2020 +0000

    Allow FailsafeInboundHostPorts & FailsafeOutboundHostPorts to be configured with an optional CIDR (format: cidr:protocol:port)

[33mcommit c8a6c0b2a407a3bf2b995de3ccb91d2f8b115f22[m
Merge: cdff197d d5fff9fa
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Dec 16 12:15:23 2020 -0800

    Merge pull request #2641 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit d5fff9fa38771ca16e07c18ac2522544ec760206[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Dec 16 19:23:10 2020 +0000

    Automatic Pin Updates

[33mcommit cdff197d0e75507e0741cf4d1f2168861239f396[m
Merge: 11a444de 404d1946
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 16 09:02:39 2020 +0000

    Merge pull request #2639 from neiljerram/ipset-reservation
    
    Allow reserving well-known BPF ipset IDs

[33mcommit 11a444de732b5b2e26d34db43d28c40087ae0f71[m
Merge: 1a3d4d29 6584b09b
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 15 17:52:52 2020 +0000

    Merge pull request #2640 from neiljerram/best-effort-artifacts
    
    Exit with success at end of collect-artifacts script

[33mcommit 1a3d4d2976c4e051618a35c73c192a2a535c9bf0[m
Merge: 286a4b22 befac0ae
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 15 17:16:42 2020 +0000

    Merge pull request #2638 from neiljerram/bpf-logger
    
    Run BPF logger as part of FV infrastructure whenever BPF is enabled

[33mcommit 404d194692969e05c97b6fa0f0f74a10a6fdd188[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 4 14:45:11 2020 +0000

    Allow reserving well-known BPF ipset IDs

[33mcommit 6584b09ba3e05f09880b65bd49cd6f7b273a8761[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 15 16:53:24 2020 +0000

    Exit with success at end of collect-artifacts script
    
    So that following commands in the semaphore epilogue can still run
    even if some artifact collection fails.

[33mcommit befac0aed7bdb4dd45976889641b02b55fbc1f03[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 15 10:50:26 2020 +0000

    Run BPF logger as part of FV infrastructure whenever BPF is enabled

[33mcommit 286a4b22a5be9efdbb72ed46fff4694e906c86da[m
Merge: 11323ece 6ca2e31c
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Dec 14 17:09:55 2020 -0800

    Merge pull request #2637 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 6ca2e31c0766e2c57f5061153ea67b3a3dc7d8a5[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Dec 15 00:19:14 2020 +0000

    Automatic Pin Updates

[33mcommit 11323ece5122da2d483315f4c04f6d3410a275e9[m
Merge: 94ca599b e7bfd7b7
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Dec 14 13:27:51 2020 -0800

    Merge pull request #2635 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit e7bfd7b7e42630809ea00fb87e9c0ede798ff050[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Dec 14 20:33:23 2020 +0000

    Automatic Pin Updates

[33mcommit 94ca599bedaa2c263053665c5574c122c3fea928[m
Merge: 0d79f37e dad445b0
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Mon Dec 14 09:35:14 2020 -0800

    Merge pull request #2609 from tomastigera/tomas-bpf-polprog-structs
    
    BPF policy code reshuffle for easier maintainability

[33mcommit 0d79f37e58d3a25c6a751162a504101f45a8c31b[m
Merge: 74f28168 35a646ba
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Mon Dec 14 09:34:44 2020 -0800

    Merge pull request #2632 from tomastigera/tomas-conntrack-scanner
    
    BPF conntrack scanner moved outside of kube-proxy

[33mcommit 27c6f7c2d2b89277732dc3fe454fd6b6620bb161[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 3 10:20:32 2020 +0000

    Factor out tc.c functions into headers.

[33mcommit 74f281689e0cf18f54c7b11b5b79c3de2d602d2b[m
Merge: 3d9fa4b2 f9e75d0b
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Dec 11 15:00:53 2020 -0800

    Merge pull request #2634 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit f9e75d0b7a10837349904c9a0ccb90c0a737efea[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Dec 11 22:07:48 2020 +0000

    Automatic Pin Updates

[33mcommit 3d9fa4b24f5f3b4b56fe5443df43468142372de8[m
Merge: 1104f673 ba8ab45c
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Dec 11 03:41:56 2020 -0800

    Merge pull request #2633 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit ba8ab45c8e14cbdd9e2214fd68e4def4eb68f4d0[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Dec 11 10:17:09 2020 +0000

    Automatic Pin Updates

[33mcommit 35a646ba2e11e4a48acaa2463f5afbb70986794d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 10 20:08:16 2020 -0800

    bpf/conntrack: EntryExpired is a method of timeouts.
    
    This makes it reusable across different conntrack scaners.

[33mcommit f1eabe85a493932d713686ce0547a191b89e4869[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 9 16:42:09 2020 -0800

    bpf/proxy: conntrack cleaner put outside
    
    Conntrack scanner is a standalone component that can be ues to various
    tasks when periodically interating over the conntrack map and it is
    handy to have it detached from the kubeproxy.

[33mcommit 1104f6736ee0a08e6990a4323d487a401c7a6f77[m
Merge: 229fc3cb 63351c0b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 10 09:32:16 2020 +0000

    Merge pull request #2630 from tomastigera/tomas-fix-host-networked-np-backends-mac
    
    bpf: fixup dst MAC for host networked nodeport backends

[33mcommit 63351c0bc16aab251270edfc6b79cd80b7f4a879[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 9 14:36:08 2020 -0800

    bpf: fixup dst MAC for host networked nodeport backends
    
    Because routing happens based on the dest IP (which is at that time the
    client's) before we get hands on the packet on HEP, the MAC is likely
    different (in the same subnet) than the MAC of the node that forwarded
    the nodeport to us. Therefore once we place the packet in VXLAN and thus
    change the dest IP, we must fix up the dest MAC based on what we
    recorded when we received the inbound packets.
    
    This is a similar case to the MAC fixing for regular pods. The only
    difference is that the src MAC is already set correctly if we are on the
    right device.
    
    We cannot handle the case (yet) when the routes to the original client
    and to the node on the other side of the vxland tunnel use different
    NICs. We would need to redirect the packet to the other NIC first.

[33mcommit 229fc3cb4675bf616734cc16986f84fb3ea284ed[m
Merge: 7f88b58e f20e0c9b
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Dec 9 13:54:10 2020 -0800

    Merge pull request #2628 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit f20e0c9b183f75f1430913fe2e4203f1aecf3f83[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Dec 9 20:59:11 2020 +0000

    Automatic Pin Updates

[33mcommit 7f88b58e46ae2fdebe85608555312292649991ef[m
Merge: f7878a5c bb202ca5
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Dec 9 12:07:09 2020 -0800

    Merge pull request #2626 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit bb202ca551070f6a72af2f9fbe3a426ce2e642c5[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Dec 9 19:09:33 2020 +0000

    Automatic Pin Updates

[33mcommit f7878a5c368980aaf98532559814ba43dfdc393f[m
Merge: f479fe30 5edc106f
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Dec 8 14:40:55 2020 -0800

    Merge pull request #2620 from tomastigera/tomas-fix-host-networked-np-backends
    
    bpf: encap nodeport return from host networked pods

[33mcommit 5edc106f257d2d0140b7845b36769f7c7791e8dc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 7 15:26:28 2020 -0800

    bpf/ut: test return from a host-networked pod

[33mcommit 12e8acafb9fad97bc1f0e17ebfb53846e5d439c0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sun Dec 6 22:34:55 2020 -0800

    bpf: encap nodeport return from host networked pods
    
    When a nodeport is backed by a host-networked pod, we also need to encap
    the return traffic and send it back through the vxlan tunnel.  Otherwise
    we always act like in DSR mode.

[33mcommit f479fe3057937b2fc05c85adc77b0fa3f2b5ee33[m
Merge: bbbd5386 2bbc3242
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 7 13:59:53 2020 +0000

    Merge pull request #2610 from neiljerram/bpf-ipsets-dataplane
    
    Refactor BPF ipsets code as an "ipsetsDataplane"

[33mcommit 2bbc3242d6c55a1039437b1a1fd5784964c991b1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 7 12:34:13 2020 +0000

    Filter out IPv6 addresses from BPF ipsets implementation

[33mcommit e4d9eb20055b121a260019d84dee8592b535ad21[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 2 14:29:27 2020 +0000

    Ensure ipsets BPF map exists before endpoint mgr uses it

[33mcommit 8848180caff87637abcecb977845c21eab173540[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 2 11:42:41 2020 +0000

    Placate govet

[33mcommit 3a0248a27e72c3fb0384e06fe62152a47f5b6a85[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 1 16:31:05 2020 +0000

    Refactor BPF ipsets code as an "ipsetsDataplane"

[33mcommit bbbd53863935730011636e6fa9652def9dc48586[m
Merge: 20195d1b 1c010172
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Dec 4 08:00:31 2020 -0800

    Merge pull request #2617 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 1c010172050b079c3b2714784306712534800a95[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Dec 4 15:02:27 2020 +0000

    Automatic Pin Updates

[33mcommit 20195d1bcdce842d8096bd9f518ec5ada0a437f8[m
Merge: 9fc3891f 86591c01
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 4 14:07:03 2020 +0000

    Merge pull request #2613 from fasaxc/typha-discovery
    
    Use Typha's discovery library

[33mcommit 86591c01e55784587f24c3a82874196cc7b47292[m
Merge: 82d17c81 9fc3891f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 4 14:05:14 2020 +0000

    Merge remote-tracking branch 'origin/master' into typha-discovery

[33mcommit 9fc3891fa21344f5a3ea5a23b88f47040e3e29cb[m
Merge: ba692d2b 4577d748
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Dec 4 04:55:08 2020 -0800

    Merge pull request #2614 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 4577d748d0be178367bf8a050e86688718e5615a[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Dec 4 11:54:07 2020 +0000

    Automatic Pin Updates

[33mcommit 82d17c81362aa1b76ca694d35ecfabda4cdf893e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 4 11:12:33 2020 +0000

    Use Typha's discovery library.

[33mcommit 196310d0c2a5a1136d48cf264c6a60bc61126763[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 4 11:07:14 2020 +0000

    Pin to Typha brnach with discovery.

[33mcommit ba692d2b331351ff5dcc0503817f2e5cb4fefda1[m
Merge: 7fcc1722 008227cb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 3 13:26:49 2020 +0000

    Merge pull request #2608 from fasaxc/target-bpf
    
    Build BPF programs with -target bpf

[33mcommit 008227cb57893e2e6ebb8ee506a98f39e442d06d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 3 11:13:28 2020 +0000

    Markups: remove unused kernel version checks.

[33mcommit 7fcc1722010901d79efa476cb7db23e1812f1136[m
Merge: 326f5b23 94209f92
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 2 18:38:28 2020 +0000

    Merge pull request #2605 from fasaxc/tune-apply-logs
    
    Summarise logs from the main dataplane loop.

[33mcommit 94209f924dfd3be0b0dcc544a5c3e82d0ef1c475[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 2 17:17:22 2020 +0000

    Markups.

[33mcommit 09df26a087611ade770abe41eda0d273c89d1537[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 2 16:46:28 2020 +0000

    Fix lint.

[33mcommit c3acce2af1586c36564624a0b90757517304ae5b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 2 16:39:16 2020 +0000

    Markups.

[33mcommit f4691b352e2b287dde783c56533c884903f8f272[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 1 16:16:45 2020 +0000

    Compile with -target bpf
    
    * Build against the uapi headers.
    * Comment CFLAGS and remove unused flags.
    * Build against libbpf for helpers.
    * Remove now-unused functions in our BPF header.
    * Use the gcc tuple to get the correct include directory
      See 071519c6715686c3a5198d2455713e1602ec834a

[33mcommit 326f5b233c7a00a4c5a121eab73824e01c968ef8[m
Merge: 79b6ff87 7a11977f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 2 16:15:03 2020 +0000

    Merge pull request #2611 from fasaxc/target-bpf-apache
    
    Use -target bpf  in bpf-apache builds

[33mcommit 7a11977fef87cab1f1c1f2381d2a4e342ab7440f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 2 14:43:18 2020 +0000

    Remove verification of BPF tag in XDP UTs.
    
    This check no longer makes sense because the XDP programs
    ae built celanly as part of the node build.

[33mcommit dad445b04bd3af8864e941f43c783b689251ba4c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Dec 1 15:05:39 2020 -0800

    bpf/state: define PolicyResult for consistency

[33mcommit 72096d004743869b43c8f815401a04a88c5f753b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Dec 1 11:59:32 2020 -0800

    bpf/ut: TestPolicyPrograms refactor
    
    It allows testing other aspects of the policy programs too without
    modifying the existing tests.

[33mcommit 13f41a87159ba17d0558e8f27b1152c4b0c5318e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Nov 16 17:04:40 2020 -0800

    bpf/polprog: structured rules allow expansion
    
    Structured rules allow us to pass more information into the policy prog
    builder, which allows, for instance, do a better logging.

[33mcommit 5a93a8f1ef429eea5381a057d8f7f84301d8fbe9[m
Merge: 79b6ff87 f0663210
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 1 15:16:45 2020 +0000

    Merge commit 'f066321061871a20375647ad8a043650d5d7c786' as 'bpf-gpl/include/libbpf'

[33mcommit f066321061871a20375647ad8a043650d5d7c786[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 1 15:16:45 2020 +0000

    Squashed 'bpf-gpl/include/libbpf/' content from commit d1fd50d47
    
    git-subtree-dir: bpf-gpl/include/libbpf
    git-subtree-split: d1fd50d475779f64805fdc28f912547b9e3dee8a

[33mcommit 385846719b4708ea2e42f5cde6d51b06f14349bc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 27 10:12:16 2020 +0000

    Clean ups.

[33mcommit 79b6ff87eb13b00a1038a5d76764798ff595ebc2[m
Merge: 916a3515 b851d1c7
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 26 13:40:45 2020 +0000

    Merge pull request #2606 from neiljerram/fix-unconditional-accept
    
    Fix placing of filter-FORWARD Accept bit for signaling to mangle-POSTROUTING chain

[33mcommit b851d1c79d43158118986ec5df419287aa6c5933[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 26 11:59:13 2020 +0000

    Fix up UT

[33mcommit c409e9d313d87a48e8cbae833a8c6ec3f7f50023[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 26 11:56:55 2020 +0000

    Fix placing of Accept bit for signaling to mangle-POSTROUTING chain

[33mcommit 4dcace1a1ce6e0763647da60580c18c809e406e2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 26 10:35:52 2020 +0000

    Add FV test for node's base forwarding behaviour

[33mcommit 916a351532dfe275b30c2ec3e4c5a9b66bc94401[m
Merge: 7d41db91 55bc5893
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 25 11:02:36 2020 +0000

    Merge pull request #2582 from neiljerram/fix-output-dnat-policy
    
    Fix application of normal HEP policy to traffic from host to a DNAT'd IP

[33mcommit 9fabc0b57ef6a255c3b2491e5c907b1981a72298[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 24 19:40:43 2020 +0000

    Add summarisation to the logs from the main dataplane loop.
    
    * Pass around a log accumulator.
    * Record operations done on each iteration of the loop.
    * Record duration of each apply.
    * Log out the average and worst apply every 60s.

[33mcommit 7d41db91f4db8b7c0bf5f41de8c3fd34431ff7c9[m
Merge: 51cdd687 f8bdd49e
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Nov 24 14:10:23 2020 -0800

    Merge pull request #2601 from tomastigera/tomas-fix-nat-stale-cleanup-tests
    
    NAT stale cleanup tests

[33mcommit f8bdd49ec90b61e45710d64221252029941e3d6a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 20 16:56:38 2020 -0800

    bpf/fv: test if connections can survive stale NAT cleanup

[33mcommit 55bc58930878d0f28822cd0041d3f40589801c74[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 16:50:33 2020 +0000

    FV: Deduplicate iptables DNAT programming

[33mcommit d509e9e8b84337b464d598966bab1395bb6b2001[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 16:41:07 2020 +0000

    Delete superfluous IPIP and VXLAN FV tests
    
    My purpose here was to verify the need (or not) for the IPIP/VXLAN
    failsafe rules in StaticManglePostrouting, and for that I only really
    need the "allows host0 to remote Calico-networked workload via service
    IP" cases.

[33mcommit 983d682b8ccc00e9717c8baea3ec2ec12ec049af[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 15:55:28 2020 +0000

    Use RETURN as Allow action in mangle cali-POSTROUTING chain

[33mcommit 72266f34ce189ca23273d419d84bbc41b9c4f184[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 15:31:30 2020 +0000

    Review markups

[33mcommit 914c6d1446ddfc11650da59594741947c79fc55c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 13:35:06 2020 +0000

    Move new FV tests to all-interfaces HEP context
    
    The policy wasn't actually effective at all, when applied to the
    "eth0" HEP.

[33mcommit d8fe07a985e454510cb52e673a6e567d14ba3228[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 12:54:29 2020 +0000

    Revert unnecessary churn in coding of IPIP and VXLAN failsafes

[33mcommit 50ac2e454f78f77da1a99136b3219c6b37cd8f86[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 12:52:09 2020 +0000

    Don't need IPIP and VXLAN failsafes in mangle POSTROUTING

[33mcommit 014950b6e2e38f2b85deefad011dc6314a882e18[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 24 12:51:32 2020 +0000

    Complete FV testing

[33mcommit 51cdd68707d11c302db42fa8449fd834e9c3e20b[m
Merge: 7b9e8b86 af555957
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 24 09:49:09 2020 +0000

    Merge pull request #2603 from fasaxc/bpf-retry-fix
    
    Actually retry the BPF_PROG_TEST_RUN call.

[33mcommit ad3a50e9e733495bb8355b3676ef827b16edc799[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 20 11:30:05 2020 -0800

    fv: detach StartPermanentConnection from workload
    
    Renamed Permanent to Persistent

[33mcommit 5aa617f22871f067015034e3a3231f62baf2caed[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 23 19:28:12 2020 +0000

    Review markups

[33mcommit f927f92c9af314eea4ab50c73ab0dce95da763cb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 23 19:23:54 2020 +0000

    Add UT for mangle cali-POSTROUTING chain

[33mcommit fce02e97a9c1b0724c48f8cc016e2386f3342f93[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 23 18:10:21 2020 +0000

    Add more FV testing

[33mcommit e8d5097a82586f0970fae485d4e0b7d903b6c153[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 19 11:52:54 2020 +0000

    Self-review

[33mcommit 3a79c4ef76e766d71841e4be657ea4d29b799cf1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 18 10:58:38 2020 +0000

    Allow forwarded, IPIP and VXLAN traffic in mangle POSTROUTING chain

[33mcommit ddd508fc2b023468a77cce0361ca589909c2762d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 17 15:40:46 2020 +0000

    Render profile chains to mangle table

[33mcommit e3c5bd4282634fbd48bdee0636e768eaeac07ea6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 17 13:40:35 2020 +0000

    Fix table.go typo

[33mcommit d76790cd7a695e7acbd3fead3dfa28d31dcd57bd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 17 13:01:05 2020 +0000

    Fix up UT

[33mcommit a446be9a61c95f6a919bff581fc4b872540c17c3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 17 11:30:15 2020 +0000

    Apply HEP policy for non-forwarded and DNAT'd traffic

[33mcommit 4a526ad1b289347451846d1a7ec187a9909b826c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 16 17:23:33 2020 +0000

    Fix up UT

[33mcommit a65de863e4e9c25ada831f7ec41d943ae43b47d3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 16 17:17:00 2020 +0000

    Add FV test for host to remote pod via a service IP

[33mcommit 67c21544fa45c3a5d0e6f4759d72e6874e4d9106[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 16 16:36:54 2020 +0000

    Skip HEP policy when ctstate DNAT

[33mcommit f19f0ef7b4d9e8cf674eff6a5c4529a6a2da1dad[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 16 16:09:44 2020 +0000

    Add FV test for host to local pod via a service IP

[33mcommit c34facd7c6e23fc5bed4939ebff169cc7d2791ba[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 16 11:13:36 2020 +0000

    Plumb in a mangle POSTROUTING chain

[33mcommit af555957437c8d4af78bf2c17fe82804c036dc6d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 23 16:20:58 2020 +0000

    Actually retry the BPF_PROG_TEST_RUN call.

[33mcommit 7b9e8b86c1e8f7a0afd2de3a77eb349ebd05afa5[m
Merge: 7ccba36b 72efc814
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Nov 20 03:45:24 2020 -0800

    Merge pull request #2598 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 7ccba36be03cedd10786e23e50bb74b60ca40fbb[m
Merge: 2d8d4074 d416a240
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 20 10:51:22 2020 +0000

    Merge pull request #2520 from fasaxc/fix-bpf-udp-bypass
    
    Enable UDP bypass, tighten RPF check accordingly

[33mcommit 72efc81406076c64ebbb4585cbdd324ded8ac8d2[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Nov 20 10:49:05 2020 +0000

    Automatic Pin Updates

[33mcommit 2d8d4074ff768bac1b253e45199d041fc37df9ed[m
Merge: 534b65ef 2b60e6c0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 20 09:43:39 2020 +0000

    Merge pull request #2592 from realgaurav/fix-eks-health-stat
    
    Set aws-src-dst-check report ready

[33mcommit d416a2408bb128ce07d76f63a3297c213f7139a0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 20 09:32:48 2020 +0000

    Add BPF bypass for UDP and tighten up RPF check accordingly.

[33mcommit 534b65efa5d86bafa9ff8229954c1fb7da001958[m
Merge: 15f18b72 f92b7220
Author: Brendan Creane <bcreane@users.noreply.github.com>
Date:   Thu Nov 19 17:33:06 2020 -0800

    Merge pull request #2597 from bcreane/bcreane-update-pins
    
    pin update

[33mcommit f92b722076dcdfe43448ac6ba1a815c11254f2e9[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Thu Nov 19 16:19:14 2020 -0800

    pin update

[33mcommit 15f18b721d3c9b1503a0e1adc92098df23c93c35[m
Merge: e616eae8 a3a31695
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Nov 19 10:39:03 2020 -0800

    Merge pull request #2591 from fasaxc/tcp-spoof-test
    
    Add TCP spoofing test, infra to monitor connections.

[33mcommit a3a31695a0141c9de2c3150f6321990df97a4d2a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 19 15:28:42 2020 +0000

    Add TCP spoofing test, infra to monitor connections.

[33mcommit e616eae8aedaec9c65dfb1547ea1530e50461663[m
Merge: 8256d6ba 6585d65a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 19 09:31:49 2020 +0000

    Merge pull request #2588 from tomastigera/tomas-fix-nat-stale-cleanup
    
    bpf/proxy: fix stale NAT entries cleanup

[33mcommit 2b60e6c07f1a20b40b9658a66d17818487e23ebe[m
Author: Gaurav Khatri <gaurav@tigera.io>
Date:   Thu Nov 19 00:02:05 2020 -0800

    Mark report status as ready

[33mcommit 6585d65af9fac58bd8003f8d22fa7e3f56da7560[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Nov 18 18:59:20 2020 -0800

    bpf/proxy: fix stale NAT entries cleanup
    
    When nodeport is forwarded to another node, it does not have the first
    node's IP in its tables, therefore it thinks that the conntrack entries
    are for a service that is gone. We also need to match against the
    wildcard to check if the front end might be a nodeport.

[33mcommit 8256d6bad30434b7cd0d7ab210addadb33483bbb[m
Merge: e4f53ed6 68282d30
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Nov 17 21:27:31 2020 -0800

    Merge pull request #2587 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 68282d30e7abe1abc712dde2a57be9aa0dc6073e[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Nov 18 04:28:10 2020 +0000

    Automatic Pin Updates

[33mcommit e4f53ed624a25bc0979250a191a5a069ad8ccd51[m
Merge: a4c82e33 61dd9c5d
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Nov 17 12:37:21 2020 -0800

    Merge pull request #2586 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 61dd9c5d0f7e24a5a265056ee8e88d879ff274fb[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Nov 17 19:45:38 2020 +0000

    Automatic Pin Updates

[33mcommit a4c82e338093bb848c2c51898b0336e4fb768140[m
Merge: 0220c28b 4f21232f
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Nov 17 10:52:30 2020 -0800

    Merge pull request #2585 from fasaxc/fix-spam
    
    Fix spammy log from conntrack cleanup.

[33mcommit 4f21232f62dcad5bb0af7f04d391d77212108afc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 17 17:59:47 2020 +0000

    Fix spammy log from conntrack cleanup.

[33mcommit 0220c28bb2cf4d2620b1dd1f9fea90c4bcc71e29[m
Merge: 37dae53d ee5ed12e
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Mon Nov 16 14:55:02 2020 -0800

    Merge pull request #2485 from tomastigera/tomas-state-in-map-only
    
    bpf: use state from map, free up stack

[33mcommit 37dae53deca26edad8273bd6bd6a7a4868a5a38a[m
Merge: 5279420f 948db0bb
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Nov 16 13:29:45 2020 -0800

    Merge pull request #2583 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit ee5ed12e06b3c43c22b22ace7e0befb9a84c00de[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Sep 2 14:05:12 2020 -0700

    bpf: use state from map, free up stack
    
    We are running out of space on stack, especially when DEBUG is enabled.
    Therefore this change frees up 60 bytes of stack space (limit is 512)
    move the jump state away from the stack and getting it from the map
    where we are going to update it anyway if we needed to go through
    policy.
    
    This adds a lookup in CPU local array (fast) for each packet, removes
    updates for packets that go through policy.

[33mcommit abcb7a08b3042c9012c07b2fa4f3b02748c999ff[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Sep 3 22:24:21 2020 -0700

    bpf: from HEP benchmark

[33mcommit 948db0bb337e6cdb6e0263418792cad0201c2b5d[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Nov 16 20:34:56 2020 +0000

    Automatic Pin Updates

[33mcommit 5279420f782999ad9b64d9a465a6b30679bbc9ff[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Nov 13 08:04:58 2020 +0000

    Semaphore Automatic Update

[33mcommit 0110c49518c94744d088e955d475131d27f99bd8[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Nov 11 10:36:39 2020 -0800

    Turn down log level on spammy MTU log (#2577)

[33mcommit fe49dcca5c8f840bc049e6177c22adca1a6caf22[m
Merge: 0fa7b6c9 0874f51c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 11 16:01:39 2020 +0000

    Merge pull request #2549 from tomastigera/tomas-encap-return-path
    
    bpf: nodeport return with multiple ifaces

[33mcommit 0874f51cf5e0df7daa3cb069f5bdcacbc43e6df1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 26 18:05:33 2020 -0700

    bpf: nodeport return with multiple ifaces
    
    In environments like EKS, where the egress route is determined by the
    source IP as well, the return VXLAN packet for the nodeport tunnel may
    end up at a wrong interface (and route) because the packet has the
    source IP of the backing pod - to avoid being dropped by RPF check etc.
    
    This fix uses the knowledge of the iface where the nodeport ingress
    packets came from (recorded for the purpose of RPF check) and send the
    packet out straight to the same interface.
    
    Until we get bpf_redirect_neigh() in our supported kernels (5.10+) we
    need to maintain an ARP lookup cache that allows us to patch in the
    right MAC addresses so that the packet, once forwarded by the host
    interface, can reach the next hop.
    
    Each time we see an incoming VXLAN packet for the nodeport tunnel, we
    record the IP and iface it came from and the src/dst MAC addresses. We
    can use the tunnel IP where we are sending the egress packet and the
    iface recorded in conntrack where it came from to look up the MAC
    addresses we should patch in.
    
    The lookup map is an LRU hash with 10k entries. That allows 10k other
    nodes to forward their nodeports to a node.

[33mcommit 0fa7b6c94f79a374efe05f39d7fb33509b9389e2[m
Merge: 69206983 21a0d19f
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Nov 10 17:44:38 2020 -0800

    Merge pull request #2576 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 21a0d19f65696b18ded966a958b72cdb4e2b0b0c[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Wed Nov 11 00:52:09 2020 +0000

    Automatic Pin Updates

[33mcommit 692069831ea56045db1630bbd09b011140cc147b[m[33m ([m[1;33mtag: v3.18.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Nov 10 15:56:57 2020 -0800

    Begin development on v3.18.0

[33mcommit b0b272cca49cb56c2622003583d3e76b136ccfa7[m
Merge: 661c6ece 6df0a41e
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Nov 10 10:54:20 2020 -0800

    Merge pull request #2573 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 6df0a41e0c86e974877678d2bdb05d39ce1ec538[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Nov 10 17:57:58 2020 +0000

    Automatic Pin Updates

[33mcommit 661c6eced112f381512240bd7802074b00fcf315[m
Merge: 891409f1 9ec8fbdc
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Nov 10 09:04:15 2020 -0800

    Merge pull request #2571 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 9ec8fbdc54bef6cc9be8c71248fccc5b774292d3[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Nov 10 16:11:11 2020 +0000

    Automatic Pin Updates

[33mcommit 891409f1ec9f98ac8ade2323983350b1ae7337a1[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Nov 6 14:56:51 2020 -0800

    Fix flaky MTU test wait time (#2570)

[33mcommit 9cc5312a2f17a67b080f97a9a325097979a4490b[m
Merge: 0b7be1f1 f20fc2b2
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Nov 5 17:00:38 2020 -0800

    Merge pull request #2569 from projectcalico/semaphore-auto-pin-updates-master
    
    [master] Semaphore Auto Pin Update

[33mcommit 0b7be1f1fbb6a407060471a655f0193c4e3398af[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Nov 5 12:56:25 2020 -0800

    Handle when unable to detect host MTU (#2563)
    
    * Handle when unable to detect host MTU
    
    * Add FV test

[33mcommit f20fc2b296f7286ea4824fbe71af0394c0c2abb8[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Nov 5 20:03:48 2020 +0000

    Automatic Pin Updates

[33mcommit a2905ab743c571f7eb55cdcba839e340b6fdfa2f[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Nov 5 08:05:06 2020 +0000

    Semaphore Automatic Update

[33mcommit ea6fbaf745d7e54e54f8a5bf77c5b9e9d335eba0[m
Merge: 01950547 1208d34a
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Wed Nov 4 14:47:29 2020 -0800

    Merge pull request #2565 from Brian-McM/bm-fix-semaphore-pin-update-regex
    
    Fix release branch pin update regex (add ^ to start) and cascade pin â€¦

[33mcommit 1208d34a223eb4911bf59f2466672a90d240fa32[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Wed Nov 4 12:19:27 2020 -0800

    Fix release branch pin update regex (add ^ to start) and cascade pin updates

[33mcommit 01950547ac7d5001cfb596ef26a85b0264e5d867[m
Merge: 9f82472b c53cbef9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 4 16:08:20 2020 +0000

    Merge pull request #2555 from fasaxc/expand-regexp
    
    Expand interface detection regexes.

[33mcommit 9f82472b6fb0f1af09c91041876395ae401f96fc[m
Merge: 99763751 c796cc72
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 4 15:26:14 2020 +0000

    Merge pull request #2564 from fasaxc/detect-nft-fail
    
    Detect iptables-save error when run on a system with nft rules.

[33mcommit c796cc7246643eaa20aa15ccc37384d08338bda2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 4 10:38:44 2020 +0000

    Detect iptables-swave error when run on a system with nft rules.
    
    iptables-save logs the error but returns RC=0.  Detect the
    error with a regex.

[33mcommit c53cbef96d527524b8a937a29a605a86c4acc6d4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 30 11:56:08 2020 +0000

    Expand interface detection regexes.
    
    Cover less comon types of interface and common types on dev machines.

[33mcommit 997637519e088e5f07184ff15d27e55af5b4781d[m
Merge: 39d3cb93 3e7c3cc4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 3 16:29:06 2020 +0000

    Merge pull request #2562 from fasaxc/docker-login-remote
    
    Log in to dockerhub on remote VMs too.

[33mcommit 3e7c3cc43319c639f00973dfcddbe4032c67d11b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 3 15:56:41 2020 +0000

    Log in to dockerhub on remote VMs too.

[33mcommit 39d3cb936a2acad986ddc2ccc5120c7afab2144b[m
Merge: af21ec66 db58fe60
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 3 11:59:38 2020 +0000

    Merge pull request #2554 from fasaxc/fix-ipvs-slp
    
    Fix service loop prevention in IPVS mode.

[33mcommit db58fe606b04993404a1288f52e97b55969d13bd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 2 11:57:43 2020 +0000

    Fix service loop prevention in IPVS mode.
    
    Remove service loop prevention rule from OUTPUT chain because
    the OUTPUT chain comes _before_ DNAT when IPVS is in use.
    This means that we were dropping _all_ service IP traffic.
    
    Unconditionally drop the rule since if traffic does loop back
    to us, we'll catch it on the forward path.

[33mcommit af21ec6681f34f5421cdbee8c2e31d0d53e812f0[m
Merge: ba5dedff 4d8f2413
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Nov 2 22:24:54 2020 -0800

    Merge pull request #2561 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit 4d8f2413196df3ea577c91a00ef6c94b5f541104[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Nov 3 04:33:45 2020 +0000

    Automatic Pin Updates

[33mcommit ba5dedff4435969b0035073c6c656f680dad9524[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 3 00:00:48 2020 +0000

    Update semaphore YAMLs. (#2558)

[33mcommit 482336435b84278c26b4e1d197ff220ae7748fc2[m
Merge: b3f77315 b7eaadee
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 2 09:19:57 2020 +0000

    Merge pull request #2551 from tomastigera/tomas-neltlink-v-1-1-0
    
    update netlink 1.0.0 -> 1.1.0

[33mcommit b3f77315e36a258d43c7e2e722195df394d48f63[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Sun Nov 1 08:04:38 2020 +0000

    Semaphore Automatic Update

[33mcommit b7eaadee9dc4ab8b6b940a9c65b4bdc69887a296[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Oct 30 22:35:31 2020 -0700

    update netlink 1.0.0 -> 1.1.0
    
    New features, bug fixes, go modules. Required for Neigh subscribe.

[33mcommit 802c164467c85d55770c556c73a0538e4b09131c[m
Merge: ce40abb9 0ec13584
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Oct 22 11:36:41 2020 -0700

    Merge pull request #2538 from tomastigera/tomas-service-affinity-fix
    
    bpf: pick a random backend after affinity timeo expires

[33mcommit 0ec13584e4c75e06ec1162e3b299102aafbbf307[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 19 20:43:40 2020 -0700

    bpf/proxy: fix typo

[33mcommit 70aa88f79b7e280a6ad4519d984ddba565379b56[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 19 10:05:05 2020 -0700

    bpf: pick a random backend after affinity timeo expires
    
    When session affinity time out expires, we should make a new pick of the
    backend.
    
    Currently, we were using a stable hash of the client's IP which would
    result in the same pick if the set of backends did not change.

[33mcommit ce40abb9cef32303953e10f1d71c65059d52065e[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Oct 22 10:05:03 2020 -0700

    Calculate MTU based on host interfaces (#2511)
    
    * Calculate MTU based on host interfaces
    
    * Refactor MTU detection
    
    * Don't look at vxlan interface
    
    * Make sure mtu directory exists before writing to it
    
    * Adjust MTU assertion
    
    * Add VXLAN test for auto-MTU
    
    * Don't exit if unable to write MTU file
    
    * Fix MTU expectation in FVs
    
    * Update to make interface detection configurable
    
    * Default MTU fields even if encap is not enabled
    
    * Adjust MTU to match new default
    
    * CR feedback, pin update
    
    * Update pins
    
    * Fix ut

[33mcommit 655eb3e5d40bece4f8f2d584e5dcacdb9c2fc607[m
Merge: 7f54b401 1e11deea
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Wed Oct 21 06:32:55 2020 -0700

    Merge pull request #2546 from misi/patch-1
    
    Export multipath route to kernel

[33mcommit 1e11deea34b8d911a560550e4a0deed05ec7e2b9[m
Author: MÃ©szÃ¡ros MihÃ¡ly <misi@majd.eu>
Date:   Wed Oct 21 10:21:58 2020 +0200

    Export multipath route to kernel
    
    Allow ECMP exgress gw propagation to kernel.
    Actual behavior that bird sees the received multipath routes (e.g. default routes 0.0.0.0/0)
    but exports only one path to the kernel

[33mcommit 7f54b4018bdc3ea9aab7c84854ff681005067e73[m
Merge: 107b9556 2b2ad018
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Oct 20 13:48:56 2020 -0700

    Merge pull request #2535 from robbrockbank/fix-wireguard-resync
    
    Fix wireguard resync processing: correctly flag already handled nodes

[33mcommit 107b95568c9284c3754dbfe62c458d97db631d6e[m
Merge: c5d60fd5 b2deab01
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Oct 20 10:11:50 2020 -0700

    Merge pull request #2542 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit b2deab017b7d15764bfecbea742a0641ab88d865[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Oct 20 16:14:43 2020 +0000

    Automatic Pin Updates

[33mcommit c5d60fd5609b0228509ebfd183ad8af82142d654[m
Merge: c438c166 1545cc8a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Oct 19 15:57:07 2020 -0700

    Merge pull request #2541 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit 1545cc8a97496823322c376dcce9bc58eabe1d21[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Oct 19 22:03:23 2020 +0000

    Automatic Pin Updates

[33mcommit c438c16686d67085f97e9c315031efadf844c8da[m
Merge: 27a5870a e109be4f
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 19 15:34:05 2020 +0100

    Merge pull request #2532 from neiljerram/loop-prevention
    
    Service loop prevention

[33mcommit e109be4f5ff456add4f928613be8c94a5fa88bfa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 19 13:36:14 2020 +0100

    Code review markup

[33mcommit 969801686b118356fcc0bf4b417cd5a81cd3a538[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 16 15:17:37 2020 +0100

    Use tcpdump to check that there is no routing loop

[33mcommit a00a6e6413fa4ede42e4890035ab2811eab69ca4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 15 15:45:07 2020 +0100

    Code review markups

[33mcommit 9ea192f1e03acad74283ea433817b230aa5c17ad[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 15 11:00:55 2020 +0100

    FV for service loop prevention

[33mcommit b6da47d046b4c47b0ff624b1e5e80466fbe8f6f5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 15 10:29:50 2020 +0100

    UT for service loop prevention code

[33mcommit f39b0870e6c001fcc726180c52052de7d5e82269[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 14 19:19:56 2020 +0100

    Program iptables for service loop prevention

[33mcommit 1b27ab6010d51de001766b51ff682612d15b55c4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Oct 13 10:47:54 2020 +0100

    Avoid seeing logging in clean UT runs
    
    (Shaun thinks he probably added the ConfigureEarlyLogging for
    debugging something, and then it was left in.)

[33mcommit 2ab96e2da226608c917663efe24dd080bf00b374[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 14 18:04:36 2020 +0100

    Pass global BGPConfiguration through calculation graph

[33mcommit d0e5e788450ef47995cabb15394b9fdb6d9e71d0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 14 17:33:00 2020 +0100

    Define proto.GlobalBGPConfigUpdate

[33mcommit e5768750cda66482e8bd6b322d3a837d583f4e10[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 14 18:15:50 2020 +0100

    Add ServiceLoopPrevention field to Felix config

[33mcommit 475bfe7ae4ec26dd5ff67c0321c629f9114b8523[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 19 14:34:36 2020 +0100

    Update libcalico and Typha pins for ServiceLoopPrevention field

[33mcommit 2b2ad018689b76aa6fadd4f15db53dfcc42d5b33[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri Oct 16 12:01:58 2020 -0700

    Fix wireguard resync processing: correctly flag already handled nodes

[33mcommit 27a5870a9072091914148902a726e9db423ba191[m
Merge: 9972af07 fc711b19
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 16 13:53:40 2020 +0100

    Merge pull request #2531 from tomastigera/tomas-eks-snat-fix
    
    bpf: skip FIB for WEP egress leaving the cluster

[33mcommit fc711b192fd8c66ac883fa8fd5b61bec7f77e4e7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Oct 13 16:14:07 2020 -0700

    bpf: skip FIB for WEP egress leaving the cluster
    
    When traffic from a pod is leaving the cluster, we may want to decide
    to skip FIB and thus force it to go through the host IP stack and IP
    tables.
    
    For instance, in EKS, the AWS CNI programs nat outgoing rules and we
    want the traffic to hit them.
    
    We skip the fib when the source IP of the workload is not in any IP
    pool, which suggests that a non-calico CNI is in use.

[33mcommit 09a04e851745b410eabf72f70c9abec2bf09b80c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 14 22:51:41 2020 -0700

    bpf: test EKS-like SNAT outgoing
    
    In EKS access to the outside worlds is done by MASQUERADE programmed by
    the AWS CNI. This test mimics that environment. It fails if we do not
    hit the AWS rules for all traffic that is leaving the cluster.

[33mcommit 9972af071cfb1276cc6c284b18955901e13df94f[m
Merge: cdc7f327 762a6ca1
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Oct 14 09:37:19 2020 -0700

    Merge pull request #2529 from caseydavenport/casey-fix-vxlan-resync
    
    Fix L2 dataplane reconciliation

[33mcommit cdc7f3276f9a29ad40acb2a9006bca12f590c375[m
Merge: bbd5c2b0 96a5b999
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Wed Oct 14 20:30:03 2020 +0530

    Merge pull request #2530 from sridhartigera/sridhar-cgo
    
    Moving the CGO functions to a separate C file

[33mcommit 96a5b99927e290d3105472235bc80eb434df5ae7[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Oct 14 19:28:45 2020 +0530

    Moving the CGO functions to the header file

[33mcommit f53f10fa3c659094ffb68f5bf4cb6adfa5d67e6b[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Oct 14 19:04:29 2020 +0530

    Moving the CGO functions to a separate C file

[33mcommit 762a6ca1897803abc6788c9b09011ffc6e4c1118[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Oct 13 10:52:33 2020 -0700

    Fix L2 dataplane reconciliation

[33mcommit bbd5c2b04230b1f23006ad44fab1ed6ef79e1270[m
Merge: 2b7fb3f1 a17cba8a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 9 11:39:52 2020 +0100

    Merge pull request #2508 from tomastigera/tomas-node-k8s-addresses
    
    Multiple node addresses result in multiple routes

[33mcommit a17cba8a266d72948fc1a7d1aad1eb691ed13b42[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Sep 28 16:33:05 2020 -0700

    Multiple node addresses result in multiple routes
    
    If external IP on a k8s node is set, it generates a route to host and
    that allows pods to access nodeport on that address.

[33mcommit 2b7fb3f16dec09a5b9b150916ef13b63dff168ba[m
Merge: dadeac7c 435e1794
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Thu Oct 8 11:26:42 2020 -0700

    Merge pull request #2528 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit 435e17946fee00a35a7ebc731b9c629c014655cd[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Oct 8 17:34:22 2020 +0000

    Automatic Pin Updates

[33mcommit dadeac7c26aa7e447482f9ff2c6e13b6d2e83c8b[m
Merge: e55dd39e 6befe9c7
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Oct 8 09:40:08 2020 -0700

    Merge pull request #2525 from caseydavenport/casey-update-gobuild-48
    
    Update go-build version to v0.48 (go 1.15.2)

[33mcommit e55dd39ec93b5decb68fa84bf898c591ef48935e[m
Merge: 7ed95fe0 894ed270
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 8 14:27:35 2020 +0100

    Merge pull request #2497 from tomastigera/tomas-proxy-interation-logging
    
    bpf/proxy: add info logging when Syncer iteration start/ends

[33mcommit 7ed95fe0bb8a059fc5ac7774c4f51976a7555df7[m
Merge: cd67ea11 dd1d5d20
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 8 09:37:55 2020 +0100

    Merge pull request #2523 from tomastigera/tomas-fix-rpf-bypass
    
    bpf: enforce RPF check for possible spoofed TCP

[33mcommit 6befe9c7d4737f6e97bc4f61d6e4ffa6eba93c16[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Oct 7 16:34:57 2020 -0700

    Update go-build version to v0.48 (go 1.15.2)

[33mcommit dd1d5d204229383f8f01dcb5035a0cc410ddc6dc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 7 13:11:03 2020 -0700

    bpf: enforce RPF check for possible spoofed TCP
    
    TCP sets CALI_CT_ESTABLISHED_BYPASS which avoid parsing the packet by
    the second program on established connections. However, if we detected
    change in where the packets come from - possible spoof, disable the
    bypass. As the packet is forced through the kernel's RPF check, avoiding
    the bypass updates the ifindex if the packet passes through.

[33mcommit cd67ea1113a928ad8ebce226bd299bb256a9029c[m
Merge: e16c29aa deff9a58
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Tue Oct 6 13:48:50 2020 -0700

    Merge pull request #2521 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit deff9a585f1241462b443bfd2b789666e57b3067[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Tue Oct 6 19:56:01 2020 +0000

    Automatic Pin Updates

[33mcommit e16c29aab14450a7d549d645003fdd59700f9938[m
Merge: 180cb051 f09b8d3a
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Mon Oct 5 12:19:36 2020 -0700

    Merge pull request #2517 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit 180cb051fa1b95034de5c4876381037a1c7a5f35[m
Author: Gaurav <48036489+realgaurav@users.noreply.github.com>
Date:   Mon Oct 5 11:26:01 2020 -0700

    Address/Investigate a WG fv flake (#2499)
    
    Address/Investigate a WG fv flake, by:
    * adding connectivity timeout
    * adding onFailed callback to check connectivity using 'ping' test

[33mcommit f09b8d3af6ec93cf6170e3a6dffb89aafdcf9cd7[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Mon Oct 5 18:25:17 2020 +0000

    Automatic Pin Updates

[33mcommit 29a934e2af1d6670d0c85cae7a844cef8eb4df93[m
Merge: c46999ee aa08a4bf
Author: Gaurav <48036489+realgaurav@users.noreply.github.com>
Date:   Mon Oct 5 07:40:48 2020 -0700

    Merge pull request #2507 from realgaurav/ec2-srcdst-health-crash
    
    Adding ec2 health fix and fv health status test

[33mcommit c46999eec127ecec7dec03f5f23201e1d6eff987[m
Merge: 96e94a53 0f618bdc
Author: marvin-tigera <marvin-tigera@users.noreply.github.com>
Date:   Fri Oct 2 15:10:47 2020 -0700

    Merge pull request #2516 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit 0f618bdc574e8c40e390f18a1bd7c0dd77667e13[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Fri Oct 2 21:18:54 2020 +0000

    Automatic Pin Updates

[33mcommit 96e94a53b80de3e9bf79934a3ab6998316056490[m
Merge: 13410ed1 9b8c0ae8
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Fri Oct 2 13:24:40 2020 -0700

    Merge pull request #2515 from projectcalico/semaphore-auto-pin-updates-master
    
    Semaphore Auto Pin Update PR

[33mcommit 9b8c0ae8ca7eac1de40499733c9b174614bf486c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 1 21:23:36 2020 -0700

    fixed lint for deprecated github.com/golang/protobuf/proto

[33mcommit ee127f037ca80f5bd6b6088451482ac2f9cff6c1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 1 20:06:41 2020 -0700

    gomega.default conflicts with config.Default in tests

[33mcommit e64f9adfa40bbb14cdcf93a60eea27b6e939069d[m
Author: marvin-tigera <marvin@projectcalico.io>
Date:   Thu Oct 1 22:40:42 2020 +0000

    Automatic Pin Updates

[33mcommit 13410ed19852b487cab80e7243f91d6753062b69[m
Merge: 1f7f81f6 d351df91
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Tue Sep 29 10:05:54 2020 -0700

    Merge pull request #2506 from Brian-McM/bm-dont-overwrite-SEMAPHORE_PROJECT_ID
    
    Allow semaphore-run-auto-pin-update-workflows to set the SEMAPHORE_PROJECT_ID (only default it if it's not set)

[33mcommit aa08a4bfb79654a1ef8ec3c739d866219900b25a[m
Author: Gaurav Khatri <gaurav@tigera.io>
Date:   Mon Sep 28 10:35:00 2020 -0700

    adding ec2 health fix and fv health status test

[33mcommit d351df9133399d77856acc8c8c6f37553772e5b1[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Sep 28 10:07:18 2020 -0700

    Allow semaphore-run-auto-pin-update-workflows to set the SEMAPHORE_PROJECT_ID (only default it if it's not set)

[33mcommit 1f7f81f6ebf3880dfd78a5251d0948ac4d9ae59f[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Sep 24 08:03:51 2020 +0000

    Semaphore Automatic Update

[33mcommit 7299ad1dc67c69f0452520b86f3c43bc35862287[m
Merge: 66004e2d 12e947fd
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Sep 21 15:30:10 2020 -0700

    Merge pull request #2503 from Brian-McM/bm-add-pin-update-pipeline
    
    Add update pins pipelines

[33mcommit 12e947fd1e8ae054177f8d421ddc36ffb453a95b[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Thu Sep 17 10:13:20 2020 -0700

    Add update pins pipelines

[33mcommit 66004e2d1fc1d816839679e2c1872e01fcde317f[m
Merge: aff19807 e3b0ddbe
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 18 20:48:37 2020 +0100

    Merge pull request #2500 from neiljerram/update-pin-default-config
    
    Set DatastoreType etcdv3 if EtcdEndpoints or EtcdAddr specified

[33mcommit e3b0ddbea3d456417bce89f37f4310f34f7610bb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 18 18:31:58 2020 +0100

    Set DatastoreType etcdv3 if EtcdEndpoints or EtcdAddr specified

[33mcommit 5dfa9875b1814ba0fa390c117b04ab5fc151a10b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 18 18:33:45 2020 +0100

    Update pins

[33mcommit aff198073aa26c585e83e9e89cd5f19428b1aa27[m
Merge: 7a7ffc82 7d45e0be
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 18 14:03:41 2020 +0100

    Merge pull request #2498 from neiljerram/fix-bpf-build-oss
    
    Avoid missing bpf.h problem, often seen with 'make ut'

[33mcommit 7d45e0be350e8e87e93bd85418ec5f51f68ea461[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 18 11:55:12 2020 +0100

    Clean *.d files in bpf-apache as well as bpf-gpl

[33mcommit c1baf6d7aea590485b7109e3eaed3b946e4f71b0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 18 11:37:40 2020 +0100

    Avoid missing bpf.h problem, often seen with 'make ut'
    
        make: *** No rule to make target '/usr/src/linux-headers-5.4.0-0.bpo.3-common/include/uapi/linux/bpf.h', needed by 'connect_balancer.d'.  Stop.
        Makefile:261: recipe for target 'build-bpf' failed
    
    According to Slack discussion the solution is to delete the .d files,
    so let's always do that as part of the 'build-bpf' target.

[33mcommit 894ed27074a825a2498c27945b5ddaacaa758bef[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Sep 11 11:33:31 2020 -0700

    bpf/proxy: add info logging when Syncer iteration start/ends
    
    felix-0-20143-5-felixfv[stdout] 2020-09-11 18:30:48.868 [INFO][7] felix/syncer.go 710: Syncing k8s state and bpf maps after start
    felix-0-20143-5-felixfv[stdout] 2020-09-11 18:30:48.869 [INFO][7] felix/syncer.go 717: Startup sync complete
    felix-0-20143-5-felixfv[stdout] 2020-09-11 18:30:48.869 [INFO][7] felix/syncer.go 604: applying new state, 1 service
    felix-0-20143-5-felixfv[stdout] 2020-09-11 18:30:48.873 [INFO][7] felix/syncer.go 700: new state written

[33mcommit 7a7ffc82e2a803433ca6639582b4f74e034f75d9[m
Merge: f5e96e12 01c32189
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 11 17:19:46 2020 +0100

    Merge pull request #2495 from fasaxc/fix-route-cond
    
    Fix that broadcast routes weren't filtered out.

[33mcommit 01c321892f667747f0385edeb66f2d570266b051[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 11 15:22:41 2020 +0100

    Fix that broadcast routes weren't filtered out.

[33mcommit f5e96e12b2971a97782b01ea2a1b9f56a9952000[m
Merge: accf6a27 e0f77a29
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 10 10:34:53 2020 +0100

    Merge pull request #2489 from fasaxc/bpf-mark-bits
    
    In BPF mode, check that the BPF mark bits are assigned.

[33mcommit e0f77a29a9950a7305d9fabf5bb2c8c4529c6f73[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 9 16:32:59 2020 +0100

    Markups.

[33mcommit f89add61004ac7c885ebad1d6754400604b4d71b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 9 15:14:39 2020 +0100

    Add tests for BPF mark bit requirements.

[33mcommit a5de69074af9fc5e8350fb86e2f87e746639648b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 3 15:12:37 2020 +0100

    In BPF mode, check that the BPF mark bits are assigned.
    
    - Pre-claim the BPF mark bits so they can't be used for other bits.
    - In BPF mode, do not claim bits that are not used.
    - Ignore missing bits in BPF mode.

[33mcommit accf6a27a9f05074e518f306247c2042eae81447[m
Merge: ea937ad6 a1f9c531
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 8 17:18:13 2020 +0100

    Merge pull request #2493 from fasaxc/fix-bpf-run-flake
    
    Retry BPF_PROG_TEST_RUN on EINTR.

[33mcommit a1f9c53176e955589417743e48a2c5f1d4a9f786[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 8 15:06:15 2020 +0100

    Retry BPF_PROG_TEST_RUN on EINTR.
    
    Can happen spuriously due to Go profiling timers.

[33mcommit ea937ad680e4095e88d4ee47b1490121d33ea99b[m
Merge: 4aa29319 4ea27231
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 7 16:59:12 2020 +0100

    Merge pull request #2491 from tomastigera/tomas-harden-accept-local
    
    bpf: harden accept_local using iptables rpfilter

[33mcommit 4aa29319ada363ca9b6b7e040331c7f484ed0d99[m
Merge: 55f2eab2 12adf9ca
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 7 10:09:26 2020 +0100

    Merge pull request #2492 from tomastigera/tomas-hep-no-jump
    
    bpf: avoid jump to epilogue in HEP - no policy yet

[33mcommit 12adf9ca786605c09435b8926d01b96f5fdcbfb5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Sep 3 22:35:43 2020 -0700

    bpf: avoid jump to epilogue in HEP - no policy yet

[33mcommit 4ea27231b72417004d007bb3c64aee8ccccc56bc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Sep 3 18:31:41 2020 -0700

    bpf: harden accept_local using iptables rpfilter
    
    We need accept_local for traffic that local IP when we turn the packet
    around from ingress to egress side. The primary reason is ICMP reponses,
    however, it is also used the vxlan NodePort tunnel.
    
    The NodePort tunnel could avoid that, however, that would require
    relaxing the RPF check when an overlay is used for pod-pod networking as
    we decap the packets on external phys interfaces, but the best route is
    through the tunnel interface.
    
    It is easier to harden accept_local then to relax rpf for selected
    packet in iptables.

[33mcommit 55f2eab2e1fdcfbbe3f73d30fbd075bfd015f1fa[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Sep 3 08:03:58 2020 +0000

    Semaphore Automatic Update

[33mcommit 53b10a57ea553de628fb331a48ff9de169a75c0a[m
Author: Karthik Krishnan Ramasubramanian <karthik@tigera.io>
Date:   Wed Sep 2 16:30:32 2020 -0700

    Add knobs to disable adding encap drop rules from workloads (#2484)

[33mcommit 37f23af7619ec12916a24197c99ffa236f50b716[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Aug 31 10:14:24 2020 -0700

    Merge pull request #2476 from song-jiang/song-policy-update (#2479)
    
    Fix policy updates for Windows dataplane.
    
    Co-authored-by: Song Jiang <song@tigera.io>

[33mcommit e3681b58df1034666ae4606103d895c923b57407[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Aug 27 08:05:12 2020 +0000

    Semaphore Automatic Update

[33mcommit e07af050e93156fa9d0f1144757142784aa91adb[m
Merge: 02159b97 40b2603c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 26 14:19:29 2020 +0100

    Merge pull request #2475 from fasaxc/log-out-k8s-params
    
    Log out k8s connection params, used in BPF mode.

[33mcommit 40b2603c7b5a355344bc4b21aecfcbe5a04a878b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 26 11:10:13 2020 +0100

    Log out k8s connection params, used in BPF mode.

[33mcommit 02159b97b0654f3e777f2bab90b898da4862b5b5[m
Merge: 172c5536 97a1f337
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 25 18:02:29 2020 +0100

    Merge pull request #2473 from neiljerram/felix-stop-graceful
    
    Add option for Felix.Stop to shutdown gracefully

[33mcommit 97a1f337812fb9dc5e44d2208af7b5ff2690d2c9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 25 16:14:41 2020 +0100

    Add option for Felix.Stop to shutdown gracefully

[33mcommit 172c5536d2fe79d55751e7589fe6ba971acea8d9[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Aug 25 08:03:34 2020 +0000

    Semaphore Automatic Update

[33mcommit 4b3ac9444ff14a85d4572655040bdd65fc1e5327[m
Merge: 06bd9601 d41759d8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 24 19:39:27 2020 +0100

    Merge pull request #2471 from fasaxc/avoid-eks-ifaces
    
    BPF: Change data interface regex to avoid EKS workloads

[33mcommit d41759d82fbfb6e3898ca72ff3b7fea2bfb58953[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 24 17:18:41 2020 +0100

    BPF: Change data interface regex to avoid EKS workloads

[33mcommit 06bd96015fd0a9a4ddb36be554df9a832d4c8e64[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Aug 22 08:02:55 2020 +0000

    Semaphore Automatic Update

[33mcommit af5bdcc6566cbfe171285d1fe9bb474c94ec80c0[m
Merge: 9e9d3d58 88bcfe42
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Aug 21 11:25:37 2020 -0700

    Merge pull request #2464 from tmjd/iptables-backend-auto
    
    Change iptables backend default to auto (detect)

[33mcommit 9e9d3d58cbe0b96b94193cf70f68423ebcd7231c[m
Merge: 3ec6229f 2edb662a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 21 15:15:56 2020 +0100

    Merge pull request #2426 from fasaxc/speed-up-fv-teardown
    
    Speed up FV container tear down.

[33mcommit 3ec6229f19b959cc144bdfefc7e528878097c1df[m
Merge: bbbb58bb 02ada57d
Author: Song Jiang <song@tigera.io>
Date:   Fri Aug 21 14:30:36 2020 +0100

    Merge pull request #2463 from song-jiang/song-fix-ep
    
    Filter out stale endpoints for Windows

[33mcommit bbbb58bb832b30566ea68c959e77ef75a8c93230[m
Merge: 6732294c bf2d174b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 21 13:24:06 2020 +0100

    Merge pull request #2468 from fasaxc/fix-bpf-ipset-delete
    
    Actually check bpf map deletion result.

[33mcommit 02ada57d9f63da27cb0948d11908753307892b2c[m
Author: song jiang <song@tigera.io>
Date:   Fri Aug 21 10:58:39 2020 +0000

    Refactor hns API to pass static-checks

[33mcommit 6732294c12338bbe9a8480c98fda1f2f97376e42[m
Merge: 9dff8f20 e9682cea
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 21 10:27:37 2020 +0100

    Merge pull request #2466 from tomastigera/tomas-syncer-fix-delete-errors
    
    bpf/proxy: ignore bpf deletes ENOENT errors

[33mcommit 9dff8f20e377c3dff1321f0e652962030eb8d8f9[m
Merge: 8f40a753 2049e74b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 21 10:26:11 2020 +0100

    Merge pull request #2465 from tomastigera/tomas-syncer-fix-panic
    
    bpf/proxy: stopExpandNPFixup only if runExpandNPFixup

[33mcommit e9682cea90158f4a0109cc71a0cee59e147c5353[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 20 14:22:15 2020 -0700

    bpf/proxy: ignore bpf deletes ENOENT errors
    
    When trying to delete something that does not exist may be an issue, but
    should not stop the syncer from continuing as the result is that the key
    does not exist anyway.
    
    There is at least one genuine reason why this happens - when LB source
    ranges changed. For simplicity of the code, the service is completely
    cleaned up before applying changes, while it is nbeing deleted once
    again when cleaning up stale derived services.
    
    This may also happend when either bug or external delete modified the
    tables. Therefore we do log it when debug is on.

[33mcommit 2049e74b0e69c0bdd4648025c95d283b3da74c12[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 20 10:55:51 2020 -0700

    bpf/proxy: stopExpandNPFixup only if runExpandNPFixup
    
    If there was an error in Apply() before the fixer got started, there is
    nothing to stop. Clean the stop channel after stop to avoid closing a
    closed channel.

[33mcommit 88bcfe425f0b482260e8733d25ecc09f20f60f96[m
Author: Erik Stidham <erik@tigera.io>
Date:   Thu Aug 20 12:49:32 2020 -0500

    Change iptables backend default to auto (detect)

[33mcommit 5087b5c58dc495ea5f8a5b662f70bf47c1bca3fd[m
Author: song jiang <song@tigera.io>
Date:   Mon Aug 17 21:09:03 2020 +0000

    Refresh endpoint cache on WEP update for windows.

[33mcommit 8f40a753c83ff398cc61a7a3ece41224d7f78e98[m
Merge: c189637f 977800c1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 20 15:15:30 2020 +0100

    Merge pull request #2461 from fasaxc/do-data-pull
    
    BPF: If packet is too short, try to pull more data

[33mcommit 977800c1232df29901ca6865ea990abb7a7f335d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 20 14:17:54 2020 +0100

    Markups.

[33mcommit d840382d0f90f5288a3610558a0c1d4669a2ed47[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 20 13:38:32 2020 +0100

    Try to pull enough data for TCP.

[33mcommit aa3ea643607faf590ab1ff3bb2440a8d874a4f8e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 20 13:14:01 2020 +0100

    Do a bpf_skb_pull_data is skb is too short.

[33mcommit c189637fd2dee1ba740ccd0eed01bd9cb657c52d[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Aug 20 08:06:46 2020 +0000

    Semaphore Automatic Update

[33mcommit 1695af1394158c8a79d221ee735a9ef5d60dfb23[m
Merge: 14b9929e 03e51cf5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 18 09:06:16 2020 +0100

    Merge pull request #2459 from fasaxc/fix-cleanup-race
    
    Fix that we never cleaned up the BPF endpoint cache

[33mcommit 03e51cf5ddaa866f189e405c78c0cf1c84fdad38[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 17 21:13:51 2020 +0100

    Fix that BPF endpoints were never removed from the cache.

[33mcommit 30869fc3d31c349c9d6a836de401a7a0ecfe49ee[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 17 19:41:21 2020 +0100

    Register gauges.

[33mcommit 3a3721ebcf4be6c4abece4d4927ae3c97ba28c0e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 17 19:29:35 2020 +0100

    Drop dirty entry for interfaces that are gone.
    
    Add gauages to monitor number of endpoints.

[33mcommit 14b9929ed8055faa0c4186e086d7c1c316fec1ec[m
Merge: a42f5f5f 9209bbe1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 17 18:07:20 2020 +0100

    Merge pull request #2458 from fasaxc/fix-cleanup-race
    
    Fix incorrect handling of interface state in BPF mode.

[33mcommit 9209bbe1586ef2ccf5adda979e5eaff683558042[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 17 10:41:57 2020 +0100

    Fix incorrect handling of interface state in BPF mode.
    
    Previouly, code was expecting StateUnknown to mean "gone" but
    the interface monitor sends StateDown to indicate deletion.

[33mcommit a42f5f5f53dc66583eaa538c3c99cb6c383a0b22[m
Merge: eee1a5c3 0610bcbb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 17 09:37:01 2020 +0100

    Merge pull request #2456 from tomastigera/tomas-allow-to-host
    
    BPF: allow host traffic when conntrack is full

[33mcommit eee1a5c3726fd9c87e83add98b9f6cb71c5888cd[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Aug 15 08:03:07 2020 +0000

    Semaphore Automatic Update

[33mcommit 0610bcbbad7c4dda26bf7475b17b5e4377d300bd[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Aug 14 09:52:28 2020 -0700

    bpf/ut: whitelist_test cleanup refactor

[33mcommit 7a60d4ad97c74df1917e7cb9da2951d5cd09e40d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 13 23:19:53 2020 -0700

    bpf/ut: faster map resets

[33mcommit 527ebb7d8f03bf8f2425b9542e292dd969c3bed3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 13 22:16:23 2020 -0700

    bpf: Allow traffic from/to the host when CT is full.
    
    When the conntrack table becomes full and felix cannot clean it up for
    any reason (e.g., crashed, cannot reach k8s api server ...), a node
    becomes unreachable as well as the outter world from the node.
    
    We allow traffic that is towards the host or originates from the host to
    pass without creating conntrack entries. Each packet is policed
    individually. Once space is available in the table a conntrack entry
    will get created.
    
    TCP entries will not have SYN seen set.

[33mcommit 8ba57cc74123a5c0145e7f71b6468eddfa3d3ea7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Aug 14 14:51:08 2020 -0700

    bpf/fv: test host-host with full CT table

[33mcommit 377b69771a8a81a0de84a84582d5a906bef56d9e[m
Merge: e3f21d05 f3089f23
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Fri Aug 14 11:04:37 2020 -0700

    Merge pull request #2457 from fasaxc/fix-cleanup-race
    
    Always apply BPF programs to workload interfaces

[33mcommit e3f21d05730a766c8e26e78cad846d030bd163e9[m[33m ([m[1;33mtag: v3.17.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Fri Aug 14 09:46:25 2020 -0700

    Begin development on v3.17.0

[33mcommit f3089f23c5588e69c271a20d4082e33f0d9c6888[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 14 11:34:53 2020 +0100

    Always apply BPF programs to workload interfaces
    
    Rather than applying programs only when there's an associated
    endpoint, apply programs to all workload interfaces.  This closes
    a race between removing the program and removig it from the iptables
    allow list that polices unknown endpoints.
    
    As a side benefit, it means we get a program ready on a newly-created
    interface, ready to revcieve policy when the endpoint is created.

[33mcommit 10a0dfe09f218e08a3d699e610e93b763242ae61[m
Merge: dc85f5c6 5c97f346
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 14 09:45:51 2020 +0100

    Merge pull request #2454 from tomastigera/tomas-conntrack-cleaner-runs-after-start
    
    bpf/proxy: Conntrack cleaner runs immediately after sync up

[33mcommit dc85f5c68117eadee94351e7e684d2899bf615bd[m
Merge: 9a60ba23 363e1974
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 14 09:41:02 2020 +0100

    Merge pull request #2453 from tomastigera/tomas-fix-conntrack-cleanup
    
    bpf/conntrack: fix assumed ordering in NewStaleNATScanner

[33mcommit 9a60ba235d53dd0fa93216a933265e296d319328[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Fri Aug 14 08:04:35 2020 +0000

    Semaphore Automatic Update

[33mcommit 5c97f346c9b8fd469c8a169e2b10f5754fc33013[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 13 11:22:22 2020 -0700

    bpf/proxy: run liveness scanner immediately
    
    Clean up finished / timed out entries from conntract table asap.

[33mcommit 1a407846c20ceca2ee6ea5df472f4f225125af74[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 12 22:59:02 2020 -0700

    bpf/proxy: Conntrack cleaner runns immediately after sync up
    
    Immediatally after the state of proxy is synced up and the fresh state
    is applied, start the conntrack cleaner. It makes its first sweep
    immediately. It needs to be after the first sync up to avoid breaking
    connections that may look like towards stale backends as the internal
    state was not updated yet.

[33mcommit 363e1974fe551266068ab091672198470e29349c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 12 15:31:58 2020 -0700

    bpf/conntrack: fix assumed ordering in NewStaleNATScanner
    
    Legs A-B do not need to have the same ordering in fwd key and the rev key.
    
    Port is also significant as there may be services with multiple ports.

[33mcommit 39eddd83ae1ed677f5fc4846297e25df3bd51c27[m
Merge: 80999e8b ea91da0a
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Aug 13 08:19:38 2020 -0700

    Merge pull request #2444 from tomastigera/tomas-proxy-fix-existing
    
    bpf/proxy: do not update unchanged services

[33mcommit 80999e8bc6da6e6ce4205efb58224077caeb0e40[m
Merge: e9ceea6d 06482d87
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 13 15:36:30 2020 +0100

    Merge pull request #2455 from fasaxc/fix-map-fd-leak
    
    Fix leaks of BPF map and program FDs.

[33mcommit 06482d874dc0f2e6b607f68526b711b644ca126e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 13 14:15:30 2020 +0100

    Fix that state of interface wasn't written back if info didn't change.

[33mcommit dd0adc7885787b2429742239b160cc850485938f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 13 11:39:45 2020 +0100

    Fix leaks of BPF map and program FDs.

[33mcommit e9ceea6d0b71297021ea6ed234a3c49b7e9ac100[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Aug 13 08:06:34 2020 +0000

    Semaphore Automatic Update

[33mcommit b3eb0a630a5899b1e84f0ee6f2505567cd236fc7[m
Merge: 8189381d d5029f30
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Wed Aug 12 13:56:25 2020 -0700

    Merge pull request #2452 from tomastigera/tomas-bpf-iter-tests
    
    bpf/ut: fix TestMapIterWithDelete*

[33mcommit ea91da0ae3566c2ce3dc444a59f9256df962c498[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 12 12:22:50 2020 -0700

    serviceEpsEqual in O(n) with O(n^2) fallback.

[33mcommit 799971424132fef02ffa924280f28fbd2faad108[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 12 11:39:36 2020 -0700

    applySvc - make error always the last return val

[33mcommit d5029f3070d23d75c54da1e6b3073216e7193240[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 12 10:48:33 2020 -0700

    add MapIteratorNumKeys to !cgo to pass linter

[33mcommit e8dc0dccbd29c636de0c5df64a79e2f1646a494c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 12 10:20:44 2020 -0700

    bpf/ut: fix TestMapIterWithDelete*
    
    TestMapIterWithDelete must not delete directly, must return IterDelete.
    
    TestMapIterWithDeleteLastOfBatch checks that we do not delete the last
    key before we get the next batch.

[33mcommit 8189381db40677f2d5d5a991c14820ce65b6ecb1[m
Merge: fcd38e71 6d5caa7d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 12 17:58:33 2020 +0100

    Merge pull request #2451 from fasaxc/fix-bpf-liveness
    
    Fix watchdog timeouts in various cases

[33mcommit 6d5caa7d3927cb360dccb923df1fe816a8b1aea1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 12 15:18:18 2020 +0100

    Fix that async calc graph could fail its watchdog if dataplane stalled
    
    Previously, we'd block on the channel to the dataplane while flushing.
    If the dataplane was busy, we could block for a long time and the calc
    graphs' watchdog timer is much smaller than the dataplane's.

[33mcommit 5020ef1a3d20e77ab0b1eb96bf94b59bc3314e2b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 12 11:42:33 2020 +0100

    Detect another possible tc error output.

[33mcommit 973c7e416cfde75552e605b24e91e588f0b687ad[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 12 11:08:28 2020 +0100

    Downgrade status combiner log; spammy when interface is removed.

[33mcommit 4af1b3c2b323d849c755fb5624f2471bb615027e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 12 11:06:12 2020 +0100

    Beef up bpf syscall retry.

[33mcommit fcd38e714d2e676551ae62c9bc35826dd6acf118[m
Merge: be623092 fd309088
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 12 10:04:29 2020 +0100

    Merge pull request #2450 from fasaxc/reduce-spam
    
    Reduce log spam

[33mcommit 67bc1678bada61d37b0bcc9dd40c57e695bfd00c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 18:21:51 2020 +0100

    Restrict parallelism when applying BPF programs.

[33mcommit fd3090880c64f1c998e9b51e87b995c0f179277f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 17:55:35 2020 +0100

    Reduce severity and improve active rule calc's missing profile log.

[33mcommit ce9e42243272772fbd7135274632e7648184fa3f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 17:28:36 2020 +0100

    Optimise conntrack command execution.
    
    Only capture stderr since stdout can be large.

[33mcommit c168b4b79f178bb5cb878c242460be7862721965[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 17:01:53 2020 +0100

    Only log final conntrack dleetion attempt above Debug.
    
    Retryable errors are common because the conntrack tool can race
    with the kernel's internal timer-based cleanup.

[33mcommit 56a4178e2058c803504143590ead999126eeea44[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 16:13:49 2020 +0100

    REmove duplicate check, log out conntrack's actual error.

[33mcommit 353f749f988dba5877f2e33a31c0b0049470e23e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 15:44:22 2020 +0100

    Markups.

[33mcommit be623092157e84bc24589608848c11f526a88eef[m
Merge: a3621e3c 677e2381
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 15:31:32 2020 +0100

    Merge pull request #2449 from fasaxc/fix-ep-mgr-panic
    
    Fix that profile refs weren't cleaned up when removing endpoint.

[33mcommit 36551ef471ab2ffcbd89d1c89c8b9dd4efb1c4d3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 15:28:05 2020 +0100

    Downgrade error log within BPF prog load retry loop.

[33mcommit 32fc92f78a10c35ef5ab8238d5f73b1ba3b67cb6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 15:04:15 2020 +0100

    Avoid error logs when interface is deleted while searching for its jump map.

[33mcommit ffc8522d62ce4b25448339896420fbee22eb1f01[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 14:38:43 2020 +0100

    Suppress conntrack cleanup errors when no flows are found.

[33mcommit 7e253278335b7703edd3b239fb85131c717f4011[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 14:33:16 2020 +0100

    Downgrade route table "not out route" log.

[33mcommit 2eaef06ddc53ea49b056dd7f350eb0dac8cee6b3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 14:32:30 2020 +0100

    Avoid spammy VXLAN-configured log.

[33mcommit 677e2381fbbc90ae51aae2be0a7cf2aae798e537[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 11 11:33:15 2020 +0100

    Fix that profile refs weren't cleaned up when removing endpoint.
    
    CAused a panic if the profile was subsequently updated.

[33mcommit bf2d174b58bc78f99bf1dcba37371da6534592c9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 16:54:46 2020 +0100

    Actually check bpf map deletion result.

[33mcommit a3621e3c3aa46cd8d3b66c9eb74734e84d8ddc5c[m
Merge: b188f889 5c958839
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 15:57:51 2020 +0100

    Merge pull request #2448 from fasaxc/fix-route-table-retry
    
    Fix slow retries in route_table and finesse logging.

[33mcommit b188f88993f35302fbdd149ba70f8e99b2b9d7a2[m
Merge: 2845c761 f3cb36b4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 14:59:18 2020 +0100

    Merge pull request #2447 from fasaxc/reduce-spam
    
    Reduce log spam from missing interfaces.

[33mcommit 5c95883994603c9227cb734ae037f0b02b37cae4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 14:49:46 2020 +0100

    Fix slow retries in route_table and finesse logging.
    
    The route table used to retry each interface before looping to
    the next interface.
    
    Swap the loop order so that we try all interfaces once before
    retrying. This addresses failures caused by routes being moved
    from one interface to another (can't add the route to interface
    A until it is removed from interface B).
    
    Finesse the logging to avoid warnings around the above, expected,
    case.

[33mcommit 2845c761beffd4a90a2cddb6a2322562e6c36531[m
Merge: 8987313e cd6ee8a6
Author: Song Jiang <song@tigera.io>
Date:   Mon Aug 10 13:31:54 2020 +0100

    Merge pull request #2443 from song-jiang/win-os-master
    
    Reintroduce windows support

[33mcommit 8987313e6abe36fd1f48e00f4ee96a63c7759b51[m
Merge: 451c69a3 5f267481
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 13:29:15 2020 +0100

    Merge pull request #2441 from fasaxc/optimise-ct-cleanup
    
    Optimise map iteration

[33mcommit f3cb36b46b1c77ea7149ec0fd855d25b91c6aa73[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 13:22:53 2020 +0100

    Reduce log spam from missing interfaces.

[33mcommit cd6ee8a689e8598788f9fe86763f812461473594[m
Author: song jiang <song@tigera.io>
Date:   Mon Aug 10 10:42:05 2020 +0000

    Remove !windows build tag for bpf files

[33mcommit 5f26748193ad43536ecb7a457f16e84d670aefdf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 11:07:57 2020 +0100

    Markups.

[33mcommit 451c69a3a5605af05e8d2ed670666a599a3ec266[m
Merge: c79ea203 1f3a3258
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 10 10:36:59 2020 +0100

    Merge pull request #2445 from fasaxc/fix-ep-cleanup-race
    
    Fix race between interface deletion and cleanup.

[33mcommit cb49d31188dd87fee24cc5c9d1982f8b84a71316[m
Author: song jiang <song@tigera.io>
Date:   Sun Jun 28 15:37:48 2020 +0100

    Added windows code and fix copyright.

[33mcommit c79ea203a8135d0bc5881f3ea9e5a8babfe8169f[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Aug 8 08:02:18 2020 +0000

    Semaphore Automatic Update

[33mcommit 4b3f165c6f9ce1f55d4f0417eb2f14a1a6a2a58b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Aug 7 11:48:45 2020 -0700

    bpf/prox: benchmak Fix nodeport allocation

[33mcommit 364e97637d7336e3de29e31afdda80439f3f2154[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 17:50:18 2020 -0700

    bpf/proxy test remove benchSyncer from syncer tests
    
    Coppy pasted from full proxy tests, no need to sync as we call Apply()
    directly.

[33mcommit a6853322a5be59c1bc3e7ef1eb900c2fd08f19c5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 17:02:58 2020 -0700

    bpf/proxy: do not overwrite derived if unchanged
    
    Do the full overwrite on startup sync as we want to have a good
    consisten state to start from and it is sometimes complicated to say
    what matches what as the BPF maps do not carry the full information.
    
    before:
    
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true-12                            92          12931154 ns/op         3704672 B/op         31 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false-12                           99          13093264 ns/op         3705077 B/op         57 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true_+_derived-12                  39          30952133 ns/op        10816597 B/op      70317 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false_+_derived-12                 21          53796421 ns/op        12633100 B/op     150328 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true-12                           63          21943512 ns/op         3705469 B/op         85 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false-12                          63          22050243 ns/op         3708528 B/op        226 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true_+_derived-12                 27          39987153 ns/op        10815805 B/op      70330 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false_+_derived-12                22          60027131 ns/op        12634926 B/op     150525 allocs/op
    
    after:
    
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true-12                            84          12613745 ns/op         3705096 B/op         32 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false-12                           98          12628490 ns/op         3705673 B/op         58 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true_+_derived-12                  46          27247028 ns/op        10417729 B/op      30336 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false_+_derived-12                 49          29184740 ns/op        10417524 B/op      30374 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true-12                           62          21360122 ns/op         3705309 B/op         85 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false-12                          62          22940588 ns/op         3708641 B/op        226 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true_+_derived-12                 36          35517080 ns/op        10422811 B/op      30395 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false_+_derived-12                37          37341294 ns/op        10421588 B/op      30546 allocs/op

[33mcommit 0abce35fef713fcc3f26c036b8994a132cede4db[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 10:11:07 2020 -0700

    bpf/proxy: do not update unchanged services
    
    If the service is the same and the set of endpoints is the same, there
    is no need to write the service!
    
    before:
    
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true-12                            58          22102178 ns/op         4824745 B/op     100022 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false-12                           16          73805093 ns/op         8424858 B/op     260019 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true_+_derived-12                  31          38136083 ns/op        11935406 B/op     170311 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false_+_derived-12                  9         111704593 ns/op        17386875 B/op     410344 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true-12                           20          60660517 ns/op        11306271 B/op     550023 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false-12                           3         355060990 ns/op        31465437 B/op    1430075 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true_+_derived-12                 15          79439345 ns/op        18422458 B/op     620336 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false_+_derived-12                 3         367723247 ns/op        40420541 B/op    1580352 allocs/op
    
    after:
    
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true-12                            92          12931154 ns/op         3704672 B/op         31 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false-12                           99          13093264 ns/op         3705077 B/op         57 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_true_+_derived-12                  39          30952133 ns/op        10816597 B/op      70317 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1_mockMaps_false_+_derived-12                 21          53796421 ns/op        12633100 B/op     150328 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true-12                           63          21943512 ns/op         3705469 B/op         85 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false-12                          63          22050243 ns/op         3708528 B/op        226 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_true_+_derived-12                 27          39987153 ns/op        10815805 B/op      70330 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_10_mockMaps_false_+_derived-12                22          60027131 ns/op        12634926 B/op     150525 allocs/op

[33mcommit aefd38b53178c106320b0a3359e95b0d132c40a0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 10:59:14 2020 -0700

    bpf/proxy: preallocate slices if we know their size

[33mcommit 9c2472f6e69eb068b1bd6b43f6306593d0dcfea8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 13:59:14 2020 -0700

    bpf/proxy: syncer tests with maps and service types

[33mcommit 1f3a32582e183e21d33ab358d5263332c2085656[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 17:25:08 2020 +0100

    Avoid race between attaching qdiscs.

[33mcommit d580283bf056fe574a8bac1ce4fc8bb3071b38db[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 15:37:42 2020 +0100

    Improve tc error handling to handle non-existent interfaces gracefully.

[33mcommit 94845844fe1a4031f1be2ff9e0e2afc96aa48fbc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 15:34:00 2020 +0100

    Add silent retry for loading BPF program.

[33mcommit 09177c3d3e5f308ecf4855f6faae3a7a0d13c0e2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 13:49:24 2020 +0100

    Fix missing return.

[33mcommit b56a54be9bfebf69fc86d8093f3937f35e0a0e0d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 13:44:30 2020 +0100

    Fix race between interface deletion and cleanup.

[33mcommit 417c731357a96d13e156b0d49be06804b36a1473[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 10:49:37 2020 +0100

    More UT fixes.

[33mcommit bc6bea100692d86a399c47d5c58a3b1ec3da9381[m
Merge: ca3e53ba 7abe6ef5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 10:23:36 2020 +0100

    Merge remote-tracking branch 'origin/master' into optimise-ct-cleanup

[33mcommit ca3e53bab0a7d1996cdca428409895fc92343d6d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 7 10:21:29 2020 +0100

    Fix up conntrack UTs; move to timeshim.

[33mcommit 7abe6ef50aaf925b00cf4d5aeb4caed293da8778[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Fri Aug 7 08:04:29 2020 +0000

    Semaphore Automatic Update

[33mcommit b171813a649f659d1a265b34c026baab0062987d[m
Merge: f9ed4810 a4bf4bbf
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Aug 6 15:22:14 2020 -0700

    Merge pull request #2440 from tomastigera/tomas-proxy-bench
    
    Bpf/proxy: less evaluations/allocs for debug prints

[33mcommit a4bf4bbf9220c5165a2e79b96aae5bcf80208b4f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 11:31:55 2020 -0700

    bpf/proxy: check errors in Benchmarks

[33mcommit b9ce9e8f0062597963db36ce4cce8cfacc72889c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Aug 6 11:20:33 2020 -0700

    bpf/proxy: remove the build benchmark tag
    
    StartKubeProxy() must be executed within a closure, not straight in the
    Describe() otherwise they get started even for the Benchmarks.

[33mcommit cd41c59df0f08ae28bc7088c8cfd28b4820eb47f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 19:38:06 2020 +0100

    Remove unused map iteration variants.

[33mcommit 65172005343978e5f29fc628ca85ee4be26498f2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 19:16:46 2020 +0100

    Batch iteration in cgo function.

[33mcommit 933bf65ccc1afaa759fa33396f3ea80a9fa61be3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 14:33:19 2020 +0100

    Avoid more debug allocations.

[33mcommit 8456d320a3b2c92ef81332b55beec3e4bde913ec[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 14:03:15 2020 +0100

    Cache kernel time lookups.  Was spending a lot of time in ClockGettime.

[33mcommit a8d39c97bb2a74d7f45d54473f3a98162f859298[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 11:33:16 2020 +0100

    Fix up mock maps.

[33mcommit 697c80e3963af53b7477009a7def5534d140899f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 11:18:21 2020 +0100

    Cleanups.

[33mcommit 4ae0951681c932cdea46f4670e73cfca1fdca8f5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 6 10:22:24 2020 +0100

    Fiux shadowing of variable, and add test for iterator action return value.

[33mcommit f9ed4810eda81147055765ea67552595cb813f19[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Aug 6 08:07:17 2020 +0000

    Semaphore Automatic Update

[33mcommit 89772e7e43929305e43d7e3b25b50cd9ae5ae0d9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 5 22:03:29 2020 -0700

    bpf/proxy: start with preallocated newSvc/EpsMap

[33mcommit 5113e264192bd81b6bb60e9a6885e6c2308e44dc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Aug 5 14:55:21 2020 -0700

    more proxy tests

[33mcommit 321a19c8679c251f27690511ab8dba4a0507ae41[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 5 18:09:57 2020 +0100

    Fix a couple of missed refactoring updates.

[33mcommit 8f6db398381fe455fa075d6b6efd77f920463127[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 5 18:02:49 2020 +0100

    Fix bpf syscall stub.

[33mcommit 7cbd8c6d97a5aa120fcffe148f330d266677679b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 5 15:28:37 2020 +0100

    Use return code from map iterator to control deletion.

[33mcommit ae1816de164e902388f40fb47ef1f0a7fae2978e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 5 15:02:46 2020 +0100

    PRe-alloc attrs.

[33mcommit ebe17e9a89015a9bd4dabfaf1eb9d5d33f921790[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 5 14:10:57 2020 +0100

    Add map iterator

[33mcommit f2ef9b303b33ad1bfef75768d93ffb97fb76fa86[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Aug 5 08:06:19 2020 +0000

    Semaphore Automatic Update

[33mcommit 50f90875b5c5fdd1a9a949625a34a5693f906e9a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 4 22:54:16 2020 -0700

    bpf/proxy: remove unused code in benchmark

[33mcommit 34b16acc1d9e9abcc5e2f9d91f15b1d06b0ea5a4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 4 15:53:11 2020 -0700

    bpf/proxy: less evaluations/allocs for debug prints
    
    before:
    
    BenchmarkServiceUpdate/Services_1_Endpoints_1-12                  228688              5391 ns/op            2588 B/op         33 allocs/op
    BenchmarkServiceUpdate/Services_1_Endpoints_10-12                 127449              9369 ns/op            3589 B/op        120 allocs/op
    BenchmarkServiceUpdate/Services_10_Endpoints_1-12                  47924             28154 ns/op           11038 B/op        212 allocs/op
    BenchmarkServiceUpdate/Services_100_Endpoints_1-12                  4546            223610 ns/op           93863 B/op       1634 allocs/op
    BenchmarkServiceUpdate/Services_1000_Endpoints_1-12                  481           2422507 ns/op         1286829 B/op      16089 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1-12                  48          26761813 ns/op        10815265 B/op     160607 allocs/op
    
    after:
    
    BenchmarkServiceUpdate/Services_1_Endpoints_1-12                  218082              5357 ns/op            2357 B/op         24 allocs/op
    BenchmarkServiceUpdate/Services_1_Endpoints_10-12                 129049              9624 ns/op            3131 B/op         82 allocs/op
    BenchmarkServiceUpdate/Services_10_Endpoints_1-12                  51529             26160 ns/op            8732 B/op        135 allocs/op
    BenchmarkServiceUpdate/Services_100_Endpoints_1-12                  6537            205158 ns/op           76174 B/op       1031 allocs/op
    BenchmarkServiceUpdate/Services_1000_Endpoints_1-12                  531           2175678 ns/op         1111050 B/op      10087 allocs/op
    BenchmarkServiceUpdate/Services_10000_Endpoints_1-12                  52          22809532 ns/op         9055803 B/op     100604 allocs/op

[33mcommit f0cd537810af74635190946af2959124ec1588ab[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Aug 4 14:06:46 2020 -0700

    bpf: BenchmarkServiceUpdate for single service update

[33mcommit 6944e18eab2aad6ef639cd29ba706cc2ee771363[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jul 30 16:47:49 2020 -0700

    bpf/proxy: benchmark proxy golang part
    
    includes k8s proxy part and the calico proxy part, excludes bpf maps

[33mcommit 3d9637b64118d7fe3dd0c8cbb432b2f45e6c867d[m
Merge: 4d3e3592 6ada6707
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Tue Aug 4 15:41:28 2020 -0700

    Merge pull request #2439 from Brian-McM/bm-clean-vendor
    
    Remove vendor dir if it exists on clean

[33mcommit 6ada6707086b3ce11c1517cd42c4fe4d45f8c6b6[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Tue Aug 4 13:21:32 2020 -0700

    Remove vendor dir if it exists on clean

[33mcommit 4d3e35929fbb1d5c78ca002228e6f175f5986a8c[m
Merge: 3c13a866 b8309ff7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 3 11:03:49 2020 +0100

    Merge pull request #2430 from linux-on-ibm-z/s390x-support
    
    Update Dockerfile.s390x

[33mcommit 3c13a8666d2ae6f25bfa637ff273902127656e6f[m
Merge: 083cb62a 1906faeb
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Fri Jul 31 20:58:24 2020 +0530

    Merge pull request #2436 from sridhartigera/sridhar-lb-bpf
    
    Handling LoadBalancerIPStrings as a derived service

[33mcommit 1906faebc89a76a7572db7863b16cd4bf1495f3a[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri Jul 31 19:19:50 2020 +0530

    Changing the LB src range UT to test with extIP and lbIP

[33mcommit 083cb62a7d374501bb4bd73986e69c04cd68fbdd[m
Merge: 27720fcf d53db571
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Thu Jul 30 14:53:35 2020 -0700

    Merge pull request #2437 from Brian-McM/bm-golang-1.14-upgrade
    
    Upgrade to golang 1.14

[33mcommit d53db5715a948a9d2826b821d86f17fc6a0d3057[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Jul 27 11:36:15 2020 -0700

    Upgrade to golang 1.14
    
    Also add pod2daemon pin update target and exluded broken static checks for tests

[33mcommit 6f6dcbf2ef4b51b730a407191317424000ba902d[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jul 30 23:39:36 2020 +0530

    Addressed review comments

[33mcommit 689c07e6100543cc088a8fcfff956d173726a0e4[m
Merge: d5351fd4 27720fcf
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jul 30 18:32:51 2020 +0530

    Merge branch 'master' into sridhar-lb-bpf

[33mcommit 27720fcf90c77910ac910d001579a6b7b4e9db27[m
Merge: fd555a5b 6c1944ee
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Jul 30 18:27:42 2020 +0530

    Merge pull request #2438 from sridhartigera/sridhar-fv-ci
    
    Changes to fix wireguard ci failure

[33mcommit 6c1944eee3083c61d680098780edb6c9c8fd5bc6[m
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Jul 30 17:36:39 2020 +0530

    Update .semaphore/semaphore.yml
    
    Co-authored-by: Neil Jerram <neiljerram@gmail.com>

[33mcommit c9107eaa2ba0c47854228efb4081fbebc84dea17[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jul 30 16:26:45 2020 +0530

    Changes to fix wireguard ci failure

[33mcommit d5351fd4a6a9d316338bae6db65d89e5fab822e9[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jul 30 15:40:53 2020 +0530

    Removing comments

[33mcommit e524812b495460e26125c4f73aa234179b621dfe[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jul 30 14:49:44 2020 +0530

    Updated the UT for external Ip and LB IP strings

[33mcommit fd555a5b93d4ae1a87c74009ba27b66530b720a6[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Jul 30 08:04:01 2020 +0000

    Semaphore Automatic Update

[33mcommit 3f23c5d3c3618e12e15cdd6a412d12170ebb575e[m
Author: Jesper Dangaard Brouer <brouer@redhat.com>
Date:   Wed Jul 29 22:21:41 2020 +0200

    bpf-apache: adjust dependency file generation
    
    The dependency file generation[1] via clang -M (--dependencies) is overkill
    as the -M option also include system headers. Change this to -MM
    (--user-dependencies) option to only contain projects "user headers".
    
    [1] https://clang.llvm.org/docs/ClangCommandLineReference.html#dependency-file-generation
    
    Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>

[33mcommit 071519c6715686c3a5198d2455713e1602ec834a[m
Author: Jesper Dangaard Brouer <brouer@redhat.com>
Date:   Wed Jul 29 21:35:07 2020 +0200

    Fix clang target bpf compile issue/fail on Ubuntu and Debian
    
    The BPF UAPI header file <linux/bpf.h> includes <linux/types.h>, which gives
    BPF-programs access to types e.g. __u32, __u64, __u8, etc.
    
    On Ubuntu/Debian when compiling with clang option[1] "-target bpf" the
    compile fails because it cannot find the file <asm/types.h>, which is
    included from <linux/types.h>. This is because Ubuntu/Debian tries to
    support multiple architectures on a single system[2]. On x86_64 the file
    <asm/types.h> is located in /usr/include/x86_64-linux-gnu/, which the distro
    compiler will add to it's search path (/usr/include/<triplet> [3]). Note, it
    works if not specifying target bpf, but as explained in kernel doc[1] the
    clang target bpf should really be used (to avoid other issues).
    
    There are two workarounds: (1) To have an extra include dir on Ubuntu like:
    CFLAGS += -I/usr/include/x86_64-linux-gnu . Or (2) install the package
    gcc-multilib on Ubuntu.
    
    This patch use workaround (1), but detect the 'triplet' directory via[3]
    asking gcc for the triplet platform it uses (cmdline: gcc -dumpmachine).
    
    [1] https://www.kernel.org/doc/html/latest/bpf/bpf_devel_QA.html#q-clang-flag-for-target-bpf
    [2] https://wiki.ubuntu.com/MultiarchSpec
    [3] https://wiki.osdev.org/Target_Triplet
    
    Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>

[33mcommit e3f723bded091778e89533ee8fd3e7261a0b7ad9[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jul 29 21:40:14 2020 +0530

    Changes to handle LoadBalancerIPStrings as a derived service

[33mcommit 4e48dce462bd1274b2c058f7a927ffd839b1b2e8[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jul 28 21:10:49 2020 +0530

    BPF syncer changes for LoadBalancer

[33mcommit d6d4c50bed34b497e346cc5b6d423c31a59415b1[m
Merge: 0c4c57ff 97ec8d7a
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Jul 28 08:09:32 2020 -0700

    Merge pull request #2435 from tomastigera/tomas-wg-fix-host-networked
    
    WG fv test fixes and bpf code simplifications

[33mcommit 97ec8d7af441cab9c2d19b893bf5adb97cfb7e8f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jul 27 11:06:04 2020 -0700

    bpf/fv: fix expected host IP with wireguard

[33mcommit 506d8ef018388b5c1d35c46b204e6c35e52c4a47[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jul 24 15:23:27 2020 -0700

    bpf/fv: fix AutoHEPs for wireguard tests

[33mcommit ffcbd3129ef8737d1781115f12086a6b2e1a6568[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jul 24 14:51:36 2020 -0700

    bpf: skb_iphdr() also prints IP id
    
    Having the id helps tracking packet in the logs

[33mcommit 05ca05e7ba04ec820a2e0aec4dbdc179b993952c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jul 24 14:33:35 2020 -0700

    bpf/fv: do not test 2 tunnels at the same time

[33mcommit cf3ccc7e3dbe9de92b469ac5d5e280567e0e5546[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jul 23 16:19:29 2020 -0700

    bpf/ut: test compile/load  wireguard prog versions

[33mcommit 864ec2c3dcfd56930646d08ebb689c9885d9026e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jul 23 11:45:03 2020 -0700

    bpf: CALI_F_L3 unifies WG nad IPIP egress
    
    Whenever we get L3 packet, use the CALI_F_L3

[33mcommit 0c4c57ff2a8fe07400897c36c7a786c6e13cd061[m
Merge: 57ca7aae 0cb08d96
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Fri Jul 24 13:24:38 2020 -0700

    Merge pull request #2431 from fasaxc/fix-wep-recreate
    
    Fix BPF endpoint manager handling of endpoint recreation

[33mcommit 0cb08d96bc5504822aad27fe7c04e969da3d78e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 24 15:47:29 2020 +0100

    Add FV test for recreating interface.

[33mcommit 63122e1d1d01c0e6988fcc476f7b55d86a01cce3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 24 14:09:26 2020 +0100

    Check that BPF program is still valid on each policy update.

[33mcommit 7f68f3b72aab63193ea316d6457db5936a2ce5e7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 24 10:54:39 2020 +0100

    Clean up struct naming, fix lint.

[33mcommit c30cee1374f37a8e6fb69c4a96e473ed5dee6208[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 21 14:15:49 2020 +0100

    Refactor BPF endpoint manager to handle workload cleanup.

[33mcommit 4da528213806377af02c9390d7912f330c13e58a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 21 09:44:41 2020 +0100

    Remove inconsistency in map presence checks.

[33mcommit 57ca7aae25e1f79c26cff1d930fddc8be96236ea[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Jul 23 08:06:06 2020 +0000

    Semaphore Automatic Update

[33mcommit 1038de9f8c9e978221ea849d1f3cbd849d6e1bfd[m
Merge: 206e9db1 7e751aa3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 22 16:56:16 2020 +0100

    Merge pull request #2433 from fasaxc/resync-timer
    
    Add config param to control the interface monitor's resync interval.

[33mcommit 206e9db1a612d510feca20700a16e49d50e84549[m
Merge: 4909abe9 3763aca2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 22 15:49:00 2020 +0100

    Merge pull request #2432 from fasaxc/fix-jump-map-flake
    
    Test fix: wait longer for jump map cleanup.

[33mcommit 7e751aa360e60104c525dcd823dd43db296d949b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 22 14:12:46 2020 +0100

    Add config param to control the interface monitor's resync interval.

[33mcommit 4909abe9956d79e45a3dc7290b8d51b805093e5f[m
Merge: 8b50193a 9df492d7
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Jul 21 09:46:51 2020 -0700

    Merge pull request #2424 from caseydavenport/casey-respect-proxy-rules-2
    
    Move policy acceptance to end of the filter table forward chain

[33mcommit 3763aca2abffc5d010d0e7421853f398fe386385[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 21 14:35:59 2020 +0100

    Test fix: wait longer for jump map cleanup.

[33mcommit 8b50193ad7479fa86a35c3138480982545c3117e[m
Merge: bbb79439 a3e3bb36
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 21 09:14:32 2020 +0100

    Merge pull request #2423 from fasaxc/early-drop
    
    Drop packets to unknown WEPs

[33mcommit a3e3bb3643d45ff7b323bade4d36240bd4b037fb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 20 16:17:51 2020 +0100

    Fix logic for removing happy WEPs.

[33mcommit 0f188b7065ea212f1e82f2c46cc7d4eb0832428f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 20 15:08:57 2020 +0100

    Catch background goroutine assert.

[33mcommit dc3bb62b948b68aff659276255775804dc954510[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 20 11:56:49 2020 +0100

    Make nat outgoing a "bypass" mark.
    
    NAT outgoing means the traffic is leaving the cluster so there can only be
    one workload program in play.

[33mcommit 944e4980cf29b98fb6ebdb5a4a34ed701797d7d1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 20 11:46:34 2020 +0100

    Markups.

[33mcommit 7e1057a9b89857ec676a30319df3f2f2a884a3a6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 20 11:34:56 2020 +0100

    Format code.

[33mcommit 50e49b98b985efc15763ec1f0a6e5b1d816d1458[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 13 15:56:11 2020 +0100

    Block traffic to unknown workloads.
    
    * BPF program only uses the bypass mark when both
      legs are approved.
    * Adjust iptables rules to allow immediately if hte bypass mark is set.
    * Otherwise, use a dispatch chain to allow only if going to a known workload.

[33mcommit 90d71be324fd53df638b71eb6769a66b3ff484cc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 20 11:34:14 2020 +0100

    Adjust mark bits to give clean seen/bypass bits.

[33mcommit 1046210300cc8fbabe4204207ead740aa8220818[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 13 14:54:42 2020 +0100

    Add constants for mark bits.

[33mcommit e52916cfb8200c9acec2a2f03bc95d3fc4f758f3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 13 11:30:02 2020 +0100

    Add  (currently failing) FV test for pre-datastore connectivity.

[33mcommit bbb79439123dce009b43d0b99f0b03d651bc142a[m
Merge: 384d010a 51bfa0e4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 17 18:27:41 2020 +0100

    Merge pull request #2428 from fasaxc/fix-tc-cleanup
    
    Rate limit jump map cleanup

[33mcommit 51bfa0e418b596133d200db219c3d06b4e114f67[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 17 17:29:42 2020 +0100

    Markups.

[33mcommit b8309ff76f512249c673283d1a8051d9c9e80234[m
Author: Nirman Narang <narang@us.ibm.com>
Date:   Fri Jul 17 02:31:10 2020 -0700

    Update Dockerfile.s390x

[33mcommit 384d010a3a4a6438c69853cdebfb2d2e5154894d[m
Merge: f4cb256b d959a121
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 17 09:38:51 2020 +0100

    Merge pull request #2429 from fasaxc/dynamic-log-buffer
    
    Only enable verifier log for post-failure retry

[33mcommit d959a121144d5076841c9a12e7de5aaad098e40f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 18:16:18 2020 +0100

    Only enable verifier log for post-failure retry
    
    Also, size the log dynamically upto a limit.

[33mcommit 192450d259b133a4bb217b90438c963a231d53f6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 17:36:40 2020 +0100

    Markups

[33mcommit c006b9154d14b8a6dda050d44523fddf5fe1e461[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 14:40:28 2020 +0100

    Add FV for jump map cleanup.

[33mcommit c728a728ee4480487986e4820bfa3dc1c541d806[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 13:26:26 2020 +0100

    Rate-limit jump map cleanups.

[33mcommit f4cb256b56d79c3f3fc6b7279e5b6ac62011940c[m
Merge: 540c4562 59058085
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 15:35:35 2020 +0100

    Merge pull request #2427 from fasaxc/rename-time-shim
    
    Rename shims to avoid name clashes

[33mcommit 59058085f2b88f3cb582c8925421b695b5a365d1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 13:28:48 2020 +0100

    Markups

[33mcommit aac1aaabb122bb384190a595462b89dc4bb52e40[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 13:09:32 2020 +0100

    Rename netlink shim to avoid name clashes.

[33mcommit 32d96f9384bcdfb4e2a3cd6351f96cb0c81eb105[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 16 12:55:57 2020 +0100

    Rename time shim; avoid name clash with real time package.

[33mcommit 540c4562377ea1387c50562894f5e991fdb08940[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Jul 16 08:06:04 2020 +0000

    Semaphore Automatic Update

[33mcommit 47bc54bebc69667400f19c6ba4402323a8dc5de2[m
Author: Gaurav <48036489+realgaurav@users.noreply.github.com>
Date:   Tue Jul 14 10:33:01 2020 -0700

    Add AWS source-destination-check handling (#2381)
    
    * Set AWS EC2 source-destination-check.
    * Updated UTs

[33mcommit 2edb662aaa253f83b9e8b6d0ce3cd3ee634310bd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 14 10:36:56 2020 +0100

    Speed up FV container tear down.
    
    Use SIGKILL and parallel shutdown.

[33mcommit 8cb997567d9aa0a19d541c4429d4289f63ee5927[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Jul 14 08:05:12 2020 +0000

    Semaphore Automatic Update

[33mcommit 9df492d7b0b250de1f90b915eb883cf930a99078[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Jul 9 15:42:27 2020 -0700

    Move policy acceptance to end of the filter table forward chain

[33mcommit 9536684af6e021d9b379834f9ccc864a7a4d2050[m
Merge: 531ceeb5 33dbb55d
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Jul 13 11:38:47 2020 -0700

    Merge pull request #2417 from caseydavenport/casey-respect-proxy-rules
    
    Support for both appending and inserting chains in iptables dataplane

[33mcommit 531ceeb59266efb2c9be03c2c8eeabcfd938ae96[m
Merge: e898abfc 5f2a3c91
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 13 13:17:21 2020 +0100

    Merge pull request #2310 from Nordix/issue-2089
    
    Allow override of iptable features like "MASQFullyRandom"

[33mcommit 379583a318f0a99896e6ee1d4a78903da5f3c0f5[m
Author: Jesper Dangaard Brouer <brouer@redhat.com>
Date:   Thu Jul 9 18:15:04 2020 +0200

    bpf-apache: Makefile use clang -target bpf
    
    When compiling BPF code the clang flag -target bpf should be used.
    
    The LLVM intermediate representation (IR) tries to stay architecture
    independent, but in some cases, when not using target bpf, it can generate
    code (mostly data structure access) that will be rejected by the verifier.
    
    This often happen if the program uses data structures with pointer or long /
    unsigned long types that interface with BPF helpers or context data
    structures.
    
    More details see kernel Documentation:
     https://www.kernel.org/doc/html/latest/bpf/bpf_devel_QA.html#q-clang-flag-for-target-bpf
    
    Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>

[33mcommit b5068b0b25adb1253ab17b71465ac5dbd5ce5111[m
Author: Jesper Dangaard Brouer <brouer@redhat.com>
Date:   Thu Jul 9 18:38:24 2020 +0200

    bpf-apache: avoid including libbpf.h for BPF-prog
    
    The header file bpf/libbpf.h is meant for userspace programs using libbpf,
    and not for BPF-programs (which BPF-bytecode is loaded into kernel).
    
    The problem is e.g. bpf/libbpf.h will include stdio.h, which doesn't make
    sense for a BPF-program.
    
    If compiled with -target bpf and not having libc 32-bit stubs installed then
    this will result in the following compile error:
    
      $ make
      In file included from sockops.c:16:
      In file included from ./sockops.h:15:
      In file included from ./bpf.h:19:
      In file included from /usr/local/include/bpf/libbpf.h:24:
      In file included from /usr/include/stdio.h:27:
      In file included from /usr/include/bits/libc-header-start.h:33:
      In file included from /usr/include/features.h:474:
      /usr/include/gnu/stubs.h:7:11: fatal error: 'gnu/stubs-32.h' file not found
      #  include <gnu/stubs-32.h>
                 ^~~~~~~~~~~~~~~~
      1 error generated.
      make: *** [Makefile:53: sockops.d] Error 1
    
    Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>

[33mcommit 5f2a3c9162cd47792aaa17db0da63bf1d3fa0602[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Thu Jul 9 18:21:32 2020 +0200

    Updated go.mod, go.sum

[33mcommit 51f015abc91173785be130923e20d599bfb10293[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Thu Jul 9 17:54:51 2020 +0200

    Removed the "local" flag for FeatureDetectOverride

[33mcommit 389fb554aa191178af1812fb8fa01ce29018c8f9[m
Author: Jesper Dangaard Brouer <brouer@redhat.com>
Date:   Thu Jul 9 17:46:51 2020 +0200

    bpf-apache: filter.c should not include stdint.h
    
    This is a step towards using clang -target bpf.
    
    Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>

[33mcommit e898abfcdc88ca803115c43707461ec9e1e9568e[m
Merge: fd642159 d1fa4fa2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 9 15:04:43 2020 +0100

    Merge pull request #2420 from fasaxc/squash-wg-log
    
    Squash spammy wireguard log.

[33mcommit fd642159297637c175fd4c729b67afe2fef5909d[m
Merge: cc5671b0 1c0b834c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 9 11:13:26 2020 +0100

    Merge pull request #2419 from fasaxc/rebalance-jobs
    
    Add more jobs to new-kernel FVs and reduce normal FVs.

[33mcommit cc5671b00dfa30360cb46235cb01b488a0acd385[m
Merge: a2896584 93aaaf43
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 9 10:59:44 2020 +0100

    Merge pull request #2418 from fasaxc/adjust-fib
    
    Do FIB lookup on to-host path.

[33mcommit d1fa4fa264ca36b679df6e57f7d8fd339e0b12de[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 9 10:57:13 2020 +0100

    Squash spammy wireguard log.

[33mcommit 1c0b834cf0a0c2f7388a2cd4005012cfafd46fde[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 9 10:00:42 2020 +0100

    Add more jobs to new-kernel FVs and reduce normal FVs.

[33mcommit 93aaaf43c4bec73e9297c062f0f92d883233632a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 9 09:23:16 2020 +0100

    Markups.
    
    Co-authored-by: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>

[33mcommit 33dbb55d26d88714f39c3c1750b8aae84b36d815[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Jul 7 11:12:34 2020 -0700

    Support for appending and inserting chains in iptables dataplane

[33mcommit 7bebfec4e98e3d347b3ac1f401e06fe0a82570dd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 8 14:31:32 2020 +0100

    Simplify FIB lookup logic.
    
    * Only try the lookup on the to-host path.
    * simplify other conditions.

[33mcommit a6a6ad4405a281dd429bd9a4733c745b9a402b7f[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Mon Jul 6 18:07:46 2020 +0200

    Corrected issues found by "make static-checks"
    
    And added license headers.

[33mcommit a2896584a9da5472ebd51ca541aad4f3397eedd7[m
Merge: aca95061 4a25224a
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 6 11:58:20 2020 +0100

    Merge pull request #2415 from neiljerram/integrate-wireguard-fv
    
    Integrate Wireguard FVs into main FV runs, including BPF

[33mcommit aca95061bd6131285ae798c79ca4a2b20530f1ed[m
Merge: cd1d66e3 1b1a084b
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Fri Jul 3 20:48:20 2020 +0530

    Merge pull request #2409 from sridhartigera/sridhar-bpf-561
    
    Adding support to detect RHEL with kernel version 4.18.0

[33mcommit 4a25224a5833a8f6a370ed708fb2deb4144614c2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 3 15:42:32 2020 +0100

    Review markup: comment for wireguard check

[33mcommit 640b6bf1633b5b5f07f597cff29a5714bbf51192[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 2 12:31:34 2020 +0100

    Check that Wireguard is NOT available on the normal Semaphore VM
    
    If it becomes available in future, then:
    
    1. We should remove the `make fv GINKGO_FOCUS=WireGuard-Supported`
    that we're running on the newer kernel VMs.
    
    2. We will need to delete or otherwise suppress the
    WireGuard-Unsupported tests.

[33mcommit 5c35c741665b15f373c4f987722da63adda6a8cd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 2 12:16:18 2020 +0100

    Restore running Wireguard FV tests without BPF

[33mcommit d7b95bc42a2850953f7656c90b64cb3d215e830f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 2 11:22:44 2020 +0100

    Integrate Wireguard FVs into main FV runs, including BPF
    
    - Wireguard is a feature like many others, so should be tested by the
      main FV run, instead of its own dedicated FV run.
    
    - Create separate script for determining whether Wireguard is
      available, and use that to set `FELIX_FV_WIREGUARD_AVAILABLE` for all
      FV runs.
    
    - To catch if we accidentally stop detecting Wireguard correctly, run
      `make check-wireguard` on the Semaphore setup where we expect
      Wireguard to be available.
    
    - Wireguard is composable with BPF, and now works with BPF, so mark
      Wireguard tests as `_BPF-SAFE_`.
    
    - Only run "WireGuard-Unsupported" tests when Wireguard is not
      available.

[33mcommit cd1d66e3728ffcd3103c1827e5fe1999e63ec93e[m
Merge: 232728b5 5b367068
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 3 15:31:42 2020 +0100

    Merge pull request #2400 from neiljerram/bpf-wireguard-fv
    
    Run a stripe of BPF tests with Wireguard as well

[33mcommit 1b1a084b296a7858311e69da532a855f69448f6d[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri Jul 3 19:47:28 2020 +0530

    Move regex parse outside the function

[33mcommit e6ffc32f3165ea67d35bae2dfe8bdc549cdc7c90[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri Jul 3 19:06:30 2020 +0530

    Addressed review comments

[33mcommit acf2c7a2db997900d90cbf78c641f09ae162df6b[m
Merge: 0dc7a78d 232728b5
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jul 2 21:17:48 2020 +0530

    Merge branch 'master' into sridhar-bpf-561

[33mcommit 5b367068c5347e6512de723318d417d01e5eb278[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 25 10:35:01 2020 +0100

    Fix IPAM -> BGP typo/misunderstanding

[33mcommit 6042e5630041f0c9e05cf33599de0c097ad98b8d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 22 11:34:48 2020 +0100

    Run a stripe of BPF tests with Wireguard as well

[33mcommit 232728b5ab5f8551bb722d28390d48662f7b7c9b[m
Merge: 77d696b6 04c4c54d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 2 16:39:22 2020 +0100

    Merge pull request #2414 from fasaxc/early-skip
    
    Switch from Skip to conditional test definitions.

[33mcommit 04c4c54dc03011c4e183d9abb27c96d87af269b3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 2 15:35:35 2020 +0100

    Back out parallel cleanup.
    
    Slows things down but fixes a flaking test.

[33mcommit d5cd2b356d0bbe9c994086faf02eb4ce9bb02ac1[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 18:22:58 2020 +0200

    Allow empty values

[33mcommit e56842889f6f90ab8cbf09a89fbbfb618163e06a[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 18:04:46 2020 +0200

    Remove unnecessary pointer to map[string]string

[33mcommit 0dc7a78d2832421e673851ecb313e023dc085d52[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jul 1 21:30:46 2020 +0530

    Changes to remove hashi-corp library

[33mcommit e26823422446f806d339e76b61251f6fd2db0745[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jul 1 20:50:53 2020 +0530

    Removing hasi-corp library and using our own Versionparse library

[33mcommit a8d96b81035a3b0c07b999bd81ebf0ce998af945[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 1 13:19:18 2020 +0100

    Switch from Skip to conditional test definitions.
    
    Avoids spinning up infrastructure for tests that are skipped.

[33mcommit 111f5b7793d15f19a704c9261b724f5c125694f1[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 13:30:46 2020 +0200

    Added a KeyValueListParam type with validation

[33mcommit ab6b8e791afbe5e2940844f0aab88a9cf49f2441[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 13:26:55 2020 +0200

    Accept empty items, e.g tailing ","

[33mcommit 77d696b667c41853781db2f40a3a0849e6599953[m
Merge: ff6f3ceb 31b3fb64
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 1 11:42:17 2020 +0100

    Merge pull request #2404 from neiljerram/wireguard-host-to-workload
    
    Add FV tests for WireGuard host to workload

[33mcommit ff6f3ceb54365d689c4e516181c98df4b29060e8[m
Merge: 08198823 b1130149
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 1 11:01:56 2020 +0100

    Merge pull request #2413 from fasaxc/speed-up-fvs
    
    Speed up FV tests

[33mcommit 081988237bd4454b9e91ed82cd3d2e61303d8ef8[m
Merge: 08703735 641f2df5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 1 11:00:01 2020 +0100

    Merge pull request #2408 from fasaxc/add-named-port-bench
    
    Add benchmarks for named port index.

[33mcommit 641f2df51aa89a0f7b4a0cdcb85dfa4209bca25e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 29 11:17:17 2020 +0100

    Add benchmarks for named port index.

[33mcommit 08703735122bdab1cbebb4ceac8d161e10024635[m
Merge: db90c833 9254a43e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 1 10:52:23 2020 +0100

    Merge pull request #2411 from fasaxc/quiet-skips
    
    Quieten skipped tests.

[33mcommit db90c833f6c9c9cf1315eef8b293451c5dc8fafc[m
Merge: 1a8c4113 b67c21e9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 1 10:50:53 2020 +0100

    Merge pull request #2410 from fasaxc/parallel-tc
    
    Allow tc to run in parallel again.

[33mcommit 5e6bb2773fbff4469841c66b162dd13f7778c77e[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 11:44:37 2020 +0200

    make fix

[33mcommit 98ee41973e8a8b5f46ceb7646d6a5dbb6d921a21[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 11:40:19 2020 +0200

    Replace the FeatureDetectOverrides scruct with a map[string]string

[33mcommit c250a103617e473d7a7e5fc6a8c704c7c817b67f[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Wed Jul 1 11:38:10 2020 +0200

    Add a KeyValue list parse function
    
    A comma separated key-value list is parsed to a map

[33mcommit 31b3fb64f2c624ce121b8449160300fc18d5ec9f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 1 10:06:56 2020 +0100

    Review markups

[33mcommit bbb8ea1db3926e2deb51bd3925e9f1f812fdbe39[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 26 15:09:42 2020 +0100

    Add FV tests for WireGuard host to workload

[33mcommit 4743b601c383f4c121da6308d7427e47d5707ad9[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jul 1 14:20:15 2020 +0530

    Added support to compare version strings with a suffix

[33mcommit b1130149987499b5c3acd09ab5748ab007bb3828[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 1 09:47:13 2020 +0100

    Markups.

[33mcommit 33d1b70d36e91b7f9e464721d265301cf4b26e12[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 19:08:56 2020 +0100

    Improve diabs when a command fails.

[33mcommit b028a96214760f236a9939e41c593bb54d5741e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 19:08:34 2020 +0100

    Start felix nodes in parallel.

[33mcommit e9d40663dfc3082ffa1c609b55367752dedc4e3d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 19:08:00 2020 +0100

    Handle cluster role being auto-created.

[33mcommit 68ab2e425b40aa139a33d0f1473b1d33aafe556b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 18:45:08 2020 +0100

    Increase QPS for test's clients.

[33mcommit bdefdb564bc45efea5dc5af64285e3151cc6a363[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 18:44:30 2020 +0100

    Tweak API server/controller manager flags.

[33mcommit 1385b0c6b31e1de2e44d7ff613978a166fccd8ef[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 18:23:37 2020 +0100

    Try k8s cleanup in parallel.

[33mcommit 4f968f64d3467c80daf5f6bdc429affe27983b80[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 18:21:58 2020 +0100

    Instrument FV cleanup.

[33mcommit b67c21e96ed3c5b99bcd94889943b5ca45f24bc4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 17:45:41 2020 +0100

    Fix race to upadte ifaces map.

[33mcommit 9254a43e84ae73cedae3b84c840b2bac27896685[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 16:12:20 2020 +0100

    Quieten skipped tests.
    
    We use skips all over the FV tests when a particular part of a
    test matrix doesn't make sense.  Avoid spammy logs from those.

[33mcommit 46016981656e07f4daf4594d6692cc1a82e72bd5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 30 15:36:39 2020 +0100

    Allow tc to run in parallel again.
    
    - Add a UUID to each binary to avoid hash clashes.
    - Use RWMutex to allow attach to run in parallel.
    - Remove map repinning logic.

[33mcommit 1e60fc19ba0b285eff4c8215d8433966d2ab185b[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 30 19:02:32 2020 +0530

    Code restructuring and some UT

[33mcommit 1a8c41135664fb73c2d713242dc4d1c1371712c1[m
Merge: e1bae17c f3b10954
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Tue Jun 30 18:38:56 2020 +0530

    Merge pull request #2398 from sridhartigera/sridhar-bpf-220
    
    New unit and FV tests to test service type changes

[33mcommit f3b109547aec87be5db4ad786579a80f4add8ec3[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 30 17:06:45 2020 +0530

    Run the FV tests for TCP as this test is not impacted by the protocol

[33mcommit 7181db6287c1b0c7c0c6f5c99aaaa5f607ee3bf8[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 30 15:31:19 2020 +0530

    Removing unused variable

[33mcommit 2692b086cedc3fb0cbf133ff03a6edda20c2ed64[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 30 15:19:02 2020 +0530

    Adding support to detect RHEL with kernel version 4.18.0

[33mcommit e1bae17ced27bcb96599a99694444045644f06d5[m
Merge: 66347185 7cf318a2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 29 13:34:05 2020 +0100

    Merge pull request #2405 from tomastigera/tomas-fv-nat-dump-concurrent
    
    fv: dumpNATmaps executes in parallel

[33mcommit 66347185a0f1f412bdaaa25d49e4bead8b2027f5[m
Merge: 5d1d0387 76128727
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 29 13:33:09 2020 +0100

    Merge pull request #2401 from tomastigera/tomas-proxy-startup-fix
    
    BPF proxy startup fix

[33mcommit 7cf318a20233125373f839e25a68e2db0e5574d8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jun 26 15:09:18 2020 -0700

    fv: dumpNATmaps executes in parallel

[33mcommit 761287278c52619b48463f5f753a22b2aa5d15ee[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 25 12:17:47 2020 -0700

    bpf/proxy: startupBuildPrev preallocs eps arrays
    
    We have an upper bound on how many eps each service may have. If we
    allocate a bit too much, it will get freed by the next update.

[33mcommit 1e90aec9aaf94c9e1df65b0a6ded4f95d3288c30[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 25 12:11:48 2020 -0700

    bpf/proxy: rename vars in matchBpfSvc() for clarity

[33mcommit ee2def1203d4a80f4d6848bab2cace002314a992[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 25 12:02:05 2020 -0700

    bpf/proxy: add some startupSync() related comments

[33mcommit 48569633428cb3db7d24c42feb822147c3453555[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 24 17:39:24 2020 -0700

    benchamark build tag

[33mcommit 914c69d43d1b8d03aceab769bdfd27e6968f5fd7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 24 15:31:39 2020 -0700

    bpf/proxy: pushing startup resync from O(n^2) towards O(n)

[33mcommit 5ff9d1d55678f43c4993d025cd3f3766fe113816[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 24 16:50:03 2020 -0700

    bpf/proxy: syncer startup benchmark

[33mcommit c7ff860ee30510bb6de43319e17a9302243a7fed[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Fri Jun 26 16:22:52 2020 +0200

    Removed the feature-override pre-check
    
    And updated log printouts.

[33mcommit ea6e48c67255fade9562cebcdf089508f7e03c1d[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Fri Jun 26 16:09:42 2020 +0200

    Revert "Make --random-fully configurable for MASQUERADE"
    
    This reverts commit 7c8777e3e75287142701888202b9c0ab9954347a.

[33mcommit 13648450709f2d974e978844321ab63657b26565[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Fri Jun 26 16:07:31 2020 +0200

    Param IptablesFeatureDetectOerride -> FeatureDetectOerride
    
    And "make fix"

[33mcommit fdb823b7d05aad3ebd7bb07a059708cf15f410c1[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 25 22:20:30 2020 +0530

    Clean up of UT

[33mcommit 331f8e45d662aaa24ba51624f53151eb2755e852[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Thu Jun 25 17:55:10 2020 +0200

    Add a IptablesFeatureDetectOverride config parameter
    
    Signed-off-by: Lars Ekman <lars.g.ekman@est.tech>

[33mcommit 5d1d03874b0823f8e0d51c05efe445beb5b53e10[m
Merge: c48a75b3 5c63e4ea
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Jun 25 08:36:40 2020 -0700

    Merge pull request #2393 from tomastigera/tomas-expect-fix
    
    fv: ExpectConnectivity is a universal expectation

[33mcommit c48a75b3846b8a44f0c14eb01e6e5e9a1f893444[m
Merge: 936d7dfb d4c9592a
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Jun 25 08:35:32 2020 -0700

    Merge pull request #2394 from tomastigera/tomas-bpf-map-iter-opt
    
    bpf: Reduced allocations in map related syscalls

[33mcommit 936d7dfb338ed0bf2d86cd9848976e45a5bd7d6a[m
Merge: 53d62efa 96e9f5ac
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Thu Jun 25 08:35:09 2020 -0700

    Merge pull request #2395 from tomastigera/tomas-proxy-ut-fix
    
    bpf/proxy flaky UTs fixes

[33mcommit 3666b14aafa8cf766bd876b2be009467d9840ffe[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 25 18:52:59 2020 +0530

    Error handling when updating service

[33mcommit 128ec5978616d421fb22bd5cf9a9071a849799a0[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 25 18:36:15 2020 +0530

    UT for service type changes

[33mcommit 53d62efadf42ee1c6e5ac30f6d2db6caf8759849[m
Merge: fc7013ce 7bb5fe7a
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 25 13:21:38 2020 +0100

    Merge pull request #2402 from neiljerram/print-container-logs
    
    FV: Print container log lines without additional log header

[33mcommit 7bb5fe7aaa542f90ba838acbbcc744b95262e94d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 14 15:19:57 2020 +0100

    FV: Print container log lines without additional log header

[33mcommit fc7013ce880396a6fe8045174c3e450b284f5c4b[m
Merge: 790c9e2c bd61e088
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 25 11:18:58 2020 +0100

    Merge pull request #2389 from neiljerram/bpf-wireguard
    
    Add BPF dataplane support for Wireguard

[33mcommit cb4d1e601c66179177aad5322d304d02af9e10d8[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Thu Jun 25 10:54:25 2020 +0200

    Handle FeatureDetectOverride and added some unit-tests
    
    Signed-off-by: Lars Ekman <lars.g.ekman@est.tech>

[33mcommit 85d3b11338dc809192e067a4c9f48e992cad2bb2[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Thu Jun 25 08:40:26 2020 +0200

    FeatureDetectOverrides structure added
    
    Signed-off-by: Lars Ekman <lars.g.ekman@est.tech>

[33mcommit d4c9592a26a457c26f0dd32334075690d0d19b57[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 17 16:23:44 2020 -0700

    bpf: reduced allocations in map related syscalls
    
    We use pass slices straight to syscall for both in and output.
    
    attr for the bpf syscall is allocated on stack in C just before each
    syscall.

[33mcommit 790c9e2caf14f5540ac7dbfcc7f93883b3d19b45[m
Merge: c44b48fa a9f5dfdf
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 24 17:15:18 2020 +0100

    Merge pull request #2399 from neiljerram/remove-unused-compiler-logic
    
    Remove compiler logic that is now unused

[33mcommit bd61e0886a953eff0fdd9f855c45b98e3e285a9c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 22 11:34:48 2020 +0100

    Add BPF dataplane support for Wireguard
    
    We need a new BPF program variant for Wireguard interfaces, because a
    Wireguard device sees an SKB with the IP header at offset 0, in both
    directions.  (aka It's an L3 device.)
    
    For now we prevent direct redirect from the Wireguard ingress problem,
    because that would need adding back an Ethernet header.  There will be
    follow-on work to try to do that.

[33mcommit 20ede0f81f730509cf1bd4c5e2fa662d77f3a65d[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 24 20:46:16 2020 +0530

    Updated fv tests

[33mcommit a9f5dfdf7928afd476d6cc900e6a046b84816244[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 24 15:56:09 2020 +0100

    Remove compiler logic that is now unused
    
    Per discussion with Shaun, this was replaced by equivalent Makefile
    and shell script logic.

[33mcommit bdb508c9b99d3f2deede68ba08a76cd52d030ec6[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 24 18:38:43 2020 +0530

    New FV tests to test service type changes

[33mcommit 7c8777e3e75287142701888202b9c0ab9954347a[m
Author: Lars Ekman <lars.g.ekman@est.tech>
Date:   Thu Apr 30 20:07:46 2020 +0200

    Make --random-fully configurable for MASQUERADE
    
    Default on, disable with FELIX_DISABLE_RANDOM_FULLY=true
    
    Signed-off-by: Lars Ekman <lars.g.ekman@est.tech>

[33mcommit 96e9f5ac9bcd3819848ecfcbc88994f76fb6c06f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jun 23 12:19:22 2020 -0700

    bpf/proxy: checkState checks "eventually"
    
    checkState waits for the Expect() within it to be true eventually with a
    10s timer.

[33mcommit 4cc28d72e24b36ea4892e30d5876cbe9c575c838[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jun 23 09:31:01 2020 -0700

    bpf/proxy: remove StaleUDPSvcs from state
    
    Syncer calculates it on its own when it needs it.

[33mcommit c44b48fab3a44e2a781e0b02aa251d7aa8940ede[m
Merge: 7fb88be5 896994f8
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 22 14:57:54 2020 +0100

    Merge pull request #2397 from neiljerram/no-force-wireguard
    
    Remove FORCE_WIREGUARD_FV

[33mcommit 896994f8ae452029f48c486c42f1939b544836bb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 22 12:57:39 2020 +0100

    Fix typo

[33mcommit d2373d59e6423cb6151072331c143d5b4ac69eae[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 22 12:55:43 2020 +0100

    Update semaphore job name

[33mcommit d265d41fc48492fa7eec836ed8b09b8127a5f7b5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 22 12:48:35 2020 +0100

    Remove FORCE_WIREGUARD_FV
    
    We shouldn't ever force wireguard if it's not available.  This is a
    step towards simplifying the FV invocation logic so that we can
    compose Wireguard and BPF testing.

[33mcommit 5c63e4eabb2737fe7986db313b9eafe43ff95615[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 17 14:55:00 2020 -0700

    fv: ExpectConnectivity is a universal expectation
    
    ExpectConnectivity can can express all what the other Expect*
    primitives can and is extendible for future uses by means of options.

[33mcommit 4cd77b3374344c567c189de507bf1ae1b052e63d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 17 14:30:44 2020 -0700

    fv: ExpectConnectivity takes ports as an option

[33mcommit 7fb88be5d7f7cb27d7e6aa30a458f1ecdf6e3aa9[m
Merge: 50246bf3 caa46ed0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 18 14:27:48 2020 +0100

    Merge pull request #2363 from fasaxc/graceful-tc-apply
    
    Make TC program application graceful

[33mcommit caa46ed0bd5353c49186785a2c5897620cc8afc3[m
Merge: 1e942130 10e78edf
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 18 12:13:15 2020 +0100

    Merge remote-tracking branch 'origin/master' into graceful-tc-apply

[33mcommit 1e9421301d80a14c4d537938096e557325468378[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 18 12:13:07 2020 +0100

    Markups.

[33mcommit 50246bf3838ba747d42f07ba7eb6e961fdc8f742[m
Merge: b684604c e46e1928
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Thu Jun 18 14:18:47 2020 +0530

    Merge pull request #2380 from sridhartigera/sridhar-bpf-218-dev
    
    Reject connections to services with no backends

[33mcommit b684604c89e352f20b2da2c9232f134056cd0774[m
Merge: 52c90545 cb156b1b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 18 09:39:57 2020 +0100

    Merge pull request #2373 from tomastigera/tomas-proxy-clean-conntrack
    
    BPF Proxy cleans up conntrack

[33mcommit 52c90545c3e970f8736dd28353a52a957fb2fe6f[m
Merge: 10e78edf a48a8bdc
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 18 09:05:11 2020 +0100

    Merge pull request #2392 from fasaxc/format-code
    
    Fix up formatting and make sure protobuf file gets formatted.

[33mcommit a48a8bdc245b9d9273e9b3373ce2c582bf196a01[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 19:32:01 2020 +0100

    Fix up formatting and make sure protobuf file gets formatted.

[33mcommit cb156b1b74693199ac202dc2eac0a78a09b9a773[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 17 11:20:47 2020 -0700

    bpf/conntrack: typos and minor fixes

[33mcommit 19f0aaa501bfc8cd9f857e50e990e5a48e5990f9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 17 10:44:43 2020 -0700

    bpf/proxy: Avoid  mangling []string by sort in ServicePortEqual

[33mcommit a54de01f10ef74e865a17ada22d15cc82e68dfe7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 11 09:34:33 2020 -0700

    bpf: conntrack cleaning only in kube-proxy
    
    kube-proxy runs cleaning periodically, both for removing expired
    conntrack entries as well as removing entries for connections that do
    not have active services/backends.
    
    bpf_conntrack_mgr removed

[33mcommit 3390b967bbc49cfd6eb62c100c4283579e54afaa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 19:12:58 2020 +0100

    Markups.

[33mcommit 9f23b45ec71dd39e6caa5586bd4905972863e630[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 19:12:15 2020 +0100

    Fix collision of ingress/egress FDs.

[33mcommit f696cf0310eb74877f96d1e81d81d81d84802ce7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 18:42:37 2020 +0100

    Markups.

[33mcommit e3a1788eccb05e87362b1110e3040ab0c74ce016[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 18:41:39 2020 +0100

    Update policy program without replacing whole program.

[33mcommit e46e19287356a0e045424fbdcfad885b0328be0b[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 17 18:52:45 2020 +0530

    Added ExpectNoConnectivity method

[33mcommit 10e78edfd6fa3201feb57066889501fc61c2a9d7[m
Merge: c4c437c9 a923e747
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 17 13:30:57 2020 +0100

    Merge pull request #2387 from tomastigera/tomas-ipip-np-host-net
    
    BPF fv ipip host networked test

[33mcommit 143a15806198a2607d92ca80c5eaeeb017db0c68[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 17 14:45:43 2020 +0530

    Review comments on FV tests

[33mcommit c4c437c956e596d86d015e24e4c8df558a195dc3[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Jun 17 08:04:19 2020 +0000

    Semaphore Automatic Update

[33mcommit 9bc613adac4e358f45317341b9bf1d2334444ae7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 10 17:03:38 2020 -0700

    bpf: move conntrack cleaning from proxy to conntrack pkg
    
    Proxy only calls the scanner, the code is in conntrack pkg where it
    logically belongs. Will be eventually merged with the LivenessScanner
    into a single scanner.

[33mcommit 8c84d56450488eab11bc030d363c8f9808386701[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 10 16:32:02 2020 -0700

    bpf: generic conntrack Scanner
    
    We scan the conntrack table for various reasons and since each scanner
    needs to be split per entry type, it is complicated to write it in a
    single function. This allows us to write the functions independently,
    configure them independently and execute then in a delete safe manner as
    scanners do remove entries.
    
    The API does not allow to delete a random entry, but it allows getting a
    random entry if that is neede to evaluate the current entry.

[33mcommit a923e747b01cefba7b1ec1036f9286067411aa92[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 4 15:53:32 2020 -0700

    bpf/fv: test nodeport connectivity from host networked pods

[33mcommit 657d18f0033fec04a698def6c01877575f0dc3b6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 8 19:16:08 2020 -0700

    bpf/proxy: syncer cleans up conntrack
    
    It builds a table of active service-backend pairs and iterates over the
    conntrack table at the end of its iteration and removes conntrack
    entries for connections that no longer have a valid service-backend
    pair.

[33mcommit b28407ed11edc0d5faa69a0c468a5cdd8af467fb[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 8 19:21:28 2020 -0700

    bpf/proxy: nat.BlackHoleCount is uint32

[33mcommit 3132d80a5e3cb140794b790d007807c390eadc58[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 8 19:18:03 2020 -0700

    bpf/proxy/tests: _ vars into camel

[33mcommit 4428d7fa2363694d6f626ad4d9f171c3965a05d2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 8 16:34:36 2020 -0700

    bpf: functions for creating various conntrack values

[33mcommit 6ada537c9975ffae5d5b951aef32bc0447722367[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 3 08:58:25 2020 -0700

    bpf/proxy: calculate active endpoints for conntrack cleaning
    
    At the end of a Syncer iteration, we have a map of services that have
    active / existing endpoints, which can be queried when we iterate over a
    conntrack map to answer whether a conntrack entry corresponds to an
    existing service front/backend pair.

[33mcommit f9863a58c2e72909b74834dc7d5fa664e7d1eca8[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 16 22:25:45 2020 +0530

    Minor changes to fv tests

[33mcommit b3798eb842d1ab5afae01c8fbcfd32b1e160d198[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jun 2 15:15:28 2020 -0700

    bpf/proxy: ServicePort deep equal
    
    Let's do not rely on poiner comparison for equality. If the k8s code
    changes and we get modified ServicePort with the same pointer, we are
    screwed.

[33mcommit c4223a08d70c91489ea1319a08ce1748caf1b332[m
Merge: 7569e6f7 f14d58bc
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Jun 16 08:24:58 2020 -0700

    Merge pull request #2374 from tomastigera/tomas-bpf-iter-syscall
    
    bpf: Map.Iter() uses bpf.GetMapNextKey syscall

[33mcommit 37175de8ec8f1ac7c70deb2cc3ff5f6a7d360229[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 16 20:43:05 2020 +0530

    sending error as a response from test-connection

[33mcommit 134fc2065fbd434af82f2275ddc6075d2164613d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 16 15:56:05 2020 +0100

    Fix up UTs.

[33mcommit d77dd146d14ec5164d16bd4e3011ef725c9fc4b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 4 18:27:05 2020 +0100

    Keep qdisc between program updates.
    
    - Never delete the qdisc.
    - Add new program then remove the old.

[33mcommit 8c7335946db7cad9d979019235a15abdea09fbda[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 16 18:11:05 2020 +0530

    Changes to FV test to test for error message(connection refused)
    when trying to make a connection to service without backend.

[33mcommit 7569e6f79a141776db2aaea170fc9e6e00911e28[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Jun 16 08:05:05 2020 +0000

    Semaphore Automatic Update

[33mcommit 726f58dca35784f859fc85eef02c2ba0b23508d9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 15 18:02:10 2020 -0700

    fv: AutoHEPsEnabled mimics AutoHEPs in fv infra

[33mcommit a24d5091d4724e934d7ec1a10cd5f61e3e96f6f2[m
Merge: 22a4ef3e f27861c6
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Jun 15 13:08:21 2020 -0700

    Merge pull request #2386 from fasaxc/race-detect-option
    
    Make race detector optional.  Enable by default.

[33mcommit 22a4ef3efc017072f50c64dc6f8f39301155455d[m
Merge: 38e41fef fc70e021
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 15 18:35:20 2020 +0100

    Merge pull request #2385 from fasaxc/free-space
    
    Free up space on the build machine as recommended by Semaphore support.

[33mcommit f27861c60d5a78c14880dbeaf968743e68b141e7[m
Merge: e96a90b9 fc70e021
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 15 18:29:27 2020 +0100

    Merge branch 'free-space' into race-detect-option

[33mcommit f14d58bc7cb4abc3b1cbea9efb9b57f0156ce636[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 15 10:27:34 2020 -0700

    bpf: update a comment in conntrack cleaner

[33mcommit 38e41fef2af4f0338ff965075af94f542c71c802[m
Merge: c30baf53 a891eaa0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 15 17:52:01 2020 +0100

    Merge pull request #2384 from fasaxc/fix-config-flake
    
    Fix flake in config FV test.

[33mcommit fc70e02179a44e01cc7e0358afc071bc5ec91086[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 15 17:44:15 2020 +0100

    Free up space on the build machine as recommended by Semaphore support.

[33mcommit e96a90b96c52f9c0524d4220758ee56c5129c683[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 15 17:40:31 2020 +0100

    Make race detector optional.  Enable by default.

[33mcommit a891eaa062637a862f3723223211f0c1bc1d2674[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 15 16:22:23 2020 +0100

    Fix flake in config FV test.
    
    MAke sure we wait for felix to finish loading its config before
    we trigger a new restart.

[33mcommit a8e21861e9ecda7de0aa5e6c41ba81c992b5b201[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Jun 15 14:53:44 2020 +0530

    Added a new FV test to verify icmp port unreachable

[33mcommit c30baf53ec96011de2a7ec5df5a25c328d3c0d0b[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Jun 13 08:18:04 2020 +0000

    Semaphore Automatic Update

[33mcommit 781f6832b71dca55bd515c22b95483abd9904f07[m
Author: Gaurav <48036489+realgaurav@users.noreply.github.com>
Date:   Fri Jun 12 16:14:07 2020 -0700

    Adding more WireGuard FVs (#2362)
    
    Adding more WireGuard FVs:
    
      * WireGuard traffic test with GNPs
      * borrowed-IP handling in WireGuard route-table.
      * nodes with mixed WireGuard enabled/disabled settings.

[33mcommit d8fbce081df363c9454c5e5e4c52670f019a6f4d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 11 16:14:53 2020 -0700

    bpf: bpf.Map.Open() opens map without creating it
    
    tools like calico-bpf need a way to open a map since the syscall based
    Iter() does not do it on its own anymore.

[33mcommit 6b392382227eb270cf695ffa5f09daa1dd50674e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 10 14:32:38 2020 -0700

    bpf: LivenessScanner only deletes the current key
    
    It may lookup the reverse key when it hits a forward entry, but it must
    not delete it at that time.

[33mcommit d4a0eac6019dc767ec154fee588e8d1d672a4d26[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jun 10 14:20:52 2020 -0700

    bpf_route_mgr needs to call ensureDataplaneInitialised() earlier
    
    The BPF routes map is not initialized yet when m.resyncWithDataplane()
    tries to iterate over it. The legacy bpftool based iterator does not
    mind as it initializes it itself, but the syscall based one needs things
    to be ready.

[33mcommit deecd641c2926046ef12981dd8c15d3a3d7652e9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jun 9 18:43:51 2020 -0700

    bpf: Map.Iter() uses bpf.GetMapNextKey syscall
    
    Iteration is delete-safe, that is, deleting the current key does not
    break iterating over the map, no key will be skipped and no key is
    visited more then once.
    
    The above holds as long as there is no other concurrent user.

[33mcommit 2558688cb14a946870cf78477185835d5dc7ff82[m[33m ([m[1;33mtag: v3.16.0-0.dev[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 12 15:43:13 2020 +0100

    Begin development on v3.16.0

[33mcommit 4b0d74df1e44c7aaf85882c7480785bc024bc77a[m
Merge: e1bb0d61 9442b838
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 12 14:11:10 2020 +0100

    Merge pull request #2383 from neiljerram/update-pins
    
    Update pins

[33mcommit 9442b83844ecdb104cc1a1c0d585f5879fae0917[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 12 12:28:06 2020 +0100

    Add AWSSrcDstCheck config param to satisfy UT

[33mcommit b5f47f1adb69d28e54658f67f7fa6fe8df0fb893[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 12 11:56:40 2020 +0100

    Update pins

[33mcommit e1bb0d61146d1a00d310259f1657b1aebc822489[m
Merge: 17921cc5 088528c2
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 12 11:55:04 2020 +0100

    Merge pull request #2382 from mgleung/typha-failsafe
    
    Add typha port to failsafes

[33mcommit 17921cc56a9520a978991d9566c277d7111a98ce[m
Merge: d4d227ee 7698e0e1
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Jun 11 17:34:14 2020 -0700

    Merge pull request #2378 from robbrockbank/basic-wg-updates
    
    Include wireguard tunnel IP address in wireguard routing

[33mcommit 7698e0e10aa0523be0a2e9ca67fd810207323d4b[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Mon Jun 1 11:51:26 2020 -0700

    Include wireguard tunnel IP address in wireguard routing

[33mcommit 088528c2eb4407733b48bcad443e93960ca0aebf[m
Author: matt <mleung975@gmail.com>
Date:   Thu Jun 11 10:53:20 2020 -0700

    Add typha port to failsafes

[33mcommit 94bc53dd0275fab322de05328bcd0272d194cd2e[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 11 22:13:48 2020 +0530

    Code reorganization

[33mcommit b792b97c503177cb5c295046d54083b7f9375fba[m
Merge: 018a9971 d4d227ee
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 11 22:06:48 2020 +0530

    Merge branch 'master' into sridhar-bpf-218-dev

[33mcommit d4d227ee6ea9ed60289377575bf037d1be307ad3[m
Merge: 96001bd9 9d49c8c1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 11 15:41:57 2020 +0100

    Merge pull request #2376 from Brian-McM/bm-update-pins
    
    Update pins / fix prometheus client

[33mcommit 96001bd91f07ca702dacc91267591520e56f8ed4[m
Merge: b6046cd6 485db040
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 11 15:13:29 2020 +0100

    Merge pull request #2371 from fasaxc/race-detect
    
    Collect race detector reports during FV

[33mcommit 9d49c8c1d29ce3e4015bd73f8690d29ad8605ded[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Wed Jun 10 13:36:09 2020 -0700

    Update pins / fix prometheus client
    
    This commit does the following:
    - updates and tidys the pins
    - uses the NewSummary method in the new libcalico-go version to create prometheus summaries, as the defaults were removed in the new version of the prometheus client

[33mcommit 018a99712ab54eb901b4af4ffcbee9d3c05842df[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 11 18:12:38 2020 +0530

    Alignment changes

[33mcommit b803537c62b977f58b91141f131278f39071f353[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 11 18:10:13 2020 +0530

    Alignment changes

[33mcommit b6046cd62e88655cc4f879a3de694025b76aab18[m
Merge: 221c23d0 c372e9be
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 11 12:23:00 2020 +0100

    Merge pull request #2379 from fasaxc/fix-wg-build
    
    Use 20.04 for the wgtool image.

[33mcommit 485db040f14a0cc06bbe4997c70e61de709b0eac[m
Merge: 2db644e6 221c23d0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 11 12:21:35 2020 +0100

    Merge remote-tracking branch 'origin/master' into race-detect

[33mcommit 2db644e67a31eb3fcf50af99e1bc0cef433c7528[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 11 12:17:35 2020 +0100

    Markups.

[33mcommit abb430a8c4ab18532d12187664e89d5ba727a9fc[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu Jun 11 16:13:56 2020 +0530

    UT cases for ICMP port unreachable

[33mcommit c372e9be72166c7dc7aaeb0e1b4580f6421ad885[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 11 10:54:45 2020 +0100

    Use 20.04 for the wgtool image.

[33mcommit 221c23d0a7dd2cf8eeaf8156c055b495f2b28f79[m
Merge: bdecac61 a7ef6de4
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Jun 10 15:08:05 2020 -0700

    Merge pull request #2368 from caseydavenport/casey-active-passive
    
    Add ability for Felix to act as passive standby

[33mcommit a7ef6de43ba600a21d00b9696087fedd6bf3ae23[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Jun 10 13:02:47 2020 -0700

    Update libcalico-go and pins

[33mcommit bdecac6130fb1fff849ad257e3f4409ef7fe033e[m
Merge: 016bf63e fc179295
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Jun 10 10:43:52 2020 -0700

    Merge pull request #2375 from fasaxc/fix-wg-build
    
    Install only wireguard-tools, rev text VMs to 20.04

[33mcommit cbc96bf704fc859ed99fdf96c7ddcd9f026f3c8c[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Jun 8 15:30:47 2020 -0700

    Add ability for Felix to act as passive standby

[33mcommit fc179295a607408501ae418a82d644bee75d91f5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 10 16:45:06 2020 +0100

    Rev new kernel test image to Ubuntu 20.04.
    
    Should support wireguard out of the box.

[33mcommit 1f85a162d986b1bfe8bb363679192f03af152a19[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 10 20:40:43 2020 +0530

    Changes to send ICMP port unreachable if there is a service without
    backend
    1) Modified the ICMP replies to a new BPF section
    2) When there is no NAT backend, send a port unreachable similar to
       kube-proxy

[33mcommit 560cfeb0c57edaf66ca60e25f4a4226dff18133b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 10 14:39:34 2020 +0100

    Only install wireguard-tools package.

[33mcommit 016bf63e8026de14eee3c741310385d8309d8b3e[m
Merge: d1c468a5 e5613154
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Jun 9 16:19:50 2020 -0700

    Merge pull request #2372 from robbrockbank/fix-wg-flakes
    
    Update wireguard tests: use functions for Eventually, stop checking Felix PIDs

[33mcommit e5613154570edb0d32a360611ab3583580aaed98[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Jun 9 13:38:29 2020 -0700

    Update wireguard tests: use functions for Eventually, stop checking Felix PIDs

[33mcommit b4946330fdfb7a39bc1b321ec5cd8c26e69a693c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 18:23:41 2020 +0100

    Markups.

[33mcommit a47dc19ce336c8fde0204d14838dc796d8db39c6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 18:12:02 2020 +0100

    Add test for the race detection machinery.

[33mcommit 68b65ab2848b4db893249ee293c0f3238974cdfa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 16:45:24 2020 +0100

    Avoid mutating config from multiple goroutines.

[33mcommit d1c468a5a6d4b7b076fecd5c3773807db02cae95[m
Merge: 546e1e25 ca89db15
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 15:02:39 2020 +0100

    Merge pull request #2365 from projectcalico/fix-up-badges-1
    
    Fix up README badges

[33mcommit 692877076e12551c54c05af5c3cad1b1d1db51d6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 14:32:15 2020 +0100

    Fix another race when logging out manager.

[33mcommit bde43effdde200a08bdb0aca5c19096f0d5f2e9e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 12:21:30 2020 +0100

    Markups.

[33mcommit 00bffd05578795d33d21345c35955ef20f83b057[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 12:20:58 2020 +0100

    Fix race in RegisterManager().

[33mcommit ace4cd2702e8c5e89c87195db8155b497f9c3513[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 11:36:47 2020 +0100

    Collect data race reports from felix during FV.

[33mcommit cee676ed1ef1295a9fe09e28829b985779b64254[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 11:35:30 2020 +0100

    Avoid extra directory when publishing artifacts.

[33mcommit 546e1e254eb2618d83a86cd2a73f28fa03261171[m
Merge: e550b39f e8569f94
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 9 10:38:12 2020 +0100

    Merge pull request #2364 from tomastigera/tomas-assorted-fixes
    
    BPF: small fixes

[33mcommit e550b39fa96ff57af7794049a3e4bc5cb44319d6[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Jun 9 08:17:41 2020 +0000

    Semaphore Automatic Update

[33mcommit dd5f1e988af5d28f979ccaf4bc7b6b2c279b23b2[m
Merge: bf4f02a2 be96fc36
Author: Gaurav <48036489+realgaurav@users.noreply.github.com>
Date:   Mon Jun 8 20:04:10 2020 -0700

    Merge pull request #2369 from realgaurav/wg-fv-flake
    
    Addressing workload traffic flake.

[33mcommit be96fc3614e863c804b7d22588d5681e770964f6[m
Author: Gaurav Khatri <gaurav@tigera.io>
Date:   Mon Jun 8 15:36:06 2020 -0700

    Addressing workload trafic flake.

[33mcommit e8569f941da20a5f6da624e4b55f1b4dc1f1f5ad[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 8 10:32:59 2020 -0700

    bpf/fv: fix typos

[33mcommit 40eb7e2e0fb9891d861b9df6e27976ed06f5068b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 4 15:51:14 2020 -0700

    bpf/fv: host networked pods not picked up by policy
    
    host networked workloads must be also configured in datastore so that
    they can be associated with policy.
    
    local host with non-zero ifindex means, there are host networked
    workloads

[33mcommit bf4f02a297888c9c7ded02dcb4f0d48dc9e7b72a[m
Merge: 66f5267b 2da3e397
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Mon Jun 8 22:54:41 2020 +0530

    Merge pull request #2353 from sridhartigera/sridhar-bpf-144
    
    Adding support for Load balancer SourceIPRange

[33mcommit 2da3e397908019417fec5827a2776e6b248da60d[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Jun 8 21:46:12 2020 +0530

    Indentation fix

[33mcommit 8f090e4cf1e496d3d69b4a7bb4dbae632e434aae[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Jun 8 21:42:31 2020 +0530

    Fixed issues in fv tests

[33mcommit 24a7a78b1768c3c85845bc9fb6697c878ae72bfc[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Jun 8 20:03:48 2020 +0530

    grouped related FV tests
    error handling when we delete keys while deleting service

[33mcommit ca7a5c396023c00602d01fe23e695c59dbe15318[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 4 15:50:24 2020 -0700

    cmd/calico-bpf: nat dump shows local counts as well

[33mcommit b06505102d9ecfd321c343fad822c4b71a3be322[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jun 4 15:47:59 2020 -0700

    bpf: sendrecv4 entries not for TCP
    
    TCP does not need this, the connect time recod creation only makes sense
    for "connected" UDP that calls recvmsg and other similar protocols.
    
    This would keep the tables less occupied.

[33mcommit 66f5267b04cda4d6d1673fd9a12a4c3c0c7ffc13[m
Merge: 00f57b6c 765cbc48
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Jun 5 13:53:33 2020 -0700

    Merge pull request #2366 from tomastigera/tomas-update-pins
    
    update pins

[33mcommit 765cbc4891621f209489f7aaaf5630164a0797d7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jun 5 11:35:57 2020 -0700

    update pins

[33mcommit ca89db15d80c6e60f1ef4afad3c9b7e531676392[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 5 18:06:36 2020 +0100

    Fix up README badges

[33mcommit 522a3664d0deb2263cdc1ac526c8ffc84368692f[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri Jun 5 19:04:52 2020 +0530

    Added new FV tests to test
    1) ExternalIP functionality
    2) LB source range with externalClient

[33mcommit 00f57b6ca049584c2d4d59581d3646a43946c6bf[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Jun 4 08:19:11 2020 +0000

    Semaphore Automatic Update

[33mcommit 9520b3c307314235fe430d5c1a036e986193b531[m
Merge: 7e0a33fd 4ddc9dd2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 3 18:27:03 2020 +0100

    Merge pull request #2358 from fasaxc/panics
    
    Collect core files when felix crashes in FV.

[33mcommit 4ddc9dd2976acc8a3ce31129094a62a9f3354286[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 3 16:19:12 2020 +0100

    Markups

[33mcommit 6d5a5db79e2497238e4ca27770ac8869a28daa64[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 3 13:57:33 2020 +0100

    Collect artifacts from non-BPF runs too.

[33mcommit 1b9d01e2f43b587a009941f82ca81be72d3b4d1f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 3 13:54:13 2020 +0100

    Avoid dumping core from expected failures of the test-connection binary.

[33mcommit ec677b8c44445358454ad06baca67c8b6373dbe6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 3 11:52:21 2020 +0100

    Fix artifact collection.

[33mcommit 616a7ca53284ea9b22c038ef8cf45afd6c4727ac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 2 18:38:50 2020 +0100

    Compress artifacts

[33mcommit 905135f0e8a2f11faadb2b0b7cf352929c34e27b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 2 17:12:08 2020 +0100

    WiP on artifact collection.

[33mcommit f05115e8a2edfc03fb2952bfb699476f1512a8c9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 2 16:05:16 2020 +0100

    Remove spammy log from FVs.

[33mcommit d96ebdf5a6b0ab62e2cc7c3fc0f1da67620a8dd8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 2 16:05:07 2020 +0100

    Add artifact collection.

[33mcommit d24140d1eab26a7e486541b766b9518e24a4323a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 2 15:52:46 2020 +0100

    Add on-test-vm script to reduce verbosity of semaphore yaml.

[33mcommit 693ccec9c65d9bfcc06809cd62ca75cc9a18543d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 2 15:31:43 2020 +0100

    Collect core files when felix crashes in FV.

[33mcommit f84872160603d001dcd233e5d87f0ba8c1e3be3c[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Jun 3 14:03:17 2020 +0530

    Fixed few issues with UT and added new UT cases

[33mcommit c9167a3b0a9320952035c0a231506897bb5ae989[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Jun 2 13:54:54 2020 +0530

    Added a new FV test

[33mcommit 7e0a33fde1a80bfc068efe480b51e9f9f7313a27[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Jun 2 08:21:58 2020 +0000

    Semaphore Automatic Update

[33mcommit 5eca7d019a47e3144057db6639e9ad208a06ff01[m
Merge: d7efcf1f aacfac2f
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Mon Jun 1 13:43:31 2020 -0700

    Merge pull request #2350 from tomastigera/tomas-k8s-1.17
    
    update k8s libraries to v1.17.2

[33mcommit aacfac2ffc6726ec0929d73d52c65abbc0cc5819[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jun 1 12:20:48 2020 -0700

    bpf/proxy: remove a stale comment
    
    p.healthzServer.Updated() just marks the state as updated now, can be
    done in this thread.

[33mcommit 45afef27cdcc6346747c07be4caf60064bb78211[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu May 28 09:23:51 2020 -0700

    bpf/proxy serviceInfo.TopologyKeys() implemented

[33mcommit 06b85a64bb3110e3bb4f21f99a5cc5118654e434[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 26 13:48:13 2020 -0700

    update k8s libraries to v1.17.2

[33mcommit 57f0f683d00c60359c7c2783e77265f4a4ef8b1a[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon Jun 1 10:30:41 2020 +0530

    Changes to add NAT entries for
    1) External IP
    2) Modify the drop entry with count 0xffffffff
    3) Added new UT test case

[33mcommit d7efcf1ff34b71a7be92b36ccdbebd1f92d93adb[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat May 30 08:25:54 2020 +0000

    Semaphore Automatic Update

[33mcommit 536678631068b60772e4d5578d409df46f510cde[m
Merge: 851156ce 22f371f0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 28 12:10:24 2020 +0100

    Merge pull request #2331 from tomastigera/tomas-proxy-ep-slices
    
    bpf: EndpointSlices support for kube-proxy

[33mcommit 851156ce25262a8be96c3e8cf68a9a1dc3092aa3[m
Merge: 7b0fa809 cf7d7923
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 28 11:25:58 2020 +0100

    Merge pull request #2347 from tomastigera/tomas-use-node-ip-as-src-ip
    
    bpf: HOST_IP represents the same node ip on all host ifaces

[33mcommit 22f371f0cdf0abc249a2d8c4cca86256d7f76b3b[m
Merge: 1143b164 7b0fa809
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 28 11:02:57 2020 +0100

    Merge branch 'master' into tomas-proxy-ep-slices

[33mcommit 3ed7b6c16cba0c87c657ddf596704eaf36e351d4[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 28 14:27:16 2020 +0530

    setting affinity value to 0 for the nat fe drop entry and few macro
    definitions

[33mcommit 7b0fa8098a22d7c2877605d5ca8f8f911c95acf0[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed May 27 18:08:54 2020 -0700

    Update of libcalico-go to use new CRDs (#2351)
    
    * Update of libcalico-go to use new CRDs
    
    * Use -k instead of -f
    
    * Update k8s version via go-build
    
    * Update k8s hyperkube image
    
    * Revert to -f
    
    * Remove globalfelixconfigs reference

[33mcommit 1143b164cfbe7413feffa90a9e77c90b221caf29[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed May 27 14:19:29 2020 -0700

    update pins for EndpointSlicesEnabled

[33mcommit 91ff776bc334cc78c209b852dc3884a741440de9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed May 27 11:57:17 2020 -0700

    bpf/proxy: port names need to match for stale UDP detection

[33mcommit cf7d792346d444070a3f2b817ed3094755b9003e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed May 27 14:07:41 2020 -0700

    bpf: no special case with hostIP for tunl0 ifaces
    
    We either have a node IP (hostIP) or not. When we have it, we can atach
    tc programs to any ifaces, if not, all will fail.

[33mcommit 5c160550d91f777586cdac3b27be3967c5d70501[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri May 22 09:20:37 2020 -0700

    bpf/proxy: test EndpointSlices with ExternalPolicy=Local

[33mcommit 7ff31804a8b5f16ddea487709a2f7429b37afceb[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed May 20 08:02:53 2020 -0700

    bpf: EndpointSlices support for kube-proxy

[33mcommit 74d8888ee7ccac637bb7d10c2732959d597863fb[m
Merge: d0f3fa61 72571f18
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 27 18:03:55 2020 +0100

    Merge pull request #2338 from fasaxc/typha-endpoint-lookup
    
    Connect directly to Typha rather than via ClusterIP

[33mcommit e53b47bd94200ffbe3afda5e39162011d46d31d2[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 22:11:33 2020 +0530

    Using macro for prefixlen for nat fe lookup

[33mcommit 5f6c98654dc9cf2c21bbbd2369e41111000c8850[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 21:20:07 2020 +0530

    1) Changes to copy the src addr to the nat fe key
    2) Ignoring IPv6 CIDRs in source IP range

[33mcommit d0f3fa61baf818371df51fd34ee1a071d69a8ed9[m
Merge: 21358d63 165a9433
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Wed May 27 08:39:32 2020 -0700

    Merge pull request #2352 from tomastigera/tomas-proxy-stale-udp
    
    bpf/proxy: collect stale UDP services

[33mcommit 21358d63381a489655f1479ba5c93e485492f598[m
Merge: 53aa1be3 f6b5c2b5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 27 15:37:34 2020 +0100

    Merge pull request #2337 from fasaxc/fix-config-inherit
    
    Fix automatic disabling of BPF mode on older kernels

[33mcommit 72571f183b8e1312ff9482d4b67cf65cdb9368db[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 27 11:54:44 2020 +0100

    Markups, adjust tests to use fake k8s client.

[33mcommit b5f31d3a68db30cd27917fcf6628f287b6db4775[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 15:26:30 2020 +0100

    Connect directly to Typha rather than via ClusterIP
    
    Allows for bootstrapping with BPF dataplane.

[33mcommit 53aa1be34aec471a09b6b92f25ba8492b6e3e4d3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 27 14:58:29 2020 +0100

    Revert "Semaphore Automatic Update"
    
    This reverts commit e301550029fcee776e08c6385247a6962b6397ff.

[33mcommit 16aea7153c292ef416742e3d21a43cc584ba14ae[m
Merge: e3015500 b4555592
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 27 11:56:43 2020 +0100

    Merge pull request #2348 from realgaurav/wireguard-up-timeout
    
    Address WireGuard FV flakes

[33mcommit 22d3aa02373222a25f2173c87b9002159ca5b851[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 15:35:53 2020 +0530

    static checks

[33mcommit 4d8170f720f955b28f8f374749b2b924d9e88c5f[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 15:29:59 2020 +0530

    Handling endianness explicitly when copying prefix length

[33mcommit fdf21e348a4063cb544589dbb3b5ccfeb4d39980[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 14:10:11 2020 +0530

    Fixing static check issues

[33mcommit e301550029fcee776e08c6385247a6962b6397ff[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed May 27 08:33:03 2020 +0000

    Semaphore Automatic Update

[33mcommit 6ac9aed4ac9a41441ca45fc27dcad42d2cd54fd8[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 13:45:52 2020 +0530

    Versioning changes and removing debugs

[33mcommit e2a558ff007abb7a2ee810cc0a0826b2c3d5bfd7[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 27 13:39:10 2020 +0530

    Versioning of the NAT FE BPF MAP

[33mcommit b4555592266aca5ca2736db5c1e0b8a42a40c395[m
Author: Gaurav Khatri <gaurav@tigera.io>
Date:   Tue May 26 23:12:28 2020 -0700

    Address WireGuard FV flake --
      * adjust wireguard disabled test
      * adjust wireguard config change test
      * increase time-out

[33mcommit 165a94335f46e6dc517357f5b903c5f9623188f3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 26 16:13:00 2020 -0700

    bpf/proxy: collect stale UDP services

[33mcommit 3582d7fb6aa5cf73b753871608225d19813d677f[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 26 22:30:49 2020 +0530

    UT to drop and allow packets based on src IP

[33mcommit caa7361a69ee91134e10898d4f4b5e27b0d99c22[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 26 19:35:17 2020 +0530

    UT for testing Syncer with LBSourceIPRange

[33mcommit acea05f167a1ec98c131d15eea8b4cae9db76d4c[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 26 18:21:50 2020 +0530

    Fixed UT issues with affinity key

[33mcommit afbf3e33c202c83cc60743efd8a69ddd6e08673c[m
Merge: 92ab434d b3dbb0a0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 26 10:11:48 2020 +0100

    Merge pull request #2339 from fasaxc/fix-metrics-panic
    
    When starting the metric server, only retry the ListenAndServe.

[33mcommit c1e325423d69e7c4a485fb0daa70b47f1f14f524[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 26 14:35:34 2020 +0530

    1) Changes to drop the packet after level1 nat lookup
    2) Handling source IP range while deleting the service

[33mcommit 448ff6af706b71ae9d6fe83bda42822e18de8f26[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon May 25 15:57:26 2020 -0700

    bpf: relax RPF check in multi-nic FV

[33mcommit fc28684f84467fd454d9e843cf100c9751f91411[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon May 25 11:48:31 2020 -0700

    bpf: HOST_IP represents the same node ip on all host ifaces
    
    Instead of having the iface ip hardwired in the attached tc program, we
    hardwire the single node IP that is used to pass packets within the
    cluster (the NP vxlan tunnel) and to respond with ICMP errors.
    
    This allows, for instance, for scenarious with multiple NICs that share
    the same IP, but the IP is not assinged to any of them, but is
    represented by local routes.

[33mcommit 92ab434d90e74511d3febe26b44a4eb7e2e8b1e2[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat May 23 08:20:54 2020 +0000

    Semaphore Automatic Update

[33mcommit 75d8ca4b540f3e5608f55106e55db480974681f5[m
Author: Laurence Man <laurence@tigera.io>
Date:   Fri May 22 09:13:21 2020 -0700

    Only log on err (#2334)

[33mcommit b3dbb0a0415c9bbda20425e4919c0fcd4353d62c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 16:27:36 2020 +0100

    When starting the metric server, only retry the ListenAndServe.
    
    Registering /metrics more than once casuses a panic.

[33mcommit 57e6463a95b8c0e664f1cfef7981417af1eef650[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri May 22 20:51:07 2020 +0530

    changes to fix bpf ut

[33mcommit 9d1eeddc71f6e5af838457344ab3987b68422ede[m
Merge: 5bb89f7a b2c2cc46
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 16:15:59 2020 +0100

    Merge pull request #2335 from fasaxc/fv-fixes
    
    Minor FV fixes/improvements

[33mcommit a7206d86db8a137d4f1c6e638166fffcbb50ae0b[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri May 22 20:35:21 2020 +0530

    NAT FE map changes to support source IP range with LB in BPF mode

[33mcommit 5bb89f7a4656d390672f57a99cff819578b4bc80[m
Merge: 3ba016c8 7dcbcc00
Author: Neil Jerram <neil@tigera.io>
Date:   Fri May 22 14:44:41 2020 +0100

    Merge pull request #2336 from neiljerram/default-allow-port-6443
    
    Add Kubernetes API server port (6443) to failsafes

[33mcommit f6b5c2b5217515b44783c82b60c35c77bfcd61f2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 13:55:38 2020 +0100

    Clean up duplicate BPF kernel check.

[33mcommit c2b7eeddc6c35fb30a211b4ff0a349a47a665b24[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 13:50:57 2020 +0100

    Canonicalise names of config fields before checking inheritance
    
    Previously, when processing env vars, we'd do a lookup for, say
    'bpfenabled', when the map contained 'BPFEnabled'.

[33mcommit 3ba016c8a2bbb05567c00a747780aa1ffae4bdcf[m
Merge: 2a35fe01 7db65890
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 12:44:11 2020 +0100

    Merge pull request #2318 from fasaxc/external-ips
    
    Examine the local routing table instead of link addresses

[33mcommit 7dcbcc00188062226cee7a63b7d5a7ea300dadc7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri May 22 11:47:22 2020 +0100

    Add FV for Kubernetes API server connectivity

[33mcommit 3d86cd6bfb7803fee5ce2bdcddf2bcdfc10d0369[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri May 22 10:14:02 2020 +0100

    Add Kubernetes API server port (6443) to failsafes

[33mcommit 7db65890af772b3abc45c2b1fe5bceb7f2a08ea6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 10:01:08 2020 +0100

    Markups.

[33mcommit b2c2cc4632ca009538aaefcc7ccc877606cf9559[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 09:48:58 2020 +0100

    Send SIGHUP to felix only, not the wrapper.
    
    From the bash manpage:
    
    > When bash is waiting for an asynchronous command via the
    > wait builtin, the reception of a signal for which a trap
    > has been set will cause the wait builtin to return immediately
    
    This means that, if we send the wrapper a SIGHUP, it
    passes it on to felix but the wait call also returns immediately
    with the same SIGHUP RC that we are expecting from felix itself.

[33mcommit aab686bb1d7313f375cc837659ee46d9f7c9bae7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 09:48:25 2020 +0100

    Make calico-felix-wrapper greppable in the output.

[33mcommit 2a35fe0140ffa93ae8ef2b619cef30cd0560fb0d[m
Merge: 25249625 37e8b6fd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 22 09:45:59 2020 +0100

    Merge pull request #2330 from realgaurav/wireguard-more-fvs
    
    Felix WireGuard FVs

[33mcommit 25249625a031a37f41b72e40d74520eaee7afb90[m
Merge: b88ec259 1cde782c
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Fri May 22 14:12:25 2020 +0530

    Merge pull request #2327 from sridhartigera/sridhar-bpf-198
    
    Git pre-commit check for license, copyright in .c and .h files

[33mcommit 1cde782c3f4fe49be3c43cb407f64b74df19be90[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 21 22:02:45 2020 +0530

    Modified the in container hook to handle .c and .h files

[33mcommit 336c2b9ef9447c4c111bdefe7256c4a3c04f990b[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 21 21:59:15 2020 +0530

    Reverting copyright for unchanged files

[33mcommit 37e8b6fd29a88fed7be72e7e450e2044cb917b45[m
Author: Gaurav Khatri <gaurav@tigera.io>
Date:   Wed May 20 14:48:16 2020 -0700

    WireGuard FVs:
    
    * Check pod-to-pod traffic is ecrypted
    * Check there is no direct pod-to-pod traffic
    * Check 'wg' stats to verify that the traffic on each node is complimentary.

[33mcommit b88ec25938a9e3140f197169629ee9aa4d19cad6[m
Merge: 8e5f4da3 c52b9fa6
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu May 21 08:49:21 2020 -0700

    Merge pull request #2329 from lmm/lmm-update
    
    Disable accept_ra in workloads

[33mcommit c52b9fa6f90658a89b51bf76867045b0783fd3bf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 21 15:00:22 2020 +0100

    Revert special-casing for OpenStack

[33mcommit 8e5f4da33c5eaa1fb8cbf355dcf077a3b9680712[m
Merge: 78176c34 3dd52409
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 21 11:55:08 2020 +0100

    Merge pull request #2326 from tomastigera/tomas-vxlan-to-local-host
    
    BPF: decap vxlan iff for any known localhost IP

[33mcommit c976a0dc7724d02642d34c399fb1443e9d7853f9[m
Merge: e64a20d0 78176c34
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 21 10:04:19 2020 +0530

    Merge branch 'master' of https://github.com/sridhartigera/felix into sridhar-bpf-198

[33mcommit f21735977bc5d5f3f0ecc50b36eb6fca568cece7[m
Author: Laurence Man <laurence@tigera.io>
Date:   Wed May 20 15:06:54 2020 -0700

    Disable accept_ra in workloads

[33mcommit 3dd524091f2b134fc690be96a47054c3b1ea7985[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 19 10:58:14 2020 -0700

    bpf: use rt_addr_is_local_host() in ip options test

[33mcommit 1b654ef4b8ce5f6dafa32ff6507c9463285da4c4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 19 10:50:22 2020 -0700

    bpf: decap vxlan tunnel if for local host
    
    Make the test based on rt lookup, not just on the patched in static
    HOST_IP. This allows multiple local host IPs.

[33mcommit 78176c34d30514b5fcac5b22ecbb1b549616f949[m
Merge: a56406fe 9971a56f
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Wed May 20 13:41:59 2020 -0700

    Merge pull request #2328 from sridhartigera/sridhar-bpf-build
    
    Fixing build issues with bpf

[33mcommit 9971a56fd295b534c75a95aabacd92d78285a153[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 20 20:37:49 2020 +0530

    Fixing the bpf-gpl build issue

[33mcommit 8f2f32778894a3de9f2f8f7ca747144575929fd5[m
Merge: f8e2e59b a56406fe
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 20 20:35:38 2020 +0530

    Merge https://github.com/projectcalico/felix

[33mcommit e64a20d0548daa7f48978986ae95c4fc52826026[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 20 19:53:56 2020 +0530

    Fixed the compilation error

[33mcommit a56406fe5300bd9ef143155a8e7daca4e2f3ec0d[m
Merge: 563a9e7d eded3f06
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 20 15:18:50 2020 +0100

    Merge pull request #2325 from tomastigera/tomas-health-check-np
    
    bpf: Proxy healthCheckNodeport unittest

[33mcommit 563a9e7d1c659dee51bd830db850118fe00bb936[m
Merge: 66f29914 33f7f27c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 20 15:18:02 2020 +0100

    Merge pull request #2314 from tomastigera/tomas-multi-nic-rpf-fix
    
    BPF: multi nic rpf fix

[33mcommit 49fba93e6fad64ba28e7de8940f566e8243e5d7f[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 20 19:21:06 2020 +0530

    ) Added new git pre-commit hook to check for copyright and license
       in .C and .h files under bpf-gpl and bpf-apache directory
    2) Fixed the license and copyright information of the source files
       in bpf-gpl and bpf-apache directory

[33mcommit 66f299149429012c4db54a32dacb712a2203898e[m
Merge: a7e32fbb 762ea151
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 20 13:31:54 2020 +0100

    Merge pull request #2320 from realgaurav/wireguard-fv-flakes
    
    Fixing WireGuard flakes

[33mcommit a7e32fbb8a49ebc251072e5d673e6c911fc44fd1[m
Merge: ef72e6bd 7ed73090
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 20 12:27:37 2020 +0100

    Merge pull request #2323 from fasaxc/iptables-refer
    
    Only program iptables chains that are referenced.

[33mcommit f8e2e59bb7fb9521f133629c1899ffeb7f0d3908[m
Merge: f5d41cdd ef72e6bd
Author: sridhar <sridhar@tigera.io>
Date:   Wed May 20 14:20:51 2020 +0530

    Merge https://github.com/projectcalico/felix

[33mcommit 762ea151ce50118474ce04741ede5f6c563752fd[m
Author: Gaurav Khatri <gaurav@tigera.io>
Date:   Fri May 15 14:03:11 2020 -0700

    Undo revert, fix flakes by:
    
    * increasing timeout, polling-time for route and rule check
    * ignoring error check for interface presence check
    * disabling packet-count and tunnel-output check

[33mcommit ef72e6bde2bddb2b38024dcc5dfe535757724b16[m
Merge: adf03d44 2f2fe9b1
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue May 19 10:53:40 2020 -0700

    Merge pull request #2317 from tomastigera/tomas-vxlan-tunnel-spoofing
    
    BPF: VXLAN tunnel source/dest policing

[33mcommit adf03d44a7b9adc8e66d84a0363b04da3ac8a0d2[m
Merge: c3c3b1b6 eec86fec
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Tue May 19 22:21:29 2020 +0530

    Merge pull request #2321 from sridhartigera/sridhar-bpf-119
    
    Changes to use syscall version for deleting BPF maps

[33mcommit 33f7f27cf4862ac23f422240c7576322dfa58a56[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri May 15 00:54:28 2020 -0700

    bpf: always try rt lookup and only relax if from tunnel
    
    If we got a packet from tunnel and we got a NAT miss and we got a route
    miss, assume that it is a service IP and since we got a NAT miss, assume
    a nodeport in amulti NIC scenario.
    
    The NAT miss might have been just a temporary miss and we might treat
    another service IP wrongly as a nodeport. This should be a subject of
    runtiem configuration.

[33mcommit 7694a5c1991c133e7d797821e2480465611a7acf[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sun May 10 11:34:01 2020 -0700

    bpf/fv: multi-NIC np test requires non-strict rp_filter

[33mcommit 0ea8da1aed1ab58476e06fd754b724fa4d41a4d3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat May 9 15:49:20 2020 -0700

    bpf: NP pkts after decap need to skip rpf check
    
    When nodes have multiple NICs, one for the private/cluster network and
    one for reaching the outside world, a packet after being decaped from
    the tunnel would be dropped by a strict RPF check because it looks it
    arrived from the private network iface but the best path is straight to
    the public net.

[33mcommit 0e18010e7dcd28273bd7136aa5d04d904630722c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat May 9 15:53:49 2020 -0700

    bpf: do not set BPF_FIB_LOOKUP_OUTPUT after encap
    
    Its is not correct to set it makes the packet to go out the same iface.
    It breaks if forwarding though another iface and FIB is successful.

[33mcommit eded3f063ec63298c0e71256943a87d2c8a990be[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat May 16 16:08:28 2020 -0700

    bpf: Proxy healthCheckNodeport unittest

[33mcommit c3c3b1b6868ae1636baca386c2c128b8799968c0[m
Merge: d40e9530 9deb3b45
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Tue May 19 20:29:19 2020 +0530

    Merge pull request #2315 from sridhartigera/sridhar-bpf-369
    
    Drop packets with IP options

[33mcommit eec86fece6161bd307a573b8edff05758ba103a8[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 19 15:59:14 2020 +0530

    Error handling for deleting non-existent KV in map

[33mcommit b508d6f1eab18ddf33d2d02dc0cb37b50ee6dabd[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 19 15:09:18 2020 +0530

    Changes to fix the issues with conntrack test

[33mcommit 6eb093f77ccd4e499c298370633b282c639de7bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 19 10:04:21 2020 +0100

    Derive interface IPs from local routes instead of addresses.

[33mcommit d40e953062fcaeec01ddca62b971ca1beb57b698[m
Merge: 67f14c1b 9a187e89
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 19 10:00:03 2020 +0100

    Merge pull request #2311 from fasaxc/filter-iface-upds
    
    Filter netlink address updates to avoid flapping when an IP is replaced.

[33mcommit 7ed73090f7b6f45b45c3d179fb122fa504d55cd7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 19 09:35:29 2020 +0100

    Markups.

[33mcommit 67f14c1b56d40ab7cd19a4466b91e32d9a58e497[m
Merge: f20bcc4d 42b586fe
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 19 09:24:00 2020 +0100

    Merge pull request #2324 from robertoalcantara/fix_ext_driver_msgs
    
    Updated RecvMessage, payload.WireguardStatusUpdate

[33mcommit 42b586fee7e831a314f3720fbb814ce297093b11[m
Author: Roberto Alcantara <roberto@eletronica.org>
Date:   Mon May 18 16:22:38 2020 -0300

    Updated RecvMessage, payload.WireguardStatusUpdate

[33mcommit 42dd62bcab3aff5ebd4a7c2230ebfa08829943ce[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 18 20:16:14 2020 +0100

    Only program iptables chains that are referenced.
    
    This avoid programming policy chains that are not in use in the particular table.
    Should significantly reduce iptables use and contention when updating large
    policies.

[33mcommit 054dc7f07d46fbe57a55f0ae6af5d7f423332c77[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 21:21:53 2020 +0530

    Building calico-bpf with CGO enabled and handling errors

[33mcommit f20bcc4d50675d7c34ab317f02de0c8d9ddd8b34[m
Merge: a6cc83f4 fd6aacef
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 18 16:30:59 2020 +0100

    Merge pull request #2322 from projectcalico/revert-2289-wireguard-fv
    
    Revert "WireGuard FV"

[33mcommit 9a187e8940855446de3dbda7f88cc687d4e8a8a8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 18 13:53:12 2020 +0100

    Markups.

[33mcommit 9deb3b45342526927354952dfaced212b5110ac1[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 19:17:27 2020 +0530

    Check for dest IP only if its FROM_HEP

[33mcommit fe499a9f55174fa50e2468b0453bfafc337ca8bc[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 18:22:23 2020 +0530

    Removing unused functions

[33mcommit 78330f804f0b619e4f5b0c8f3b5d5a138980a2b1[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 18:17:11 2020 +0530

    Changes to handle deleting non-existent entry in the map

[33mcommit fd6aacefca8a30a48919e05c345e4bd5fa2d52bb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 18 13:03:11 2020 +0100

    Revert "WireGuard FV (#2289)"
    
    This reverts commit d4711f99eda516cafaf17df11ab2de6cb56f7373.

[33mcommit c28a50268b18db340ed8f03f2114bd7302ed657a[m
Merge: 8e44984d 766d8a94
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 16:56:46 2020 +0530

    Merge branch 'sridhar-bpf-119' of https://github.com/sridhartigera/felix into sridhar-bpf-119

[33mcommit 8e44984dcbe75ec8cbe5798816b99d209e25fe4a[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 16:55:21 2020 +0530

    Merging master with branch

[33mcommit 766d8a944faa44297803e3151c139272bace802b[m
Merge: 59f53cd0 a6cc83f4
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Mon May 18 16:28:03 2020 +0530

    Merge branch 'master' into sridhar-bpf-119

[33mcommit f5d41cdd8c33332a6f3cc1974ca239806ba79729[m
Merge: 9e93a77d 59f53cd0
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 16:12:13 2020 +0530

    Merge branch 'sridhar-bpf-119'

[33mcommit 59f53cd044a1b1fb13182d80581ac7e9129c1f93[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 15:56:08 2020 +0530

    Changes to use syscall version for deleting BPF maps instead of
    bpftool

[33mcommit 33b3c64373999ae1245261062518a8db588a820a[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 18 14:54:04 2020 +0530

    1) Drop malformed IP packets (IHL < 5)
    2) Drop packets with IP options from/to wep and dest IP not host IP
    3) Allow packets with IP options if dest IP is host IP
    4) UT for the above changes

[33mcommit 2f2fe9b1767b0fe274dc457930c71c43674381f0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri May 15 16:47:26 2020 -0700

    bpf: merge tw if (encap_needed) blocks
    
    There is no more code between them, the second can be included in the
    first.

[33mcommit 3c00bd9128a4ee7d864aa111c1352f33235d3e7d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri May 15 00:32:28 2020 -0700

    bpf: fix typos and comments

[33mcommit 596ed13102d132bf8506aae940ca68324921dc4f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu May 14 15:44:34 2020 -0700

    bpf: check source of tunnel pkts on both nodes
    
    Since we also record the next hop node when we first receive the
    nodeport packet, we can also change if we receive the packets from the
    same node back.

[33mcommit 9be35e1f49ea2870c7536b1f69c60ab22e5d336e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 12 22:05:15 2020 -0700

    bpf: no RP lookup for conntracked nodeport tunnel
    
    We remember the destination node when we first create the conntrack
    entry and we use the recorded destination node when we do consequent
    conntrack lookups.

[33mcommit 91a208ed4dc7c54dc3e448096719695b5677fcd6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 12 19:08:09 2020 -0700

    bpf rename calico_ct_result->tun_ret_ip to tun_ip

[33mcommit ff2609b4cb115e7b399b2daf61d2d1d135b7728d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 12 18:59:51 2020 -0700

    bpf: rename ct_ctx->nat_tun_src to tun_ip
    
    the same for state

[33mcommit 69da54c7968987f916f7f6fade3381f1bdbf8b54[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 12 18:19:45 2020 -0700

    bpf: store tunnel dest in conntrack

[33mcommit 2e35fc4a4e90bd4fa59111ad5ed4432732429084[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 12 16:00:03 2020 -0700

    bpf: check source of tunnel pkts on dest node
    
    The source node IP gets recorded when we first approve it and when we
    first create a conntrack record. If the source node IP changed, we drop
    such packets unless we are able to confirm that the node IP changed but
    the node is the same. We cannot do that atm.

[33mcommit 46e8182cb1d13e7d9559107e9778c8e8c89d51d2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 12 11:33:02 2020 -0700

    bpf: do not accept tunnel from non-node src IP
    
    Prevent accepting decaped packet if sent from a src IP that is not a
    known node IP. We fail to create the necessary conntrack entry and that
    drop the packet.
    
    We defer the check to conntrack creation as if done earlier, we would
    need to do a routing lookup for every packet.

[33mcommit a6cc83f400f1e37f25fc23cf4c9be2afe1b7c558[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat May 16 08:30:29 2020 +0000

    Semaphore Automatic Update

[33mcommit 82565897b106452b79928ec413a8e5646e8c439f[m
Merge: 2c330acf 9e93a77d
Author: sridhar <sridhar@tigera.io>
Date:   Fri May 15 16:14:56 2020 +0530

    Merge branch 'master' into sridhar-bpf-369

[33mcommit f78ae1effb5be1bbe7886bcc23fe92dce6e57a62[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 15 10:16:26 2020 +0100

    Markups.

[33mcommit 2c330acf76bc08d6089f3394b7ced7bd53bee4dc[m
Author: sridhar <sridhar@tigera.io>
Date:   Fri May 15 14:25:11 2020 +0530

    Drop all packets with IP options, irrespective of whether it is
    to host or workload EP.

[33mcommit ad6fb5a265844b614e8399544bf502aca8d20364[m
Merge: 2870cbc8 af62384a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 15 09:40:46 2020 +0100

    Merge remote-tracking branch 'origin/master' into filter-iface-upds

[33mcommit af62384a7d26bfcecac7108a73c743903d3d9272[m
Merge: d4711f99 5e460ea9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 15 09:40:05 2020 +0100

    Merge pull request #2316 from fasaxc/bpf-cleanup
    
    Reduce cases where we flap BPF programs, improve diags

[33mcommit d4711f99eda516cafaf17df11ab2de6cb56f7373[m
Author: Gaurav <48036489+realgaurav@users.noreply.github.com>
Date:   Thu May 14 10:10:00 2020 -0700

    WireGuard FV (#2289)
    
    * Wireguard FVs.
    * Explicitely check if all Felix-es have been restarted

[33mcommit 5e460ea97d846b8b365caf8baf3d73324fe9149d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 14 12:25:58 2020 +0100

    Add dedicated error for device being missing.

[33mcommit 4376b1e812995b152cd4b2ab1100fed4104ba7e6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 14 11:56:28 2020 +0100

    Add map iteration test.

[33mcommit 9396d724d3437f7be8608b0adbc04d916136d71c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 14 11:40:12 2020 +0100

    Only parse output from bpftool.
    
    Don't try to parse intermingled stderr.

[33mcommit 790d2bbfdb14209277e1a8b9afd2b1efb60ae12a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 13 16:14:05 2020 +0100

    Markups.
    
    Co-authored-by: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>

[33mcommit 29d76112c51b233b61687c99e58e5a6ce1aa909c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 12 14:44:18 2020 +0100

    Avoid flapping BPF programs in more cases.

[33mcommit c95b393982a4129f1edd084052a3ea6af6e9a480[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 12 14:44:01 2020 +0100

    Improve diags when attaching BPF program.

[33mcommit 7c52a12c1f99bf37f27b0b11fc6e4ed695f8a56b[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu May 14 08:27:58 2020 +0000

    Semaphore Automatic Update

[33mcommit 0f91818adb6305982bd16a040607694606f89810[m
Merge: 3e4dd6fe 56d79662
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed May 13 11:45:38 2020 -0700

    Merge pull request #2303 from caseydavenport/casey-update-libcalico-go
    
    Update of libcalico-go

[33mcommit 56d7966299c9b7967669a19008d7c8632f425d2a[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue May 5 11:52:44 2020 -0700

    Update of libcalico-go

[33mcommit 2870cbc81cafd5b4e7a605d05a7d3b7bd73f5624[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 12 14:43:13 2020 +0100

    Filter interface update to avoid flapping.

[33mcommit 6627f2407e33b2b814b18a61bec7c42b860d352f[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 12 15:31:32 2020 +0530

    Drop all packets with IP options from/to workload end points.
    Additional UT to test packet with IP options

[33mcommit 3e4dd6fe2c8d4607a185c54ca08aab3ee2ba88e8[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue May 12 08:17:33 2020 +0000

    Semaphore Automatic Update

[33mcommit 0a71dfe6d86a77ed26535e7655ffc2c526acc952[m
Merge: 9e93a77d bf946f1f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 11 15:24:17 2020 +0100

    Merge pull request #2313 from fasaxc/fix-map-errs
    
    Return os.ErrNotExists from map deletes.

[33mcommit bf946f1f3b6a7187e266a048f747932dce0979b8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 11 11:55:49 2020 +0100

    Markups

[33mcommit 9e93a77d33402b7178b1d238d0e7f62192bda01b[m
Merge: 9b1f3779 dfcccaa5
Author: sridhartigera <63839878+sridhartigera@users.noreply.github.com>
Date:   Mon May 11 15:58:55 2020 +0530

    Merge pull request #2282 from sridhartigera/sridhar-bpf-122
    
    changes to support ICMP type and code check in policy in bpf mode

[33mcommit dfcccaa5e6cf530db2d77f754d5c88e177727fe5[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 11 14:53:35 2020 +0530

    Typo and formatting issues

[33mcommit 7ff63b5c4666bee8bbbac08b6e4e11033304d276[m
Author: sridhar <sridhar@tigera.io>
Date:   Mon May 11 14:41:14 2020 +0530

    Adding comments for godoc

[33mcommit fbde084f30673cf6f965606cff28521309ce4685[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 7 15:53:26 2020 +0100

    Add UT for map deletion.

[33mcommit 8c415f1d8d8e59cfb8e841f64201f7fa87e18275[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 7 19:48:31 2020 +0530

    Resolving static check issues

[33mcommit e08420b2d6ffb28a13458e4d616addf76562b3a6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 7 14:55:38 2020 +0100

    Return os.ErrNotExists from map deletes.
    
    This is the error that the calling code was expecting in that case.

[33mcommit 548e49693a476629334a4becc09996b71b2dbb14[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 7 19:17:18 2020 +0530

    changes for UT and static check to pass

[33mcommit afe99ea919992ea92bdf567d5c56a7e9b2148ec5[m
Author: sridhar <sridhar@tigera.io>
Date:   Thu May 7 14:13:50 2020 +0530

    Modified the comments

[33mcommit 9b1f3779f44497d12154ffcc598138cf655c00b7[m
Merge: 73f58f80 efe5442a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 6 09:58:39 2020 +0100

    Merge pull request #2300 from tomastigera/tomas-fix-ip-patch
    
    bpf: Binary.PatchIPv4() logs incorrectly if not IPv4

[33mcommit 73f58f80a4640b6e4d4323f3c41495a94453d0ad[m
Merge: e2a2b34f a58edf22
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 6 09:52:30 2020 +0100

    Merge pull request #2301 from robbrockbank/fix-conntrack-deletion
    
    Fix conntrack deletion

[33mcommit e2a2b34fbafa99790f7e4a3d32c3c5a32463bcd3[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed May 6 08:18:28 2020 +0000

    Semaphore Automatic Update

[33mcommit a58edf2263a79e1143acabc1b33e59c87742a515[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue May 5 10:50:13 2020 -0700

    Ensure conntrack tidied up when interface is deleted:

[33mcommit c60698dbe8f94818e7ed2aecdf4203e9f6201bbc[m
Merge: dcc5effa 08d0568a
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue May 5 14:05:05 2020 -0700

    Merge pull request #2297 from robbrockbank/add-local-routes-in-wg
    
    Add local throw routes to wireguard table

[33mcommit 08d0568a24ab59f37cbdb47b200130e9da20179b[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Mon May 4 15:10:54 2020 -0700

    Add local throw routes to wireguard table

[33mcommit efe5442a08e85bcdf96b0bafc2910aa96fe80dda[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue May 5 11:05:41 2020 -0700

    bpf: Binary.PatchIPv4() logs incorrectly if not IPv4

[33mcommit e37dfe52c970111e85851e2905154bf5e95c735f[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 5 21:24:41 2020 +0530

    Corrected the formatting

[33mcommit 6b633332aa41d0bbcd1a239efd91fc560d295cda[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 5 20:41:47 2020 +0530

    Addressed review comments
    1) Comparing 16 bits for ICMP type and code
    2) Setting the dport in state to 0 just before adding to conntrack
       for ICMP packets

[33mcommit dcc5effa83653208f8411a1771117537d714d745[m
Merge: 8a9bc7e1 b9f20ff8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 5 13:31:40 2020 +0100

    Merge pull request #2298 from fasaxc/deflake
    
    Deflake tests that dump BPF maps

[33mcommit b9f20ff8749defab1ae1cc64c098616af1198674[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 5 11:37:32 2020 +0100

    Wait for BPF map to exist before dumping it.
    
    Prevents flake if felix hasn't created the map yet.

[33mcommit 8af351149ad41aa9de5979521a4cc38c62ef9551[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 5 11:28:06 2020 +0100

    Improve diags if kube-proxy module fails to start.
    
    Actually log the error.

[33mcommit ddde95e8ff6fa78c4d6e863c41fa3cfa76c72ddc[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 5 14:56:07 2020 +0530

    Added comments for ICMP type and code related changes

[33mcommit de8066e79a0fa516034d918eb5835469cc4ac4fc[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue May 5 14:51:47 2020 +0530

    This commit has the following changes
    1) Filter src net and dst net based on the IPversion of the rule
    2) IPversion check and filtering rules based on IPversion are moved
       to a common function for both IPTables and BPF
    3) UT to validate ICMP type and code rules
    4) IN UT, for ICMP the dest port is copied to state->dport and not to
       post_nat_dport

[33mcommit 8a9bc7e17c211bfb1de39255bad19a6b5466f31f[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat May 2 08:22:10 2020 +0000

    Semaphore Automatic Update

[33mcommit 0df435ce382246d5d445113abd5e7012c1ac4bcf[m
Merge: 054741a3 af2aedbd
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri May 1 19:32:15 2020 -0700

    Merge pull request #2294 from robbrockbank/allocate-wg-idx-disabled
    
    Ensure table index is assigned to wireguard even when disabled

[33mcommit af2aedbd5aa68a260b66352c272e05a3bc53926a[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri May 1 18:31:25 2020 -0700

    Ensure table index is assigned to wireguard even when disabled

[33mcommit 054741a3a7e5be215dab34b86953f570cbd75e8f[m
Merge: a0018931 b9e99a98
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri May 1 10:35:54 2020 -0700

    Merge pull request #2286 from robbrockbank/rule-per-local
    
    Create a wireguard rule for each local source CIDR

[33mcommit b9e99a98e74ad235115713249d04ee53828e8f9b[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Apr 30 23:03:17 2020 -0700

    Don't use log context in multiple go-routines

[33mcommit bcee1fac1e3181582c46f8bf67f9e91a5d1e60c6[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Apr 29 14:47:42 2020 -0700

    Only route to wireguard for workload-originated flows

[33mcommit a00189319e45ad7bde390dfbce9b2080777551c5[m
Merge: e7f689d1 e58c06f4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 1 10:11:02 2020 +0100

    Merge pull request #2290 from tomastigera/tomas-multi-nic-np
    
    BPF: NodePorts on multi-homed nodes

[33mcommit e7f689d189558ded6738a0cdb07e7f352ec5f946[m
Merge: cc68daf4 2e2c5e8d
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Apr 30 18:11:11 2020 -0700

    Merge pull request #2291 from robbrockbank/delay-felix-port
    
    Delay felix startup

[33mcommit 2e2c5e8d1dbc5bedcd984970d494573923ce37b4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 22 14:57:14 2018 +0100

    Delay felix startup

[33mcommit e58c06f49bc7e458fd2ef87e2537d5ab03b20d65[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 29 16:34:16 2020 -0700

    bpf: NodePorts on multi-homed nodes
    
    When a nodeport traffic arrives on one NIC and is forwarded to another
    node through another NIC, we need to make sure we use the right source
    IP as the next node must be able to route the response back to the
    ingress node.
    
    Tests do not cover DSR, but nothing really changes for DSR as long as
    the next node has a route to the original client. DSR may not make much
    sense in this setup though.
    
        192.168.20.1              +----------|---------+
             |                    |          |         |
             v                    |          |         V
           eth20                 eth0        |       eth0
         10.0.0.20:30333 --> felixes[1].IP   |   felixes[0].IP
                                             |        |
                                             |        V
                                             |     caliXYZ
                                             |    w[0][0].IP:8055
                                             |
                       node1                 |      node0

[33mcommit cc68daf45ce1e84fa1ea11e6b150c3089c3e52a7[m
Merge: fe67a792 ea8ff98d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 30 16:28:01 2020 +0100

    Merge pull request #2287 from fasaxc/bpf-kernel-ver-check
    
    Add a kernel version check for BPF mode.

[33mcommit ea8ff98de87e4c1e8260448f39dfc878f6b210f0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 30 13:49:31 2020 +0100

    Add a kernel version check for BPF mode.

[33mcommit fe67a792fc1321e09fb5e91d9699c292da8f782e[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Apr 30 08:20:47 2020 +0000

    Semaphore Automatic Update

[33mcommit 56403f9af66de0ea90e7865218de781f21e163d5[m
Merge: 5e8415cd e29c6fb2
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Apr 29 14:46:13 2020 -0700

    Merge pull request #2285 from robbrockbank/add-rule-manager
    
    Add rule manager

[33mcommit 5e8415cd4b71f0327f03f87389cec1d2445a3953[m
Merge: ee6cff99 4b7e4cbf
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Apr 29 13:22:51 2020 -0700

    Merge pull request #2284 from fasaxc/set-ip-forward
    
    Auto-configure the IPv4/6 forwarding sysctls.

[33mcommit 46b7b926d14c59677a202709636b4e2c2efafb70[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 29 13:17:57 2020 -0700

    bpf/ut: NP tests should use the node IP
    
    It does not matter too much atm, but the packets as well as the NAT
    tables should use the node1 IP for correctness. It is a cleanup to allow
    testing with multiple NICs with different IPs.

[33mcommit e29c6fb2a880144e9d287aa6b2cad3c89cf7023f[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Apr 29 11:51:16 2020 -0700

    Test resync after deleting rule out-of-band

[33mcommit 27f74a07c12a1b718f75a419f63ea5d63d7912e6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 29 11:56:49 2020 -0700

    bpf/ut: defer RT map clean  up to test that modify RT
    
    Otherwise the state of the RT table spils over to other tests.

[33mcommit fe7b969370233da7d4b24d796e7912cb783edb23[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Apr 29 11:23:53 2020 -0700

    Add rule manager

[33mcommit 7599679c3885f85994fd720202b71861a68f2426[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 29 22:37:30 2020 +0530

    CIDR filtering for src and dst net

[33mcommit ee6cff99cf98b9ea44bbb30c7401f147b597fc96[m[33m ([m[1;33mtag: v3.15.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Apr 29 08:24:06 2020 -0700

    Begin development on v3.15.0

[33mcommit 4b7e4cbff9ac505df5e32516fef929a553bdd20f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 29 14:06:38 2020 +0100

    Auto-configure the IPv4/6 forwarding sysctls.

[33mcommit ab0b1e94b396180f19434babfc7e04888e5500f4[m
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 29 14:29:45 2020 +0530

    changes addressing review comments

[33mcommit e2f1a0f345ea5f479ea33262dab76ca9942b0b06[m
Merge: cc0a24f0 8a98291c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 29 09:51:09 2020 +0100

    Merge pull request #2283 from tomastigera/tomas-fib-tunnel-fix
    
    bpf: do not override fib=false if no forward

[33mcommit cc0a24f08eecfcace0d72b1bf24337fadb95afe7[m
Merge: b6534859 4454d1ee
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 29 09:49:18 2020 +0100

    Merge pull request #2281 from tomastigera/tomas-fix-whitelist
    
    bpf: simplify whitelisting and test it

[33mcommit b6534859596cf8b9baad6b60b3dde72a5fe8572d[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Apr 29 08:17:53 2020 +0000

    Semaphore Automatic Update

[33mcommit 7b3e18ed6fe236291dcd9abdcd0641322d6f300b[m
Merge: 8e4fc0ad 4ca4c2a1
Author: sridhar <sridhar@tigera.io>
Date:   Wed Apr 29 13:46:49 2020 +0530

    Merge branch 'master' into sridhar-bpf-122

[33mcommit 4454d1ee02d8e15f1833a1ece1116eabea757dff[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 27 16:01:23 2020 -0700

    bpf: simplify whitelisting and test it
    
    Be more explicit about how we whitelist. Do not guess if we are
    forwarding to tunnel or not. Whitelist both sides if we forward to
    tunnel as we go through a single program and policy only.
    
    Added test to check whilisting in various scenatious including Nodeports
    forwarded as well as handled locally.

[33mcommit 8a98291c6f596a04cc51e440039c84a84aee46b7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 28 18:35:42 2020 -0700

    bpf: do not override fib=false if no forward
    
    If the backend workload for for the a NodePort is local, no tunnel
    forwarding happens, we can still use local kernel to reliably do RPF
    check for us if we think it is needed.

[33mcommit 1e3003a2dc1ac8e612c2e1cf1aa5a953290b56ff[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 27 17:30:37 2020 -0700

    bpf/ut: allow naming ifces in UT tests
    
    For a better orientations in the bpf log output, the log prexis is HEP-
    WEP- depending on where the program is loaded and possibly followed by
    another 4 characters of bpfIfaceName.

[33mcommit 4a6b7c4941727fa5366f2067b8257955c7b71900[m
Merge: 4ca4c2a1 704c9a5c
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Apr 28 15:17:33 2020 -0700

    Merge pull request #2257 from robbrockbank/wireguard
    
    Add wireguard encryption support

[33mcommit 704c9a5c14742baf8377b4864ebd8061ad5dc28d[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri Apr 17 22:23:29 2020 -0700

    Wireguard implementation

[33mcommit 8e4fc0ad3e24826778966a806bb6ce6f4f399cbe[m
Author: sridhar <sridhar@tigera.io>
Date:   Tue Apr 28 22:09:12 2020 +0530

    changes to support ICMP type and code check in policy in bpf mode

[33mcommit 4ca4c2a1195bb31ef6e6889f6751d243c4da1510[m
Merge: e18b8453 06c29428
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 27 11:39:19 2020 +0100

    Merge pull request #2279 from fasaxc/remove-vxlan-error
    
    Fix logging when VXLAN device doesn't exist.

[33mcommit e18b8453e3283fa0d03b38dd9036983bcf2c30a2[m
Merge: ff4bf337 0643f147
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 27 10:46:40 2020 +0100

    Merge pull request #2277 from tomastigera/tomas-map-versions
    
    BPF map versioning

[33mcommit ff4bf3374be9ebaa0f7321a3c284fefd40930ca5[m
Merge: 469e44aa d4810940
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 27 09:36:48 2020 +0100

    Merge pull request #2280 from caseydavenport/casey-optimize-for-node-lookups
    
    Optimize for route lookups by node in l3 route resolver

[33mcommit 0643f147f8a5fa8de66bd7dc6979d09fca0d8ef4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 23 17:03:29 2020 -0700

    bpf: v1 maps defined using CALI_MAP_V1() macro

[33mcommit a2644a45a250588594558b11af67abba11b0ae9e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 23 15:46:21 2020 -0700

    bpf: conntrack table V2
    
    Setup general code infrastructure to versioning maps. In principle,
    the map name is extended by a single or a double digit number suffix.
    
    In Golang, the the version can be bumped up by changing
    MapParams.Version and a versioned map in C can be define using
    CALI_MAP() macro that also defines version-less access functions to
    the versioned map. This way no irrelevant code needs to be change
    except bumping up the versions in C/bpf and golang.
    
    Obviously, accessing new members etc. will be added/changed in the
    current code, but access to the maps does not need to change.
    
    This way upgraded felix does not use the old incompatible maps.
    
    This does not implement any conversion from old to newer version.

[33mcommit 469e44aa6398abe08e18153709ba07eae6d2a6c4[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Apr 25 08:16:58 2020 +0000

    Semaphore Automatic Update

[33mcommit d481094002b90fb9e3d9bd7b10d2b7ae166eb23f[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Fri Apr 24 12:22:29 2020 -0700

    Optimize for route lookups by node in l3 route resolver

[33mcommit 5223abff5e1bf20e596df2175710dd3806b796fd[m
Merge: 075bfb57 8f7555eb
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 24 16:56:20 2020 +0100

    Merge pull request #2278 from neiljerram/fix-pin
    
    Remove accidental libcalico-go pin from personal repo

[33mcommit 06c29428e929d6e45a2cfefe5a229dfa6c1b79c4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 24 16:33:15 2020 +0100

    Fix logging when VXLAN device doesn't exist.

[33mcommit 8f7555eb6aa50cbd307e56455d1b44d607affe98[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 24 15:52:11 2020 +0100

    Update to latest libcalico-go and Typha pins

[33mcommit 58e13d5f47d8dba499a013603da3323a8e8c9805[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 24 15:28:54 2020 +0100

    Remove accidental libcalico-go pin from personal repo

[33mcommit 075bfb57ed1b479d0894b42df50c366e9f0a3190[m
Merge: bfbc3713 389ce360
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 24 15:38:44 2020 +0100

    Merge pull request #2276 from tomastigera/tomas-makefile-fix
    
    Makefile: always rebuild image if there are changes

[33mcommit bfbc3713bacc33ac200114c5fa666b795f77fdda[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Fri Apr 24 08:18:55 2020 +0000

    Semaphore Automatic Update

[33mcommit 389ce360a469e511f96ae29b4d499e5e34e38be1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 23 12:14:28 2020 -0700

    Makefile: always rebuild image if there are changes
    
    Depend on the Makefile dependencies and the Dockerfile to do their job,
    if it thinks we need to build the image, we probably need to.

[33mcommit de927b0ea4ef45204a92738ee9365906b8a4a20a[m
Merge: 44684ade 876e66b7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 23 11:00:30 2020 +0100

    Merge pull request #2270 from tomastigera/tomas-rpf-check
    
    RPF check

[33mcommit 44684ade50fa18022b1af2d2431f2bbd97e0e60f[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Apr 23 08:19:52 2020 +0000

    Semaphore Automatic Update

[33mcommit 876e66b7ba9dbf08dd43e07e226b6ef72028002a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 22 21:46:43 2020 -0700

    bpf/fv: fix conntrack.Value decoding and improve RPF test
    
    The test actually checks that the Ifindex of a specific leg changes.

[33mcommit cfbc1d43856f32811208e04266d6eeb1284fd240[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 22 15:12:24 2020 -0700

    bpf: every packet to host is marked as seen
    
    Then we can easily tell if a packet was process by bpf or not and we can
    use iptables to do some additional action on the (not) seen packets.

[33mcommit 60b41a07001a38b94e90e123d34ec535260b1ae1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 22 12:45:40 2020 -0700

    bpf: make strict RPF check using iptables
    
    We ask Linux kernel to run suspicious packet through its RPF check. To
    avoid dependency on sysctl, we install an iptables rule like the legacy
    felix does for workload spoof protection.

[33mcommit 651277b58f25403d0dddec646dc642c217168bc4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 22 12:40:41 2020 -0700

    rules: single out RPFilter() for RPF rules
    
    Makes it reusable in other places

[33mcommit 1b5c9bc4126de1b9c7510be5e84cdbe5f984aa75[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 21 13:29:33 2020 -0700

    bpf: always use ct_result_rc() to get rc

[33mcommit 9e540fcefe0394b7efdb38347a8f0403676234af[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 20 17:43:34 2020 -0700

    fv: test for switching routes in multi NIC env.

[33mcommit 6d20a6423767662911e610f752ff2e7c65b366a8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 20 10:18:44 2020 -0700

    bpf: first packets from outside host RPF checked by host
    
    Always pass first packets a flow through the IP stack of host to do the
    RPF check as we do not have enough info in BPF to do it ourselves.
    
    Don't do it for encapped traffic, it makes not sense, just do FIB.

[33mcommit 82db3b90c85bca54d67e9a2b18534dde96354a1e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Apr 18 00:19:44 2020 -0700

    fv: test for RPF drops bad packets
    
    If we can detect that the packet came from a different source, pass
    the packet to the IP stack and the RPF check will drop it.

[33mcommit 0d269922e2cb8d01e23fa3dcae32205a33bba882[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 15 16:17:29 2020 -0700

    bpf: rpf check for conntracked traffic
    
    When we crete a conntrack entry, we record where the first packet came
    from and we check that the subsequent packets came from the same device.
    
    If that checkes, we let the kernel's RPF check in host ip stack to
    process the packets. If that passes, we record a new origin.

[33mcommit ee55a7a1420901e46a5865c25e08961d6b82cb9a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 14 17:05:21 2020 -0700

    bpf: all bpf tc progs are either from or to host
    
    Make sure that one or the other is set so that if one is true else is
    the other one.

[33mcommit 6c94a4caa176b32822002b069008ef75b0fe3583[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 21 12:51:28 2020 -0700

    fv: add pktgen test-connection and test-workload to image-test

[33mcommit 68d3032da4898d00a4e33e07a668b660a959a290[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 16 15:47:25 2020 -0700

    fv: pktgen - a utility to generate raw IP packets
    
    The packet is sent over a raw socket, routed by the kernel to its
    destination.

[33mcommit 01dded1efca6fdbedb3f5d1c9bc731f7436287ed[m
Merge: 2d2e6099 c7ea942c
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Wed Apr 22 14:54:52 2020 -0700

    Merge pull request #2275 from tomastigera/tomas-fix-static-check
    
    test: fix static check in routetable

[33mcommit c7ea942ce6e160df2c59a7dace0cdfd8110934cd[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 22 13:45:16 2020 -0700

    test: fix static check in routetable

[33mcommit 2d2e60998b09477bcc34958c6091c49f1a57a75c[m
Merge: 1b6f7c18 10d69b61
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Apr 22 11:44:10 2020 -0700

    Merge pull request #2274 from robbrockbank/fix-vxlan-route-failure
    
    Make sure we safely take a pointer of the target

[33mcommit 10d69b61e7de7cae6d6f888f362d24a6e383f722[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Apr 22 10:37:34 2020 -0700

    Make sure we safely take a pointer of the target

[33mcommit 1b6f7c1893973c5d52328ab81f850d52db4ef612[m
Merge: 9c55444b 7995f5a7
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 22 18:45:29 2020 +0100

    Merge pull request #2268 from neiljerram/rtable-config
    
    Implement routing table config and manager

[33mcommit 7995f5a7d91adb22ac1fc0d75224ea887505ae3b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 22 13:46:28 2020 +0100

    Make more generic: IndexAllocator

[33mcommit 1a0f33b9cddd07e5e35a18b067da51de22e0f1d0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 22 11:01:48 2020 +0100

    Add GrabAllRemainingIndices API

[33mcommit b66b3152cf7efe2f4de47b30ecdf23ae4ec67c45[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 22 10:20:56 2020 +0100

    Placate the linter

[33mcommit 54d1d6213519e1501cef114f7a8df6e09fb505f9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 21 17:20:53 2020 +0100

    Add and use routing table manager

[33mcommit 06154760dfdc68d744d6605344126a59ef11546c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 21 15:39:39 2020 +0100

    Handle route table range config from libcalico-go

[33mcommit 627a4ad9ef4d482b0add4609f8725fad86f93109[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 21 15:25:18 2020 +0100

    Bump libcalico pin for pre-merge new config field

[33mcommit 9c55444b54694f9762a3a55fa9496a008c15fcd6[m
Merge: 5fa00527 a37d11b0
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 22 15:51:00 2020 +0100

    Merge pull request #2272 from neiljerram/revert-image-change
    
    Revert "Merge pull request #2264 from lmm/update-dockerfile"

[33mcommit a37d11b0450daca3e42dbb48402d4ad61a6217e4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 22 14:55:19 2020 +0100

    Revert "Merge pull request #2264 from lmm/update-dockerfile"
    
    This reverts commit 5fa0052718c300dda8341cb5c5eb41749a379f30, reversing
    changes made to 803bc1072f501ee3c181d16591b927ba109b7d81.

[33mcommit 5fa0052718c300dda8341cb5c5eb41749a379f30[m
Merge: 803bc107 3845c01b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 22 09:59:09 2020 +0100

    Merge pull request #2264 from lmm/update-dockerfile
    
    Update amd64 dockerfile to match calico/node

[33mcommit 803bc1072f501ee3c181d16591b927ba109b7d81[m
Merge: 2cf09d1f ee7f85ce
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 22 09:17:36 2020 +0100

    Merge pull request #2271 from robbrockbank/check-routetable-arp
    
    Test static arp invocations

[33mcommit ee7f85cec223fa7137e4d5534bf96f44c5d57a34[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Apr 21 14:53:55 2020 -0700

    Test static arp invocations

[33mcommit 2cf09d1f132986b9decee312f8a4c3c98aeb31f5[m
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Apr 21 12:17:22 2020 -0700

    Configurable source for routing information (#2269)

[33mcommit e3ece8a163f22dd08a484543ef65c4df64a7e068[m
Merge: 72dbcac7 0364cf6d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 21 13:45:47 2020 +0100

    Merge pull request #2247 from tomastigera/tomas-icmp-related
    
    ICMP errors generated by tracked flows treated as related traffic

[33mcommit 72dbcac76f7ef5a846549d8c8982d75671afea2b[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Apr 21 08:16:25 2020 +0000

    Semaphore Automatic Update

[33mcommit 83c71e90487a901a9c187cdca322bde96be78330[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Apr 20 21:11:38 2020 -0700

    Bump libcalico (#2267)
    
    * Bump libcalico
    
    * Put in placeholder until RouteSource is in Felix
    
    * Bump libcalico-go again

[33mcommit 1db29817a51420689457c2c85ae0f2dedd0824e3[m
Merge: 330676be 91475fe0
Author: Rob Brockbank <rob@tigera.io>
Date:   Mon Apr 20 14:36:01 2020 -0700

    Merge pull request #2256 from robbrockbank/routetable-deltas
    
    Update routetable to accept deltas

[33mcommit 91475fe0f8a1ab94a20f20868e6c7781b1593e28[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Apr 9 14:31:52 2020 -0700

    Update routetable to accept deltas, exact interface name matches, non-link scope routes for prohibit, blackhole and throw

[33mcommit 0364cf6db4d76feee8b38a33bcfc38061d42ff3e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 20 08:40:36 2020 -0700

    bpf: fixed comment in icmp related SNAT

[33mcommit 3845c01b509b6e2ad85907cde3b5a4eef89febf9[m
Author: Laurence Man <laurence@tigera.io>
Date:   Sat Apr 18 18:23:02 2020 -0700

    Install hping in the Felix test image

[33mcommit ad33d3c12ef3316386fdc58399dee93fe6654fb0[m
Author: Laurence Man <laurence@tigera.io>
Date:   Sat Apr 18 17:47:58 2020 -0700

    Bump go-build to a good version

[33mcommit e4700cf48ff1ac60b1756f3203195c5a9b06127a[m
Author: Laurence Man <laurence@tigera.io>
Date:   Sat Apr 18 17:32:45 2020 -0700

    Add in licenses to amd64 image

[33mcommit f4e2b5c711568651c92d1ac28a0bd4e594b94581[m
Author: Laurence Man <laurence@tigera.io>
Date:   Sat Apr 18 17:20:37 2020 -0700

    Update amd64 dockerfile to match calico/node

[33mcommit aa28d96bff1ed4e429464f3ddf175e31de92a768[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Apr 17 12:03:34 2020 -0700

    bpf: icmp related retunign from tunnel is fwd approved
    
    We need to treat related ICMP from tunnel the same way as we do the
    original traffic, otherwise it would go through the conntrack on the way
    out and would create ICMP tracking record.

[33mcommit 7cbe463549f5a423742c211f8df092b75a673e0c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Apr 17 11:05:16 2020 -0700

    fv: icmp related workload-workload through service

[33mcommit 330676be56ec2dfc8d39b1a52a076d3da4a7ca6e[m
Merge: ab9e4b6e 7e0c6c4d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 17 14:44:06 2020 +0100

    Merge pull request #2263 from sridhartigera/sridhar-BPF-365-fix
    
    In BPF mode, add bpf to cluster type

[33mcommit 7e0c6c4d1860dd138922dea19908e7f00a34950f[m
Author: sridhar mahadevan <sridhar@tigera.io>
Date:   Fri Apr 17 18:18:58 2020 +0530

    Add BPF mode in clustertype

[33mcommit ab9e4b6e52150a85a625b4a21c4dded12a195c31[m
Merge: 5df01996 83e5114d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 17 10:42:37 2020 +0100

    Merge pull request #2261 from fasaxc/bpf-unpriv
    
    Disable unprivileged BPF mode by default.

[33mcommit 83e5114d7799fa0322501268683963ef2b16542e[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Thu Apr 16 11:19:17 2020 -0700

    Update typha / libcalico-go pins

[33mcommit 5c6a24e45586d4a31032b032a0966d91b0ac6c42[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 16 13:03:38 2020 -0700

    bpf: fix comment in handling ttl

[33mcommit 14b77219fe275153f918c566ae28d8cd7adb8ea7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 15 15:10:03 2020 -0700

    fv: icmp related workload-workload

[33mcommit e4759c1a791ac8901e55da7c4a16ef0096635e17[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Apr 3 15:41:27 2020 -0700

    bpf: SNAT of outer IP only if returning to outer client
    
    When we generate an ICMP in a workload or at a host in response to
    traffic that originated through a NP tunnel ammend the outer source IP
    as if the reponse was from the original node as all the rest is internal
    to the cluster.

[33mcommit 65314c5573c518b42d0f0ee93c4376a0c46ffcdf[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Apr 3 11:42:20 2020 -0700

    bpf: update conntrack vars only when icmp related success

[33mcommit 5dc2d4862129590bd5c4a666b9b45f02b32a06d0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 2 19:51:30 2020 -0700

    bpf: nodeports and icmp related
    
    if SNAT, we also need to fix up the source in the outer IP
    
    FV tests when ICMP is returned from host and from the backing workload

[33mcommit 43c8738431e650189db3b47a7d39d3de31fd3ba6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 16 12:01:27 2020 -0700

    fv: tcpdump for containers without tcpdump installed
    
    only felix-test image has tcpdump installed, extrnal client has not

[33mcommit 8739e6f64ae032ca93e129b4fcfff4621cf278ec[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 16 11:12:23 2020 -0700

    fv: tcpdump fails test if it never listened
    
    This is triggered by missing tcpdump or bad filter

[33mcommit be1b90f0d883ee7ea31ea65bf4dde61610c77723[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 16 17:32:15 2020 +0100

    Rev typha/libcalico.

[33mcommit 2a5acc34725c0bae8acd918d45dc39e07bc7d21d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 16 15:30:34 2020 +0100

    Disable unprivileged BPF mode by default.

[33mcommit 5df01996c4a20f2f8d9b55d0b1cc95a55e1d6b88[m
Merge: cb6606e5 e8af321f
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Apr 15 16:38:52 2020 -0700

    Merge pull request #2239 from caseydavenport/casey-update-go-build
    
    Update go-build to v0.37

[33mcommit cbf1998927861b77396df774af970e380e07c2ad[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 2 16:15:33 2020 -0700

    bpf: tunneling from host and csum of icmp related
    
    Needs to update csum in the inner IP header instead of the outer.
    
    When icmp generated by the next hop node, it needs to be placed in the
    tunnel.

[33mcommit b483d5e71d321cfc9638a0fc194d02d17aa1349d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 2 13:46:25 2020 -0700

    fv/bpf: check icmp related outer IP header

[33mcommit 7fc04a8259f7b82597fe8d172686b3149c6a8406[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 2 11:41:28 2020 -0700

    bpf/fv: fix the IP size in makeICMPError() and test ports
    
    Check that the ports are fixed up after NATing the ICMP related back

[33mcommit 910c0f635130851cf4d207398478eac2dbd75ed3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 1 12:12:21 2020 -0700

    fv/bpf: addWorkload returns the workload

[33mcommit 57cf27a83fa0da665d73909814084b4cbf69f1c8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 1 11:55:05 2020 -0700

    fv: allow to start inactive workload
    
    to complement the fact that we can create an inactive workload

[33mcommit 290081d747f94b71ca860ed75e1bf4afa65d1c22[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 1 11:46:48 2020 -0700

    fv: allow  creating inactive workloads
    
    Sets up endpoints, routes etc, but does not run

[33mcommit c49f2058d5d80865bc398ba952a8ce2f280112ce[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 31 15:28:04 2020 -0700

    bpf: ut for NAT related from the host
    
    This is a prerequisite for letting host to handle TTL exceeded.

[33mcommit 1c8652b4839446c54355fb5ebc42dfb2802d7507[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 31 10:28:16 2020 -0700

    bpf: icmp related for NAT

[33mcommit a684d887cafade18e45f0df308a881a2ca8d3e73[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 31 10:22:12 2020 -0700

    bpf: icmp_skb_get_hdr() returns the icmp header
    
    Can be reused in other locations.

[33mcommit ee18268279a66547f32acabdb2cf2d4f1b7e8e90[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Mar 27 17:45:35 2020 -0700

    bpf: icmp related lookup for non-NATed traffic

[33mcommit b63ddac19f156052449b17b72c7b5b8206eeb317[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Mar 27 13:16:04 2020 -0700

    bpf: ct_make_key() to make keys CT easily

[33mcommit cb6606e5a6a71b3f955226f7ccdb3d88ed6662fc[m
Merge: 170bbd5f f8177f68
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 15 16:42:24 2020 +0100

    Merge pull request #2253 from tomastigera/tomas-docker-test-image
    
    fv: docker test image

[33mcommit 170bbd5ffab819caa625978e19fcdd215dcaa271[m
Merge: e5dc72f6 8b4a00a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 15 14:29:48 2020 +0100

    Merge pull request #2251 from tomastigera/tomas-mtu-configurable
    
    BPF: tunnel MTU configurable via VXLAN MTU

[33mcommit e5dc72f6229338a78fedbb6b3f1aee5079f3c530[m
Merge: 1b330e85 647cefc6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 14 14:27:54 2020 +0100

    Merge pull request #2255 from fasaxc/bpf-nat-out-debt
    
    Rebase BPF route manager onto new route format

[33mcommit f8177f68f95e231a4be9788dcdec8d7b7dff3fab[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 2 15:14:41 2020 -0700

    fv/tcpdump: allow finer filtering
    
    TCPDump.Start() takes additional tcpdump arguments, to be used primarily
    for the filtering expression like "udp port 1234" to limit filtering
    and logging only to a subset of packets.

[33mcommit 744647d7a5c93bfc4516f853d6d0c13ebe0cab47[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 13 15:42:52 2020 -0700

    fv: AttachTCPDump method for Container/Workload
    
    Taking tcpdump from containers package into its own allows us to use it
    workload package too. We can use the Container/Workload objects to
    attach tcpdump directly.

[33mcommit b831a874b609586bedb6314fa5c92dbaa1a53b38[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 8 16:16:40 2020 -0700

    fv: install tcpdump in felix-test image
    
    This allows to execute tcpdump easily with the namespace of an emulated
    workload.

[33mcommit 97ac833a32a613f9514658db04a72abe99249ee9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 13 13:10:20 2020 -0700

    fv: fix for moving tcpdump to its packege

[33mcommit c9ec6a4a5de05ae92dda926500a52b13b20db7c5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 13 12:03:51 2020 -0700

    fv: move tcpdump to its own package

[33mcommit 6c7b6ae990b966521e2a6a99a60b78d310723c3c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Apr 8 15:36:09 2020 -0700

    fv: test docker image to run fv tests
    
    It allows to add utilities that we need when testing without modifying
    
    Dockerfile.test.amd64 is in fv/ as having it in docker-image/ confuses
    Makefile.common as it thinks there is another arch called .test.amd64.
    Easier to modify locally than a shared Makefile.common.

[33mcommit 8b4a00a62ab80d8e8555dce8729fe28516e86522[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Apr 9 14:18:45 2020 -0700

    bpf: fixed comments of TunnelMTU

[33mcommit 3db4781c016d6fe6d1afd01f3996ffc2a26a4335[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 23:41:40 2020 -0700

    bpf: tunnel MTU is configurable via VXLANMTU
    
    The value for the tunnel is derived from the VXLAN MTU setting and
    whether it is on the host or workload.

[33mcommit 663c031d261a92eb181ac4abc4fd4f5e2e3da42b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 22:54:31 2020 -0700

    bpf: load time configurables
    
    CALI_CONFIGURABLE_DEFINE allows to define a configurable that
    can be used by CALI_CONFIGURABLE
    
    HOST_IP is defined in such a way

[33mcommit ad4fb8c3ec50a68c8e2b48f261fc379bbaaa627d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 22:01:33 2020 -0700

    bpf/ut: bpf .o not generated per host IP
    
    We can patch the IP when we run the test
    
    CALI_HOST_IP used no more

[33mcommit 79fd7ed0d9fb0a7272eaa98c3191286991f9d075[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 15:45:47 2020 -0700

    bpf: abstract manipulating precompiled binaries

[33mcommit 9a3d89ce0ba926090cc6203f41e162532ac55681[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 11:41:42 2020 -0700

    bpf: AttachPoint is pure configuration
    
    Calculation of all other values is now either internal to the tc package
    or access directly via the AttachPoint object.

[33mcommit a6d1ea6455668afbb71b2a3c4410cabae0c3259b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 11:05:50 2020 -0700

    bpf: tc.AttachProgram() is now a method of AttachPoint

[33mcommit 59fa9592cd289692f3b1fa86d17e513736a5bbd5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Apr 7 11:00:45 2020 -0700

    bpf: configure tc.AttachProgram through tc.AttachPoint only

[33mcommit 647cefc6db5c7ee3bfa5dc7b5fab7860a75a1c3e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 13:42:37 2020 +0100

    Update BPF route manager to use new routes.

[33mcommit 1b330e855d6cfd72e8c0ba2f1140f1439dfa6c8d[m
Merge: 7687c799 651db76a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 16:15:43 2020 +0100

    Merge pull request #2254 from fasaxc/fix-wep-routes
    
    Fix handling of local WEP routes.

[33mcommit 651db76a8369d975c1cb127f5f071df0cd8f331a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 15:05:50 2020 +0100

    Fix up UTs to expect new routes.

[33mcommit 6c2e97f1ee14adc31a0f50cdddb0f4eccdd11888[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 14:14:41 2020 +0100

    Fix handling of local WEP routes.

[33mcommit 7687c7995402b9cfacf6222d0eea14e7a8dd30dc[m
Merge: 79efdd9f 0c2f4aeb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 12:59:52 2020 +0100

    Merge pull request #2245 from fasaxc/bpf-nat-out-debt
    
    Handle route map calculation corner cases

[33mcommit 0c2f4aebbb467b90549765ca495af2b372740807[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 11:52:53 2020 +0100

    Markups.

[33mcommit 9f268d756ffd9aa72350f151df92e5bfc1f416b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 9 10:24:16 2020 +0100

    Markups.

[33mcommit 0e6d42b2ca5b789eccb93b2ae1e7aaa21a694690[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 8 15:01:31 2020 +0100

    Markups for L3 route resolver.
    
    - Rework node update handling to go through common codepath.
    - Handle multiple nodes with same CIDR.

[33mcommit 5afd243a64fa17ed4bf273ad60e2e9f4f8029cbc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 7 18:14:24 2020 +0100

    Add local WEPs to trie.

[33mcommit 79efdd9f7792e0be6c83965b2acda2645b3cfe6b[m
Author: Laurence Man <laurence@tigera.io>
Date:   Tue Apr 7 08:11:27 2020 -0700

    Normal policy support for host-* endpoints (#2228)

[33mcommit e4184d8bc6470857a272db100b311f584e86d2ca[m
Merge: 3da9a33c eaeb6396
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 7 09:23:09 2020 +0100

    Merge pull request #2250 from tomastigera/tomas-fix-encap-fib-ports
    
    bpf: fix endianess of state->{sd}port for encap traffic

[33mcommit eaeb639698ef7ad75a501eeee475966e38cfcc4b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Apr 6 14:37:44 2020 -0700

    bpf: fix endianess of state->{sd}port for encap traffic
    
    state ports are always in host endianess as well as CALI_VXLAN_PORT is.
    Turning it around results in failed FIB lookup.
    
    <idle>-0     [004] ..s. 11070.719656: 0: eno1-----I: FIB sport=46354
    <idle>-0     [004] ..s. 11070.719656: 0: eno1-----I: FIB dport=46354
    
    46354 /* 0xb512 */
    4789 /* 0x12b5 */

[33mcommit 3da9a33c045140a03ce025723e69aba28b716dbe[m
Merge: f6db278b 5497c48e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 6 09:43:00 2020 +0100

    Merge pull request #2248 from fasaxc/sem-timeout
    
    Increase semaphore v2 time limit.

[33mcommit f6db278baeac9031bad796a81188520dd4905289[m
Merge: 696a8a47 bc415fc8
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Apr 3 09:26:46 2020 -0700

    Merge pull request #2249 from caseydavenport/casey-drop-log-level
    
    Lower log level on non-error

[33mcommit bc415fc83d395a18b589713dca19a1ac59423bab[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Fri Apr 3 09:23:21 2020 -0700

    Lower log level on non-error

[33mcommit 5497c48eb5809bf04e4289068912aa86b255eea4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 3 13:38:22 2020 +0100

    Increase semaphore v2 time limit.
    
    If there aren't enough executor VMs some tasks get queued, but the
    timeout is global so the queueing makes the job expire.

[33mcommit ed1e6332443ac30593d3fed016249dd0da92bc2e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 3 09:42:22 2020 +0100

    Fix up protobuf naming convention.

[33mcommit f852cb7cb295c69326807c1028e60baab9df4d9f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 2 16:05:50 2020 +0100

    Add corner case tests for route calculation.

[33mcommit bf1af1d145e5c7a892f87789d89d2f35a8290622[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 24 15:37:03 2020 +0000

    Rework routing calculation so that l3 resolver calculates all the routes.
    
    - Add pool metadata to the routes for BPF dataplane.
    - Send routes even if VTEP etc isn't ready (for the BPF dataplane).
    - VXLAN manager cactually handles out-of-order VTEPs already.
    - Handle lack of node IP in BPF route manager.
    - Ignore IPv6 inputs to route calculation.
    - Include some calc graph FV tests for the v3 validator.

[33mcommit 696a8a474463ee4ccfc1f186eeee98368df6c805[m
Merge: 85f865b2 4c2787d1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 2 15:02:17 2020 +0100

    Merge pull request #2244 from neiljerram/validation
    
    Use v3 validator for v3 resources

[33mcommit 85f865b267bc746b7ca95b6a43699faa5d4b5e8f[m
Merge: bb0da9d4 9e2a5f42
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 2 11:20:03 2020 +0100

    Merge pull request #2246 from fasaxc/serialize-fv
    
    Default to running tests sequentially.

[33mcommit 9e2a5f424ce9f683b7803e1d7ea8203582775fe5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 2 10:08:34 2020 +0100

    Default to running tests sequentially.

[33mcommit 4c2787d19b5bce13bd3e600988c94566b4dd635d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Mar 27 14:44:03 2020 +0000

    Use v3 validator for v3 resources

[33mcommit bb0da9d4ff706b879d5509081796b9a821b65551[m
Merge: 486be61f 0b6d21d0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 31 11:20:29 2020 +0100

    Merge pull request #2241 from fasaxc/fix-double-check
    
    Remove duplicate BPF enabled check.

[33mcommit 486be61f8b32f3b75185ce47b1201ad7ca11998c[m
Merge: a6632323 dcb80c2e
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Mar 30 12:21:31 2020 -0700

    Merge pull request #2240 from caseydavenport/casey-set-log-component
    
    Set log component for additional context

[33mcommit dcb80c2e44dec1c6682adcddeaca8f4587d7ed2a[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Mar 30 10:44:00 2020 -0700

    Fix linter errors

[33mcommit a663232382ed1357f8eefa40ccea300a59c1db75[m
Merge: 33dd752e d9aac502
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 30 16:53:17 2020 +0100

    Merge pull request #2231 from neiljerram/allow-dhcp
    
    Allow DHCP from the workload, on kernels where rp_filter doesn't already

[33mcommit d9aac502e1d7205094045bcffe918735a70f8e5b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 30 15:29:22 2020 +0100

    DHCP special case is needed only for v4, not DHCPv6

[33mcommit e0e9a5b4f84508aed96a379e11e00cc2452a30db[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 30 15:21:42 2020 +0100

    Fix up UT

[33mcommit 436673c3e23ff8b28d09ad368afdf342c0ae4fa1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 30 15:12:58 2020 +0100

    Beef up explanation of what we're special casing and why

[33mcommit b5bac768869193c0d87147fcb944bb60dc8bffaf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 30 14:44:55 2020 +0100

    Tighten pre-RPF DHCP whitelist to source 0.0.0.0 (anti-spoofing)

[33mcommit 669a3ebcc12833d405db43d9e0de1299f06dc654[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 11 15:29:03 2020 +0000

    Allow DHCP from the workload, on kernels where rp_filter doesn't already

[33mcommit 0b6d21d0159235496b948651d14d9b6c22d9f2a2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 30 13:49:15 2020 +0100

    Remove duplicate BPF enabled check.

[33mcommit 07194d2bcac208cf7a823fd68b5e0003ce2ab747[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Fri Mar 27 13:29:45 2020 -0700

    Set log component for additional context

[33mcommit 33dd752e88d271bf2d1a33964bc6b942878c01c3[m
Merge: b25e1abf 36ed9839
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 27 10:58:18 2020 +0000

    Merge pull request #2234 from tomastigera/tomas-fv-mtu-test-v2
    
    FV test for MTU adjustments with bpf NP tunnels

[33mcommit b25e1abfd5b6d452c41c9d3267b818fae072c406[m
Merge: 50a7004d 8010747b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 27 10:46:46 2020 +0000

    Merge pull request #2238 from tomastigera/tomas-np-vni-check
    
    BPF: check the VNI of the VXLAN NP tunnel

[33mcommit 8010747bf1d4b2e2e52fcaaf10b76345a9698fa1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 24 18:25:58 2020 -0700

    bpf: check the VNI of the VXLAN NP tunnel
    
    To coexist with other VXLAN overlays, when we use the same port (we use
    the standard port by default), check the VNI to see if it is for us. If
    not, let the packets be processed by policy etc. as any other traffic.
    
    Our default VNI is 0xca11c0 :)

[33mcommit 36ed98392000062d6b6a4a707be782bae8f94e2a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Mar 26 18:31:59 2020 -0700

    fv: ExpectConnectivity supercedes ExpectSome
    
    With the additional configuration options ExpectConnectivity allows us
    to add future options to out test. ExpectSome/None/Loss remain for
    legacy tests.
    
    CanTransferData is merged back to CanConnectTo as we can pass the
    require arguments using the connectivity.CheckOption
    
    CheckOption allows us to configure test-connection in a generic way.

[33mcommit dee509c0330156a832cd34ab843eb640f615b386[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Mar 19 11:31:26 2020 -0700

    fv: test DSR and external client MTU stability
    
    No MTU change is expected  on the workload in DSR mode and node change
    in MTU is expected on the client ever.

[33mcommit e68335e0900604646f36b4f8f572a553ccf82521[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Mar 18 22:44:03 2020 -0700

    fv: add ethtool to felix image
    
    Use ethtool directly on the workload when needed rather than starting
    test-workload with static configuration of device features.

[33mcommit bd7f00900704982d4322dd5033f8799ffbaeb963[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Mar 18 21:55:15 2020 -0700

    fv: get path MTU from workload
    
    Workload.RunCmd runs a command in workload's net namespace

[33mcommit b491c58ce5c2e287e9394a49f01b9d8ea106f5de[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 17 22:13:28 2020 -0700

    fv: test MTU expectations

[33mcommit 6f6b347c9e8634d6197f2825badfccd1c193055d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 17 15:24:53 2020 -0700

    fv: add client MTU before and after to the result
    
    The result carries information about the path MTU from before any data
    transfer and after so that we can check if it changed.

[33mcommit 4cb4451ce802da998b262cb876f0d20c8635b7c5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 17 13:33:05 2020 -0700

    fv: unify execution of connectivity test
    
    Run the test and parse the result in a single way and contain it in a
    single package.

[33mcommit 19c5de753b0b7d7daca92e9d98cb14f760b6f486[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Mar 13 13:36:27 2020 -0700

    bpf: fv test for larger transfers
    
    The aim is to have multiple packets of different sizes in both
    directions to test that MTU, GSO and such works correctly.
    
    Currently we can reliably force the test to have the non-GSO packets
    only if we disable GSO and TSO on the veth inside the workload's
    namespace.

[33mcommit e8af321fc9fa30b9262d317d20cc0b1e76fb2a7a[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Mar 26 10:33:32 2020 -0700

    Update go-build to v0.37

[33mcommit 50a7004db232379be6420a83e5b0bd6ed06e6996[m
Merge: f29be241 be0c7d7b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 25 09:50:26 2020 +0000

    Merge pull request #2237 from fasaxc/upstream-fv-improve
    
    Beef up FV test infrastructure.

[33mcommit be0c7d7bab866bacb632a32006ab4d4f63c676d4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 24 17:01:34 2020 +0000

    Beef up FV test infrastructure.
    
    * Add packet loss detection support.
    * Various cleanups.

[33mcommit f29be241f91ffa5459f05e7b2c91d3f782e8849e[m
Merge: 3a187947 de488035
Author: Song Jiang <song@tigera.io>
Date:   Mon Mar 23 12:30:31 2020 +0000

    Merge pull request #2236 from song-jiang/song-phome
    
    report k8s version

[33mcommit de4880351e8b4382c2cbf82614fcd4ab11619238[m
Author: song jiang <song@tigera.io>
Date:   Sun Mar 22 12:29:24 2020 +0000

    report k8s version

[33mcommit 3a1879476df127a58cf0e1a51ab02c5169bf7bf9[m
Merge: 4fc0682b 5759f342
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 19 15:06:27 2020 +0000

    Merge pull request #2235 from neiljerram/fix-ci
    
    Remove unused constant

[33mcommit 5759f342b4b780a98b4e4bad4e4e081e0073733c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 19 13:09:46 2020 +0000

    Remove unused constant

[33mcommit 4fc0682b9eefe70a80b816e5fb9c103112e978c7[m
Merge: 857c1148 cd7bd856
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 19 09:56:44 2020 +0000

    Merge pull request #2233 from tomastigera/tomas-fix-fib
    
    bpf: fix FIB lookup for NP tunnels and ICMP error replies

[33mcommit 857c114885f48ff4b5d5ffb82b97a3be61bc89f2[m
Merge: e09d25f2 14232e79
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Mar 18 11:51:28 2020 -0700

    Merge pull request #2232 from tomastigera/tomas-fix-mtu-host-side
    
    bpf: fix GSO handling on the host side of NP

[33mcommit 14232e794c4fff0154f1e0deea7b573235e0d73f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Mar 13 13:30:19 2020 -0700

    bpf: fix new line in a debug print

[33mcommit cd7bd85660520eeb135aa40cb6688132e2d78ce4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Mar 16 16:25:41 2020 -0700

    bpf: allow packet approved for forward on WEP
    
    This allows flow of ICMP MTU too big to workload regardless of policy.
    If the flow was allowed by the policy, this is related traffic and needs
    to be allowed as well.

[33mcommit 2fae2d7797ef3382713358c89adef8e470da441c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 17 10:30:07 2020 -0700

    bpf: mark icmp errors as approved
    
    They are generated based on approved traffic and need to be able to go
    back as related traffic. They are part of the flow.

[33mcommit 3d4479acfce250e50eb19212387283f0b2ddaef4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 17 10:26:31 2020 -0700

    bpf: fix the state for icmp error replies
    
    The state must have correct ip src/dst and protocol for further
    processing like FIB lookup to work properly.
    
    The path is unified for both MTU and TTL icmp replies and any future
    cases.

[33mcommit 3d9a05bf33c6f168822d742880d34657ea60464c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Mar 11 14:56:59 2020 -0700

    Revert "Flip src/dst when doing output fib lookup."
    
    This reverts commit 779dacf2f2161fdaa5971939738058b1e1cf0546.
    
    The verted change causes FIB to fail and thus the packet must take the
    slow path through Linux ip stack. Linux delivers the packet correctly
    as the packet has the right addresses in the right places.

[33mcommit 905005eb5522ebc153c622d8c8f0a0947a57cab3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Mar 11 13:49:58 2020 -0700

    Revert "Flip src/dst when doing output fib lookup."
    
    This reverts commit 779dacf2f2161fdaa5971939738058b1e1cf0546.
    
    This means that FIB will fail and thus the packet must take the slow
    path through Linux ip stack. Linux delivers the packet correctly as the
    packet has the right addresses in the right places.

[33mcommit 8724564f2d3d62c95ae303d59d6c3224e9ec57b0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 10 16:58:31 2020 -0700

    bpf: fix GSO handling on the host side of NP
    
    When a host iface receives a packet that is for nodeport, thus to be
    encaped, it may be GSO due to the way it is received by the hardware and
    we may see large packets due to receive side coallescing. In this case,
    we can grow such packets to include the encap headers and forward them.
    
    The test is the same as on the return from a workload.

[33mcommit e09d25f2cc7b4e547764d469c4b3f0dd92de70a4[m
Merge: 4792691f 6bbc1abb
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 10 18:12:48 2020 +0000

    Merge pull request #2229 from tomastigera/tomas-fix-3.13
    
    BPF: MTU fix for 3.13

[33mcommit 6bbc1abb5465d29d1e4739cf065bd3a77b1c6cc3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 10 10:34:27 2020 -0700

    bpf: modify skb-> len mtu check to avoid underflow
    
    Also we know that we have at least eth+ip+l4, it reads better as
    len > eth + mtu.

[33mcommit 34b8f81183836415282308e4c2759beb5f2c711e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 10 10:02:51 2020 -0700

    bpf: fixed typos and added MTU comments
    
    Typos reintroduced by the revert of MTU tweaks that fixed tha typos.
    
    Additional comments to better explain the code and how MTU works or
    should be used.

[33mcommit 958933fb817ac8221d3694c46e3de9d9cce5e253[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Mar 10 09:29:33 2020 -0700

    bpf: fix swaping MACs
    
    incorrectly swapping MAC so that dest is the right but src remains dest

[33mcommit 6e95b14b03aa80d3b8b0d3c81d6d8459ac63a47b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Mar 6 13:37:52 2020 -0800

    bpf: swap MAC addresses on redirect return
    
    When we decide to immediatelly return a packet through the same iface,
    we need to swap MACs. We do it only if we send ICMP error to WEP, but
    PACKET_OTHEHOST is set because of the eth mismatch and ip_rcv_core
    drops such packets as if the ifcase was in promisc mode.

[33mcommit 0cd6f8b5da4de6d49d53b02c620c6c5c7091b3c2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Mar 9 13:44:48 2020 -0700

    bpf: adjust the WEP tunnel MTU to the 1410 change

[33mcommit 86d3c26d193df679a885c6b8c74c931ae41db524[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Mar 5 18:51:35 2020 -0800

    Revert "Fix up tests."
    
    This reverts commit 7f8638041cc1c04240ee32cc08e5d2e93d201e2a.

[33mcommit 3e27d9da3025b60957be83a1dfeab9688dd4a1b1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Mar 5 18:33:02 2020 -0800

    Revert "Tweak MTU calculations."
    
    This reverts commit 35e5c27c899d236f491352bc9444cdb29395c494.

[33mcommit 4792691f1ccbaba18b55ef708b0fbb973d4002e5[m
Merge: 9125496f e99d83ae
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 4 09:03:42 2020 +0000

    Merge pull request #2226 from fasaxc/clean-up-jump-maps
    
    Implement GC of cali_jump maps.

[33mcommit e99d83aef4fc3459d2e8065509543a8fd7b36ac2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 3 13:22:11 2020 +0000

    Add UT for jump map GC.

[33mcommit 593719424d80883d6860de43f1444b890f431c35[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 3 11:45:48 2020 +0000

    Clean up empty dirs too.

[33mcommit 023b10c7a7cbd77cb9a770b106c1b90ccdf5c3bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 3 11:19:06 2020 +0000

    Implement GC of cali_jump maps.

[33mcommit 9125496fdee0bb659f794e31a97d40eb1227e6bd[m
Merge: 9de8f5a4 ac15a321
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 3 10:25:19 2020 +0000

    Merge pull request #2225 from neiljerram/fix-spell
    
    Fix misspellings reported by goreport

[33mcommit ac15a32159bfd4ef09c3deab5e6fc138be68c959[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 3 09:09:21 2020 +0000

    Fix misspellings reported by goreport

[33mcommit 9de8f5a41f58a280f58b39ef9e94569ad2944221[m
Merge: 99e5e63e 04b08f33
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 3 09:02:48 2020 +0000

    Merge pull request #2224 from bcreane/bcreane-add-goreportcard
    
    add goreportcard to README

[33mcommit 99e5e63e5d7c73e6bad96d7d72ff04865b25564c[m[33m ([m[1;33mtag: v3.14.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Mar 2 16:19:38 2020 -0800

    Begin development on v3.14.0

[33mcommit 04b08f33387b5b5931d656a57a966263029df56b[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Mon Mar 2 21:10:45 2020 +0000

    add goreportcard to README

[33mcommit ffd3291c6c5ac8771761b01cab7bc7a9ac956a76[m
Merge: 3d751b02 7f863804
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 2 17:56:26 2020 +0000

    Merge pull request #2223 from fasaxc/wep-mtu-fix-is-gso
    
    Send ICMP too bigs directly

[33mcommit 7f8638041cc1c04240ee32cc08e5d2e93d201e2a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 2 16:36:18 2020 +0000

    Fix up tests.

[33mcommit 35e5c27c899d236f491352bc9444cdb29395c494[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 2 14:44:45 2020 +0000

    Tweak MTU calculations.

[33mcommit b792a7c85383dcfa3cc5b3e4d172f62464c56128[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Feb 28 08:46:07 2020 -0800

    bpf mtu check is for l2 only - exclude eth

[33mcommit b5bf1f8f5134b96803c5867683617eb36e5fecfe[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 27 13:37:41 2020 -0800

    bpf: check wep encap MTU if !(tcp & skb_is_gso)
    
    Althoug may not be 100% precise, gso_segs > 1 should be a good sign
    that we are handling GSO packet and thus we do not need to care about
    the mtu in tcp case.

[33mcommit 2a34a69693e7c543cbe0087fb6af1401fd6cd689[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 27 15:52:16 2020 -0800

    bpf: send icmp back on the same iface to WEP

[33mcommit 3c2b0275fc8ef56d4b41738d9abc4c08436a0824[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 27 11:46:18 2020 -0800

    bpf: rename {ip_}csum_offset to l3/4_csum_off

[33mcommit 58d8961c4ad65aecbfd9ee98bd2223e92b740185[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 27 11:37:11 2020 -0800

    bpf: precalculate L3/4 csum offsets

[33mcommit f2d22816958045cbef82b7c740075411e8fcef7f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 26 14:26:44 2020 -0800

    bpf: let the host do TCP segmentation
    
    On the return path into a nodeport tunnel, we can rely on the fact that
    we encaping the return traffic in the host namespace, large packets are
    GSO (because of veth) and the host iface will segment the encaped
    packets correctly based on the host iface MTU.
    
    base csum_offset on iphdr offset and ihl, it makes the offset correct
    with IP options.

[33mcommit 5a8afcf7e21f16d435a3a15734dfb79c011bccd3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 26 18:18:27 2020 -0800

    bpf: move the DSR check before encap on WEP
    
    no need to check mtu if we do dsr, so check dsr first

[33mcommit 6f8f6b9f6b4b444ee2efb102f6cd4e22b9a0db9d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 26 18:16:51 2020 -0800

    bpf: fix debug print SNAT

[33mcommit 3d751b02a8537d84ef656aae9083cae9a502e25c[m
Merge: 2e974346 aad625fc
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 27 09:44:30 2020 +0000

    Merge pull request #2221 from fasaxc/fill-in-host-ip
    
    Fix IP used in ICMP responses to workloads.

[33mcommit aad625fcb9479df7fd00e650b9c178b66a49345e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 26 15:56:41 2020 +0000

    Fix IP used in ICMP responses to workloads.

[33mcommit 2e9743469d75a29efa8528dcfe0087dee21a1173[m
Merge: bf27c8a4 a286df35
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Feb 25 14:34:01 2020 -0800

    Merge pull request #2219 from projectcalico/ngdp
    
    Add eBPF Dataplane tech preview

[33mcommit a286df35bb164495122585c409d5d0b14ec4489f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 20:54:26 2020 +0000

    Remove error log that's expected when tearing down BPF.
    
    Failure will be logged further up if it's a real problem.

[33mcommit a18d09a3e4d2e17d960734ca5fb6a1460e6ece93[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 18:16:30 2020 +0000

    Fix up env var names.

[33mcommit 7255af260b780485f47a2787c5a0a8afa06356fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 16:59:57 2020 +0000

    Rev libcalico-go.

[33mcommit 72102ed8ed556a5f51d6e4db1d1614dd1a446dc8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 16:02:05 2020 +0000

    Sync up config parameters with libcalico-go.

[33mcommit bba230aa2c8425698bff5b978b6abe2a9744546c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 10:54:23 2020 +0000

    Clean up config param names.

[33mcommit ee9fe47e6478209a511c2c6ba1af6a761dc4efbd[m
Merge: 96a8580c bf27c8a4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 10:13:45 2020 +0000

    Merge remote-tracking branch 'open-source/master' into ngdp

[33mcommit 96a8580c677d5632c077610f628fa5fdda9c76f6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 10:09:32 2020 +0000

    Remove now-unused BPF code.

[33mcommit 77955855e2d3230ca159e8531db79084c5ed063e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 25 10:05:42 2020 +0000

    Fix up copyrights.

[33mcommit 013ba366617145548158e242be51d85366f9f020[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 17:44:26 2020 +0000

    Remove re-import of version.h.

[33mcommit 452e5724eef447bdba6e51b71d288a5981a712aa[m
Merge: 55d21a68 70861523
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 11:48:31 2020 +0000

    Merge pull request #628 from tigera/tomas-works-rebased
    
    Nodeports work in non-DSR and DSR

[33mcommit 55d21a6842d3df1aed195880ce0b4d980c9f25dd[m
Merge: 5894dc47 1e0ea03f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 10:18:59 2020 +0000

    Merge pull request #626 from tigera/tomas-calico-bpf-conntract-dump
    
    calico-bpf: conntract dump prints age, status, etc.

[33mcommit 708615232b51d1ea77067d2509b69d69f1247844[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 10:00:26 2020 +0000

    Markups.

[33mcommit 5894dc47c7c3d3ac01ff5bc773767577fd4a12af[m
Merge: 9781fad6 5b4ab618
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 21 15:46:52 2020 +0000

    Merge pull request #624 from tigera/ngdp-rev-kernel-headers
    
    Use newer kernel headers when building BPF binaries.

[33mcommit 1e0ea03f2877960a49209d67143931439d599426[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Feb 21 16:42:27 2020 -0800

    calico-bpf: conntract dump prints age, status, etc.
    
    Age is the time since the entry was created
    Active ago is the time since last activity was seen
    Status is ESTABLISHED CLOSED SYN-SENT
    
    This information is printed at the end of the current lines

[33mcommit 3f709e16dc9a24e9d038d44713ec49d5f7d7ae10[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sun Feb 23 12:59:03 2020 -0800

    fix conntrack test - missing arg

[33mcommit 9781fad65668db2fa852012f55f08d0b3b94ef25[m
Merge: 88a3f37e 0abefa2c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 21 09:46:46 2020 +0000

    Merge pull request #622 from tigera/tomas-mtu-fix
    
    bpf: fixup MTU sizes for nodeport tunneling

[33mcommit 5b4ab6181c7764d7bbaa361cf7fd5fe1fedf52ba[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 21 13:54:49 2020 +0000

    Use newer kernel headers when building BPF binaries.

[33mcommit 71f5229facb5bcad1c0dceecdf98ad3c213f16cf[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sun Feb 23 12:12:21 2020 -0800

    fix missing new line

[33mcommit 88a3f37e7140cab71fb262fdf38e50921352e5ad[m
Merge: 2bd0ecb9 b49b3064
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 20 15:30:40 2020 +0000

    Merge pull request #620 from tigera/tomas-fix-conntrack
    
    bpf: fix TCP connection tracking

[33mcommit 0abefa2cf9a5977499385dfcffd7f01fd77e0b46[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 20 12:53:04 2020 -0800

    bpf: fixup MTU sizes for nodeport tunneling
    
    CALI_NAT_TUNNEL_MTU setting got lost when we moved to
    the precompiled bpf objects.
    
    In addition, the MTU size is different for forwardin on host endpoint
    and workload endpoint.

[33mcommit 779dacf2f2161fdaa5971939738058b1e1cf0546[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 17 16:33:06 2020 +0000

    Flip src/dst when doing output fib lookup.

[33mcommit 2bd0ecb9718b23eff51b541e76f764b70e36d123[m
Merge: d02c9f9a 6992c15f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 20 09:43:56 2020 +0000

    Merge pull request #611 from tigera/ngdp-policy-handling
    
    Sync up policy handling with iptables-felix.

[33mcommit b49b3064429ce66964864d6ef12743ad83a144f7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 19 16:15:07 2020 -0800

    bpf: fix TCP connection tracking
    
    use BE arithmetics to add and compare seq numbers
    
    For VXLAN np tunnel, when returning from the tunnel, we hit the FWD
    entry as well and we must swap the direction.

[33mcommit 804ae3ee7d2ff7fe92bb29c4e934eb1b3088ecf4[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sun Feb 23 11:22:08 2020 -0800

    bpf: ingress HEP must know about DSR

[33mcommit d02c9f9ad84245636a3634001b39a23177fddba6[m
Merge: a007eb04 d15dcf32
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 20 09:43:24 2020 +0000

    Merge pull request #615 from tigera/ngdp-icmp-mtu
    
    Fix MTU calculations

[33mcommit 6992c15f6dd1e00d464ffe4c7ac9cfffb442f12d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 12 10:20:43 2020 +0000

    Sync up policy handling with iptables-felix.

[33mcommit 1c499b0788ab72064664fbf475c1f0c69db86346[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Feb 22 15:41:44 2020 -0800

    fix printing ct flags

[33mcommit a007eb045259d82acd46782ffa04f3dfb438532c[m
Merge: b37c7296 219210c7
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Wed Feb 19 18:32:44 2020 -0800

    Merge pull request #610 from tigera/tomas-dsr
    
    DSR: NAT on dest node
    DSR: return path handling

[33mcommit d15dcf32a686f05f10e8ddbdf0111cf9cf131d4e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 18 16:20:38 2020 +0000

    Fix MTU calculations
    
    * VXLAN tunnel MTU is the inner MTU.
    * ICMP MTU is the IP-layer MTU.

[33mcommit 16be1dea39e4331e2661f4ef45b61811ddeaba91[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Feb 22 14:31:01 2020 -0800

    bpf: DSR tcp entries are nevere ESTABLISHED, dont clean
    
    Mark encap ct entries on fwd node in dsr mode. Such entries must be
    treated differently as these will never see established TCP connections.
    
    Treat such entries as if ESTABLISHED.

[33mcommit e4b8bdddebe75bc47e25373115cc8fb06b993ac1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Feb 21 16:42:27 2020 -0800

    calico-bpf: conntract dump prints age, status, etc.
    
    Age is the time since the entry was created
    Active ago is the time since last activity was seen
    Status is ESTABLISHED CLOSED SYN-SENT
    
    This information is printed at the end of the current lines

[33mcommit b5feb8a9cbb79d1a9c249015dfa7e58c9ed5e0ea[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 20 17:14:48 2020 -0800

    C code clean up

[33mcommit a2761da2743d7fb280c0e73f8cc80e815a6406a6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 14 16:27:11 2020 +0000

    Extra diags for checksum update offload.

[33mcommit 0a1aaacbf1bc1928abf4c835e8891e4cddd1e411[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Feb 18 11:29:33 2020 -0800

    fix ICMP size calculation and UTs

[33mcommit 5db599840df56a8863713f3abb93f56cb269b04b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Feb 22 16:13:25 2020 -0800

    Fix ICMP reply size calculation and trimming

[33mcommit 219210c71a0217b88e539bbc43b0274e03bdeedf[m
Merge: 4a401ce2 b37c7296
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 19 17:23:50 2020 -0800

    Merge branch 'ngdp-codegen-new-ct' into tomas-dsr

[33mcommit 4a401ce21a13622486d03b962db3380e60baae38[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 19 17:15:40 2020 -0800

    BPFExternalServiceMode enables to pick multiple modes

[33mcommit ca0255bfea648133b831ada42a24061fd2fb92d5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 19 16:47:56 2020 -0800

    bpf fix identation

[33mcommit 8a6d599e3ca93aaa04db7b250187dc877550890e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 19 16:46:19 2020 -0800

    bpf fix indentation

[33mcommit ba8519827c461c2c5107c4ef04b71900cea24cc2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 12 13:49:58 2020 -0800

    bpf: fix calculation od vxlan udp size
    
    we cannot trust the tail pointer, must be calculated from something
    reliable like the ip->tot_len - the size of the ip header.

[33mcommit 1bd3609ce07f8643b98a862b5dfb46c6277d468d[m
Merge: c7321d55 43ef0f34
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 12 10:56:28 2020 +0000

    Merge branch 'tomas-dsr-nat-on-dest' into tomas-dsr

[33mcommit b37c72969133224c167fe5dc04f7f24cdedae9d2[m
Merge: b8abab50 b6dd246f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 19 09:49:58 2020 +0000

    Merge pull request #613 from tigera/ngdp-connect-rev-nat
    
    Store reverse mapping for connectv4 too.

[33mcommit c573f9209015090d7ecd6f520e6f750dee729ea5[m
Merge: 95424780 c02806c3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 13 17:17:35 2020 +0000

    Merge pull request #612 from tigera/ngdp-pol-drop-log
    
    Add a log before calling policy program.

[33mcommit c7321d5547698910e90606cbf9765b8aa9d2cd59[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Feb 10 17:06:15 2020 -0800

    bpf nodeport DSR
    
    When a pod replies, we skip SNAT and encap where it would normally
    happen with a return to the VXLAN tunnel and let the host endpoint do
    the SNAT after all routing is done. The packet enters host namespace
    with pod's ip to avoid failing rp_filter checks.
    
    fixes BPF-253

[33mcommit b8abab50a4e56a49fd664686c9db124fa892302a[m
Merge: c573f920 9e3c641c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 19 09:21:02 2020 +0000

    Merge pull request #614 from tigera/ngdp-verifier-tool
    
    Add tool to extract strings from verifier output.

[33mcommit b6dd246f6a8521feb23086d1b166c19a5718c1d9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 17 14:06:12 2020 +0000

    Add tests for connection-based UDP with recvmsg.

[33mcommit c02806c33a231082bd2a49bac1df0ac390c547ca[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 13 15:31:16 2020 +0000

    Add a log before calling policy program.

[33mcommit b1636ba092ef36f70e9762b0d726b2ae71307f53[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 14 14:46:54 2020 +0000

    Store reverse mapping for connectv4 too.
    
    Some DNS implementations use connect and recvmsg.

[33mcommit 43ef0f34d19a8c3fb373306d70b02bf041634793[m
Merge: 7a17ee86 95424780
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 12 10:44:10 2020 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into tomas-dsr-nat-on-dest

[33mcommit 95424780cf50dc47b5256c064b553bf7a7c0e026[m
Merge: 6d20ccd9 6475d40e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 12 09:35:29 2020 +0000

    Merge pull request #609 from tigera/tomas-np-multihomed-fixup
    
    bpf np encap source ip fix up for multihomed

[33mcommit 7a17ee86636e19a963563bcfe4998dd2927202b2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 6 17:25:54 2020 -0800

    bpf: nodeport NAT on dest node
    
    When we forward a packet to a different node due to NAT, we encap the
    original packet in a VXLAN tunnel and we do the DNAT/SNAT on the dest
    node. We then pick only a local pod, no further forward.
    
    fixes BPF-193

[33mcommit 6d20ccd97723835434ed7ec0ccf8f1569d180d8f[m
Merge: d8a9c1b9 503137cf
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 12 09:33:15 2020 +0000

    Merge pull request #608 from tigera/ngdp-cleanup
    
    Implement cleanup of BPF programs and state when in iptables mode.

[33mcommit 6475d40e8ca3bba12ff982ec743398fbaa80772b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Feb 11 10:29:10 2020 -0800

    bpf np encap source ip fix up for multihomed
    
    In a multihomed-nodes environment, when we forward nodeport traffic to
    another node through a different interface than we received the traffic
    on, we need to fix up the source ip address as we do not know, which
    interface it is going to go out on at the time of encap.
    
    refs BPF-285

[33mcommit 08e1585daf7411115eddb6d54a552b7121b04864[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 6 14:06:07 2020 -0800

    bpf encap - when we do encap we know it is remote

[33mcommit d8a9c1b971adb673c3ac8a6a24e00b66541d6f1d[m
Merge: 2cc4dc7c 040dcf65
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 11 18:46:34 2020 +0000

    Merge pull request #606 from tigera/tomas-kproxy-fix-segfault
    
    bpf: kube-proxy runner must be created first

[33mcommit 503137cf4614e6475555c6fd0bb515a34798800f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 11 13:33:10 2020 +0000

    Implement cleanup of BPF programs and state when in iptables mode.

[33mcommit 2cc4dc7cc33d792ba79fbead7ced6a647359d099[m
Merge: 08ee179b fa26fcc8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 11 10:11:50 2020 +0000

    Merge pull request #601 from tigera/smc-ngdp-proxy-time
    
    Add option to control kube-proxy minum sync period.

[33mcommit e994f44253cdefd67d741923cd79be558dc5a485[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 6 13:15:07 2020 -0800

    bpf fix mtu too big test in CALI_CT_ESTABLISHED
    
    encap_needed is always false so ve never execute the branch

[33mcommit 040dcf6504bbd7114b138b3e3a75752b55080fda[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Feb 11 09:41:14 2020 -0800

    bpf: start kube-proxy threads after creating objects
    
    to avoid referencing uninitialized objects

[33mcommit 08ee179be5c17ed8572def2d9ca0e162b08e48e8[m
Merge: 45544de4 7c83981c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 10 17:21:31 2020 +0000

    Merge pull request #604 from tigera/smc-ngdp-deb-rpm
    
    Update package licenses.

[33mcommit fa26fcc835f871f36a604ef381ae7eba444099a4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 10 11:20:31 2020 +0000

    Fix tests.

[33mcommit 140f759c00f0885abd3cff7856549408489f7dc7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 14:09:47 2020 +0000

    Post-merge build fix-ups.

[33mcommit 7250b3612c0d55a65793fd51f170478a5527463b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Feb 10 10:38:31 2020 -0800

    bpf: kube-proxy runner must be created first
    
    Since we start the threads the get updates from k8s right away, the
    runner must exist by then otherwise the updates may kick a nil runner.
    
    k8s.io/kubernetes/pkg/util/async.(*BoundedFrequencyRunner).Run(0x0)
    
    fixes BPF-266

[33mcommit 45544de4f5b08caded08e17e700d15db0a94c1cd[m
Merge: 140f759c 1a052562
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 10 17:19:24 2020 +0000

    Merge pull request #603 from tigera/smc-ngdp-deb-rpm
    
    Ship BPF programs in debs/rpms.

[33mcommit 7c83981c407fa6a52a6f8db76b17aaeb83fa41d9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 10 16:27:49 2020 +0000

    Update package licenses.

[33mcommit 6e1485d94799c1bd0a0d99aa9a6e730dbc11a6ce[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 13:56:33 2020 +0000

    Add option to control kube-proxy minum sync period.

[33mcommit 53b1800ef4e59ee81d76fdf4019399db2909bc34[m
Merge: 1b248a79 617fab10
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 14:37:00 2020 +0000

    Merge pull request #592 from tigera/tomas-send-recvmsg
    
    bpf send/recvmsg hooks

[33mcommit 1a0525626184c8740834ca017fb34a2d22e1e426[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 10 16:27:49 2020 +0000

    Update package licenses.

[33mcommit 1093a9ee79be935bce74d127264947207e736c95[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 10 11:19:33 2020 +0000

    Ship BPF prgrams in debs/rpms.
    
    * move the BPF programs to /var/lib/calico
    * update deb/RPM builds.

[33mcommit 617fab107d40b7595c674bc5ae1330c2d3e67546[m
Merge: 931a5482 1b248a79
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 11:35:15 2020 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into tomas-send-recvmsg

[33mcommit 1b248a79a0e599e7807d4e2223f7e2ba5f4b55ac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 14:05:07 2020 +0000

    Post-merge fix-ups.

[33mcommit 931a5482714493102cf98beeda59b2190d999826[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Feb 5 21:31:30 2020 -0800

    Update bpf/bin/*.o

[33mcommit fdacebb5f57b92b17d3d3c91e4934a25f62fbafc[m
Merge: 90c407cf 34210bac
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 11:06:03 2020 +0000

    Merge pull request #587 from tigera/smc-refactor-conncheck
    
    Factor out connection checker into own package.

[33mcommit ae65578ea6cf729f60c45b9490fcba3e73933681[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Feb 4 16:23:49 2020 -0800

    bpf recvmsg_v6 hook and FV tests
    
    listening UDP socket for ANY may be bound as V6 and while the sendto
    using a V4 address use the sendmsg4 hook, the returning data would use
    recvmsg6 instead of recvmsg4. We look for v4 addresses in v6 and use the
    v4 table in that case.

[33mcommit 90c407cf446690c144b036c0698126df673502b0[m
Merge: 35830ad8 488d67fa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 11:05:20 2020 +0000

    Merge pull request #597 from tigera/ngdp-split-bpf-builds
    
    Split out GPL BPF builds

[33mcommit 63b23badf84bc278afb131f98ae3a2b7a4937304[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 31 17:09:21 2020 -0800

    bpf sendmsg/recvmsg cgroup hooks
    
    fixes BPF-140

[33mcommit 8280b71adf28256617c645bda161c537a88a70d5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 31 10:57:31 2020 -0800

    bpf fix endianess in fib lookup

[33mcommit 4675404e192e9cd6030548589ea9c0d64d733a61[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Feb 1 14:28:38 2020 -0800

    fv test-connection --protoco=udp-noconn
    
    We sometimes need to test unconnected UDP client socket for send/recvmsg
    variants while most of the time connected udp is just fine and sometimes
    it is even necesary when multiple clients connect to the same dest from
    the same ip:port with reuse port/addr.

[33mcommit 34210baceefbd02891ce44cbddc4fa1eca0d1430[m
Merge: 24fb7f85 35830ad8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 09:25:29 2020 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into smc-refactor-conncheck

[33mcommit 35830ad8d11234729f8e10186255fc2b1d44991b[m
Merge: 33f7231b cbb9abcf
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 31 13:52:28 2020 +0000

    Merge pull request #591 from tigera/ngdp-merge-os
    
    Merge open source master into NGDP

[33mcommit 488d67fa97fc54a0f97248c916f2709af08964ac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 7 09:55:17 2020 +0000

    Markups.

[33mcommit cbb9abcfa555fa4b941790d00a9d92a99f575876[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 31 11:57:55 2020 +0000

    Fix up test binary builds.

[33mcommit c29a0a25e538074e51de68dbc32fb183ca4e6b1d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Feb 6 16:08:06 2020 -0800

    bpf fix broken #if FIB_ENABLED
    
    enum does not play well with #if

[33mcommit baca2e235e246eda09c99e8bf51779496f6ad705[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 31 10:27:25 2020 +0000

    Whitelist spoofing tests for BPF FV runs.

[33mcommit 7431896c60398ac66bdc65aefceead7337bc7487[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 16:19:16 2020 +0000

    Add ServerAliveInterval to make sure GCE connection doesn't drop.

[33mcommit b435d0ae64d4fdeee74aa1ecbfca2134df3825da[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 31 09:32:59 2020 +0000

    Fix-ups.

[33mcommit 6512f0428edb71cf5fed366ca9da97c96ae45ec5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 14:59:29 2020 +0000

    Split all and ut targets.

[33mcommit ea43cde790bd329ad90894b49d227fbce8ed063b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 14:44:21 2020 +0000

    Fix clean target

[33mcommit 9210cdc74284c925755d6d9aabb0aa8a405c8ce8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 13:39:42 2020 +0000

    Get image-all working.

[33mcommit 1dd714dfa2680d3b2746714a425462e471565df3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 11:46:57 2020 +0000

    Remove program generator.

[33mcommit e1fb72fdb4e2756caea23a90762fb2c9efe0c48b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 11:39:48 2020 +0000

    Remove clang from docker image.

[33mcommit 540d7540a939d2115f336141258194dc4c278b97[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 10:44:20 2020 +0000

    Move remaining UTs over to pre-compilation

[33mcommit 590944accc38aa721a4634ff1d314f7af3cb6a46[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 5 15:16:00 2020 +0000

    Pre-compile UT binaries.

[33mcommit 3957d0fccc07483aa1aed7313ed4c97664f799a5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 5 14:12:10 2020 +0000

    Remove go-based BPF compile script.

[33mcommit d19b41bde0dcffe3595262e5b99374765b4116e5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 5 11:59:03 2020 +0000

    Fix up BPF tests after file moves

[33mcommit aadcdd47eda0c52a0e1726da5751e91bf4c695b2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 5 11:15:20 2020 +0000

    Fix up paths in tests.

[33mcommit 906c8e52c2ad4857c0e54e0bde6ba242e5fd1d5e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 4 17:24:20 2020 +0000

    WiP on removing old builds and switching to new.
    
    Update main makefile, remove old files.

[33mcommit d5f6a3a2c369a3356c6ab5c906fe045d9968d400[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 4 16:09:40 2020 +0000

    Move Apache-licensed BPF programs to own directory.

[33mcommit 1db5e0451fd96ebf6b288cf6ff7f1156233e98cc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 4 15:45:15 2020 +0000

    Add GPL license information.

[33mcommit 7ee73b5dbf6facc73761eca4d290364e3e09ee03[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 4 15:03:18 2020 +0000

    Separate build system for GPL binaries.

[33mcommit 7df353bfe8f084d5e973d7ec0a7442968c17df31[m
Merge: 3e5ae861 33f7231b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 31 09:32:52 2020 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into ngdp-merge-os

[33mcommit 3e5ae8617c1f0b82008f20d5e8bbc334e75c3fb4[m
Merge: 070653ee d51cbfa8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 16:06:10 2020 +0000

    Merge remote-tracking branch 'open-source/master' into HEAD

[33mcommit 9e3c641c2a62db0786ad8754a0a8ed151da5ce70[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 17 14:29:22 2020 +0000

    Add tool to extract strings from verifier output.

[33mcommit 24fb7f85e0a8f717fd603860c710bf3f8561c52b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 30 10:58:56 2020 +0000

    Factor out connection checker into own package.

[33mcommit 33f7231b305d05fb50ae3e8b54b487aba806c34b[m
Merge: 95f78bf2 a6d61c21
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 31 09:21:32 2020 +0000

    Merge pull request #590 from tigera/tomas-kproxy-upgrade
    
    bpf kube-proxy upgrade to use k8s 1.16

[33mcommit 070653ee20f534684b9cb086ef6b6e6f598bf217[m
Merge: 3eff49fe c09d98a7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 30 11:09:05 2020 +0000

    Merge pull request #581 from tigera/smc-ngdp-nat-out
    
    NGDP NAT outgoing

[33mcommit 95f78bf26497eac6f45b49543b9ef8cb01c0d6bc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 30 17:57:15 2020 -0800

    bpf code indentation fix

[33mcommit a6d61c2123d65d4e6863e06f52e80b2d3a35e6a3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 30 11:44:08 2020 -0800

    bpf kube-proxy upgrade to use k8s 1.16

[33mcommit 3eff49fe77e8b9736243a297006f67842e3c3c67[m
Merge: 2233b1df ffa0da23
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 29 13:48:32 2020 +0000

    Merge pull request #572 from tigera/tomas-ttl-dec
    
    TTL handling and and some general forwarding changes

[33mcommit c09d98a75318bbbecde7050fabbf0341b39b871b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 30 10:08:44 2020 +0000

    Review markups.

[33mcommit 2233b1dfb98307d87dbf2397da8644775c7dc2c7[m
Merge: 73e24ba9 b86ebd76
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 29 09:57:23 2020 +0000

    Merge pull request #584 from tigera/tomas-dns-fix
    
    bpf fix L4 csums after DNAT

[33mcommit ffa0da23a66053e9d881d5f2b70c03fa647d9041[m
Merge: 4c67ebb1 2233b1df
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 29 13:45:49 2020 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into tomas-ttl-dec

[33mcommit bf1f2a1ec3c8a7f87927b26e9f27e36df39a6439[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 29 13:56:34 2020 +0000

    Update tests for NAT outgoing.

[33mcommit 73e24ba913a4060cf276d8f91f4053a3ec3c1364[m
Merge: 65d8ec16 4dbd3e09
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 27 12:00:04 2020 +0000

    Merge pull request #578 from tigera/smc-speeed-up-uts
    
    Speed up BPF UTs; run inside go-build instead of felix image.

[33mcommit b86ebd7619241f8a0d47bfdb35fa5f4386ae6a7b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 28 16:01:28 2020 -0800

    bpf SNAT csum ut coverage

[33mcommit 4c67ebb1c27272dcce3a057035b13ba43154982e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jan 27 15:59:30 2020 -0800

    bpf responds icmp TTL exceeded only just before NAT
    
    If we do any sort of NATing, we know that the packet is being forwarded
    and we check the TTL and respond ICMP TTL exceeded if need be as the
    first thing before NATing as otherwise the reponse would either not pass
    through or had post NAT ip header in it.
    
    If the TTL gets to 1 and thus would be dropped on forward to the next
    hop, we pass through the slow pass. If it it to the host would take this
    path anyway.  If not, taking the slow path is ok as the performance does
    not matter at this time so much. NATed triffic does not get this far,
    see above.

[33mcommit ff6cfb86bf69b56dcdfdded5abbfe041ffecb507[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 29 13:56:22 2020 +0000

    Update connection tracking infrastructure to detect SNAT.

[33mcommit 65d8ec1639008ba307e2f10f296d2329564c89cf[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 24 09:01:44 2020 -0800

    bpf initialize csum_offset=0
    
    Causes some verifier issues.

[33mcommit 4dbd3e095f6e185a115ba2b7a6dccbe4b1546e8d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 24 16:15:55 2020 +0000

    Speed up BPF UTs; run inside go-build instead of felix image.

[33mcommit d2fb03ed63bf10aba0a2446a735953e9c0a664cc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 28 14:15:09 2020 -0800

    bpf udp csum - do not mangle zero csum

[33mcommit ff8dffcbc5f2eb1e49e9b16b1d6040b69235e2bb[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 23 17:22:36 2020 -0800

    bpf TTL checks and decrement
    
    TTL is checked to be > 1 and if not, we send ICMP TTL exceeded in
    transit back where it came from.
    
    If we bypass ipo stack by redirecting a packet straight to the next
    iface, we must decrement the TTL by one ourselves. We know that it is
    more than one by that time.
    
    bpf VXLAN encap decrements TTL
    
    When we put things in the tunnel, we must decrement TTL of the inner ip
    header. The outer header inherits the TTL before decrement so that it
    can be handled the same way as other traffic - either decremented by bpf
    code or by the ip stack.
    
    fixes BPF-89

[33mcommit 6e0079bb74edf7ac2cf523bede16d5c4f9659fde[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 29 13:54:10 2020 +0000

    Implement NAT outgoing for NGDP.

[33mcommit 3e558df63b4b1dc9fbfaaae627ad5c1853633030[m
Merge: 0bc59ffa c19eedf5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 23 09:27:17 2020 +0000

    Merge pull request #574 from tigera/smc-ngdp-ip-checks
    
    Implement workload anti-spoofing.

[33mcommit bec5d44f2354710067757a9574aae703f0539f32[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 28 13:38:19 2020 -0800

    bpf fix L4 csums after DNAT
    
    Use dest ip/port instead of source ;-)
    
    Also fix only the part of csum that actually changed. IPs most likely
    always change, but ports often remain the same.
    
    fixes BPF-203

[33mcommit fdf61d4107ba5b7a63aa4a069af525bc64248672[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 24 15:15:41 2020 -0800

    bpf NAT encap should not be done on a tunnel
    
    The tunnel is somewhere in between and by the time we get there it must
    be already NATed and encapped.
    
    Also the ICMP reply code, specifically for MTU too big requires eth
    header.

[33mcommit 0bc59ffae981f013025e1b38cc8f40c64e88049f[m
Merge: 1d52b419 18935302
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 23 09:23:53 2020 +0000

    Merge pull request #573 from tigera/smc-ngdp-fix-data-iface
    
    Bypass policy program on data interfaces.

[33mcommit c19eedf53ed62ef657ceed55c0249cf25d709189[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 22 16:20:33 2020 +0000

    Update interface monitor tests.

[33mcommit 3ef943e65f77a52dad53e0774af730cdb8c26382[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 24 14:41:12 2020 -0800

    bpf/include/skb.h for skb_* helpers

[33mcommit 1d52b419ee0ae14643646c6912b676d0b9c9ae60[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jan 22 18:05:08 2020 -0800

    kube-proxy fix double read lock
    
    With the WaitAfter ctx checker taking write lock to reliably unblock
    the waiter, there is a race as if there is already a write waiting,
    the next reader does not overtake it to avoid starvation. If we
    already hold a reader lock, the writer will not get it and we cannot
    get the second reader lock. WaitAfter provides a lockless lokkup
    function to avoid this issue.

[33mcommit 189353021e9f0113a6a363a5182c234168d8e853[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 22 10:46:11 2020 +0000

    Bypass policy program on data interfaces.

[33mcommit b31d0b3cb9bbfe509f4514b4d53bed86ca2cdf02[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 22 15:53:50 2020 +0000

    Add anti-spoofing tests.

[33mcommit 31fd2920cfc3f14540d852293e5d63b58bf76647[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 23 17:54:38 2020 -0800

    bpf ICMP should have source address of the host
    
    We cannot do much better than to use the IP assigned to the interface
    that handles the packet unless we let the host to do it all.

[33mcommit 6bca243f8f2f61ac64d469884b3aa24ff3e53a8c[m
Merge: 689e0c6a aa7336d8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 22 10:39:23 2020 +0000

    Merge pull request #570 from tigera/ngdp-cleanups
    
    NGDP cleanups

[33mcommit f91cadcad283bd3b25c12fbbeaacff205abfef7a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 22 15:39:22 2020 +0000

    Fix up BPF UTs.

[33mcommit 1b64391c1d2e9a4abf7f5513bb9a98c6755b37d5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 23 16:13:24 2020 -0800

    bpf a generic icmp_v4_reply()
    
    icmp_v4_too_big() is now implemented as a call to icmp_v4_reply which is
    a generic implementations of an icmp  V4 response, that is, it builds
    the icmp header from the provided arguments and appends the IP header +
    8 bytes of data.

[33mcommit 689e0c6a3aa3de9a205129efc9280992872a8514[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 21 09:21:37 2020 -0800

    bpf RTCache.Lookup() does not wait
    
    There is no use for the wait atm and can be implemented using
    WaitAfter if need be.

[33mcommit aa7336d84143771316a91d899b1a8c070eb65ec7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 21 11:47:04 2020 +0000

    Tune TC failure logs.

[33mcommit 8767ca13bebf8256d2504e4167ea9d2656df195d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 22 13:55:17 2020 +0000

    Implement workload anti-spoofing.

[33mcommit ef4f8672623f59032993d00ffe8c183a21f87ed0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jan 22 15:25:08 2020 -0800

    bpf_fib_lookup is a compile time option

[33mcommit 02b3f91606304b2d566298d23d2c0066799b6d65[m
Merge: 61e0e538 365f9695
Author: Tomas Hruby <49207409+tomastigera@users.noreply.github.com>
Date:   Tue Jan 21 10:33:41 2020 -0800

    Merge pull request #562 from tigera/tomas-np-affinity
    
    bpf NAT: affinity timeout as part of NAT frontend

[33mcommit b2be3fab02a8065fb961d2fe8ed1cd35bac0d2d3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 21 10:31:05 2020 +0000

    Tweak semaphore v1/2 split.
    
    - Remove static-checks from v1; it runs out of memory.
    - Move BPF UTs to run with first FV job.

[33mcommit 965b17f036c2ef688553db4faa8f248de42cc353[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 21 16:14:20 2020 -0800

    bpf_fib_lookup done in one place
    
    We collect all the information we need to decide the final fate of a
    packet in forward_or_drop(). We know whether the packet is going to be
    forwarded straight to a device or whether we will pass it to the IP
    stack and thus iptables etc.

[33mcommit 3dafabe1213d838468cade0722a0dea3bc8e8f61[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 21 09:58:04 2020 +0000

    Add BPF syscall stub to allow non-amd64 compilation.

[33mcommit a3336c517e019e0d5df273726071d0112503cbb5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 21 14:37:14 2020 -0800

    bpf set fib_params just before bpf_fib_lookup
    
    Also fixes fib_params->tot_len as it is taken from the final ip header
    
    fixes BPF-231

[33mcommit 0c5c0d3428b433537f892502e7b682b5cfeb6738[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 20 18:16:16 2020 +0000

    Remove packr, check in all BPF programs.

[33mcommit 00255570ef8434552e1e317aeccaaaac97ac27e9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 21 12:50:51 2020 -0800

    bpf code lines length trimmed

[33mcommit 61e0e538146cde42601e73fc28a269f1bd6a501d[m
Merge: d00ec13b e734d0f1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 21 10:23:40 2020 +0000

    Merge pull request #569 from tigera/tomas-bpf-219-np-local-fix
    
    kube-proxy nodeport expansion to avoid outgoing SNAT

[33mcommit 365f9695a036afe139bb7f2b96ea501e8112914a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jan 20 17:21:53 2020 -0800

    bpf affinity sessions use src_ip hash instead of random
    
    We only has the source IP as the dest ip:port are constant for the given
    service and the source port must not be considered as we must be for the
    source IP.

[33mcommit cc842a0a9c1320dd61f444e7ff54ad7b879bb42c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 20 17:30:21 2020 +0000

    Remove obsolete test files.

[33mcommit e734d0f154f5f5561000616f48b103f19ccb94ad[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 16 21:47:59 2020 -0800

    kube-proxy nodeport expansion fixer
    
    When there is a miss, we remember the miss and we wait if some later rt
    update would fix it. Whenever a new update(s) arrives, we do a pass over
    the missed with the hope that we resolve it. If not, we sleep until
    another update comes.
    
    Since a new k8s state update of the services will trigger a whole new
    scan of all services, we stop the fixer before applying the new state.

[33mcommit 9aedf6646f79c9d415e29abf55f64b281df52b33[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 10 15:38:39 2020 -0800

    bpf kube-proxy uses KTimeNanos()
    
    moved from bpf/conntrack to bpf for wider accessibility

[33mcommit 047d67d1a3ff287fa80ab8f24d135ce1bf93f2b8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 14 16:47:39 2020 -0800

    kube-proxy nodeport expansion to avoid outgoing SNAT
    
    Syncer waits for RT updates on miss
    
    When expanding a NodePort with ExternalTrafficPolicy=Local we need to
    consult RT tables to know where each pod is, so that we can resolve the
    node address to pod.
    
    The one catch is that we get services update and rt updaes from
    different sources and there is a chance that the route does not exist
    yet when we are trying program the service. Less likely, that service
    may have already changed and the rt already reflects that. This is a
    classic problem of online processing without any timing guarantees.
    Therefore on a miss, we assume that the rt are a little late (imo they
    should be known before we get the service update) and thus we wait a
    little hoping that this will resolve all other possible misses.
    
    If a certain pod/node combination does not get resolved, it will get
    fixed by the next update of any service.
    
    Not the greatest solution, but that is probably all we can meaningfully
    do in a simple way.

[33mcommit 6ec7c1656d9227d6f1ddba2048f3fb5489b6293c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 10 15:15:11 2020 -0800

    bpf NAT make lookup only if affinity miss
    
    Do the backend lookup only if there is no affinty or if there is
    an affinity miss.

[33mcommit 1e55f54e40eab37840f9be4998debfa159f66a65[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 14 14:51:55 2020 -0800

    bpf/proxy/syncer clean up
    
    Use only the list of endpoints that is specific to a service

[33mcommit 7a9fd1006ff0ae811f6ac95e09b8aee338b2ab0e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Jan 9 12:14:40 2020 -0800

    bpf NAT session affinity fv test
    
    Multiple test from a single pod access a single service with affinity.
    There must be only a single backend picked and only a single entry in
    the affinity table.

[33mcommit b649a94c18103b2a8c8d86fb22813cf5ff2720ca[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jan 15 15:28:54 2020 -0800

    ip/trie longest prefix match (LPM)

[33mcommit fad8ebd2c4ba4601fc32de0ff7e621df7b58aa4b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 7 18:03:11 2020 -0800

    bpf NAT: affinity table cleanup after reprogramming tables
    
    kube-proxy cleans up affinity table whenever it changes any service with
    session affinity

[33mcommit 16859df53780e0635159e8408fa8b15dbb15987a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jan 13 10:46:36 2020 -0800

    Fix for pod-np with ext policy local
    
    If policy is local, do not program the meta target to avoid node hop as
    we should resolve the local on the specific node properly and we know
    that we will avoid the hair-pin corner case as ther is no local pod to
    handle it on this node, the less self.
    
    fixes BPF-219

[33mcommit cd4299f03178ab313e7b2ff6a7bfdea56b0fa063[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Jan 3 15:03:40 2020 -0800

    bpf NAT: affinity timeout as part of NAT frontend
    
    If the affinityTimeo is non-zero, we create an entry with the selected
    backend in the affinity table. If an entry already exists, and is not
    too old yet, we use the backend from that entry instead. If it is
    expired, we replace the backend with the newly picked backedend.
    
    If there is no affinity timeout, we just return the selected backend.
    
    fixes BPF-92

[33mcommit d00ec13b88e637465bd1bdbc96349b7eddd3c666[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Jan 20 11:55:25 2020 -0800

    fix bin/compile-bpf after make clean
    
    depends on proto/felixbackend.pb.go

[33mcommit 9964658057a4875c80e8589699c90768852c3b8b[m
Merge: ca260457 60f22870
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 20 15:46:00 2020 +0000

    Merge pull request #565 from tigera/smc-ngdp-tail-calls-2
    
    Split BPF program up using tail calls.

[33mcommit ca260457233a644935b40df01010a55648e24a4c[m
Merge: 002091b0 ad758d85
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 14 09:04:34 2020 +0000

    Merge pull request #563 from tigera/smc-ngdp-asm
    
    Policy bytecode generation

[33mcommit 60f228700154a8f2fb130a7041dccff35bd3c82d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 20 14:32:12 2020 +0000

    Make host IP substitution robust.

[33mcommit 002091b0aea928c741d4238fd358e32018f2d284[m
Merge: c5b2eba4 6c2cad52
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 10 10:25:52 2020 +0000

    Merge pull request #559 from tigera/tomas-np-ext-policy
    
    Do not NAT if externalTrafficPolicy is local

[33mcommit ad758d855caff6a8535832fa315c3a03b3d78d34[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 13 17:24:31 2020 +0000

    Implement BPF bytecode generator.
    
    - Add an eBPF assembler and opcode definitions.
    - Add Policy program builder that uses the assembler to build programs.
    - Add test infrastructure that tests the programs using BPF_PROG_TEST_RUN syscall.

[33mcommit cca9785a8995b612cadb1eae9718d625f246e4f7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 20 09:53:50 2020 +0000

    Review markups.

[33mcommit c5b2eba42221dbb199af1e9f51474db6c7ecb8a7[m
Merge: cf3c5693 332c5355
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 8 10:03:33 2020 +0000

    Merge pull request #558 from tigera/tomas-np-pods
    
    pods can access nodeports

[33mcommit 6c2cad52e42aadc941b58b4a5976ea33a9aeb1a3[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Jan 8 11:22:33 2020 -0800

    fix bpf NAT debug print and code indent

[33mcommit 7a7d830fd5ab8ad73dc7e7fbd617f5fdba86cf1b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 17 16:22:05 2020 +0000

    Fix verifier errors caused by packet offset subtraction.
    
    Rework the offset calculation to calculate an offset and then
    add that to the packet start pointer (so we can just use the
    offset where needed instead of subtracting pointers).

[33mcommit cf3c56939cf8b6ac3ea8bf5ffd5bdc5a457eba80[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 7 13:26:04 2020 -0800

    update go.mod/sum and proto/felixbackend.pb.go

[33mcommit 332c5355b7af9201144da19a5a8c7d091a39f042[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Jan 7 13:17:37 2020 -0800

    Fixed connect time lb connecting to self
    
    The connect balancer needs to have the routing table attached.
    
    FV tests need to have loopback device up allow connecting to self
    
    Added test cases to cover workloads connecting to self and external
    workload no-connectivity when policy denies it.

[33mcommit 65f905e39961e263031fa3af05f3542739ffe428[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 30 16:48:21 2019 -0800

    Do not NAT if externalTrafficPolicy is local
    
    kubeproxy programs 0 backends if there are no local ones and thus we do
    not NAT in such a case. We let the packets through if they pass policies
    and the packets get dropped either by the host or the host responds RST
    if there is no relevant service on the host.
    
    endpoints of a services are sorted, local first, remote next.  This
    allows the bpf code to pick either local or remote backend
    
    calico_nat_v4_value->count and ->local both 32bit
    
    32bit padding reserved

[33mcommit c12b1888451820fee6c82283df0173306c3c35b5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 17 14:32:18 2020 +0000

    Add UT that loads all the TC programs.

[33mcommit 37413ae5a26c0eb5aecb8424168066b41773e3c2[m
Merge: acc6985b 6d8efde9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 6 18:19:00 2020 +0000

    Merge pull request #557 from tigera/tomas-np-host-host
    
    node-node Nodeports

[33mcommit b5ce0cde508b4b44c2b8ab5e8fb0b7cbe80a9fe1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Jan 4 20:58:15 2020 -0800

    Make sure CALI_COMPILE_FLAGS are set consistently
    
    Perhaps should be enabled in testing environment only.

[33mcommit 76d4d9baf94dc0c8646780a5cdfe465016999ef3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 16 14:44:06 2020 +0000

    Handle log prefix when loading pre-compoiled binary.

[33mcommit acc6985bf24992b493140bffb8215dcd6923c9c5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Dec 20 11:56:28 2019 -0800

    Stabilize bpf kube-proxy fv test
    
    Unfortunately, there are also other k8s services that come and go and
    thus the maps are not directly comparable as we do not know what was in
    the prev map.
    
    fixes BPF-204

[33mcommit 6d8efde9e4a158f52203aaf1bc68cf8ec8c41e86[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Jan 4 18:32:53 2020 -0800

    bpf: less sbk->marks and iptable rules
    
    CALI_SKB_MARK_SEEN is a prefix common to all marks so a single iptables
    rule can check whether it passed through bpf. Other marks set the
    next 4 bits.

[33mcommit a25caa81aac4224684de6985f826886e3a2adfab[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Sat Jan 4 19:39:11 2020 -0800

    bpf NAT: do a nodeport lookup only for local traffic
    
    The avoid the possible extra hop to a remote node, do the nodeport
    match only if the traffic is local, that is, either from a workload or
    from the host. In any other case the destination cannot be a nodeport
    or is handled by the host.

[33mcommit acf30b5c03abdddb73057f38e5249fd52f4e2ace[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 16 10:07:26 2020 +0000

    Fix incorrect program name calculation.

[33mcommit 6ae620eb89e1ddb2db861f4efa5fb6bec51790fb[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 19 16:18:55 2019 -0800

    fix govat issue with passing lock as value

[33mcommit 415208b719edec077f9cbf8d768b5e3f9ba0e8e6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Dec 27 13:26:05 2019 -0800

    Mark NAT tunnel forwarded traffic to bypass igress
    
    Do not look into the packets, just check the mark.

[33mcommit 1cfb0647cf9270757108764f58560993b5235535[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 30 17:11:23 2019 -0800

    bpf-fv test with 3 nodes
    
    allows pod@1 -> np@2 -> pod@3

[33mcommit a73fad5ad4480d40087a4b01085253884593a0aa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 16 09:40:32 2020 +0000

    Fix incorrect temp dir usage.

[33mcommit e37d14f5e40364ce0ea36e60c8c846f903d36d99[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 19 15:48:47 2019 -0800

    .d files need CFLAGS instead of CPPFLAGS

[33mcommit b16a873284ff31a5a50ba7ec8f14e6191555613c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 19 13:10:30 2019 -0800

    bpf nodeports encap node-ip -> node-ip
    
    When NATing to a nodeport from an external source, we encap with VXLAN
    from the node-ip where it arrived to to node-ip where the dest pod
    (service backend) is. The dest node decaps, passes it to the pod. On
    reply, the pod encaps again, but for routing reasons, it uses the 1st
    node's ip as dest and its own as source. The source is fixed when the
    packet is leaving the node.
    
    fixes BPF-159

[33mcommit 8db137657343c41c96430a615bbb646f7a8d3644[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Dec 27 15:21:29 2019 -0800

    pods can access nodeports
    
    kube-proxy programs 255.255.255.255 as a special nodeport NAT entry. If
    there is a NAT miss and the route is to a host, we search for this
    special entry.
    
    The downside is the special usecase for a broadcast address and the
    fact that we cannot limit the nodeport IPs to certain CIDRs
    
    fixes BPF-164

[33mcommit a64e756dd2d0ebaf0784b18c26229c505ba3e7ba[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 15 16:38:58 2020 +0000

    Fix up makefile on clean system.
    
    Move register call to a dependency, which is OK since image is already a phony.
    
    For some reason the extra call triggers make to delete the BPF programs.

[33mcommit 880f56bfedf59f29362c5f6fcbed4c29bdcd7d38[m
Merge: 0e5cbd44 5e658fbd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 19 09:27:58 2019 +0000

    Merge pull request #556 from tigera/smc-ngdp-fix-missing-routes
    
    Fix BPF route calculation.

[33mcommit de5f66b54303e5dce5bea79b9ca1c3a34b813f7b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 12 16:03:32 2019 -0800

    bpf-ut dumpRTMap

[33mcommit 7cdc5715876b2639fad1f9a5472517001e9905ac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 15 09:27:53 2020 +0000

    Fix up BPF UTs and policy program.

[33mcommit 0e5cbd44c358e59de372f546ff89ad018ad95ede[m
Merge: 176c3ea5 c1fcb86f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 11 14:56:22 2019 +0000

    Merge pull request #550 from tigera/smc-ngdp-tail-calls
    
    Remove flag variable in favour of constant

[33mcommit 5e658fbd14ab50de201713f16d81aa29d8c49168[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 18 11:48:43 2019 +0000

    Fix BPF route calculation.
    
    - Enable node watch if BPF is enabled.
    - Fix dedupe logic in the route calculator.
    - Add calc graph FV tests for BPF routes.

[33mcommit 7be922a94632fd89d8635b7dc028d623bc531191[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 12 16:02:56 2019 -0800

    routes.Value.String()
    
    handy to have a string form for dumping RT map

[33mcommit b1575c5cea79331862c2e950a4cc30e720cf5613[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 15 09:27:17 2020 +0000

    Speed up builds by tightening dependencies for test binaries.

[33mcommit 176c3ea55e899a811f8a50860629c7591a14d9fc[m
Merge: 0642aafd 032c86d5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 11 09:51:00 2019 +0000

    Merge pull request #544 from tigera/tomas-k8s-proxy-host-ip
    
    bpf kube-proxy restarts to apply hostIP changes

[33mcommit c1fcb86fae48a3f3c5387f511c8bde0eecb8a475[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 11 10:57:20 2019 +0000

    Markups

[33mcommit 1f7716bf2295254f90fecf90a20db90fb1e9965f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 12 13:50:44 2019 -0800

    NAT encap makes sure that there is a route
    
    bpf-ut populate routing tables
    
    If dnat_should_encap() we must find a route
    
    If there is no route we deny such a packet

[33mcommit bf8a6beba6f5eaf37bebd178c0d61b90c9a4ef3b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 14 17:11:20 2020 +0000

    Fix up BPF UTs
    
    Still using compilation.

[33mcommit 0642aafd29bd83b4487cb4680a0c6e185c671727[m
Merge: c7c4e015 ac606ef5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 15:54:11 2019 +0000

    Merge pull request #539 from tigera/tomas-icmp-reply
    
    ICMP Too big reply when encap would fragment

[33mcommit 032c86d5a08b910c156ccc323de58326407e1881[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Dec 10 10:33:28 2019 -0800

    bpf proxy - flaky test
    
    Make the test to wait a little in case the update was split in two.
    Good for now, will need a proper fix.
    
    refs BPF-187

[33mcommit f3142db6ebc5c7670ad431d6ed0603486f7dcd58[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 15:25:49 2019 +0000

    Remove flags variables, replace with define.
    
    Use single entry point into the TC program.
    
    Fix compiler/verifier mismatch by doing size test separate to IP header calc.

[33mcommit a4adad82515e188acf3d94903044c8b57de14092[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 12 11:44:38 2019 -0800

    bpf/xdp/bpf_maps.h -> bpf/include/reasons.h

[33mcommit b160b0a990394404f8c74917898922d32c60363a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 14 16:02:47 2020 +0000

    Get policy program injection working.
    
    * Sync up map definitions (use explicit types for enums for predictability).
    * Find the jump map by looking up the program's maps.
    * Search the maps for one with the right type.
    * Generate the bytecode and install it.

[33mcommit c7c4e015115f830b71482e30b19db797107da87a[m
Merge: c155d120 f6b4a25f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 15:48:56 2019 +0000

    Merge pull request #545 from tigera/smc-ngdp-clean-up-kube-proxy
    
    Clean up kube-proxy's iptables rules when in BPF mode

[33mcommit 9bc35f3360a7e77956d6a47c4bcfd3f7671320c5[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 9 14:43:10 2019 -0800

    bpf kube-proxy fix typo

[33mcommit a4a751ebf6053ee1419013bdb90207aa9bbdb2c8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 13:38:52 2019 +0000

    Remove direct access to flags.

[33mcommit f7ccf0951afded45ad95a9d43c3799f29cbdaeae[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 19 11:50:08 2019 -0800

    bpf-ut skb->mark
    
    As a workaround for the fact that bpftool run cannot set skb->mark in
    context, we can set it programatically at the start of the progam when
    under test by defining CALI_SET_SKB_MARK.

[33mcommit 2032744c7e891b3d9ff28ff6dade528523603538[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 14 14:25:43 2020 +0000

    Pre-compile TC and connect-time programs phase 1.
    
    Compilation and attachment working but still need to install policy programs.

[33mcommit e3c315d24f2c0868e13e37cf6fa5e035f446eff2[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 9 14:34:32 2019 -0800

    KubeProxy.OnHostIPsUpdate() keeps the logic within KubeProxy
    
    OnHostIPsUpdate() allows the bpfRouteManager to call it in a
    non-blocking way and forget about it. The logic of applying the new
    host IPs is entirely within the new KubeProxy object whic stops the
    internal proxy and restarts it with a new configuration.

[33mcommit 493eff09bc0e687a50545f68030698a7ab3a0740[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 11:45:26 2019 +0000

    Fix lack of error message after compile failure.

[33mcommit 0b32e8533ca51c76675f8a3c9ccd5769c7942627[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 12 11:46:19 2019 -0800

    fix icmp_v4_too_big compilation for 5.2+

[33mcommit d6f5cb347d2dfa1ef603a58c36ed6acffa3f6c5b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 13 18:01:28 2020 +0000

    Split BPF program up using tail calls.

[33mcommit c7332287960082d5c1607b5127aa63e80a7c32a9[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Dec 6 13:14:04 2019 -0800

    kube-proxy tests stops proxy when it ends
    
    cleanup to avoid post-test clutter

[33mcommit 97e044d11b3548b90c51ce0fbe27252934f8d9c2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 20 10:23:54 2020 +0000

    Fix incorect update.

[33mcommit 6c74a38e02ab7a9535bec2842277ea8407380666[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 5 17:01:53 2019 -0800

    bpf kube-proxy restarts to apply hostIP changes
    
    It waits for the first host IP update before it fully starts
    
    It restarts to rewrite nodeports
    
    refs BPF-159

[33mcommit b16b4a47a0bf2a13183a980d6d7f5e9c1bc1b4a8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 16 11:57:53 2020 +0000

    Beef up node port tests to make failures consistent.

[33mcommit e75410916f265b3431c9e689cfcfd63cc13293ff[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 5 12:08:56 2019 -0800

    Revert "kube-proxy get the host ip from eth0"
    
    This reverts commit d93932f6e4b471b092ac66810de23eb489824ada.

[33mcommit ac606ef578975cd0a161fbeaacc60ed8e5b3e8fb[m
Merge: f2383974 c155d120
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 10:02:17 2019 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into tomas-icmp-reply

[33mcommit c155d120fbe0bff6614839df052e88b85ff46cc7[m
Merge: e2eefd68 fb3df925
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 09:44:43 2019 +0000

    Merge pull request #547 from tigera/smc-ngdp-actually-repin
    
    Repin maps at startup

[33mcommit f6b4a25f287d150466bd6e00c0b99ed3fc2f1a5d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 9 12:21:04 2019 +0000

    FV tests for iptables cleanup.

[33mcommit f23839748f8bd1f62264498857641fc42813f526[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 9 15:59:26 2019 -0800

    bpf ip_is_dnf() helper
    
    no need for ip_dnf variable if we do the check on the ip header before
    NAT as we need to.

[33mcommit e2eefd6881be26fbbf16f42b4b2ebe1f235cf389[m
Merge: 53202922 f6d46fa6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 10 09:41:22 2019 +0000

    Merge pull request #546 from tigera/smc-ngdp-map-repin
    
    Reduce length of BPF map names and make prefixes consistent.

[33mcommit fb3df925c7317f8e62189a6ed08da08766715d19[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 9 15:21:16 2019 +0000

    Repin maps at startup by default.  Disable in FVs.

[33mcommit d816a3166338e0fc1d6b61e589e852e5ec71082f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 9 11:17:21 2019 +0000

    Add configuration to control kube-proxy rules cleanup.

[33mcommit c5178b984b2fe1a0a980af8bba94f2aa1950cc3d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 9 15:48:35 2019 -0800

    bpf-ut unify common compile opts
    
    Most of the opts are shared between various flavors of test and should
    be maintained in one place.

[33mcommit 532029222276ec5cb3082432c00783f76a348e47[m
Merge: e95cb813 b3f5b169
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 6 15:43:57 2019 +0000

    Merge pull request #543 from tigera/tomas-k8s-proxy-fix
    
    bpf kube-proxy test should not block

[33mcommit f6d46fa63b724b0311077a6cb28c6776e710f271[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 9 14:13:56 2019 +0000

    Reduce length of BPF map names and make prefixes consistent.

[33mcommit 44ddd47e275cb96b434fa9d12a254b6766315ef7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 6 11:50:21 2019 +0000

    Clean up kube-proxy's rules.

[33mcommit 688ea5d57ce31e85a509a404a383687eed7f4773[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Dec 9 15:40:29 2019 -0800

    config.VXLANMTU sets CALI_NAT_TUNNEL_MTU
    
    The NAT tunnel based on VXLAN should fit into the same MTU as the
    VXLAN itself.

[33mcommit e95cb8138ea84612aee3eba236fe50007a99083e[m
Merge: cc6afc09 64082ad5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 5 09:42:45 2019 +0000

    Merge pull request #538 from tigera/ngdp-conntime-errors
    
    Clean up connect-time load balancer error handling.

[33mcommit b3f5b169681e4d55ee4820680cae382d7c20df51[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Dec 5 10:54:07 2019 -0800

    bpf k8s proxy tests follow ginkgo patterns
    
    Replaced It with By to make tests that check state transitions
    deterministing when randomized.
    
    Easier cleanup after a test fails.

[33mcommit 62e406db542b51d1f0305d6e9344a705cfcdb86a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 4 17:20:49 2019 -0800

    ICMP too big integrated with NAT encap code
    
    If we were about to NAT & encap a packet that would exceed the
    CALI_MAX_MTU size and the IP DNF flag is set, we return an ICMP too
    big just before we do the NAT.
    
    fixes BPF-139

[33mcommit cc6afc09a5bdbb4a4ac032ab2dbbefd68b7d5114[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 4 14:38:10 2019 -0800

    bpf-ut testPacketUDPDefault() for simpler testing
    
    testPacketUDPDefault() provides a default UDP packet for unittest
    
    testPacket() allows overriding of each header individually

[33mcommit 64082ad58e42997ffa036de3add8fe2d1aff0a0c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 2 17:12:21 2019 +0000

    Clean up connect-time load balancer error handling.

[33mcommit f11015253f7f4fb80408e2ae2596e94adc16fa95[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 4 13:09:41 2019 -0800

    bpf kube-proxy test should not block
    
    fixes BPF-161

[33mcommit 22288940b0235dae63eae6f352e2eea37b73880c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 29 17:07:51 2019 -0800

    ICMP Too big reply when encap would fragment
    
    icmp_v4_too_big() turns the existing packet into an ICMP reply with
    the max MTU set.

[33mcommit 504c66cca0db1b9b4328467b76feca749fc592e1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 4 14:37:50 2019 -0800

    update go.mod

[33mcommit f9b038889d022798de7039d8dac5b68f2a9b465c[m
Merge: 29bd9a5e 21852882
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 2 10:14:48 2019 +0000

    Merge pull request #528 from tigera/tomas-dnat-csum-err-check
    
    bpf_l3_csum_replace returns int

[33mcommit ef6e6f97c8f1b20030dcda03454961431a977606[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 4 15:38:11 2019 -0800

    bpf NAT encap in one place
    
    To make the code simpler, we do the NAT in one place so that we can
    decide whether to reply ICMP too big in one place only as well.

[33mcommit e73a0f783d86f5fd9f617cf78d43c65aaf24b46f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 4 14:23:18 2019 +0000

    Avoid encap when sending traffic to local workloads.
    
    refs BPF-88

[33mcommit 29bd9a5e68d6f6e438d00f7adbb22fb8c9000ba5[m
Merge: cf8393f0 043a8f1f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 2 09:38:26 2019 +0000

    Merge pull request #535 from tigera/smc-ngdp-fix-ip-set-errors
    
    Fix BPF IP set manager IP set removal handling.

[33mcommit 218528826bd7fa641c598e4474007aa07503647c[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Nov 26 15:04:26 2019 -0800

    bpf_l3_csum_replace returns int
    
    We should check the results of l4/l3_csum_replace is in rare
    situations there might be runtime errors and we should not let half
    mangled packets through.
    
    To make handling the errors simpler, the DNAT code got unified and
    changed in the simpler SNAT code's fashion.
    
    skb_nat_l4_csum_ipv4() fixes udp/tcp checksum for SNAT or DNAT

[33mcommit 0473be9db3e52a42530667f833911787da497d0b[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Dec 4 15:37:33 2019 -0800

    bpf final log - shorter line

[33mcommit 0d35a668b3c6cfbbc52b313c3455aad9b3e7b090[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 15:07:19 2019 -0800

    VXLAN encap for NAT on host endpoint
    
    When a packet should be NATed on a host endpoint, we NAT the packet
    and we wrap the packet in vxlan to preserve the original source and
    forward it to the dest pod where it gets decaped and consumed.
    
    Response is encaped on the pod and sent back to the original host
    which decaps the packet, does the SNAT and forwards it back to its
    original source.
    
    fixes BPF-88

[33mcommit cf8393f0fddecee8b29ffd1c041a95260bb5e066[m
Merge: 66803348 7b9fbb6c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 2 09:36:35 2019 +0000

    Merge pull request #536 from tigera/smc-whitelist-latency-fv
    
    Whitelist the latency FVs for BPF.

[33mcommit 043a8f1fb493d433b225b6aa690d3b209644014f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 29 14:47:12 2019 +0000

    Fix BPF IP set manager IP set removal handling.
    
    Previously, removing an IP set assumed that changes had been flushed,
    causing errors when it tried to delete entries that hadn't been
    flushed.
    
    Refactor the IP set tracking logic to send all updates through
    idempotent add/remove methods that maintain the correct invariants.

[33mcommit 13147eb19c239351704942b79ef6dd9aadc88a96[m
Merge: 9dc94ec8 fc611a97
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 29 09:57:14 2019 +0000

    Merge pull request #530 from tigera/smc-ngdp-route-calc
    
    Calculate simplified BPF routing table

[33mcommit f3eab4789123094b6bc09f4b72872f82ce02de0a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 3 14:34:17 2019 +0000

    Longer timeout for BPF connectivity checks.
    
    refs BFP-88

[33mcommit 668033486fa49b59d6521cd30d81c635d5f8cdbd[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 13:32:55 2019 -0800

    bpf vxlan_v4_encap/decap()
    
    vxlan_v4_encap/decap function take an skb and produce encapsulated or
    decapsulated packet. They return 0 on success, error otherwise.

[33mcommit 7b9fbb6cfff7230a3cd77cd906149d8423708090[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 29 15:28:40 2019 +0000

    Whitelist the latency FVs for BPF.

[33mcommit 9dc94ec8e669e586a28c49811b8572b0629aa3b8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Nov 27 15:02:52 2019 -0800

    fv-bpf tests for both tcp & udp
    
    fixed copy-pasta

[33mcommit fc611a97762203a41c536788692e42f79c0238a0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 29 09:24:29 2019 +0000

    Markups.

[33mcommit a9c57756ceef4e213a9905690ec6476413176dbf[m
Merge: a2009dd3 2459ba42
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 4 11:23:17 2019 +0000

    Merge pull request #540 from tigera/smc-smarter-pid-lookup
    
    Smarter algorithm for finding process PID, avoiding forks.

[33mcommit 49fc842f8956c1eb404e213e120d3340ae26eb27[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 14:18:19 2019 -0800

    bpf-ut for pod-pod NAT
    
    Simple test for pop-pod udp NAT across two nodes.
    
    The test has some limits in carrying over skb->mark

[33mcommit ddaff2237fefbb33889c326f1bdbb44458eeb05e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Nov 27 11:33:37 2019 -0800

    RemoveConnectTimeLoadBalancer uses json
    
    bpftool produces json which is easier and more robust to parse

[33mcommit 4b34bec1d6e149aabc8cba9a405ff8a4aa5cc21d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 28 15:53:38 2019 +0000

    Remove non-global IPs from route map and fix up tests.

[33mcommit a2009dd30e53cca291f74fdc2ab15c2729157ef7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 14:29:52 2019 -0800

    kube-proxy get the host ip from eth0

[33mcommit 2459ba42863717012bdf31f211d71c2e7a92d0eb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 3 14:11:13 2019 +0000

    Smarter algorithm for finding process PID, avoiding forks.

[33mcommit 5ed2edc342ed76a92061a2a7d79efc17fdd09c82[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 13:36:49 2019 -0800

    runBpfTest & co. to simplify unittesting
    
    runBpfUnitTest runs a simple unittes that requires a wrapper .c in
    bpf/ut/progs
    
    runBpfTest runs selected section of redir_tc.c
    
    tools to dump/save/restore connection tracking tables

[33mcommit 1fb2f67d1cdd2050420bdbd86dcd75e048663d9d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 27 10:28:12 2019 +0000

    Add flag to disable connect-time load balancer and clean it up after tests.

[33mcommit b0df3bbfa2eb4171a62eed87802ba7cc9d778275[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 28 13:42:16 2019 +0000

    Add remote hosts and workloads to the route map.

[33mcommit 9eb42dd2bfb699552f1f31f7fd472a601850b297[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 14:23:04 2019 -0800

    bpf_ep_mgr sets accept_local=1 for host ep
    
    Without that we wont be able to accept and route the vxlan encaped NAT
    packets.This should be revisited as per BPF-157

[33mcommit d5e182a5a637a3127e5ce7c2038976f6da20777f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Nov 26 18:50:42 2019 -0800

    updated go.mod/go.sum

[33mcommit 2a09f3ac3408b1d9fa8568cba342dbb2d4f00f33[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 27 17:59:20 2019 +0000

    Remove hosts IP set, now using the route table.

[33mcommit 8d7b7e0c8d5410a504969c8f6d1e160e0ae72892[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 28 14:22:01 2019 -0800

    bpf_ep_mgr sets the HOST_IP for each program
    
    HOST_IP can handle only a single IP per iface

[33mcommit 0ce4e1b70ec5c96b4073f2f7e8f01994a9cd421e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Nov 13 17:04:42 2019 -0800

    calico-bpf can set/delete NAT table entries
    
    ~# calico-bpf nat set front 10.2.0.1 4444 tcp 1 1
    ~# calico-bpf nat set back 1 0 10.4.0.1 3333
    ~# calico-bpf nat dump
    10.2.0.1 port 4444 proto 6 id 1 count 1
            1:0      10.4.0.1:3333

[33mcommit 142a5ffc002071dd5b50897dda56a0c2a983bdf7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 27 16:59:16 2019 +0000

    Switch from IP set lookup to route lookup.

[33mcommit c4643b57692638609402678e568221c2e494bc31[m
Merge: ff91a1a1 c4a27f81
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 25 15:57:22 2019 +0000

    Merge pull request #527 from tigera/smc-ngdp-default-action
    
    Implement DefaultEndpointToHostAction.

[33mcommit 216b8044e161ab893ee6a3ee803a924d4b44144e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 27 16:55:49 2019 +0000

    Plumb routes into BPF map.

[33mcommit ff91a1a18b04028217e1ee6e9f90b1d30922ddea[m
Merge: 15072623 2ce1a1c9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 25 14:04:30 2019 +0000

    Merge pull request #526 from tigera/smc-ngdp-ip-class
    
    Whitelist host to workload traffic

[33mcommit c4a27f81cb48ca5c51cadf5e8c97f542d3c07625[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 25 15:30:05 2019 +0000

    Implement DefaultEndpointToHostAction.

[33mcommit e495f49c2414b60cd90c7d3bf19fd4fab4f49897[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 27 11:46:29 2019 +0000

    Plumb through route updates.

[33mcommit 15072623d4fc53eaa8191b5e318da91462fde912[m
Merge: 3931c0ab 7e1e073a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 20 17:43:15 2019 +0000

    Merge pull request #525 from tigera/smc-ngdp-connect-time
    
    Add connect-time NAT

[33mcommit 2ce1a1c973d2ecc346d80a27ab246eb667bd6639[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 25 13:16:11 2019 +0000

    Fix up host->svc->workload FV test.

[33mcommit 700f7931c3667c18422e56771c74d1f7a055df0e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 26 17:24:53 2019 +0000

    WiP on factoring out route calculation.

[33mcommit 3931c0ab0f160e8d257b4203fcaa144b752295e7[m
Merge: 11dc717c f88f60ef
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 18 10:11:29 2019 +0000

    Merge pull request #524 from tigera/tomas-skb-iphdr
    
    skb_iphdr to get the ip header

[33mcommit 7e1e073ac056b18b2dda034a18ffba8e31860a72[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 20 14:33:24 2019 +0000

    Self-review markups.

[33mcommit 6d84ba18e90971cb0a0ea81ed228779419c36626[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 25 11:16:05 2019 +0000

    Fix incorrect IP set IP pass-through.

[33mcommit 11dc717c28c3de93ef0488bb2e5c70c19512eb4e[m
Merge: e2a19698 1b53ee58
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 18 10:05:20 2019 +0000

    Merge pull request #523 from tigera/tomas-goto-allow-bypass
    
    goto allow_bypass if skb->mark == CALI_SKB_MARK_BYPASS

[33mcommit f88f60ef14b110b1e4739d076da9139ea56ea530[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 15 11:55:35 2019 -0800

    skb_iphdr to get the ip header
    
    Easier to resuse the code after vxlan decap
    
    We do not need the eth_hdr unless we do FIB and we search for it again
    when we do so.

[33mcommit 9fa9ece7530db4660ceb15bbb7a2f786552cb181[m
Merge: 2c8be9a3 3931c0ab
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 20 14:28:01 2019 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into smc-ngdp-connect-time

[33mcommit 0b1d0c2699cfc579c975620bb6ee54296992eb5e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 21 17:11:40 2019 +0000

    Add missing inline directive.

[33mcommit e2a19698574fe5b0d8d931d49efc4610b47980b8[m
Merge: 625fe2c6 a35c9343
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 14:51:13 2019 +0000

    Merge pull request #522 from tigera/ngdp-speed-up-builds
    
    Speed up builds

[33mcommit 1b53ee58c16cd329e0290220f4e4068d096578d6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 15 10:32:56 2019 -0800

    goto allow_bypass if skb->mark == CALI_SKB_MARK_BYPASS
    
    Jump all the way to avoid "unset variable" while debugging as the
    compiler does not know CALI_TC_FLAGS_TO_HOST's value in some early
    checks and if we place a return somewhere to debug verification issues,
    this unnecessarily pops up.

[33mcommit 2c8be9a3b32e01814590746aeb62a2f0a7e7083b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 20 14:27:38 2019 +0000

    Remove spammy log when interface not found.

[33mcommit 26f8c99c4622cbddad449c8284b9bf2038ac4b31[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 21 17:01:20 2019 +0000

    Improve BPF UT diags.

[33mcommit a35c9343e3825ced107dd566bf55b9a756c23246[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 13:58:41 2019 +0000

    Fix incremental builds.
    
    Avoid copying .go files into docker-image/bpf.
    
    Speed up docker build by adding whole directory in one layer.

[33mcommit f2021741bf803c3a0c5c1ad8119137042fa2e1ce[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 19 11:07:56 2019 +0000

    Fix BPF test to allow traffic from tunnel IPs too.

[33mcommit 3f37e9dbee9b5b6d4cffc19b9479d9b003aad837[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 21 16:17:57 2019 +0000

    Improve detection of host-created traffic.

[33mcommit 8136571ccf9f2e5d31891b88f15a6bd0ee8c885a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 18 17:02:16 2019 +0000

    Add support for running Felix and test binaries in non-default cgroup.
    
    Doesn't curerntly work because cgroupv1 overrides it.

[33mcommit 913d5763f288675a03f1148bad72d2f541885889[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 21 15:14:24 2019 +0000

    Allow host to workload traffic by default.
    
    Fixes kubelet health checks.

[33mcommit 3192d92fc8948e0d2238c09ff9d4bd4234d92324[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 13:50:04 2019 +0000

    Fix incremental builds.
    
    Avoid copying .go files into docker-image/bpf.
    
    Speed up docker build by adding whole directory in one layer.

[33mcommit 755d24a7cfd61ce9d7e93a229ceb84409eb47a53[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 20 17:41:33 2019 +0000

    Do stateful IP set ID allocation.
    
    - Prevent collisions.
    - Lay the groundwork for having additional special IP sets.

[33mcommit d5095e4bb335601874bf09c80279899bd31433c6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 11:12:24 2019 +0000

    Add test that relies on connect-time load balancing.

[33mcommit eaef31a84e78bbd425fe0f6efb63a491ef062a11[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 11:12:01 2019 +0000

    Extra logs in k8s test infra.

[33mcommit dae917df12f805518173ba0455b9037517b53edd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 09:25:43 2019 +0000

    Don't wait for test containers to gracefully stop.

[33mcommit c14a0098caff9935eaa1b23ab60d524d6faf8ec7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 14 18:09:14 2019 +0000

    Get felix compiling and installing connect-time lb.

[33mcommit e3f2fa71329ac4b2f70b433dff2afbb68665b11e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 14 11:50:57 2019 +0000

    Rebase connect load-balancer onto existing NAT functions.

[33mcommit 484b9875e665e9a0f66ed1224eef074eec14ecef[m
Author: Tomas Hruby <tomas@tigera.com>
Date:   Thu Sep 5 15:20:54 2019 -0700

    connect load balancer init commit

[33mcommit ece12131d7b4e88312995677cbfe2a95db77e90a[m
Merge: 1e88a549 27a087ca
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 13:56:02 2019 +0000

    Merge remote-tracking branch 'local-os/fix-incremental-builds' into fix-builds

[33mcommit 1e88a54904851538489bf6402ea09e426ed8996a[m
Merge: 625fe2c6 55d613bd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 13:55:05 2019 +0000

    Merge remote-tracking branch 'local-os/dont-wait' into fix-builds

[33mcommit 625fe2c69ea4b974b33d1a4e2f17c3d8d056dc20[m
Merge: e1dfb788 a3fa2371
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 14 11:05:37 2019 +0000

    Merge pull request #521 from tigera/tomas-compile-standalone
    
    CALI_DEBUG_ALLOW_ALL for standalone compile for allow

[33mcommit e1dfb7883ed920a09c50aef37cc6fc16331d4f02[m
Merge: fb26b238 ced64147
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 14 11:01:22 2019 +0000

    Merge pull request #519 from tigera/smc-ngdp-conntrack-clean
    
    BPF Conntrack cleanup

[33mcommit a3fa237156340f4c54f7d78b908dafbc96e0b2a7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Nov 13 17:06:51 2019 -0800

    CALI_DEBUG_ALLOW_ALL for standalone compile for allow

[33mcommit fb26b238c6d210f6e16eda148016f175a75d544a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Nov 12 11:58:22 2019 -0800

    bpf/proxy bug triggered by race if svc exist but no backend
    
    It can happen that k8s tell us that there are no backends for a service
    that has been removed but but we apply the change before k8s tell us
    that the service was also removed. Once it tells us we do not remove the
    backendsi due to the bug. Now we remove the backends correctly.
    
    fixes BPF-147

[33mcommit ced641475605ecf38d6a552c1f80820ae386ad2e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 14 10:23:50 2019 +0000

    Add auto-cleanup to semaphore v2.

[33mcommit 38d8f70b690d61e2913fead7804586b2bd7dfdbf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 14 09:52:10 2019 +0000

    Review markups.

[33mcommit 717e27caa9c08a14a8e9e6cb5b1f800f2cf7fc19[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 13 16:23:37 2019 +0000

    Add FV test of conntrack deletions.

[33mcommit ce4ecc6a5119206a72444cde5af5dba6054ee897[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 13 14:10:31 2019 +0000

    Wire up conntrack clean up.

[33mcommit b2a8500da292a188664c03ee2a6c8904e9e05687[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 13 14:03:42 2019 +0000

    Unit test Scan() method too.

[33mcommit d26a5407a6211ec736819b40f6fb1e2785681b5a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 13 13:52:25 2019 +0000

    WiP on Conntrack expiry: implement expiry calculation.

[33mcommit 425b9760ae8304527ddbe3483cc7730ebe56e255[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 13 10:06:42 2019 +0000

    CI fixes.

[33mcommit e5a4a04720d93f8c32926fc1e8a33d71f23a8e74[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 18:16:38 2019 +0000

    More WiP on conntrack cleanup.

[33mcommit 18793da9d65359b944e4cb3f3d2fdbc7688773c1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 15:17:41 2019 +0000

    Move conntrack function to own package, get access to kernel timestamps.

[33mcommit 0aed67108a1d2dd9c0658f0ce5e09070303637c5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 11:26:03 2019 +0000

    Work around lack of init daemon in CGO build container.

[33mcommit 4a7bcfb96f0ccb8efb8832f17a583252d8ffb285[m
Merge: c804559e 69ccd9a5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 10:49:45 2019 +0000

    Merge remote-tracking branch 'open-source/master' into ngdp-codegen-new-ct

[33mcommit c804559e6d1c5b2374f61eb42f79fea05ad2eab8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 09:26:41 2019 +0000

    SEmaphore v2 updates: change GCE key, remove unused SSH key.

[33mcommit 4742e08a16e4075bc39981d4e550f1d430794cdc[m
Merge: 625a3038 3e588b0f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 11 15:07:02 2019 +0000

    Merge pull request #518 from tigera/tomas/bpf-conntack
    
    conntrack code simplification

[33mcommit 625a3038a8e1eb075a250da348d675e98c3a0083[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 8 14:59:33 2019 -0800

    kube-proy more debug logging

[33mcommit 3e588b0fb740333b1ad23cefbf786b1942354f33[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 8 19:58:59 2019 -0800

    bpf ct lookup proto independent

[33mcommit 591919789e74ab6c1e22870b580bfd42e5f9f3a8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 8 14:43:30 2019 -0800

    Revert "disable check in bpf fv test"
    
    This reverts commit 4bc648dee8319fccc1031ba9047ba476584404d4.
    
    reenable the test to collect more info

[33mcommit 7f3124cb2f0496dc97cde864d87a7b175239d3b0[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 8 15:11:25 2019 -0800

    make the first { of func on new line in conntack.h
    
    This is more the C way and avoids empty lines after headers with many
    arguments arguments to increase readability.

[33mcommit 5d80595758d0b29ef099491ea99693e9ba372fde[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 8 14:21:10 2019 -0800

    kube-proxy: dont leak derived svc on change
    
    If a "derived" service changes because the original servie (clusterIP)
    changed we should first delete the old one before creating a new one.
    
    Since it isdifficult to spot this, whenever the original service
    changes, we delete all derived ones. We always write the drived so this
    will write the new ones.

[33mcommit ee7cb87267818f8a3d675254ffacac8333c1c4df[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 7 22:14:10 2019 -0800

    bpf plumb the ct_ctx all the way down

[33mcommit 8c7e8381c2a911fc2625349bda7782473ab60aba[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Nov 8 09:29:02 2019 -0800

    fix make clean bpf-ut

[33mcommit ac630ac89956b60412698263f0bdad135c6976bc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 7 19:24:41 2019 -0800

    bpf CALI_CT_NEW less proto dependent

[33mcommit 5d03154132111ac4ae6c653c169c70d1852fdb6b[m
Merge: f66977a3 9bb16e4c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 15:51:19 2019 +0000

    Merge pull request #513 from tigera/tomas/bpf-ut
    
    BPF unit tests

[33mcommit 17e419977635e52cd8afcc966b1325c3eec9edd1[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 7 14:27:59 2019 -0800

    bpf conntrack code reshuffle
    
    Remove code duplicities for different protocols

[33mcommit f66977a398c18f37a314943eb4ef6c131bce8da6[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 7 11:14:00 2019 -0800

    Make ConntrackEntry printable

[33mcommit 9bb16e4c7a4b2679e92284fc52b038e804b7b904[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 15:13:59 2019 +0000

    Move VM set-up to bash file with retries.

[33mcommit 8c43dc12dd3e2e165498d1d0779a29e0c9fc0b9a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Nov 7 20:29:24 2019 -0800

    disable check in bpf fv test
    
    until the issue is resolved

[33mcommit 69f78b37c97ac5ad9930c73c85cdbbfee4b6f23b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 14:33:10 2019 +0000

    Move BPF UTs to remote VM

[33mcommit 9b6151f4b4c81037190a11a71b044a94b3eb3ea8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 31 14:22:18 2019 -0700

    fix nat inline
    
    functions must be static always inline

[33mcommit e0d079ba71310021a897107c97d8b719301735cb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 12:08:25 2019 +0000

    Run BPF UTs in semaphore.

[33mcommit e672058c24223187d2fb91747e6b9867eeee555e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 7 16:23:49 2019 +0000

    Use larger instance to run k8sfv.

[33mcommit 6aa054b0158777867c140868e0ea4a49d624f258[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 12:04:11 2019 +0000

    Fix up tests.

[33mcommit d732144ff4d04294f6f7688a869fce5c1ed2574b[m
Merge: e38a1e0c f66977a3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 8 11:29:11 2019 +0000

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into tomas/bpf-ut

[33mcommit e38a1e0c57c5e81b2832c1cd30c63a2662aca326[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 30 15:39:07 2019 -0700

    bpf-ut Makefile target
    
    uses the felix image to run the test
    
    mounts local bpftool to /usr/local/sbin/bpftool as it preceeds the
    installed bpftool in the PATH search. The installed bpftool does not
    have the "prog run" command.
    
    Should be fixed by installing a newer bpftool

[33mcommit 920265dd3445cf90827ae3ea4250963515e84931[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 30 14:40:26 2019 -0700

    BPF code unittesting

[33mcommit e3d52ed8d30054e06db8afaecfa84d76c7734a64[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 30 09:57:41 2019 -0700

    fix endpoint_mgr_test.go compilation

[33mcommit 22509c6fdc8e93f07745cdd88997e963c72d6933[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Oct 29 16:43:51 2019 -0700

    Refactor BPF codegen to make parts of it reusable for dev/test

[33mcommit 7c4683ad7ddf70d3f55a85a78fdbcce9260118ab[m
Merge: 431e1e21 be57f1d5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 7 16:02:11 2019 +0000

    Merge branch 'ngdp-codegen-new-ct' of github.com:tigera/felix-private into smc-ngdp-codegen-new-ct

[33mcommit 431e1e213035715c026d5a08a687b87899fbfb8c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 7 09:55:16 2019 +0000

    Add remote FV runs on newer kernel for BPF tests.

[33mcommit be57f1d58c7d4a65c9dda22cb744c0418f732240[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Nov 6 16:57:53 2019 -0800

    bpf: skb_shorter() and few more handy macros
    
    makes lines for testing skb size shorter

[33mcommit 246d49b0d4f33aec410b4ace5d911c8514adb323[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 7 14:26:09 2019 +0000

    Fix up lint.

[33mcommit 5e499a77d91571620262fd3b32a924b091a6dc89[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Nov 5 15:26:19 2019 -0800

    conntrack logs CT-<ip_proto> instead of CT-TCP

[33mcommit a501560cf505912edd90382ae4670ca42ae0ed51[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 7 14:06:38 2019 +0000

    Fix UTs.

[33mcommit 74a9b2c66a058524ba912b8df460fd884f171003[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 6 18:23:52 2019 +0000

    Rework semaphore job.

[33mcommit dbb736bebc36ab3b7a170892b70adc4938b5297a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 6 10:24:40 2019 +0000

    Update semaphore v2 for building with GCO etc.

[33mcommit 39743663823eee54d9e72eee995b3bb98ba2f14d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 5 17:47:05 2019 +0000

    Update Semaphore configuration (only build for AMD64)

[33mcommit dd1fa84db2edc093eba21883ad0aa502a119b03e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 6 17:09:40 2019 +0000

    Remove prototype BPF test.

[33mcommit 9a1adc35336429b3b2fc47f4a5d1cbba4c55d3b2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 6 10:46:13 2019 +0000

    Fix that felix died at startup if outside k8s.

[33mcommit e17c2535694be7e4556a7bcc45e6b9aca1d1938c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 5 18:11:40 2019 +0000

    Remove tee of FV log since it breaks return code.

[33mcommit 8c36623a31aa6412c92d5d5f2e6f9fedeb444557[m
Merge: 9c9135da 0debe454
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 5 17:34:53 2019 +0000

    Merge remote-tracking branch 'open-source/sem-v2-experiment' into ngdp-codegen

[33mcommit 9c9135dadf28f4d59ab8bec294434e8685a668e3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 4 15:19:27 2019 +0000

    Pre-approve packets that pass through more than one hook.

[33mcommit d954fcb58cca1b0bee15579c40d18a5bb7eaa52d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 4 14:26:27 2019 +0000

    Update BPF tests to cover UDP too.

[33mcommit b76457893e843c652426aa877c831a9d8bed2732[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 4 11:40:30 2019 +0000

    And ICMP.

[33mcommit 06922f7876ec354e8bf6a771c57e2de9d871d5d4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 4 11:07:34 2019 +0000

    Return NEW for UDP packets with singly-approved conntrack entries.

[33mcommit 79ec176c82810bf9788739d16d08b0dd0117b453[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 1 18:16:19 2019 +0000

    Updte UDP conntrack to match TCP

[33mcommit 39be0e980167cd0c0012757bb22988af29c8f7c2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 1 15:07:41 2019 +0000

    Be more permissive in redirect programs.

[33mcommit b3f3b76c803c20cd8be826dc73224f7a7f4debc4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 31 15:43:40 2019 +0000

    Ignore Eclipse project files.

[33mcommit 61e755c5ced3e507a8c2db6e2fe9cd7f4e03bba4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 31 15:43:10 2019 +0000

    Add copied bpf directory to .gitignore.

[33mcommit 65846872ad04e86941e522e8e7e90b1da0f5f45e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Tue Oct 29 10:31:00 2019 -0700

    cmd/calico-bpf dumps NAT maps

[33mcommit 3f4c2fa6f12c6e2b04aac0babedbb43d846e80e8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 28 17:17:40 2019 -0700

    calico-bpf uses Cobra for commands and docopt for args
    
    This makas it simple to add new commands

[33mcommit 6050d5889cb683a13927837861582bda6f421d74[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 28 16:22:54 2019 -0700

    bpf: only write NAT map for derived svcs if the original changed
    
    There is no need to write NodePort or ExternalIP derived services if the
    original ClusterIP did not change.

[33mcommit fcfd31b7dde69627f6f94df5890497643bc6c079[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 28 15:44:03 2019 -0700

    bpf: Fixed svc update of a service
    
    (1) When loading existing maps after restart, update the nextSvcID to
    the max id seen +1
    
    (2) When updating params of an existing service, delete it first and
    insert it as a new service

[33mcommit fec316181c269bfc129b05c7d1cc7bc86172735a[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 28 13:03:43 2019 -0700

    fixed mock maps in syncer_test.go to use bpf.MapIter type

[33mcommit 207bdd864315b6612b7a1ed56baf8dddccb7cf82[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Oct 25 15:14:26 2019 -0700

    fv/bpf_test can read and compare NAT maps
    
    added test for deleting a service

[33mcommit 56224978bc44967cf4e66da67d36342eadbdb0cc[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Fri Oct 25 15:10:38 2019 -0700

    Decompose the NAT maps iterator for test
    
    The NATMapMemIter and NATBackendMapMemIter can be used with
    IterMapCmdOutput to read the maps into in-mem NATMapMem and
    NATBackendMapMem resp. while DumpMapCmd can produce the command to
    execute. This allows the tests to excute the command in different felix
    containers and read the maps the way bpf/proxy reads them.

[33mcommit a09696ec7875fca23e489d5a6b9bbcafebfb427e[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 24 17:31:21 2019 -0700

    move loading NAT maps to the proxy/maps.go
    
    can be reused in fv test for validation

[33mcommit dcb309158804ae38ea655925055ed0d7f33a35fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 25 14:17:20 2019 +0100

    Add support for data transit interfaces and IPIP tunnels.

[33mcommit 4fb0e1699bd2118a5f7a6eca31c827be6943a65a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 25 14:16:41 2019 +0100

    Fix service endpoints creation check.

[33mcommit 352019d30854b0f48000469a1562f1f8045932aa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 24 13:27:48 2019 +0100

    WiP on transit interfaces.  Not yet working.

[33mcommit 0bddd373fdbed8b44a86d2e8cf28f175e6852073[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 24 11:12:54 2019 -0700

    remove unused portsUnique() from bpf_test.go

[33mcommit fa37f39863fb51f52e2102a5fe675fd8b4861329[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 24 14:24:12 2019 +0100

    Share Kubernetes client between typha discovery and BPF.

[33mcommit 6894bec84cf0ac36c47aa00788d22180e589fb9d[m
Merge: dcc4e902 cc9c8ea7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 24 13:36:16 2019 +0100

    Merge commit '7270db9afe6c389cd9bb6b08b8325725d1f77a0b' into HEAD

[33mcommit dcc4e902ab69574fff644502965837b54018b59d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 23 21:03:12 2019 -0700

    fv test for kube-proxy and NAT
    
    endpoints needs to be injected manually for now

[33mcommit cc9c8ea742d6d3bae647aea95ccd1f9f7bb840fa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 24 11:40:15 2019 +0100

    Mark k8s-infra created pods as ready.

[33mcommit 8d7b3111506a47376af691ba779785ba10f694e8[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 23 15:49:09 2019 -0700

    XXX hackish client for kube-proxy XXX
    
    to be reverted

[33mcommit 23b3d54723b9da2e0865a530e0d32d16c7627a19[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 23 14:59:17 2019 -0700

    fix PinnedMap.Iter()'s use of bpftool
    
    Makes bpftool output json to make its parsing simpler. It reuses code
    writted for other maps in bpf/bpf.go

[33mcommit 351d75a4a1c313727d8b7321f0762ca490a1131d[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 23 15:47:34 2019 -0700

    more logging

[33mcommit 26afc9f712b659dd33171a8009d61987b11f7bf7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 23 16:23:01 2019 +0100

    Remove old code.

[33mcommit 373075ef4b5f849039411f95aaeaea9ea214bf07[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 21 16:30:15 2019 -0700

    Felix starts bpf kube-proxy
    
    fixes BPF-108

[33mcommit 37d641824a07c981bb7bf83f8f867513a743e9ca[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 23 15:59:26 2019 +0100

    Refactor BPF endpoint manager to make it easier to add non-workload interfaces.

[33mcommit f64b8ff4db72d9ca519200468a14f03ccb463668[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Wed Oct 23 14:59:17 2019 -0700

    fix PinnedMap.Iter()'s use of bpftool
    
    Makes bpftool output json to make its parsing simpler. It reuses code
    writted for other maps in bpf/bpf.go

[33mcommit f23dc43da7e92cc9e9ca5a9b08b0e45ab735c710[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 22 16:27:17 2019 +0100

    Get BPF NAT working.  Move SNAT to source workload.

[33mcommit ff7b71769fb936791b07d51e69d6c206fe41a221[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 21 15:39:41 2019 -0700

    bpf NAT maps code moved to bpf/proxy/maps/maps.go
    
    bpfNATManager removed to be replaced by bpf/proxy
    
    refs BPF-108

[33mcommit 725c1d1be64c3cc3c5ed763e8df07d2c84b98e6b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 22 15:48:40 2019 +0100

    Fix various BPF NAT test issues.  Still not passing...

[33mcommit cad0f1b2fb979da75e62d54f36e570249f6f31ee[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 22 14:17:22 2019 +0100

    Reinstate NAT-outgoing chains in BPF mode.

[33mcommit 1b29215b648b4eafc16bc62e4129314dcfb4bf89[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 22 09:49:17 2019 +0100

    Go mod tidy

[33mcommit 32a71c01e5c48d3ad9e1eb9bb7016a5e8c7ab2c8[m
Merge: e04aa09d 02583552
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 22 09:44:21 2019 +0100

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into ngdp-codegen

[33mcommit e04aa09d807a7013caedc83dd7bde6417903e87f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 22 09:43:49 2019 +0100

    Disable FIB lookup if tunnel is enabled.

[33mcommit 0258355282dcec08be1d6ec4c0a84ea83c79cec7[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Mon Oct 21 22:45:38 2019 -0700

    resolving version conflict of containernetworking/cni/pkg/ns
    
    containernetworking/cni/pkg/ns moved to ./plugins/pkg/ns
    
    NewNS is in pkg/testutils

[33mcommit 1b9c59ab9ac3f6b2788b12d56cd8c621255e981a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 21 17:49:56 2019 +0100

    WiP on BPF FV tests.

[33mcommit 9800015c816852a19887991a3a0a126d65924365[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 10 14:45:20 2019 -0700

    bpf kube-proxy relacement internals
    
    This is an initial commit with the implementation of the kube-proxy
    replacement logic based on k8s 1.15 and able to write the state into bpf
    maps.
    
    The proxy.Proxy component can be used to implement a stand alone deamon
    or to be used as part of another more complex one like felix.
    
    Fixes BPF-106

[33mcommit b4f9aeeb2a6c5fbbfa1c42732b0915159626fc9c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 21 17:01:05 2019 +0100

    Use absolute path.

[33mcommit 26e33b2fc0a62890196039c6415c8ff9ebd8425f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 21 14:48:09 2019 +0100

    Rev docker base image to Debian 10 to match calico/node.

[33mcommit 4848d8a3aa5bcd3bbf3b9a9a64a2a7751be845cc[m
Merge: a65e3510 bb0310f9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 21 11:58:42 2019 +0100

    Merge remote-tracking branch 'origin/ngdp-codegen-new-ct' into ngdp-codegen

[33mcommit a65e351052bd7b7c233956e7257eada9db55926b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 21 10:43:58 2019 +0100

    Conntrack naming improvments and fixes.

[33mcommit bb0310f9e462950915cfc1b9babad1b260479a8f[m
Author: Tomas Hruby <tomas@tigera.io>
Date:   Thu Oct 17 17:18:59 2019 -0700

    NATKey and NATBackendValue String() fix
    
    Make all the NAT* types the same String() format

[33mcommit 7ce9c26cb2bb98fdad6806fb76856cda591768b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 21 10:42:41 2019 +0100

    Fix some indentation

[33mcommit b3c2b8f8a4c8bdab1f34d01fb8e100039f516ca0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 19:01:15 2019 +0100

    Fix NAT; track which side opened connection.

[33mcommit e3c14cb069340bbcc838fbb20346f2c491c0dd52[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 18:10:14 2019 +0100

    NAT fixes; still not working.

[33mcommit 2f4cbdea4137f1740949ced1261da353f03fd1fe[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 13:47:24 2019 +0100

    Add BPF NAT manager.

[33mcommit 304dcbbbd607aff2cd844f543fa043a6a85e0541[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 13:09:32 2019 +0100

    Rename map manager to bpfIPSetManager.

[33mcommit 7bfb59d9b3d093ef2eeef99ac583307844d572c1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 13:08:56 2019 +0100

    Streamline handling of non-IPv4 packets.

[33mcommit 619ff8bc8dbea39ed5ce2443831786dc7279014f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 09:31:09 2019 +0100

    Use connectivity checker in ingress-egress tests.
    
    Previously, code assumed that policy appliation would be
    atomic, so the first connectivity check succeeding would imply
    that the dataplane had converged.  That no longer holds in
    BPF mode.

[33mcommit 18c5be7e2d8583c84a744b51b73e91a158677e1e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 09:29:26 2019 +0100

    Reduce debug logging some more, needed for ingress-egress test.

[33mcommit 3339604484505ea6b372e5dc7e065adc1874b123[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 17 09:28:42 2019 +0100

    Tee FV log to a file.

[33mcommit 3ec991d70f27e0e8704dbd8be0d62bbd73038703[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 16 15:26:05 2019 +0100

    MArk UDP named ports tests are BPF-safe

[33mcommit 9e4eadb5fffe1665554b94714bc861661c452906[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 16 15:23:42 2019 +0100

    Get UDP named ports tests working: add calico-bpf conntrack command.

[33mcommit 9718a4ce23afd78dbda4f641786bb54b882d5e0f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 16 15:22:14 2019 +0100

    Get UDP conntrack working for normal flows.

[33mcommit d43a322349d6939939c970ce02e75397a7b12ecf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 16 10:29:48 2019 +0100

    Disable BPF debug logging in FVs to work around program size issue.

[33mcommit 721acf8b2f4b73864cf6bcdd5aecb9b9b3a26da1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 16 10:28:52 2019 +0100

    Shorten our macro prefix.

[33mcommit 3dd418fd80e711e00507b2f8bce3376af1ff4ca8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 15 17:52:42 2019 +0100

    Dump C program to log on failure.

[33mcommit 5162c84a909a1ed8f1225c5bbde1a1515db2bfb0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 15 17:52:32 2019 +0100

    WiP on non-TCP conntrack.

[33mcommit a9f142c43893355aadf57a49b35a956fc3122575[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 15 14:46:14 2019 +0100

    Manually pack structs and other minor fixes.

[33mcommit ffcf31c7fa66141e7654a506757d651de0351870[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 15 14:18:50 2019 +0100

    Extra diags for conntrack state.

[33mcommit c575518b862c983bcee7970ccfa1d0d72ae67e72[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 15 14:17:23 2019 +0100

    Fix race where two tc calls both created independent conntrack maps.

[33mcommit ab55dcd9e2fe7d58e8c31612dd97709485f0cc83[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 14 14:38:44 2019 +0100

    WiP on conntrack.

[33mcommit b756e28e61fcfdb018ec6f8d4270ad3cc723c115[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 11 18:18:23 2019 +0100

    WiP on refactored conntrack.

[33mcommit ec0941ec2a5472ab6f9788b1ea05f8e50d246f23[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 11 18:17:36 2019 +0100

    Update BPF mode iptables rules.

[33mcommit 42eb992b636abe0a1bf47df838122ce4728805d1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 11 11:31:49 2019 +0100

    WiP on refactoring conntrack.

[33mcommit ee775abfa8d4a00f0d34053887d05557dda600d5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 16:54:32 2019 +0100

    Remove unneeded protoport struct.

[33mcommit 7887a9b0ee93952a54b7a5181d1de662a796a82a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 15:17:47 2019 +0100

    Clean up old prototype code.

[33mcommit f23b23f001585936c72264d64fbe420e9f2ca4b6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 14:44:15 2019 +0100

    Don't do a conntrack lookup for packets that were already checked.

[33mcommit b749d8deaa5b0fb4f6fd3e0fd22ac7cb900f20e9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 14:32:56 2019 +0100

    Make it possible to override default env vars in FVs.

[33mcommit 9c3cf29eb548be05d520e3be546a74c18f5b8f16[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 13:48:28 2019 +0100

    Fix up program generator tests; whitelist more FV tests.

[33mcommit 9f715ff7ac1c4762fda7a99f266d54761b6c28e9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 11:38:06 2019 +0100

    WiP on calico-bpf tool.

[33mcommit f83c702b7e9736e7c4269544cfc238efcb35fa7a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 11:36:45 2019 +0100

    Basic FIN/RST handling.  Delete conntrack entry.

[33mcommit 2816ce161c44cd7a0f1c4418ca91332f3a9fdeff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 8 11:35:47 2019 +0100

    Fix up named port rendering: was only checking port list.

[33mcommit 42205cde8a11a7f01c61114c9b2b746d61c4de4f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 7 18:20:11 2019 +0100

    WiP on IP set dumping tool.

[33mcommit cb456ec0c1754c9abcc4237f006ffcddf6f6d10e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 7 17:27:49 2019 +0100

    Fix up latency FV to watch BPF IP sets.

[33mcommit 8588e2bf467b3cc778a7fcc85405ffb707c94dc8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 7 17:27:11 2019 +0100

    Do BPF program creation in parallel.

[33mcommit 57b2456a62622d233f6c87107d461c1742e1c109[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 7 16:15:59 2019 +0100

    WiP on implementing named ports.  Passes some tests but not all.

[33mcommit bfcbd360e205c8732d466dd311c5705ea3e56344[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 7 13:58:36 2019 +0100

    Remove dependency on clang builder docker image.

[33mcommit d197e1e9401feb5c96a0165c15cff648c35f2959[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 7 13:43:55 2019 +0100

    Make up XDP make target

[33mcommit 940c34b329a9329ffb41213eadc38a776eb02715[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 24 10:46:55 2020 +0000

    BPF dataplane prototypes.

[33mcommit bf27c8a4e8c0eaaa9ce37285a3226fe881b86d1e[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Feb 15 08:15:54 2020 +0000

    Semaphore Automatic Update

[33mcommit 875cf9a3b086363d01338f7f663c8d21e4b587e2[m
Merge: c42f36b4 32a6c175
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 11 10:56:03 2020 +0000

    Merge pull request #2215 from fasaxc/improve-liveness
    
    Report liveness from various loops.

[33mcommit 32a6c175a57f4492f0cd7ee29cde30c9c4023dda[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 11 09:56:00 2020 +0000

    Markups.

[33mcommit 0b2382ef62a4f27a030f81642d05de7a5db9a021[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 15:16:04 2020 +0000

    Report liveness from various loops.

[33mcommit c42f36b4c242de0321e51e324882012b71219677[m
Merge: d51cbfa8 f752434b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 18:06:01 2020 +0000

    Merge pull request #2216 from fasaxc/pin-packr
    
    Pin packr to v2.5.2.

[33mcommit f752434bcbc44d5310f287c95f8ea40f57dd4403[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 6 15:32:53 2020 +0000

    Pin packr to v2.5.2.

[33mcommit d51cbfa8c774f090a0b8dff3b31e1d4640f13488[m[33m ([m[1;33mtag: v3.13.0-0.dev[m[33m)[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Jan 21 15:45:36 2020 -0600

    Begin development on v3.13.0

[33mcommit a95a11667d0b929200c2b03f42fb048d8d821d7d[m[33m ([m[1;33mtag: v3.12.0[m[33m)[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Jan 18 08:15:11 2020 +0000

    Semaphore Automatic Update

[33mcommit 49ac9a8e4de7f0c674b5530f357cff40cc4f9718[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Jan 16 08:14:57 2020 +0000

    Semaphore Automatic Update

[33mcommit 7ade39f161fd6799497edadeacfd64a90e6b4645[m
Merge: ac85ca1a d97ba29a
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Jan 15 10:40:14 2020 -0800

    Merge pull request #2211 from spikecurtis/fv-rule-metadata
    
    FV tests for rule metadata

[33mcommit d97ba29ab4d85e42a43d8e2e27f2b4579b0de87b[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Jan 14 12:21:11 2020 -0800

    FV tests for rule metadata
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit ac85ca1a39e104850139ef131b33a2a4f3b3cad6[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jan 13 10:00:22 2020 -0800

    Cleanup unused IgnoreLooseRPF field (#2210)
    
    * Update libcalico-go
    
    * Remove workaround for removed IgnoreLooseRPF field

[33mcommit 2f99c351627cf52a52b7babbd2d53cce781ce937[m
Merge: 9eabe46c b4d2293b
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Jan 13 08:55:19 2020 -0800

    Merge pull request #2209 from spikecurtis/rule-metadata
    
    rule metadata

[33mcommit 9eabe46c304fadef58f123004fc26bd6b8fda4f8[m
Author: Laurence Man <laurence@tigera.io>
Date:   Fri Jan 10 13:03:57 2020 -0800

    Use iptables for ipv4 RPF check (#2189)
    
    * Replace ipv4 rp_filter sysctl with iptables rule

[33mcommit b4d2293b871da89e7ed618ac75b069cd0dc18729[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Dec 31 11:57:13 2019 -0800

    rule metadata
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 188ced9b336652ba18edd08f490041a3ed7e6b72[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Jan 7 08:15:18 2020 +0000

    Semaphore Automatic Update

[33mcommit a211354e730f62e738eaedef80b927f79f20bbd0[m
Merge: 9469e77e da2d291e
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jan 6 16:00:29 2020 -0800

    Merge pull request #2207 from lmm/lmm-fix-version
    
    Lazily set LDFLAGS so we get a more accurate GitVersion for the build

[33mcommit da2d291e3e05804619252007ca0408c87c9f1b1e[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jan 6 12:52:35 2020 -0800

    Fix go-build version

[33mcommit e8afd0e5e0c64ead2340d94eea0bcf3d2b3bcb9b[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jan 6 12:19:30 2020 -0800

    Lazily set LDFLAGS so we get a more accurate GitVersion for the build

[33mcommit 9469e77e0fa530523be915dfaa69cc42d30b8317[m
Merge: 2c00f649 8533bc68
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 3 15:36:55 2020 +0000

    Merge pull request #2204 from neiljerram/go112
    
    Update pins

[33mcommit 8533bc68cc6abeb33e6076418cc1b11625e8daa7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 3 14:20:23 2020 +0000

    Update pins

[33mcommit 2c00f649eb69a1cd76fa8131e89cc559f672337e[m
Merge: f6230387 9863e4ef
Author: Laurence Man <laurence@tigera.io>
Date:   Thu Jan 2 12:19:15 2020 -0800

    Merge pull request #2200 from lmm/lmm-update-pins
    
    Update pins

[33mcommit 9863e4efe499340db95cadebe826eecacae2c919[m
Author: Laurence Man <laurence@tigera.io>
Date:   Thu Jan 2 11:06:21 2020 -0800

    Update libcalico-go

[33mcommit edbe724161b97014ad156813b9733b421b809689[m
Author: Laurence Man <laurence@tigera.io>
Date:   Thu Jan 2 10:32:20 2020 -0800

    Set minimum go version to 1.12 and go mod tidy

[33mcommit 0b76d0d5a9845bde77858a11c6c255e284cee72f[m
Author: Laurence Man <laurence@tigera.io>
Date:   Thu Jan 2 10:32:05 2020 -0800

    Update pins

[33mcommit f6230387767700c8ab874319f378e3cee0ee4139[m
Merge: 5ccf52a0 5ecfa2fe
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Jan 2 09:08:20 2020 -0800

    Merge pull request #2198 from spikecurtis/sctp-no-fork
    
    Upgrade reuse lib and don't fork sctp lib

[33mcommit 5ccf52a034de8a42b5750f3713672847261b8f94[m
Merge: 05fc078c 79885dc6
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Dec 31 09:59:15 2019 -0800

    Merge pull request #2199 from lmm/lmm-rev-gobuild
    
    Update go-build version

[33mcommit 79885dc6c90740ca54224fae1d401cfe4901c8c8[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Dec 30 16:04:43 2019 -0800

    Update go-build version

[33mcommit 5ecfa2fe7b88838459d4fdfed83a2808a0934d39[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Dec 27 09:40:57 2019 -0800

    Upgrade reuse lib and don't fork sctp lib
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 05fc078ccb9e93a98125f162ccf6c75e8be78861[m
Merge: 954cc9b5 74f1ff32
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Dec 23 11:07:30 2019 -0800

    Merge pull request #2197 from rafaelvanoni/rafael-felix-1
    
    Add 'Makefile.common*' to .gitignore

[33mcommit 74f1ff328a68b6fae182bb2c9c81dcd225a9b4f9[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Dec 23 10:21:58 2019 -0800

    Add 'Makefile.common*' to .gitignore

[33mcommit 954cc9b5cf62e63583d404adc5e04dd0e5ad6be3[m
Merge: 6cd1faf4 073965aa
Author: Erik Stidham <erik@tigera.io>
Date:   Fri Dec 20 16:00:46 2019 -0600

    Merge pull request #2196 from tmjd/fix-auto-detect-capitalization
    
    Handle capitalized backend configuration

[33mcommit 073965aaacbf854c7904f308f6fd5e1466e02c47[m
Author: Erik Stidham <erik@tigera.io>
Date:   Fri Dec 20 15:06:40 2019 -0600

    Handle capitalized backend configuration

[33mcommit 6cd1faf41c392519697337deafbafc03e9330875[m
Merge: 2a69bc91 fb98c7d0
Author: Erik Stidham <erik@tigera.io>
Date:   Fri Dec 20 09:36:32 2019 -0600

    Merge pull request #2194 from tmjd/auto-detect-iptables-backend
    
    Autodetect iptables backend

[33mcommit fb98c7d07ae1ec4fab48b25279d398a644a32193[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Dec 17 17:10:06 2019 -0600

    Autodetect iptables backend

[33mcommit 2a69bc91fc0798c360aa29a0520b10056e4857d1[m
Merge: 714eff69 4d6dded9
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Dec 19 11:43:48 2019 -0800

    Merge pull request #2195 from spikecurtis/sctp-modprobe
    
    Attempt to modprobe nf_conntrack_proto_sctp

[33mcommit 4d6dded980793cbd1e4816f19dca746ca3049f09[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Dec 18 15:40:23 2019 -0800

    Attempt to modprobe nf_conntrack_proto_sctp
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 714eff699d0e035562199ac8a0c4c9651a2ec3a8[m
Merge: f742e1b9 89860427
Author: Spike Curtis <spike@tigera.io>
Date:   Sat Dec 14 20:05:43 2019 -0800

    Merge pull request #2192 from spikecurtis/sctp-ports
    
    SCTP ports & FVs

[33mcommit 89860427a4d952ad7e6857cd23ba4aec9acd49c1[m
Merge: a570a76f f742e1b9
Author: Spike Curtis <spike@tigera.io>
Date:   Sat Dec 14 08:26:42 2019 -0800

    Merge branch 'master' into sctp-ports

[33mcommit f742e1b9cb0e230759a760a4fe9430dc2dfa809e[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Dec 14 06:14:00 2019 +0000

    Semaphore Automatic Update

[33mcommit a570a76fb4aeb075869eeb4d8862dbace581f17a[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Dec 13 13:36:42 2019 -0800

    check ListenSCTP() error
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit ffb3a8bd491a3a15d899962923a113a54aa7ac93[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Dec 13 13:23:21 2019 -0800

    clarify comments and usage strings
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 2e9a20d8a8df5327537984d147e7380ec9daff53[m
Merge: 9aea4491 a14722cb
Author: Erik Stidham <erik@tigera.io>
Date:   Fri Dec 13 14:12:56 2019 -0600

    Merge pull request #2191 from neiljerram/use-golang-1.12
    
    Use go-build v0.30, to revert to go 1.12

[33mcommit f8d2d357f830d4094c1e3ffc272ee80154b79237[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Dec 13 11:18:35 2019 -0800

    go.sum update
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 7495947a9af894301f063e1cce9913f6137d2ba7[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Dec 11 12:57:42 2019 -0800

    SCTP ports & FVs
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit a14722cbb0826a6734828c02299c2fe3e73fff60[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Fri Dec 13 12:17:12 2019 +0000

    Use go-build v0.30, to revert to go 1.12
    
    Because of https://github.com/golang/go/issues/34773

[33mcommit 9aea4491bc995eb76c5e1ef7b1cafb9492584ba6[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Fri Dec 13 06:14:01 2019 +0000

    Semaphore Automatic Update

[33mcommit e0e7b809a37f39db6d5026ad0c378764e86bec75[m
Author: Casey Davenport <casey@tigera.io>
Date:   Thu Dec 12 10:34:20 2019 -0800

    Begin development on v3.12.0

[33mcommit e2336e7ab067d190645cf0ca1e752888aa6423f6[m[33m ([m[1;33mtag: v3.11.2[m[33m, [m[1;33mtag: v3.11.1[m[33m, [m[1;33mtag: v3.11.0[m[33m)[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Dec 12 06:15:19 2019 +0000

    Semaphore Automatic Update

[33mcommit d913365d0d9eb75c3a8eab1321d3f97fc1c8586b[m
Merge: 86a64104 f620b605
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Dec 11 16:50:38 2019 -0800

    Merge pull request #2190 from rafaelvanoni/rafael-felix-1
    
    Remove empty line in bpf/packrd/packed-packr.go (check-packr error)

[33mcommit f620b605b0ffe18fb77694beccd44a246f14df8f[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Dec 11 16:27:46 2019 -0800

    Remove empty line in bpf/packrd/packed-packr.go (check-packr error)

[33mcommit ad617eb03fe3e2ae4ca9db658c982651b1c35ac4[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Dec 11 15:22:46 2019 -0800

    Build 'packr' along with 'build'

[33mcommit 86a641043efd4dbc0ca87dcfaa1f951e1cf88f0e[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Dec 7 06:14:20 2019 +0000

    Semaphore Automatic Update

[33mcommit 1eb6f53d1f62c97fe50403337e0e366e579e7ec7[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Fri Dec 6 06:14:27 2019 +0000

    Semaphore Automatic Update

[33mcommit cada32c195cc71f66d02fc3a6d0e4555452a6485[m
Merge: 6bd5b941 da1d00b3
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Dec 4 11:29:22 2019 -0800

    Merge pull request #2188 from rafaelvanoni/rafael-felix-1
    
    move all k8s.io packages to kubernetes v1.16.3

[33mcommit da1d00b3414178d3128a103381e744d5a3320ada[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Dec 4 10:47:40 2019 -0800

    move all k8s.io packages to kubernetes v1.16.3

[33mcommit 6bd5b941287cb1931134a4006d33e1894249b7f2[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Dec 4 06:16:31 2019 +0000

    Semaphore Automatic Update

[33mcommit 07eff09543e384d95078ee35f43e25485d611cc0[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Dec 3 06:46:22 2019 +0000

    Semaphore Automatic Update

[33mcommit 40e76ef993106944cb1d6829184154c20740862e[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Nov 30 06:48:38 2019 +0000

    Semaphore Automatic Update

[33mcommit 8e32da0e902be3fc089309039b8549f8d958f89e[m
Merge: 00b97ba1 38edef2b
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 29 09:53:12 2019 +0000

    Merge pull request #2187 from rafaelvanoni/rafael-felix-1
    
    Move image build/push targets back to local Makefile

[33mcommit 38edef2bca1228522f716fcb0861d7f284002164[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Thu Nov 28 15:39:38 2019 -0800

    Move image build/push targets back to local Makefile

[33mcommit 00b97ba18e041f18891233eb62ebd0d95cb8d16b[m
Merge: b115a357 f2c5139a
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 27 17:26:36 2019 +0000

    Merge pull request #2186 from neiljerram/dual-stack
    
    make update-pins

[33mcommit f2c5139a4fd99105e0ff4af377baceb29378d466[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 27 16:59:55 2019 +0000

    make update-pins

[33mcommit b115a3573e9949871ae0f95b70304fff13f4df0b[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Nov 27 06:46:58 2019 +0000

    Semaphore Automatic Update

[33mcommit 665d5f63d3017b985278f068bf3382802bf4f4fa[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Nov 26 06:43:16 2019 +0000

    Semaphore Automatic Update

[33mcommit 3cd338a4f5270aa6bcc6aef19b5cdf09f15200f3[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Nov 25 14:57:41 2019 -0800

    Switch Makefile.common from wget to curl, remove wget dependency (#2185)
    
    Switch Makefile.common from wget to curl, remove wget dependency

[33mcommit 5ef23057d939d1ffbd9e7e7dcfa1e4b76b3aca09[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Thu Nov 21 22:32:06 2019 -0800

    Move common Makefile targets to Makefile.common (#2178)
    
    Move common Makefile targets to Makefile.common

[33mcommit 59269b7760f3e1ebd17cbcded082bcb137839716[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Nov 20 06:48:49 2019 +0000

    Semaphore Automatic Update

[33mcommit bc9f3fb41aa4ef2954bbd1cec39924ed14bda47b[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Nov 19 06:49:45 2019 +0000

    Semaphore Automatic Update

[33mcommit 55521ca9396f884063aad031a201d9c8272e5923[m
Merge: d31d55a2 27a087ca
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 15:35:06 2019 +0000

    Merge pull request #2183 from fasaxc/fix-incremental-builds
    
    Fix incremental builds.  Avoid depending on phony targtets.

[33mcommit d31d55a2b0fb928c0611138a8cafb8ee8ffce7ba[m
Merge: 65a660d8 55d613bd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 14:50:00 2019 +0000

    Merge pull request #2182 from fasaxc/dont-wait
    
    Disable node CIDR allocation and defer cleanup

[33mcommit 27a087ca019db79a12849aa06843c5b71f317c2b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 12:46:43 2019 +0000

    Fix incremental builds.  Avoid depending on phony targtets.
    
    - Replace remote-deps phony with a list of files.
    - ifdef out the local build dependency if it's not in use.

[33mcommit 55d613bd7ff07aed35f2e6b7326b6cbd5b58f1c3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 11:14:03 2019 +0000

    Defer k8s infra cleanup until start of next test.
    
    Avoids doing the cleanup (which takes a few seconds) when
    running a single test for debugging.

[33mcommit 65a660d89228a27eb8b3d3bf891770887dbd510b[m
Merge: 43c5fd47 50c65561
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 10:39:17 2019 +0000

    Merge pull request #2181 from fasaxc/dont-wait
    
    Don't wait for test containers to gracefully shut down.

[33mcommit f7a2140c25243071bd0a7f047e57786de7663997[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 10:37:28 2019 +0000

    Disbale node CIDR allocation
    
    Enabling it makes the controller manager stall for 10s.

[33mcommit 50c655610cee8020f7b9d9dfc70cfaaaf4228524[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 15 09:28:48 2019 +0000

    Don't wait for test containers to gracefully shut down.
    
    Knocks 10s off the Kubernetes FV test shut-down.

[33mcommit 43c5fd47547eb944b6c048ee9d6882f44abf20bb[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Nov 13 06:58:44 2019 +0000

    Semaphore Automatic Update

[33mcommit 69ccd9a55b43551fb8da6c481ded24632016f17d[m
Merge: 4447c5c2 e6efc975
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 10:45:09 2019 +0000

    Merge pull request #2179 from fasaxc/fix-k8sfv
    
    Fix that Typha was failing to start in k8sfv tests.

[33mcommit e6efc97500a85bf0ec83ad10cc8e97468f83212e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 10:14:44 2019 +0000

    Avoid panic while waiting for felix to be ready.

[33mcommit 264d648170c722a2e400da4261b6a71a3765e1b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 12 09:52:05 2019 +0000

    Fix path to junit XML file.

[33mcommit 3a4dbbbccc4bba1a5677a085b2d7475470078f6b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 11 16:42:13 2019 +0000

    Fix that Typha was failing to start in k8sfv tests.

[33mcommit 4447c5c27843428c37127080b62f01431c88874d[m
Merge: def2e160 2dd8ab70
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Nov 7 13:09:39 2019 -0800

    Merge pull request #2176 from robbrockbank/fix-lint
    
    Fix unnamed field initialization

[33mcommit 2dd8ab70942fa2547a360b3ae6de175d2676b227[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Nov 7 11:20:23 2019 -0800

    Fix unnamed field initialization

[33mcommit def2e16049e1aec01c18cee3a8846e0a00f774de[m
Merge: a2a24b7f 51c97148
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 7 18:51:53 2019 +0000

    Merge pull request #2173 from neiljerram/fix-ipv6
    
    Allow ipV6LinkLocalCIDR route to be programmed other than by us

[33mcommit 51c97148df1de7338588dd289efcbc2edb847382[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 7 17:35:48 2019 +0000

    Allow ipV6LinkLocalCIDR route to be programmed other than by us

[33mcommit a2a24b7fe18740e0a91d87bfd79ad72b724754dd[m
Merge: 9bb8daac 53dacf3f
Author: Rob Brockbank <rob@tigera.io>
Date:   Mon Nov 4 16:40:11 2019 -0800

    Merge pull request #2171 from robbrockbank/namespaced-ns
    
    Add profiles to networkset for label inheritance

[33mcommit 53dacf3ff823e948dabf6b9c5cce267d492c99df[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Mon Nov 4 14:07:57 2019 -0800

    rev libcalico-go and typha pins

[33mcommit ca374f0e095af3a7684d6bb3c8386ac36ea071b1[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri Oct 11 15:00:10 2019 -0700

    Add profiles to networkset for label inheritance

[33mcommit 9bb8daac66f5124b5b86df1264b56857c82236c3[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Mon Nov 4 06:47:58 2019 +0000

    Semaphore Automatic Update

[33mcommit b17543659d184c1be39c27cc5101807677985a0c[m
Merge: df875d9f 7619909e
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 1 15:05:13 2019 +0000

    Merge pull request #2167 from neiljerram/handle-duplicate-endpoint-interface
    
    Handle multiple workload endpoints with the same interface name

[33mcommit 7619909e5dea764b9e9a431acfd40eedc2805cdc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 1 14:28:26 2019 +0000

    Robust algorithm for ordering WorkloadEndpointIDs

[33mcommit eaa06e24de89573882336ec74d70435ce4b2f570[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 25 15:32:29 2019 +0100

    Test which endpoint is programmed, when there are two for same interface

[33mcommit 76800f1d807f7e5908de024e422eb29b0d2a0ec4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 24 00:16:32 2019 +0100

    Handle multiple workload endpoints with the same interface name

[33mcommit df875d9fde442ae3c7bcc6dcd41a2a9284cfc75a[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Oct 24 06:47:55 2019 +0000

    Semaphore Automatic Update

[33mcommit bad948523a63efa04166c271f0529160818c592e[m
Merge: 23301193 45e09b5d
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Oct 23 17:01:18 2019 -0700

    Merge pull request #2168 from rafaelvanoni/rafael-felix-4
    
    Remove 'undo' behavior from local_build

[33mcommit 45e09b5d24312467c061825cd8ca178ad96a2152[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Oct 23 16:25:09 2019 -0700

    Remove 'undo' behavior from local_build

[33mcommit 23301193c39e51f6f56892b6e75b140bc1e69a7c[m
Merge: e14e05b8 a6b94406
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 23 17:02:59 2019 +0100

    Merge pull request #2165 from jayunit100/2904-xdpResync
    
    Implementing backoff for XDP failures and eliminate panic behaviour for non-xdp non-responding kernels

[33mcommit a6b9440649323504ad7d2efc1a7c92a3f7584b8e[m
Author: jay vyas <jay@apache.org>
Date:   Wed Oct 23 09:26:51 2019 -0400

    XDP Utils: Cleanup and refactoring, moving to interface usage for BPFDataplane

[33mcommit 2be91a4f181e52e1b9e9b71ce73ef2d58dbadf90[m
Author: jay vyas <jay@apache.org>
Date:   Wed Oct 23 09:25:26 2019 -0400

    Adding 100ms backoff time for XDP cleanup retry's to prevent log spam (and increase likeliehood of success due to a blip

[33mcommit e14e05b8734ab51529db0b32410df82d989b714a[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Sat Oct 19 06:48:25 2019 +0000

    Semaphore Automatic Update

[33mcommit b638566201cae0aa3822e9b9964b5ab0de01219e[m
Merge: fce3634d 2fe4639f
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 18 21:07:02 2019 +0100

    Merge pull request #2164 from neiljerram/fix-tls-fvs
    
    Use master Typha for FV, not some ancient pin!

[33mcommit 2fe4639f2137622c5832a8fe39ae6629dfe92219[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 18 20:37:58 2019 +0100

    Make test TLS credentials world-readable

[33mcommit 2a7357e28267ab1fc441f8091b05783413747d2f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 18 20:34:55 2019 +0100

    Use master Typha image for FV (by default), not some ancient pin!

[33mcommit fce3634d3ca438fc9dca1e6d2bd54fd02e8cb98f[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Thu Oct 17 06:48:25 2019 +0000

    Semaphore Automatic Update

[33mcommit 041b8c991d9e1b6f66df20b50b749e2b11986cf2[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Mon Oct 14 06:53:16 2019 +0000

    Semaphore Automatic Update

[33mcommit 0debe454786238d3f0d245eb16cb67cba354ba4a[m[33m ([m[1;31mupstream/sem-v2-experiment[m[33m, [m[1;31morigin/sem-v2-experiment[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 9 18:20:19 2019 +0100

    Restore cache on test runners.

[33mcommit eea1430694df6b14cc800ea21213cf9aaa276e01[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 9 18:16:53 2019 +0100

    Add go module cache to semaphore.

[33mcommit ef113ab99bd54fbd6cfd67de119144fde50e5bdb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 9 18:02:02 2019 +0100

    Experimental Semaphore v2 manifest.

[33mcommit 990c81f708a7c294ba9858a647e529db5673a945[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Wed Oct 9 07:03:19 2019 +0000

    Semaphore Automatic Update

[33mcommit 9bb8c31a8ffd75bc82f7c7e501a078e448e474d7[m
Merge: 3286f617 3957b745
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Oct 8 18:03:37 2019 -0700

    Merge pull request #2155 from caseydavenport/update-libcalico-pins
    
    Add makefile target to update libcalico pin

[33mcommit 3957b745893dc3d4cf2b920ded6c4178728857e0[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue Oct 8 10:41:24 2019 -0700

    Add makefile target to update libcalico pin

[33mcommit 3286f617f7364ff779d19480cdc44fc4eaa575e3[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Tue Oct 8 06:49:10 2019 +0000

    Semaphore Automatic Update

[33mcommit 8889850ac1cef1cc78e5383570561eb747c0587a[m
Author: Semaphore Automatic Update <marvin@projectcalico.io>
Date:   Mon Oct 7 06:51:33 2019 +0000

    Semaphore Automatic Update

[33mcommit bddd2ddc88a41bef7171bdab4875ef325e94028d[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Sun Oct 6 16:19:41 2019 -0700

    need to harden go mod downloads against network errors (#2152)
    
    need to harden go mod downloads against network errors

[33mcommit aa226df7849b9bcbbd0a8f2886132c59b78dc441[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Oct 5 06:51:08 2019 +0000

    Semaphore Automatic Update

[33mcommit 675e1447f10023844cdb28f8c6aec94b3af923b2[m[33m ([m[1;33mtag: v3.11.0-0.dev[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Fri Oct 4 11:45:42 2019 -0700

    Begin development on v3.11.0

[33mcommit e01caf688c90a5d0ce0fcd3831a8016aa5e46e71[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Oct 3 06:50:11 2019 +0000

    Semaphore Automatic Update

[33mcommit add3576457f72703469479805029f1abee5db419[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Oct 2 06:52:09 2019 +0000

    Semaphore Automatic Update

[33mcommit 7103830d61dedb39fb6fb5637907f407aabf588c[m
Merge: cbcfa199 b224ed43
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Sep 30 14:24:30 2019 -0700

    Merge pull request #2151 from caseydavenport/update-pins
    
    Update pins

[33mcommit b224ed435d158166c56c3c99926b1de40f6f5a18[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Sep 30 13:57:02 2019 -0700

    Update pins

[33mcommit cbcfa199d0675ce0669e9a5a512c942a2cf2e51a[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Sep 27 06:48:42 2019 +0000

    Semaphore Automatic Update

[33mcommit fd14f1dc7b821a9ac143dbd4674151479fcf0281[m
Merge: 0d5748b8 c3ec02c2
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Sep 26 09:28:35 2019 -0700

    Merge pull request #2150 from beautytiger/dev-190926-clean
    
    cleanup code by staticcheck

[33mcommit c3ec02c2acc27ec18273b2e0ce246c1296f1fd3b[m
Author: Guangming Wang <guangming.wang@daocloud.io>
Date:   Thu Sep 26 22:51:35 2019 +0800

    cleanup code by staticcheck
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 0d5748b898f9824d86c5826b9b581620c397d97d[m
Merge: f3ee365d d50ad71f
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Sep 23 19:55:01 2019 -0700

    Merge pull request #2149 from caseydavenport/add-crds-gitignore
    
    Add CRDs to .gitignore

[33mcommit d50ad71f2d84e04473d7f26cdd33f3587226b788[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Sep 23 16:44:01 2019 -0700

    Add CRDs to .gitignore

[33mcommit f3ee365d84def5b79bf25c3ddc07459efee8b565[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Sep 20 06:48:10 2019 +0000

    Semaphore Automatic Update

[33mcommit 3fb5bd09e806d2d10d0bacddf27b4dd959e77125[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Sep 18 06:48:45 2019 +0000

    Semaphore Automatic Update

[33mcommit 12f12e7ff6a346b1b09a55f07866aff35729b76e[m
Merge: ef886302 5cbf5724
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Sep 13 14:04:53 2019 -0700

    Merge pull request #2139 from neiljerram/fix-local-build
    
    Fix LOCAL_BUILD

[33mcommit ef886302fe44eab9b91d07ff6ddd33001c861c76[m
Merge: dbc6c9a3 29caf7f0
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 11 14:24:39 2019 +0100

    Merge pull request #2147 from neiljerram/fix-log-spam
    
    Error log should be Debug

[33mcommit 29caf7f05e349c5f4ac993c1afcfb69cc38c1d6c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 11 13:45:59 2019 +0100

    Error log should be Debug

[33mcommit dbc6c9a3b31b8ba56534d6ae57c98c3898ad7e8e[m
Merge: 17270ade daf6bb13
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Sep 10 15:07:33 2019 -0500

    Merge pull request #2144 from tmjd/lower-bpf-log-level
    
    Reduce severity of BPF log levels

[33mcommit daf6bb13a0debb1167780c1a63e6f507479dedcb[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Sep 10 12:52:04 2019 -0500

    Reduce severity of BPF log levels

[33mcommit 17270ade2229d04abc78159ca0bd93a3c7b7eaeb[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Sep 10 06:47:12 2019 +0000

    Semaphore Automatic Update

[33mcommit 3b370e10ab1f6e7669ee4c4c78de54a58024a3ec[m
Merge: c1590e08 9e5ec5ec
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Sep 9 15:41:36 2019 -0700

    Merge pull request #2141 from projectcalico/rafael-master-auto-libcalico-update
    
    [master] Automatic update of libcalico-go to d0b62f71c97966de320285e83f7b5715b7a71311

[33mcommit 9e5ec5eca469d936f73294bf598cb6ed92c3f126[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Sep 9 15:00:14 2019 -0700

    Update libcalico-go to d0b62f71c97966de320285e83f7b5715b7a71311

[33mcommit 5cbf57248553de7c352224d4f8ba8c12a10f6699[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Sep 9 13:54:31 2019 +0100

    Fix LOCAL_BUILD
    
    The libcalico-go mount must be added to EXTRA_DOCKER_ARGS before the
    definition of DOCKER_RUN, as the latter is an immediate
    definition (i.e. with := instead of =).

[33mcommit c1590e0844bdf83bc96888a7b0b1a9b4810217c0[m
Merge: bc998b25 c7ea46b4
Author: Song Jiang <song@tigera.io>
Date:   Mon Sep 9 09:49:15 2019 +0100

    Merge pull request #2137 from song-jiang/song-fv
    
    Add support to watch stderr for FV container.

[33mcommit c7ea46b45f553e91c703a75ec8f421b97de3e854[m
Author: song jiang <song@tigera.io>
Date:   Sat Sep 7 21:06:25 2019 +0100

    Add support to watch stderr for FV container.

[33mcommit bc998b2587eb2e2bb13890c4038aec34998ebbf4[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Sep 7 06:46:48 2019 +0000

    Semaphore Automatic Update

[33mcommit dc02bc8323b2ce9ec5bda04c89f9179083fcc4ae[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Fri Sep 6 14:17:25 2019 -0700

    Re-enable golangci-lint (#2130)
    
    Re-enable golangci-lint

[33mcommit dbe74a9938723815099f3cc4c769b3472c8d2b6c[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Sep 6 06:54:53 2019 +0000

    Semaphore Automatic Update

[33mcommit 5decbefa48efd282e5dc5c4a4c8671c98885a4ff[m[33m ([m[1;33mtag: v3.10.0-0.dev[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Thu Sep 5 16:58:53 2019 -0700

    Begin development on v3.10.0

[33mcommit c34ceb772463ecbd252d3ab284764f83cb63c4e0[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Sep 4 06:46:22 2019 +0000

    Semaphore Automatic Update

[33mcommit 42ec1442ee71ed3357e9d58439d68303d4d4a98b[m
Merge: 5917a7bb cea58988
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 3 13:16:05 2019 +0100

    Merge pull request #2133 from fasaxc/reinstate-check-packr
    
    Reinstate BPF UTs and packr targets.

[33mcommit cea58988207b4333f55fff9defa3eeb5a6559b39[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 3 09:47:18 2019 +0100

    Reinstate BPF UTs.

[33mcommit 5917a7bbfdaee1f0efcb7efff29833bf6d4bdee4[m
Merge: fba58661 0dec131f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 3 09:22:34 2019 +0100

    Merge pull request #2131 from kinvolk/krnowak/reimplement-bpf
    
    Reimplement BPF functionality

[33mcommit 0dec131fbd73dbf4ef193f4ead75ef4c1086ecfb[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Thu Aug 22 16:43:28 2019 +0200

    bpf: add packr2-generated files

[33mcommit f370ced123d53512abe38d8ed7ca393ae16501d2[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Thu Aug 22 15:52:33 2019 +0200

    go modules: add packr2 and update deps

[33mcommit c6b7da7f0962f8d2f9c02177ad39192b80356ce2[m
Author: Thilo Fromm <thilo@kinvolk.io>
Date:   Mon Aug 19 18:15:04 2019 +0200

    bpf: clean-room implementation

[33mcommit f02d50612bff939e2966866781b1a05538c8f453[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Thu Jun 27 19:37:11 2019 +0200

    bpf: change some variables and add dummy files

[33mcommit f62a7c052380896580c399bd7d392f387e99ba7f[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Thu Jul 25 16:31:35 2019 +0200

    fv: add more XDP tests

[33mcommit fba58661fd9789bb916e1d4af53bfdfaabc1bff1[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Aug 31 06:48:13 2019 +0000

    Semaphore Automatic Update

[33mcommit 7753943d5841a4eef0b02c24f7bfd370db6fe4bd[m
Author: Laurence Man <laurence@tigera.io>
Date:   Thu Aug 29 17:18:37 2019 -0700

    Use node resource updates with Typha (#2128)
    
    * Rev typha dependency
    
    * Move starting of Typha connection before creation of asyncCalcGraph
    
    * Update configParams if Typha supports node resource updates
    
    * Rename useResourceUpdates => useNodeResourceUpdates
    
    * Exit when failure to get node resource update support from Typha

[33mcommit 63ef8cf86cdc4ab09826da6db3d3f844654ba9de[m
Merge: a922b090 e312ffed
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Aug 29 13:30:44 2019 -0700

    Merge pull request #2127 from caseydavenport/handle-pool-changes
    
    Handle VXLAN mode changes

[33mcommit e312ffed399ea9ca79f28680ff6e961502c0bbf6[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Aug 28 18:34:44 2019 -0700

    Handle VXLAN mode changes

[33mcommit a922b0909c795e3b05db745a96fa01cacb00086a[m
Merge: b05d08a0 6fabca2f
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Aug 28 16:42:04 2019 -0700

    Merge pull request #2126 from rafaelvanoni/rafael-felix-3
    
    Update typha's pin and run 'go list' in a docker

[33mcommit 6fabca2f3d4cf7a6ad7fae221b5e8fb0fe0bbe28[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 28 14:39:01 2019 -0700

    Update typha's pin and run 'go list' in a docker

[33mcommit b05d08a0968e0fdc264c9195e75f0fc9b9c577c9[m
Merge: 7a3c2cc8 587106ed
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 28 10:48:10 2019 -0700

    Merge pull request #2125 from rafaelvanoni/rafael-felix-5
    
    Remove invalid arguments to git-commit

[33mcommit 587106ed9778408ca79195879f71193bd51acfae[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 28 09:44:22 2019 -0700

    Remove invalid arguments to git-commit

[33mcommit 7a3c2cc82ddce5a9c91a80c6eef837722b63d30e[m
Merge: a1b147fe 5cc341f6
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Aug 27 14:58:25 2019 -0700

    Merge pull request #2124 from rafaelvanoni/rafael-felix-1
    
    Fix git-commit issue

[33mcommit 5cc341f6e39a7d95790117dfbe9d2b14c0cf879b[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Aug 27 13:31:58 2019 -0700

    Only setup git user if in CI

[33mcommit d0ab402d72a639eddf3528500c28214daeb226f9[m
Merge: a1b147fe 03f86d6e
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Aug 27 10:34:20 2019 -0700

    Merge pull request #1 from rafaelvanoni/rafael-felix-2
    
    Fix git-commit issue

[33mcommit 03f86d6e6f9eecbce40520647cda92bf9d3e611d[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 26 09:33:34 2019 -0700

    Fix git-commit issue

[33mcommit a1b147fee456f378f1dee8503c979ad4c33745d1[m
Merge: ca387177 545cec84
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Aug 23 17:55:28 2019 -0700

    Merge pull request #2101 from Brian-McM/brianmcmahon-OS-4851-create-proper-routes-for-vxlan-crosssubnet
    
    Properly manage route with VXLANMode CrossSubnet

[33mcommit 545cec8405dea2aa8dda624de50289b67f4f25f5[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Wed Aug 21 15:49:13 2019 -0700

    Add VXLAN CrossSubnet option
    
    This PR adds the CrossSubnet option for VXLAN, similar to the CrossSubnet option for IPIP. The vxlan resolver now accepts Resource node resource updates and stores the node information so we can see if the subnet of a node overlaps with the local subnet. If that happens and CrossSubnet mode is enabled for VXLAN for the IPPool that the nodes cidr belongs to the route for the node will use the local nodes parent vtep interface and the nodes gateway for the route.

[33mcommit ca387177d3ea3475118979f28de0cfe7c55a4ee6[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Fri Aug 23 11:45:49 2019 -0700

    Pass in user.name and user.email instead of --author in git-commit, and define GOPATH for go modules cachine when it is not specified by the environment (#2122)

[33mcommit ae586f6a47b49cc64653f405e032c1d98f3e01f8[m
Merge: c70c4f13 418dbec5
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Aug 22 14:25:13 2019 -0700

    Merge pull request #2118 from Marlinc/route-proto
    
    Only remove interface routes that were previously added by Felix

[33mcommit 418dbec5303e5a04ab51542d822c7368a90b4bba[m
Author: Marlin Cremers <marlinc@marlinc.nl>
Date:   Tue Aug 20 12:11:12 2019 +0200

    Only remove interface routes that were previously added by Felix
    
    The Felix agent is currently removing routes added by others to the
    host side interface. This can be problematic for external
    applications that want to also other things into pods/containers.
    
    This change specifies a specific route protocol that will be added
    to routes inserted by Felix. When removing routes it will only
    remove routes that have that protocol.

[33mcommit c70c4f139a510a5487d2c002f3c61dbd230b2052[m
Merge: abb4f94f a3804b6e
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Aug 20 16:43:02 2019 -0700

    Merge pull request #2119 from Brian-McM/brianmcmahon-fix-libcalico-go-volume-mount-for-local-builds
    
    Change libcalico-go volume mount to be /go/src/github.com/projectcaliâ€¦

[33mcommit a3804b6e09766324cce34f112d2b2dd09385a77d[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Tue Aug 20 14:10:17 2019 -0700

    Change libcalico-go volume mount to be /go/src/github.com/projectcalico/libcalico-go instead of github.com/projectcalico/libcalico-go
    
    This needs to be updated since the move to go modules

[33mcommit abb4f94f64f20c473ae2ec9bc1e2a8dc85131529[m
Merge: aaf72843 be9d192e
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Aug 20 09:59:54 2019 -0700

    Merge pull request #2085 from Brian-McM/brian-OS-4725-fix-felix-config-bug
    
    Override etcd suboptions independent of the datastore type

[33mcommit aaf72843cea92c407b771c0d5af54493f09ea30b[m
Merge: 27696568 ee8bf98c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 20 09:36:56 2019 +0100

    Merge pull request #2112 from ethan-daocloud/patch-1
    
    fix misspelled words in logging message

[33mcommit 276965682b8eb21be17034038e8b9c2df79703ce[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 19 10:23:46 2019 -0700

    Update OSS semaphore jobs that depend on glide (#2111)
    
    Update OSS semaphore jobs that depend on glide

[33mcommit ee8bf98c4b93b52d475a2a2519653d3512e80495[m
Author: Guangming Wang <guangming.wang@daocloud.io>
Date:   Fri Aug 16 23:44:33 2019 +0800

    fix misspelled words in logging message
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 12081e1f16c92570abf5e9c229bd92465c2cbfec[m
Merge: e2f8ab82 668173d7
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 16:48:40 2019 -0700

    Merge pull request #2109 from projectcalico/rafael-felix-4
    
    Re-instate felixbackend.pb.go

[33mcommit 668173d7ea4761f17105fa7b215a198ff5036f93[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 16:09:14 2019 -0700

    Re-instate felixbackend.pb.go

[33mcommit e2f8ab82b553aacf39d1fdb8c7bf6e400f3238d3[m
Merge: 0cf39fcc 086942af
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Aug 12 18:34:04 2019 -0400

    Merge pull request #2108 from projectcalico/rafael-felix-3
    
    Remove incorrect go.sum entry for confd

[33mcommit 086942afe17f3a4b808f50360d3371c30f4c4987[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 15:05:53 2019 -0700

    Remove incorrect go.sum entry for confd

[33mcommit 0cf39fccefd23cdea988b54221c1849c6f713f8f[m
Merge: e7a49f6a 2f833a19
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Aug 12 13:44:42 2019 -0700

    Merge pull request #2107 from projectcalico/rafael-felix-1
    
    Have node pass buildinfo values as arguments rather than compiled in through LDFLAGS

[33mcommit 2f833a19ae41bb9e8464832d0924cdf374cb4bfc[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 12:13:40 2019 -0700

    Have node pass buildinfo values as arguments rather than compiled in through LDFLAGS (undo goimports 'fixes')

[33mcommit 7de49cd7b9a8b94e9db6c6f8b25e88ff6d7c35b7[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 11:36:45 2019 -0700

    Have node pass buildinfo values as arguments rather than compiled in through LDFLAGS (use buildinfo vars)

[33mcommit aa6d88638ba8845c8939a36bf51f5f9d69281e5a[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 11:14:09 2019 -0700

    Have node pass buildinfo values as arguments rather than compiled in through LDFLAGS (s/version/gitVersion/g

[33mcommit 149de85edf54dcc26c53a1f81a773a4e183540c7[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Aug 12 11:01:18 2019 -0700

    Have node pass buildinfo values as arguments rather than compiled in through LDFLAGS

[33mcommit e7a49f6ab1705cf0fe54b84774329a2d00a1196e[m
Merge: 363ab708 b426a62a
Author: Neil Jerram <neil@tigera.io>
Date:   Sat Aug 10 13:30:21 2019 +0100

    Merge pull request #2106 from abhishekjiitr/patch-1
    
    Fix Typo in int_dataplane.go

[33mcommit b426a62ab3b88475e15a6499b8960400a3ce4e30[m
Author: Abhishek Jaisingh <abhi2254015@gmail.com>
Date:   Sat Aug 10 17:20:07 2019 +0530

    Fix Typo in int_dataplane.go
    
    Fix Typo: Endure -> Ensure

[33mcommit 363ab7088cd7d42bfc0703dba999737c18c18420[m
Merge: a2db0fba 8f13d1d9
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Aug 9 16:23:38 2019 -0700

    Merge pull request #2090 from projectcalico/rafael-felix-1
    
    switch felix to go modules

[33mcommit 8f13d1d92e7bf514e3a7d90fe5c9fa01e38060f7[m
Merge: 723ae795 a2db0fba
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Fri Aug 9 15:53:32 2019 -0700

    Merge branch 'master' into rafael-felix-1

[33mcommit a2db0fbadfc0f02eb3893f00d6ad72bc490fc5b7[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Aug 9 06:16:14 2019 +0000

    Automated Typha pin update

[33mcommit 723ae7956684335ad78120a3a22590c186be3694[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Thu Aug 8 09:58:51 2019 -0700

    switch felix to go modules (fix k8sfv-test-existing-felix)

[33mcommit 19b8f913d85fd0814b204e166f447189687442ca[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Thu Aug 8 09:11:42 2019 -0700

    switch felix to go modules (go mod fixes)

[33mcommit 1c3aa703203308ce3f7489189b51f682e7ff81cf[m
Merge: 5f59d003 bdd0d553
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 8 09:08:37 2019 +0100

    Merge pull request #2088 from lmm/lmm-full-rules
    
    Delete rules using full line instead of line number for non-cali chains

[33mcommit 5f59d00318c76cf7f6f742cc97b36aa130789f4b[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Aug 8 06:15:12 2019 +0000

    Automated Typha pin update

[33mcommit efdb70900f1ec0ffe79739792904370e5b9d4130[m
Merge: c3da1869 b144a363
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 20:45:46 2019 -0700

    Merge branch 'master' into rafael-felix-1

[33mcommit c3da18699d8242d41afe4584785312d6d3eb6fad[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 20:44:36 2019 -0700

    switch felix to go modules (revert go.mod)

[33mcommit ba86f2c77fb346d5fee02d6dda3c3606b5ea01d3[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 19:58:19 2019 -0700

    switch felix to go modules (remove -m from go list all)

[33mcommit 5a40fcf316862503c4b4fb5b5e5f61795390a686[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 15:36:49 2019 -0700

    switch felix to go modules (chmod crds.yaml)

[33mcommit fdae2927dceff0c5b784183a1c11cd72971886f9[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 15:28:50 2019 -0700

    switch felix to go modules (add go list -m all)

[33mcommit 36bb799f9ca5b07cdec6e8189587fa58bd497185[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 15:21:57 2019 -0700

    switch felix to go modules (use go list -m -f for crds.yaml)

[33mcommit 6d7db73823a0f980cf5b4bcaf4afaa4c5fb57738[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 14:46:39 2019 -0700

    switch felix to go modules (use go list instead of curl)

[33mcommit 1c382ad09fb38823d9c52d3df9777945869b44dd[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 14:05:36 2019 -0700

    switch felix to go modules (fix local build)

[33mcommit cfb7b9946b871fd1f7ae77dba3ece128d4f23a8b[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 13:45:18 2019 -0700

    switch felix to go modules (add GO111MODULE to foss checks)

[33mcommit 6c3ba08bcb9602af06b0ef3b67ef68294cdd9a50[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 13:27:13 2019 -0700

    switch felix to go modules (code review comments, curl crds.yaml, pin updates, goimport fixes)

[33mcommit 57845a482e41ee2ad9b1174f55b0e024dafe18cf[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Aug 7 10:57:59 2019 -0700

    switch felix to go modules (no more vendoring, fix go mod cache)

[33mcommit bdd0d5535e43b267db210a1e65af39c3e431b27c[m
Author: Laurence Man <laurence@tigera.io>
Date:   Wed Aug 7 10:57:34 2019 -0700

    Update tests from feedback

[33mcommit b144a3639911cf3b00a34b78fb413941bf88e582[m
Merge: 505f0a90 f843dd11
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 7 16:29:55 2019 +0100

    Merge pull request #2100 from neiljerram/release-packaging
    
    Update RELEASING.md for new packaging process

[33mcommit f843dd110f5b012ed51d6fc9ee26c78b4b419b70[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 7 00:54:21 2019 +0100

    Update RELEASING.md for new packaging process

[33mcommit 505f0a9077969ea63e036f5506d116dd924de69d[m
Merge: 499f9dfd 6b3fd156
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 6 15:24:44 2019 +0100

    Merge pull request #2099 from neiljerram/ptest
    
    Code review markups for #2096

[33mcommit 6b3fd15668ff1fbb9854d9926a1583cbafe87b1e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 6 15:09:39 2019 +0100

    Code review markups

[33mcommit 499f9dfd614bf67775d5fe3b2aa1c368f7744da5[m
Merge: 45384950 613159f4
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 6 15:21:10 2019 +0100

    Merge pull request #2096 from neiljerram/ptest
    
    Adapt for github.com/projectcalico/packaging

[33mcommit 45384950918779f6bfc83fd89a8b54af18d05cdb[m
Merge: 20e7b802 3eb78afe
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 6 15:05:51 2019 +0100

    Merge pull request #2098 from fasaxc/workaround-hping-bug
    
    Work around hpings' buggy RTT calculation.

[33mcommit 3eb78afedb8516738b0f35d6f67f4f845581e0e3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 6 11:54:28 2019 +0100

    Work around hpings' buggy RTT calculation.
    
    hping does this to get its timestamp:
    
        secs = time(NULL);
        usecs = get_usecs();
    
    If usecs is just about to wrap when secs is read then it can record a
    time almost one second in the past.  This results in adding 1s to RTTs
    at random.

[33mcommit 20e7b8021a427008dab2fbe82a7dc62ffeffc797[m
Merge: cc198d1a 8d4a9ac4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 6 13:13:42 2019 +0100

    Merge pull request #2097 from projectcalico/shaun-master-auto-libcalico-update
    
    [master] Automatic update of libcalico-go to bf00054ed881fc4023e6e748c5faba3ad0757028

[33mcommit 8d4a9ac4bb513003a7686679465e25a7ff6e2804[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 6 10:33:40 2019 +0100

    Update libcalico-go to bf00054ed881fc4023e6e748c5faba3ad0757028

[33mcommit cc198d1ae26b6e2cf533b06bbe785f9b64cedcc4[m
Merge: cceaf850 b0c0edd2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 6 10:30:08 2019 +0100

    Merge pull request #2037 from bloomberg/add_device_route_source_addres
    
    Add support for setting the source hint on programmed device routes

[33mcommit 613159f460e41cdde3ce09c591595906094515eb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 2 16:14:28 2019 +0100

    Adapt for github.com/projectcalico/packaging
    
    Package building is now driven by github.com/projectcalico/packaging,
    which documents and automates our entire process for building and
    publishing packages.  All that remains here are the Felix-specific
    details under debian/ and rpm/.
    
    Some details have changed in the migration process, so it's worth
    noting those here.
    
    - `build-debs` previously prepared Felix Debian source package content
      containing only bin/calico-felix and the other few files that we want
      our Felix binary packages to install.  Now, the `source` target in
      debian/rules builds bin/calico-felix, and the Felix Debian source
      package contains the entire Git repo content, plus that executable.
      This is closer to the usual source package process and fits better
      with the generic package-building code of the packaging repo.  This
      makes no difference at all to the eventual binary packages, but is
      visible if someone downloads and examines our source packages from
      Launchpad.
    
    - A similar change applies to the RPM process.
    
    - The packaging repo process includes publishing source RPMs, so a Felix
      source RPM will now be published, where previously it was not.
    
    - Because source package content now includes our Makefile, extra
      overrides are needed in debian/rules to prevent it from using that
      when building the binary packages.

[33mcommit c29803c7f7ef0d2c8b4c4fc7953b1cfe07232ac2[m
Author: Laurence Man <laurence@tigera.io>
Date:   Fri Aug 2 14:35:44 2019 -0700

    Run goimports

[33mcommit 4bb47dbdea4e83edd0a445a89223e02082e26ec4[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Fri Aug 2 09:59:40 2019 -0700

    switch felix to go modules (re-add felixbackend.pb.go)

[33mcommit fc83ed81f0f0f5493aadea326729a6dfe964b918[m
Author: Laurence Man <laurence@tigera.io>
Date:   Fri Aug 2 07:18:56 2019 -0700

    Add test to verify inserts in non-whitelisted chain when underlying
    tables have changed

[33mcommit 73ae1e0683053e85adcae427cb5c36ca6201463c[m
Author: Laurence Man <laurence@tigera.io>
Date:   Fri Aug 2 06:29:30 2019 -0700

    Refactor to use the existing dataplane.OnPreRestore

[33mcommit cfaa8ef8216cfe5cdc919eaabe5e44b2249cafe4[m
Author: Laurence Man <laurence@tigera.io>
Date:   Fri Aug 2 06:20:24 2019 -0700

    Add UT to verify inserts result in just the necessary writes

[33mcommit 84fc564fb3b424beabd2412e256cdd446e035711[m
Author: Laurence Man <laurence@tigera.io>
Date:   Thu Aug 1 22:32:19 2019 -0700

    Error out of applyUpdates() if we attempt to render an invalid delete

[33mcommit aa71f1176dd99835130710c85f497e74e8cd118b[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Thu Aug 1 12:57:58 2019 -0700

    switch felix to go modules (remove -mod=cache from k8sfv command)

[33mcommit c827b8afd37c2ade5bf452fd66352a95a6e39126[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Thu Aug 1 11:33:51 2019 -0700

    switch libcalico-go to go modules (fix k8sfv-test-existing-felix)

[33mcommit b0c0edd2dfd8668d75c2514c33f7b61dc3ad5901[m
Merge: bb369caa cceaf850
Author: Max S <maxstr@users.noreply.github.com>
Date:   Thu Aug 1 14:04:52 2019 -0400

    Merge branch 'master' into add_device_route_source_addres

[33mcommit bb369caaf76c0ebed2a2561a0872f19ddb7a64c4[m
Author: Max Stritzinger <mstritzinger@bloomberg.net>
Date:   Thu Aug 1 14:01:01 2019 -0400

    Update glide

[33mcommit 16ce804a6374f9f2d1e8a09b8f97423b906f457b[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Jul 31 16:13:09 2019 -0700

    switch felix to go modules (temporarily disable static checks)

[33mcommit eeef59508b6625d166c5613cba1a07b7785bc4df[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Jul 31 15:21:28 2019 -0700

    switch felix to go modules (add crds.yaml to fv/infrastructure)

[33mcommit 35c8c13b1705c7f3beb28aa9b351218f67c4f432[m
Author: Laurence Man <laurence@tigera.io>
Date:   Wed Jul 31 10:03:58 2019 -0700

    Store full rule lines only for Calico rules

[33mcommit ee6dd39f6930038840b80f3e3d437e7561153a31[m
Author: Laurence Man <laurence@tigera.io>
Date:   Wed Jul 31 09:54:44 2019 -0700

    Fix bug where full rules for non-inserts were stored

[33mcommit c1bce7f40ae1451a08c1396ab4fb4c3268033d84[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Jul 30 17:31:37 2019 -0700

    switch felix to go modules (add more sleep to run-test)

[33mcommit 99161675839d2c2809352484bb060c5331b84ecc[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Jul 30 16:19:15 2019 -0700

    switch felix to go modules (add sleep to run-test)

[33mcommit cceaf8508a92aff8d81b710a6cecf9f93379fd2e[m
Merge: 6c654cfb 16f41227
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Jul 30 15:20:15 2019 -0700

    Merge pull request #2093 from spikecurtis/dikastes-nonroot
    
    Update pod2daemon binder version

[33mcommit 16f41227839cfa7559f9faecde6be5b605dfe1c5[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Jul 30 14:41:53 2019 -0700

    Update pod2daemon binder version
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit cdfd5f558a59bc5cd909df6274e4a977f6fb8e24[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Jul 30 14:10:38 2019 -0700

    switch felix to go modules (k8sfv mod=vendor)

[33mcommit 97ad8635084912d17b2574fa741ac536b8d1fe9b[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Jul 30 13:50:48 2019 -0700

    switch felix to go modules (build args)

[33mcommit bb348dda9644729c48af5556ce3f1aeb9e3820fc[m
Author: Laurence Man <laurence@tigera.io>
Date:   Tue Jul 30 11:32:06 2019 -0700

    Fix remaining issues from code review

[33mcommit 31d3b0288343703046720751f7fd4f08a0f24a44[m
Author: Laurence Man <laurence@tigera.io>
Date:   Tue Jul 30 11:27:33 2019 -0700

    Update comments and actually update t.chainToFullRules

[33mcommit 962b5e7854268c71bffd1332c71bc87b0d9a764c[m
Author: Laurence Man <laurence@tigera.io>
Date:   Tue Jul 30 11:12:45 2019 -0700

    Ensure that we have full rules for any chain that we insert into
    
    - This is so we can generate deletes by the full rule if needed.

[33mcommit 6f079d1b9273b27c197dc9df7c6e23f8c2e1bf06[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Tue Jul 30 11:12:38 2019 -0700

    switch felix to go modules (fix update-typha, go test args)

[33mcommit 3e75ee786d8b7176ba4248c23718ba884133b633[m
Author: Laurence Man <laurence@tigera.io>
Date:   Tue Jul 30 10:14:35 2019 -0700

    Remove unnecessary topLevelChains

[33mcommit ee60cff02567575b24054cad667ab7a243ce1749[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 30 10:22:51 2019 +0100

    Fix interaction between source address check and grace period.
    
    - Only allow grace period for unexpected routes (i.e. skip
      it for routes that have incorrect source address).
    - Only drop conntrack entries for unexpected routes.
    - Refactor the route sync calculation to emit reason for route
      deletion to the log.

[33mcommit 12628533260f3d4846800361dee4ba1cc2d8a2b6[m
Merge: 2d1a0c32 6c654cfb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 30 09:32:38 2019 +0100

    Merge remote-tracking branch 'origin/master' into add_device_route_source_addres

[33mcommit 569afe5ce84f8b5718a002ec4a0c2fb084621129[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Jul 29 23:56:59 2019 -0700

    switch felix to go modules (nits)

[33mcommit a11bdf65f2e44d202c1459aba0ac1df03e44df53[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 22:35:54 2019 -0700

    Refactor changes to mock for clarity

[33mcommit b776bc9bab69da9e20d558d6be0b70001b724a61[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 21:41:28 2019 -0700

    Fix test

[33mcommit 887ea3c084e52324738d674be477a4bc30e1960a[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 21:40:39 2019 -0700

    Make topLevelChains overridable by tests

[33mcommit 32c6c38f9f0787bacab7c42b6891a7a27ed9ce19[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Jul 29 15:58:30 2019 -0700

    switch felix to go modules (fix go test)

[33mcommit 7a7adb2886fea5dda06d32190191b6fc4f97797b[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Jul 29 14:41:11 2019 -0700

    switch felix to go modules (fix static-checks target)

[33mcommit 0a9834e847aedbb3f5d0b1d7f29d974496be6a18[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 13:29:10 2019 -0700

    Update cached map of chain to full rule lines

[33mcommit b916c05b0bca8de9b124c5a83cb816ab51acb5e1[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Jul 29 12:59:28 2019 -0700

    switch felix to go modules (logrus replace)

[33mcommit 30ff7e0a74431428395f4e22b31def9e9e588f09[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Mon Jul 29 12:52:53 2019 -0700

    switch felix to go modules (initial commit)

[33mcommit 93df92d1e955efa423928fa438f57271e56b7d69[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 11:18:24 2019 -0700

    Rename variable for consistency

[33mcommit d358adc1c5131ac579eaa5556ffc64a180cf3796[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 11:02:33 2019 -0700

    Remove unused map variable

[33mcommit 6c5dbf83bd430c423cfa320ba5e8a8c04ac00bd8[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 10:54:16 2019 -0700

    Refactor deleteRule function into two separate functions

[33mcommit ce380f9073d637235b76b0024eb383bb6a528873[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 10:50:43 2019 -0700

    Delete from dirtyInserts in normal order

[33mcommit b5a28516f7684f2e52b8444203ce8b8bd68753f1[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 10:40:45 2019 -0700

    Be more selective about full rules we store off

[33mcommit 238fdbbdc1da1a411422a4890afc1c9349dbe7e9[m
Author: Laurence Man <laurence@tigera.io>
Date:   Mon Jul 29 10:22:54 2019 -0700

    Revert unnecessary changes to dirtyChains iter loop

[33mcommit ad8a26d07948c00f125e02e831c142a8a26526d3[m
Author: Laurence Man <laurence@tigera.io>
Date:   Sun Jul 28 23:12:31 2019 -0700

    Add test to simulate chain updates with iptables state changing before restoreCmd is applied.

[33mcommit 25767e7e292d334310e1bbf6e40c0fccdf50fac8[m
Author: Laurence Man <laurence@tigera.io>
Date:   Sun Jul 28 23:11:30 2019 -0700

    Delete rules in non-cali chains by the full rule instead of rule number

[33mcommit be9d192e6b482ad5b4debe015bdea8a4edf681b9[m
Author: Brian McMahon <brianmcmahon135@gmail.com>
Date:   Mon Jul 22 12:34:50 2019 -0700

    Override etcd suboptions independent of the datastore type
    
    There was previously an issue with the etcd suboptions not being applied from the felix configuration if the etcd datastore type wasn't set the etcd in the felix configuration as well. This is a problem because the default datastore type is etcd, so users are bothering to explicitly set the datastore type to etcd. Since the etcd suboptions only have an effect if the datastore is etcd we can just overide the suboptions with what's in the felix configuration, which fixes this issue.

[33mcommit 6c654cfbd280f2f709c47a6c98513b32ee669d9e[m
Merge: dc3376d5 cce54461
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Jul 24 17:50:16 2019 -0700

    Merge pull request #2086 from caseydavenport/fix-nft-mode
    
    Fix nft mode failures due to u32 match

[33mcommit cce544613169bd84a8a06f5536abd65cdc3c7ab8[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Jul 24 10:40:53 2019 -0700

    Fix nft mode failures due to u32 match

[33mcommit dc3376d54d1685cf398c5935ce02a97e72911025[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Jul 22 06:15:32 2019 +0000

    Automated Typha pin update

[33mcommit b360a26c1bd865b729a92b02ccd51585b189eae3[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Jul 20 06:14:32 2019 +0000

    Automated Typha pin update

[33mcommit 6b8a0901f2db51e06d1df2fe059f993956ee6429[m
Merge: e3fdafb0 a18bbb4a
Author: Laurence Man <laurence@tigera.io>
Date:   Fri Jul 19 10:41:14 2019 -0700

    Merge pull request #2081 from rene-dekker/rene-prometheus-host
    
    Configurable prometheus host.  Default value for prometheus host: empty

[33mcommit e3fdafb0b4a8a9c35c7714b9eadebe7b7e3c6650[m
Merge: 56335941 a31e8cf4
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Jul 19 09:15:29 2019 -0700

    Merge pull request #2080 from caseydavenport/update-go-build
    
    Update go-build version

[33mcommit a18bbb4aec744892ed5d9c7ecc10eba8847edd1b[m
Author: Rene Dekker <rene@tigera.io>
Date:   Thu Jul 18 11:06:31 2019 -0700

    Using joinHostPort after a PR suggestion to do so

[33mcommit 261274a70a92b841a464bf3f71442045f05427f7[m
Author: Rene Dekker <rene@tigera.io>
Date:   Wed Jul 17 17:05:46 2019 -0700

    Configurable prometheus host.  Default value for prometheus host: empty

[33mcommit a31e8cf46dc90ae3ea817e43a5776a543acce2d9[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue Jul 16 14:55:13 2019 -0700

    Update go-build version

[33mcommit 56335941df75e6f88a4105cef2c0ab0902d2f588[m
Merge: 8cdbf80f a7a57f93
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 5 16:26:02 2019 +0100

    Merge pull request #2070 from fasaxc/iptables-1.8
    
    Add support for iptables 1.8

[33mcommit a7a57f9326db7e031d79fe803aac82d873189261[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 5 15:03:42 2019 +0100

    Fix up tests.

[33mcommit 8cdbf80f50ba814d31e8e9ff4d03ca0e4e167b49[m
Merge: fe00b9e6 e9097a0b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 5 14:39:37 2019 +0100

    Merge pull request #2071 from caseydavenport/better-vxlan-log
    
    Better VXLAN diags on interface creation failure

[33mcommit a15f3ad412ed28d642b8afa76db37bb16ea583bd[m
Merge: b45949e5 fe00b9e6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 5 13:35:13 2019 +0100

    Merge remote-tracking branch 'origin/master' into iptables-1.8

[33mcommit b45949e5fdc86b33b34994db4842e434727571fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 5 11:42:09 2019 +0100

    Code review markups.

[33mcommit fe00b9e63b7286a38051f94ec8009d1fef36d443[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Jul 5 06:13:57 2019 +0000

    Automated Typha pin update

[33mcommit c0dfabc135e0ffb03c0563d386003de7ed454ddb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 4 11:05:12 2019 +0100

    Add UT and make fixes to nft mode.

[33mcommit 1439ccea262f3e32770770efd780d9a114ffc5de[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 4 09:36:00 2019 +0100

    Adjust path to iptables commands used in tests.

[33mcommit e9097a0bc240619c9b0971eacaf462b491344b2c[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Jul 3 10:39:38 2019 -0700

    Improve VXLAN device creation diags

[33mcommit 490e4bfb7269fa704fda2674bea17be8fefe4269[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 3 18:37:01 2019 +0100

    Make iptables test utils handle a Reader.

[33mcommit 2b965d3271f685e467be23ff76933a1b75edb539[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 3 18:06:55 2019 +0100

    Reinstate fine-grained rule deltas for legacy iptables mode.

[33mcommit d3136749f550947218ade45be5e7ee4f514959be[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 3 17:20:39 2019 +0100

    Factor out iptables writing and make nftables extra commit conditional.

[33mcommit 5a3e42071f971578326a566f2c831338109c3b21[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 3 17:18:24 2019 +0100

    Install iptables 1.8 backport in docker image.

[33mcommit f5351968923a140e361a9843ffa10235c548a4ca[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 13 16:02:29 2019 +0100

    WiP on nftables compatibility.
    
    - COMMIT between updates and deletions.
    - Flush all dirty chains and rewrite.

[33mcommit b7ca97165d2aefffa828e29c18e81b1867728305[m
Merge: eb57582f 1d57c8c7
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Jun 26 17:13:26 2019 -0700

    Merge pull request #2068 from neiljerram/fv-flake-work
    
    FV flakes: fix for one and investigation for another

[33mcommit eb57582fcc8f02ba1e29c54ba3af9fc84c894f00[m
Author: Rafael Vanoni <rafael@tigera.io>
Date:   Wed Jun 26 17:02:28 2019 -0700

    Drop VXLAN and IPIP packets originating in pods (#2052)
    
    Drop VXLAN and IPIP packets originating in pods

[33mcommit 1d57c8c72b19caf72b6e1cb55ba6e3a7377e9c88[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 26 13:24:38 2019 +0100

    Fix FV flake testing ExternalNodesCIDRList
    
    We sometimes get this failure:
    
    â€¢ Failure [35.157 seconds]
    IPIP topology before adding host IPs to IP sets (kubernetes backend)
    /go/src/github.com/projectcalico/felix/fv/infrastructure/datastore_describe.go:43
      external nodes configured
      /go/src/github.com/projectcalico/felix/fv/ipip_test.go:203
        should have all-hosts-net ipset configured with the external hosts and workloads connect [It]
        /go/src/github.com/projectcalico/felix/fv/ipip_test.go:244
    
        Connectivity was incorrect:
    
        Expected
            w0-idx303 -> w1-idx307 on port 8055 = false <---- WRONG
        to match
            w0-idx303 -> w1-idx307 on port 8055 = true <----
    
        /go/src/github.com/projectcalico/felix/fv/ipip_test.go:249
    
    I think the problem is that the test code intended to remove the BGP
    spec for felixes[0], but actually removed the BGP spec for the first
    Felix returned by Nodes().List(), which could be the other Felix.

[33mcommit 772a68ba47b33fdcb6c97fecbc639443e79e608f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 26 12:40:26 2019 +0100

    Explore latency test flakes

[33mcommit 149c24d2359fce68fa36323e18e54f1319e1b269[m
Merge: 098f032f 9f7b28ae
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Jun 24 19:21:01 2019 -0700

    Merge pull request #2059 from caseydavenport/fix-ci
    
    Fix build and tests

[33mcommit 9f7b28ae754b5f8cda17c3b9c58fafa20f08a13d[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Jun 24 18:57:28 2019 -0700

    Fix build and tests

[33mcommit 098f032fa67107cc10a3780eada14d01e6da7471[m
Merge: e001ad4f 31006fa4
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Jun 24 18:55:23 2019 -0700

    Merge pull request #2056 from caseydavenport/remove-offending-code
    
    Remove disputed contributions

[33mcommit 31006fa4ddcfd0b335186359f830c3d262b52c7a[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Jun 24 18:29:40 2019 -0700

    Remove disputed contributions

[33mcommit e001ad4f11be7e5dc9270863f75c539e028c45e9[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Jun 22 06:14:40 2019 +0000

    Automated Typha pin update

[33mcommit c9a68a9d3245a411fe7878aa9630a1dfcfabddf9[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Jun 20 06:18:25 2019 +0000

    Automated Typha pin update

[33mcommit 5f5e02f9eda10602914d5a9ce2ccfd7b3d2cbe7e[m
Merge: 6af7220e db793ec5
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Jun 19 10:52:30 2019 -0700

    Merge pull request #2046 from kinvolk/iaguis/bump-required-sockmap
    
    bpf: require kernel v4.20 for sockmap acceleration

[33mcommit 6af7220e76443397524683900f835fcd4eb3e32d[m
Merge: d1200f53 2c20e92b
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 19 11:47:27 2019 +0100

    Merge pull request #2045 from neiljerram/fix-deb
    
    Workaround goimports removing packr-generated import

[33mcommit 2c20e92b0fc249259276435cffe98ec20e30cc06[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 17 15:49:41 2019 +0100

    Workaround goimports removing packr-generated import
    
    In wavetank (e.g. [1]), when building bin/calico-felix-amd64, we get this:
    
      ```
      github.com/projectcalico/felix/vendor/github.com/hashicorp/go-version
      github.com/projectcalico/felix/bpf/packrd
      # github.com/projectcalico/felix/bpf/packrd
      bpf/packrd/packed-packr.go:14:7: undefined: packr
      bpf/packrd/packed-packr.go:26:8: undefined: packr
      bpf/packrd/packed-packr.go:27:28: undefined: packr
      bpf/packrd/packed-packr.go:28:30: undefined: packr
      bpf/packrd/packed-packr.go:32:8: undefined: packr
      bpf/packrd/packed-packr.go:33:26: undefined: packr
      github.com/projectcalico/felix/vendor/github.com/vishvananda/netns
      ```
    
    I also get that when running `make bin/calico-felix` or `make deb` on my
    own laptop.
    
    In semaphore (e.g. [2]), for some reason we don't get that same problem.
    
    [1] https://wavetank.tigera.io/view/Openstack/job/openstack-felix-build-package/45/console
    [2] https://semaphoreci.com/calico/felix-2/branches/master/builds/1662
    
    When it occurs, the problem seems to be that packr2 generates this
    import:
    
            "github.com/gobuffalo/packr/v2"
    
    and then goimports removes that again because it thinks it isn't
    needed.  But the import _is_ needed, and removing it causes the build to
    fail as above.
    
    goimports is buggy here, and is incorrectly removing a needed import.
    This change works around that by naming the import, because goimports
    does not remove named imports.

[33mcommit db793ec5efca4a477c2a0328131e8a7a46259543[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Tue Jun 18 14:45:39 2019 +0200

    bpf: require kernel v4.20 for sockmap acceleration
    
    Testing with v4.19 made istio pods not being able to run.

[33mcommit d1200f5339c8562d9a9fb0629ecb8d97924e881b[m
Merge: dd5c23fc bdb6cc5a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 14 20:15:14 2019 +0100

    Merge pull request #2042 from fasaxc/fix-bpf-licenses
    
    Include explicit license in BPF programs.

[33mcommit bdb6cc5ae152207737b8f332043a412679784b6d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 14 14:32:41 2019 +0100

    Fix that packr can make a non-goimported file.

[33mcommit bdea1feeca05eb68753d3257ef6ee109df4872a0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 14 09:38:57 2019 +0100

    Fix XDP test hash.

[33mcommit 6a0783bb9e96958e214fb957c82ab425defdd7f2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 13 15:30:26 2019 +0100

    Include explicit license in BPF programs.

[33mcommit dd5c23fc1d0fe9a21173ef738c1d8f426e30cc1c[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Jun 13 06:20:00 2019 +0000

    Automated Typha pin update

[33mcommit 072930d37eba9df56e4ca70fd8bc4ad9e14d1020[m
Merge: 7f893520 a03646b2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 12 18:12:27 2019 +0100

    Merge pull request #2036 from kinvolk/kinvolk/sockmap-fv
    
    fv: add sockmap test

[33mcommit 7f8935204b0038c8a9c4f0ff882975daa9bf79f8[m
Merge: e72988f7 ffe28b4e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 12 11:56:12 2019 +0100

    Merge pull request #2039 from projectcalico/smc-rename-sockmap-flag
    
    Rename SockmapEnabled to SidecarAccelerationEnabled.

[33mcommit a03646b2aa7ef6681fed51e862211e8c688d938f[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed Jun 12 11:18:33 2019 +0200

    fv: Address review issues

[33mcommit c5fef1e616b456e41965df7196e8dc9482f5f7a4[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed Jun 5 18:55:08 2019 +0200

    Revert "bpf, config, dataplane: Add a cgroup-v2 subdir parameter"
    
    This reverts commit b83f5f1ad9e853f69f6183a9d0eefb1ab2b1b394.
    
    The original idea was to use a subdirectory in the cgroup v2 hierarchy
    instead of the root cgroup to avoid interfering too much with the
    host. However this doesn't work because docker joins all cgroup v1
    controllers and joining the net_cls or net_prio controllers prevents
    cgroup v2 from matching
    (https://elixir.bootlin.com/linux/v5.1.7/source/include/linux/cgroup-defs.h#L753).
    
    We'll use the root cgroup v2 for now for testing, so the cgroup-v2
    subdir parameter is not necessary anymore.

[33mcommit f3e0fe35a79e387728cfb8530f5fdc1f86fce60d[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed May 22 23:00:18 2019 +0200

    fv: add sockmap test

[33mcommit 20b16f8e53b407beefc2fd332a7f991173cd4209[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Mon Jun 3 17:43:18 2019 +0200

    Makefile: improve bpf builds
    
    They're now faster and more correct.

[33mcommit c6a251a990bb519e18383e135183dffcf3af3636[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Mon Jun 3 18:24:47 2019 +0200

    fv/sockmap: cleanup sockmap state after every test

[33mcommit fb6f995c56f4cf2cc989a63ded86f5bfcbaea32c[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed Jun 5 16:43:28 2019 +0200

    fv: rename sockops test to sockmap
    
    It's the name we've been using for the feature.

[33mcommit ffe28b4e39197821a858c60a037eab4b4a3fb443[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 12 09:31:34 2019 +0100

    Rename SockmapEnabled to SidecarAccelerationEnabled.

[33mcommit 2d1a0c3283a13615ff1e070f2f1947fb00e8dd4e[m
Author: Max Stritzinger <mstritzinger@bloomberg.net>
Date:   Tue Jun 11 09:49:09 2019 -0400

    Add support for DeviceRouteSourceAddress option

[33mcommit e72988f7b0e8f8ab626a7562fa66e97c368c0b94[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Jun 11 06:15:01 2019 +0000

    Automated Typha pin update

[33mcommit 0d5696711cc476c0dcbfd5e63e3b63774386b9f1[m[33m ([m[1;33mtag: v3.9.0-0.dev[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Jun 10 15:17:35 2019 -0700

    Begin development on v3.9.0

[33mcommit a19ab458e2b3f90ac5a96720cf1830f6a79091dd[m
Merge: b0b5b640 ee18eeae
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 6 15:35:21 2019 +0100

    Merge pull request #2028 from bloomberg/add_masquerade_snat_override
    
    Add support for NATOutgoingAddress option

[33mcommit ee18eeae449b9a779e4706bdae1aeae6058b04ca[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 6 10:05:43 2019 +0100

    Bump Typha and libcalico-go pins for NATOutgoingAddress

[33mcommit c1100143eb8c807956b677f51fd8b5e57dedae28[m
Author: Max Stritzinger <mstritzinger@bloomberg.net>
Date:   Wed Apr 17 15:15:16 2019 -0400

    Add support for NATOutgoingAddress option

[33mcommit b0b5b64020969764209bb79c5fff0f9c12b5a518[m
Merge: d2d0f9b5 2c0b24c6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 6 11:08:31 2019 +0100

    Merge pull request #2033 from kinvolk/iaguis/fix-byte-order
    
    bpf: fix byte order

[33mcommit 2c0b24c6ff08fcdc8455db2d4ef9a2715fb7da85[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed Jun 5 12:36:08 2019 +0200

    bpf: fix byte order
    
    We were not including "endian.h" which made the byte order detection
    logic return big endian.
    
    Since the BPF library only supports little endian architectures, this
    was wrong and made byte order conversion functions do nothing.
    
    This fixes a workaround we've been using in the sk_msg program.

[33mcommit d2d0f9b54f03b55acd372a86448a365459303b73[m
Merge: 7a89a6b6 86808a67
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 3 18:30:18 2019 +0100

    Merge pull request #2031 from kinvolk/kinvolk/sockmap
    
    dataplane: accelerate sockets between app and the envoy sidecar through sockmap

[33mcommit 86808a675697466641657dfe552f89d6b3fe3b4e[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Mon Jun 3 13:34:15 2019 +0200

    dataplane/sockmap: address overlapping IPs
    
    We can't rely on the updates we receive being ordered so we recalculate
    the set of IPs every time we get a workload update, compare with the
    actual state in the BPF map, and change accordingly.
    
    This dumps the BPF state every time workloads change so it's not very
    efficient but we don't expect frequent workload updates so it should be
    fine.

[33mcommit c04f02c74e686bf64db584ab01898acdcc8077c4[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Fri May 31 14:29:42 2019 +0200

    bpf,dataplane: only delete by ID if Sockmap is enabled
    
    Otherwise we could be messing with other people's setup even if Sockmap
    is disabled.

[33mcommit 67eea88dfc7001671a1bad3a8cec8b4f882be66b[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed May 22 23:00:18 2019 +0200

    fv: Add a first sockmap test
    
    It checks if felix puts the workload endpoint IPs into the endpoints
    BPF map. That does not yet mean that the acceleration of the traffic
    between the service and its sidecar is tested, though.

[33mcommit b83f5f1ad9e853f69f6183a9d0eefb1ab2b1b394[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed May 22 22:59:22 2019 +0200

    bpf, config, dataplane: Add a cgroup-v2 subdir parameter
    
    It is purely for testing purposes, so the tests will not attach a
    sockops program to the root cgroup-v2, which could affect more traffic
    than intended by accident.

[33mcommit 08b7356e65cf23188facb06137ba099914fd4b5e[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed May 29 18:47:29 2019 +0200

    bpf: update mock bpf lib
    
    So tests compile and run.

[33mcommit 8a10087df6f81cb3c873349b4ea14968c11022c3[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed May 22 19:11:04 2019 +0200

    dataplane: Hook sockmap into the internal dataplane
    
    If SOCKMAPENABLED is true, the internal dataplane will try to create and
    set up the sockmap state by plugging it into the endpoints manager with
    callbacks.
    
    Sockmap state processes the messages from endpoint manager about
    workload endpoints to retrieve the IP address of the endpoint. The
    address is then put into the endpoints map, so the sockops program
    will know that the traffic related to that endpoint can be
    accelerated. When a workload endpoint is removed, its address is also
    dropped from the endpoints map.

[33mcommit a7b542d3465bb5b6b2afc625f96218e3456ad54a[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed May 22 17:36:01 2019 +0200

    config, dataplane: add parameters related to sockops functionality
    
    SOCKMAPENABLED is about enabling sockops acceleration between the
    application in a pod and its sidecar, provided that the system will
    meet certain requirements.
    
    This gets translated to an internal dataplane option, but it is not yet
    used, though.

[33mcommit acc61e20239368d31920933743074ef7180a8934[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed May 22 17:38:24 2019 +0200

    dataplane: Add callbacks for workload endpoints
    
    We want to allow acceleration of the traffic coming out from or into
    the address of the workload endpoints. To do that we need to know when
    the workload endpoints are updated or removed.

[33mcommit 51cf066204fba0e0fd65077c6c013f323f58a859[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Mon May 27 16:17:53 2019 +0200

    bpf: Add functions for managing sockops programs and maps
    
    The sockops programs and maps are pinned in the bpf filesystem under
    the `calico/sockops` directory (so, usually
    `/sys/fs/bpf/calico/sockops`).
    
    Since the redirector program is attached to cgroup2, the bpf library
    also needs to mount the cgroupv2 fs.
    
    Co-authored-by: Krzesimir Nowak <krzesimir@kinvolk.io>

[33mcommit abd24a6a9bb9d6bf83559b976ff2eac47f0d9019[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Tue Apr 30 14:25:16 2019 +0200

    bpf: Add sockops programs
    
    The programs use the recent feature of the kernel used to accelerate
    the local traffic.
    
    There are two programs added: the decider and the redirector.
    
    The decider implements logic for deciding which traffic can be
    accelerated at a time when the connection is established. Currently
    only traffic between the workload endpoint and the hardcoded address
    being used by Envoy is allowed to be accelerated.
    
    There is a need to differentiate the traffic coming from the app and
    traffic coming from Envoy. Currently the heuristic is if source address
    is the hardcoded address of Envoy, then the traffic comes from Envoy. If
    neither addresses match the hardcoded address, then it comes from app.
    The case when destination address is Envoy didn't happen to us in our
    testing. The reason for such heuristics is that sockops program gets
    executed before the packets are rewritten, so the packet from the app
    still has the destination address of some other service, not of Envoy.
    
    If traffic can be accelerated, a socket is put into the special
    sockhash map.
    
    The redirector does similar checks to sockops program to figure out
    the key to use for looking up the socket in the sockhash map. If the
    socket is found, then traffic can be accelerated.

[33mcommit ebf10161f9d5b0db1d2e97a56b79a6f711d2d0a4[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Mon May 27 17:57:44 2019 +0200

    glide: update typha (and libcalico-go) for new flag

[33mcommit b417fa2d0af36ab6e1b7f2b499c17f3472437761[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed May 22 22:59:39 2019 +0200

    dataplane: Fix copy pasta
    
    The message should be about refreshing the XDP state, not routes.

[33mcommit 7a89a6b6ec344a76f520d291f12a8cae28151e8a[m
Merge: 95bd6920 a2063924
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 3 15:29:54 2019 +0100

    Merge pull request #2029 from tathagatachowdhury/tathagata-vxlan-mac-windows
    
    Added code and test to enable vxlan MAC if present in node spec.

[33mcommit a2063924f9f1d9b90bac0cd8edf9c351f1ba8aa1[m
Author: tathagatachowdhury <calsoft.tathagata.chowdhury@tigera.io>
Date:   Mon Jun 3 14:00:41 2019 +0000

    Added code and test to enable vxlan MAC if present in node spec.

[33mcommit 95bd6920d8c9687470bc146c1eeebd621698e160[m
Merge: b77dec19 80ff102c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 3 09:55:40 2019 +0100

    Merge pull request #2030 from fasaxc/fix-vxlan
    
    Fix that routes were not re-sent if node IPs changed.

[33mcommit 80ff102c288712d358cbe6c90073e64e4685418e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 31 16:31:24 2019 +0100

    Fix that routes were not re-sent if node IPs changed.

[33mcommit 9357f70717fe3e85ec2dd6fe643270e1e0bb8644[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 31 16:25:34 2019 +0100

    Improve calc graph test infra:
    - avoid adding empty state to end of tests since it makes single-state
      async tests meaningless
    - improve injector diags
    - add env vars to quickly disable test expansion and async tests.

[33mcommit b77dec191abc29752099963d0c0198e79c1a8b54[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu May 30 06:14:59 2019 +0000

    Automated Typha pin update

[33mcommit 7929535b5943365fe260744fab9146914fcb1096[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed May 29 06:14:54 2019 +0000

    Automated Typha pin update

[33mcommit d3d1fefbc726c11b360528f04a6da2979bc452cb[m
Merge: 2c6137c3 7c76906a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 20 10:23:05 2019 +0100

    Merge pull request #2023 from tmjd/ets-leak-cleanup
    
    Fix slow leak in endpoint_mgr

[33mcommit 7c76906a81fb2a8ee8a6d5519041673d0047ca87[m
Author: Erik Stidham <erik@tigera.io>
Date:   Fri May 17 15:29:36 2019 -0500

    Fix slow leak in endpoint_mgr
    
    - This leak was noticed with lots of churn ran multiple times.

[33mcommit 2c6137c35107d934162462579f9e148ae4c352ec[m
Merge: 51c11874 9f33d02b
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu May 16 07:47:13 2019 -0700

    Merge pull request #2017 from neiljerram/typha-ipv6-connection
    
    Form Typha address string correctly with an IPv6 address

[33mcommit 51c1187400df2b28f70fbf391451eb8ef1203a59[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu May 16 06:17:10 2019 +0000

    Automated Typha pin update

[33mcommit 1657285c47855aab1db6d9de9aecfcd756862394[m
Merge: ab01a078 eb2a2736
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue May 14 10:55:45 2019 -0700

    Merge pull request #2022 from asincu/os-2734
    
    Increase K8s version to 1.14.1

[33mcommit eb2a2736ddc8468f6126e4a60cb3160f4e21ba09[m
Author: asincu <alina@tigera.io>
Date:   Tue May 7 15:49:56 2019 -0700

    Increase K8s version to 1.14.1

[33mcommit ab01a078433199b56b66972200468ab7ff8d9022[m
Merge: 27f6f2f9 51693659
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 8 09:58:43 2019 +0100

    Merge pull request #2020 from caseydavenport/use-debian-base
    
    Use debian base for Felix

[33mcommit 27f6f2f9b759ec90a4a6ce0184fdd7f6358538ef[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed May 8 06:17:17 2019 +0000

    Automated Typha pin update

[33mcommit 5169365962e31d2fc604b15d822d2888f3432124[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue May 7 16:10:04 2019 -0700

    Fixes for FV tests after switching image

[33mcommit ba0c13333c1d6157ab26ee6f6a853405d8c847b5[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue May 7 14:40:34 2019 -0700

    Use debian base for Felix

[33mcommit dba4be80624c728fd121372540279dc34c315530[m
Merge: 9518d22d 2bb90fdc
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue May 7 14:48:55 2019 -0700

    Merge pull request #2018 from caseydavenport/better-dev-build
    
    Always rebuild when DEV_BUILD=true

[33mcommit 2bb90fdc128832c3a6f9c2a4243247256cf917d0[m
Author: Casey Davenport <casey@tigera.io>
Date:   Sat May 4 12:07:46 2019 -0700

    Always rebuild when DEV_BUILD=true

[33mcommit 9f33d02b96fed5fc37e40d28d128812b3bcd60b7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 2 14:23:24 2019 +0100

    Add UT

[33mcommit ebc71fe04b9687a97dfed53a729160f20a0d5753[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 12 14:40:12 2019 +0100

    Separate function for Kubernetes service lookup

[33mcommit 2dd0f048961c0096d111d8f9bd858b678a4bc2f5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 2 14:06:08 2019 +0100

    Form Typha address string correctly with an IPv6 address

[33mcommit 9518d22dc22bd2af70da094b52de476c99bdbe4a[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Apr 30 06:19:40 2019 +0000

    Automated Typha pin update

[33mcommit 9ec4f76e2857c1281257e2259e8e829d3f04f223[m
Merge: 96ddc7f1 98c47e0c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 29 13:52:47 2019 +0100

    Merge pull request #2010 from fasaxc/vxlan-extra-fvs
    
    Add extra VXLAN FVs.

[33mcommit 98c47e0c6229147c415b717a466b9171af12f16b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 29 13:17:35 2019 +0100

    Code review markups.

[33mcommit 96ddc7f117403a5161d524ea2bf4cb113a9cfe99[m
Merge: 951eaffd f8885790
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 29 10:17:15 2019 +0100

    Merge pull request #2012 from kinvolk/krnowak/xdp-wipe-fix
    
    Fix removing programs that have unallowed mode

[33mcommit 951eaffd275035032787c3d2821ba3cb821f887f[m
Merge: bd82a36c 79965020
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 29 09:54:48 2019 +0100

    Merge pull request #2009 from fasaxc/vxlan-masq
    
    Replicate tunnel masquerade rule for VXLAN.

[33mcommit f8885790de33cfd4b5ad6a1f1e5bddb84665bd35[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Fri Apr 26 23:23:19 2019 +0200

    bpf: Remove pinned program if it fails to load
    
    The BPF library pins the program as a file under
    /sys/fs/bpf/calico/xdp and then tries to attach the program to the
    interface. If attaching fails, the program was still pinned and the
    maps the program referenced were still hanging in kernel memory. This
    scenario happens in internal dataplane when generic mode is not
    allowed, but the interface does not support any other mode for
    attaching the program.

[33mcommit e3e5ed9ed5a58dfff0f5d80cfe1019a2b344aacb[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Fri Apr 26 17:09:37 2019 +0200

    dataplane/xdp_test: Test XDP program with undesired mode
    
    One test checks if resync catches the case when the installed XDP
    program has an unallowed mode so resync marks the program for
    replacement. Other test checks if the uninstall XDP program action
    manages to remove the installed XDP with unallowed mode.
    
    The unallowed mode here is the generic mode, so we change the way we
    create the XDP IP state to allow only driver and offload modes.

[33mcommit 2b0ae727713a4298a5c954a1b7c3d67c50207e6f[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Fri Apr 26 17:10:27 2019 +0200

    dataplane/xdp: Handle XDP programs with unallowed mode
    
    During resync routine, the logic should mark the XDP program for
    replacement if it has unallowed mode.
    
    During processing final actions, try all the modes, not only the
    allowed ones, when trying to uninstall the program. That way we can
    uninstall the XDP program marked for replacement by the resync logic.

[33mcommit cb8e7f772f3173f4b2c68f82f3043daff0aa58ad[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Fri Apr 26 17:08:08 2019 +0200

    bpf: Add getters for XDP mode of a program
    
    We will need the mode of the XDP program when doing resync.

[33mcommit 2465256287bb509725a4dcecfdfb333ebb182141[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 26 14:51:07 2019 +0100

    Add extra VXLAN FVs.

[33mcommit 79965020e96974b270be3e5a81b10c934c78a56d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 26 13:38:24 2019 +0100

    Replicate tunnel masquerade rule for VXLAN.

[33mcommit bd82a36c0fcd140a3106be9586409f66ca1ea5a2[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Apr 25 06:14:26 2019 +0000

    Automated Typha pin update

[33mcommit 3cc5fe8a1a4030304eb38720a4ae5937bd99d58c[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Apr 24 06:17:06 2019 +0000

    Automated Typha pin update

[33mcommit 00bb75f1004cbca2336ccce3658725e473f2accd[m[33m ([m[1;33mtag: v3.8.0-0.dev[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue Apr 23 15:16:53 2019 -0700

    Begin development on v3.8.0

[33mcommit 72c3f4986d5e447b8b08365b1c63176c14ab3ec0[m
Merge: 33862cb9 cf3e2945
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Apr 23 11:24:19 2019 -0700

    Merge pull request #2006 from caseydavenport/host-local-ipam
    
    Updates for host-local IPAM

[33mcommit cf3e29454e19b89a3e633beaf80be2a6f613092b[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Apr 23 10:48:03 2019 -0700

    Update libcalico-go

[33mcommit a0aa01c1b0834b8ea527ba9ed79bb90472014857[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Apr 22 14:38:53 2019 -0700

    Updates for host-local IPAM

[33mcommit 33862cb9ed06f385c4c367f2bb334589dac0d682[m
Merge: 98ff9083 80b81fca
Author: Neil Jerram <neiljerram@gmail.com>
Date:   Tue Apr 23 17:03:46 2019 +0100

    Merge pull request #2007 from neiljerram/fix-version-tilde
    
    Fix tilde heuristic for initial 'v'

[33mcommit 80b81fca763f38fee02adba559278f3fff8f3cb7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 23 16:57:18 2019 +0100

    Fix tilde heuristic for initial 'v'
    
    The version passed to git_version_to_deb is like 'v3.7.0-0.dev', not
    '3.7.0-0.dev, so we need to compare against 'v3.7.1', not '3.7.1'.

[33mcommit 98ff908380bea730854a72c03f9e4891da5e3a14[m
Merge: 60e6bbb8 1be00788
Author: Neil Jerram <neiljerram@gmail.com>
Date:   Tue Apr 23 16:22:28 2019 +0100

    Merge pull request #1998 from neiljerram/fix-version-tilde
    
    Fix wrong tilde insertion in Debian package versions

[33mcommit 1be00788972c03fd4261c604ae2394e2341be5d8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 17 15:42:39 2019 +0100

    Add missing 'fi'

[33mcommit ce7f35d5be57d3940babf328d7ef84410bc5e1f5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 17 11:47:05 2019 +0100

    Fix wrong tilde insertion in Debian package versions
    
    I noticed we had the version
    3.7.0-0.dev.post56+20190417081457+0000+fce1~a58~xenial, with an unwanted
    ~ added in the middle of the Git ID.  This change fixes that.

[33mcommit 60e6bbb8778f0e827f01aec1f3189f255f7c7e8e[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Apr 23 06:22:28 2019 +0000

    Automated Typha pin update

[33mcommit 3774b6b48ee739b326598f9978147fa85650c2a0[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Apr 19 06:15:43 2019 +0000

    Automated Typha pin update

[33mcommit a676e5ff01053eea91b483908fb81451fdc28b24[m
Merge: 00c71c86 3c513f5f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 18 11:48:48 2019 +0100

    Merge pull request #2005 from fasaxc/fix-readiness
    
     Fix Felix readiness check when Typha is down at startup

[33mcommit 3c513f5f74c45d7e16fc73cf205f6e820853fad9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 18 11:23:56 2019 +0100

    Fix Felix readiness check when Typha is down at startup.

[33mcommit 00c71c865d99c1884143ea7b0bd2954e26092bbe[m
Merge: 0cd874ba af8797f4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 18 08:49:54 2019 +0100

    Merge pull request #2004 from caseydavenport/delete-vxlan-device
    
    Delete the VXLAN device if VXLAN is disabled

[33mcommit af8797f44cc0c1a96c7aec643f30b7cb07a0e8dc[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Apr 17 14:21:43 2019 -0700

    Delete the VXLAN device if VXLAN is disabled

[33mcommit 0cd874bad1c457b89bdb970bb0eb8b61be4cb687[m
Merge: 500d1667 ef5c58d0
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Apr 17 13:02:03 2019 -0700

    Merge pull request #2002 from caseydavenport/fix-vxlan-device
    
    Actually add FV tests for tunnel device

[33mcommit ef5c58d04fe31ca4072ecbf180c88b099d4dcd83[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Apr 17 11:21:14 2019 -0700

    Add VXLAN tunnel device FV

[33mcommit 500d166729524465ed26ce3606a91d6c7d7a0ee8[m
Merge: 36c76e56 fac65b42
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Apr 17 11:06:55 2019 -0700

    Merge pull request #2003 from projectcalico/shaun-master-auto-libcalico-update
    
    [master] Automatic patch of libcalico-go to 43c1da882b70aba9d0325e7de4393439ef202550

[33mcommit 36c76e56dae55a6892f1bba1cfb073e74c76f538[m
Merge: 038a6608 f753f76f
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Apr 17 11:02:20 2019 -0700

    Merge pull request #2000 from fasaxc/vxlan-whitelist
    
    Filter the source of VXLAN traffic to calico nodes only.

[33mcommit fac65b42f09b4de24805a14a95bc34f6d6995780[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 17 18:09:51 2019 +0100

    Update libcalico-go to 43c1da882b70aba9d0325e7de4393439ef202550

[33mcommit 038a66081695043280e3311919a9963857edd10f[m
Merge: b780fcb6 2ac8057c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 17 16:20:52 2019 +0100

    Merge pull request #2001 from kinvolk/krnowak/bump-logrus
    
    Use calico fork of logrus

[33mcommit f753f76f56d14e8254a81e95ed4c329526a82e63[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 17 16:20:13 2019 +0100

    Mainline VXLAN tests.

[33mcommit 27c28f7bc0a45a2c12aa85acd96326aac722db76[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 17 14:35:48 2019 +0100

    Filter the source of VXLAN traffic to calico nodes only.

[33mcommit 2ac8057cb4441c98838acc70e81e18d9b71b401a[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Wed Apr 17 16:21:09 2019 +0200

    Use calico fork of logrus
    
    gobuffalo/logger uses SetOutput method added in logrus 1.0.6, but that
    version has a bug somewhere in entry formatting, resulting in `<nil>
    <nil>` being printed instead of file and line number. Switch to fork
    based on 1.0.4 that also contains the `SetOutput` method.

[33mcommit b780fcb6bfdb21b03d2ceaac56e1d70ec2630f77[m
Merge: fce1a584 950901d7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 17 14:23:08 2019 +0100

    Merge pull request #1999 from kinvolk/iaguis/bpftool-from-image
    
    docker-image: get bpftool from dockerhub

[33mcommit 950901d7e3b57d1f78e2fe49745b3a4287b962aa[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Wed Apr 17 12:24:29 2019 +0200

    docker-image: get bpftool from dockerhub
    
    This uses the `calico/bpftool` image to get the bpftool binary whenever
    possible.

[33mcommit fce1a584d25ad6314a098e5a1c7f0aa8ae4a0637[m
Merge: f6a82664 baffb06f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 17 09:10:01 2019 +0100

    Merge pull request #1993 from caseydavenport/fix-vxlan-device
    
    Fix vxlan device recreation

[33mcommit f6a8266492a7f871f134bb611c5fdc1cbf6ce8a7[m
Merge: 6bb30393 68d3031c
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Apr 16 18:07:27 2019 -0700

    Merge pull request #1995 from fasaxc/vxlan-borrow
    
    Add support for borrowed IPs to VXLAN

[33mcommit baffb06f53b0e48079e192489dfe19a52013b0af[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue Apr 16 17:18:58 2019 -0700

    Add FV tests for VXLAN tunnel device creation

[33mcommit 68d3031c3018b26d54ec51a785e09341a50a9b9a[m[33m ([m[1;31mupstream/vxlan-borrow[m[33m, [m[1;31morigin/vxlan-borrow[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 19:39:39 2019 +0100

    Fix lint.

[33mcommit 363931f854be0b8b264b8711ba5ac60d8c2ca258[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 18:28:14 2019 +0100

    Rev libcalico-go.

[33mcommit db425fd601ffba3080dbed7c80fd8c38c117f48e[m
Merge: 102a763e 6bb30393
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 17:55:00 2019 +0100

    Merge remote-tracking branch 'origin/master' into vxlan-borrow

[33mcommit 102a763e082853f61e9884e75bd03936b4265ae8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 17:54:18 2019 +0100

    Fix missing routes for IPs borrowed from local block.

[33mcommit 6bb30393c77e803a35f80d3fbabec2637627823c[m
Merge: e36b7cd2 f75c29f9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 17:41:36 2019 +0100

    Merge pull request #1996 from projectcalico/shaun-master-auto-libcalico-update
    
    [master] Automatic update of libcalico-go to 727a39e77d674af6e7d6684b941916183d80f5de

[33mcommit f75c29f945d81d0fe2ba039a671ebb9769c0cd2b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 17:14:53 2019 +0100

    Update libcalico-go to 727a39e77d674af6e7d6684b941916183d80f5de

[33mcommit bc2fb4ea41c4e30d107a44f9a8c1db734ab63936[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 15:40:30 2019 +0100

    Patch glide.lock.

[33mcommit 274d801ecca2d62d532aec09062c4932fdabc4cb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 15:34:48 2019 +0100

    VXLAN tests for IP borrowing.

[33mcommit 3d0c61ab9501095596d7c8d9da44373715f2fe04[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 15:34:36 2019 +0100

    Fix handling of route gateway changes.

[33mcommit 22efd2a57bc7dfcf1697ceb52076cb752027522e[m
Merge: 808112e1 ac166eaa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 16 15:02:23 2019 +0100

    Merge branch 'vxlan-uts' into vxlan-borrow

[33mcommit a9482cc282445e695c50dcf39a35f3383598e5db[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Apr 15 14:08:34 2019 -0700

    Fix recreation of vxlan device on config change

[33mcommit ac166eaa7b32a7c126a1e98d78dd546bdcd95dee[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 15 17:25:31 2019 +0100

    Mainline calc graph VXLAN UTs.

[33mcommit e18c45279c7ff425e3741c7c54e7d0cb6971c76a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 15 16:58:24 2019 +0100

    First VXLAN test: VTEP.

[33mcommit 541a36923f95de4a839886c5728143c121cfb111[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 15 16:37:22 2019 +0100

    Trivial does-it-panic VXLAN test.

[33mcommit 4badf6020ce17232765c39f520cea0977e4f460e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 15 16:36:55 2019 +0100

    REmove requirement for keys to be hashable from calc graph test framework.

[33mcommit 808112e11814655f78b24b22c0ac5724ede79119[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 15 15:40:31 2019 +0100

    Calculate VXLAN borrowed routes.

[33mcommit e36b7cd2ec2e6b513ddd40630d98cae4a8ab3d23[m
Merge: cbc711ec 2400d0c5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 12 17:47:46 2019 +0100

    Merge pull request #1992 from fasaxc/vxlan-tweaks
    
    Tweak VXLAN defaults and logging.

[33mcommit cbc711eca063b5faa3e5bba4900cfa7c7d83e62d[m
Merge: e0250d11 b7b026fa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 12 11:39:02 2019 +0100

    Merge pull request #1991 from kinvolk/kinvolk/fast-blacklist
    
    Dataplane: optimize early host-endpoint blacklist rules

[33mcommit 2400d0c5d09f12fd4a8de0af7477c366b8bcf3d5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 12 10:10:20 2019 +0100

    Tweak VXLAN defaults and logging.
    
    - Use a VNI >=4096 for future compatibility with Windows, which requires that.
    - Use port 4789, for same reason.
    - Tweak log levels to make it easier to see why a VTEP isn't sent.

[33mcommit e0250d118c3cc8075d90cbc6756711c8dd84b0ea[m
Merge: fbe8a12e d23581b5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 12 09:28:17 2019 +0100

    Merge pull request #1990 from neiljerram/no-copyright-in-felix-proto
    
    Don't police copyright in felixbackend.pb.go

[33mcommit b7b026faa812c08dc43d9fabdc8fac47ddcd4e21[m
Author: Alban Crequy <alban@kinvolk.io>
Date:   Thu Mar 7 17:32:37 2019 +0100

    fv: add XDP tests
    
    Co-authored-by: Iago LÃ³pez Galeiras <iago@kinvolk.io>

[33mcommit 0a02b9c32174fb881fc5a722b6be1d322e9393d2[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Tue Apr 9 21:00:39 2019 +0200

    dataplane: hook the XDP state to the internal dataplane loop
    
    Here, we check if the system meets the requirements (new enough
    kernel, expected endianness) to actually enable XDP if it was
    explicitly requested. Internal dataplane creates the failsafe BPF map
    and the XDP state object and integrates that in its loop.
    
    Co-authored-by: Iago LÃ³pez Galeiras <iago@kinvolk.io>

[33mcommit 412fb5393324ab40f69a161536fbd9dd161e6102[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Tue Apr 9 21:00:03 2019 +0200

    dataplane: make blocking traffic more performant for some kind of policies
    
    This commit introduces an XDP state that does all the tracking and
    managing of the BPF state related to XDP. It uses callbacks to receive
    all the necessary information to decide whether a policy could be
    optimized with XDP. It uses the BPF library to make the changes in the
    system state.
    
    Co-authored-by: Iago LÃ³pez Galeiras <iago@kinvolk.io>

[33mcommit 0822ff96352ef0b22f4efe36bd6d246531607c33[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Tue Apr 9 20:58:21 2019 +0200

    dataplane, ipsets: add callbacks for some events in managers
    
    These callbacks will be used by the XDP functionality coming in the
    follow-up commit. The implementation is quite simple, since there will
    be just one consumer of the callbacks functionality for now.
    
    Later, if more consumers of callbacks appear, the implementation will
    need to change to use slices to allow many callbacks for an
    event. This kind of change should not change the API of callbacks,
    though.
    
    Also, for type-safety reasons, the code is quite repetitive, so maybe
    writing a simple code-generator could be an option.

[33mcommit 7665194802bf68c0692526504fb2c246f0f6cd8e[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Tue Apr 9 20:49:05 2019 +0200

    config, dataplane: add parameters related to XDP functionality
    
    XDPENABLED is about enabling XDP functionality (which is disabled by
    default), provided that the system will meet certain requirements.
    
    GENERICXDPENABLED is about allowing using the generic XDP mode, which is
    the slowest one available. It is mostly used for debugging/testing.
    
    XDPREFRESHINTERNAL is about how often the internal view of XDP state
    in Felix should be synchronized with the actual state of XDP on the
    system.
    
    These get translated to internal dataplane options. The options are
    not yet used, though.

[33mcommit c991f2966647edde0963a88e2d900f346312a9bc[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Tue Apr 9 21:05:52 2019 +0200

    bpf: Add a mock bpf library
    
    This will be used in the unit tests to avoid messing with the system
    state.

[33mcommit 1fe96437236ddd4d3378a721142d286620f30571[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Tue Feb 19 12:27:45 2019 +0100

    image: Build bpftool in the image
    
    bpftool is required by the bpf library, so it needs to be a part of
    the image that has felix.

[33mcommit 97c14688456a30605fe5e3ba34459eafc1118706[m
Author: Alban Crequy <alban@kinvolk.io>
Date:   Thu Feb 28 12:57:09 2019 +0100

    bpf dumper: Implement command line tool felix-xdp for debugging XDP maps
    
    It can dump the content of the failsafe port map and the blacklist map
    for all network interfaces with a XDP program attached.
    
    $ sudo -E go run bpf/cmd/felix-xdp.go dump
    Failsafe ports:
      TCP: 22
      UDP: 53
      TCP: 53
      TCP: 80
    Interfaces with blacklist:
      eth42:
        1.1.0.0/16 value=1
        8.8.0.0/16 value=1
    
    Additionally, for debugging, maps can be populated with example values
    by the "populate" command:
    
    $ sudo -E go run bpf/cmd/felix-xdp.go populate

[33mcommit 6b52cf4cb44c5758b66e022efce25e2fbbae2ab4[m
Author: Alban Crequy <alban@kinvolk.io>
Date:   Tue Apr 9 21:21:10 2019 +0200

    bpf: Implement bpftool library in Go for Felix
    
    Package bpf provides primitives to manage Calico-specific XDP programs
    attached to network interfaces, along with the blacklist LPM map and the
    failsafe map.
    
    It does not call the bpf() syscall itself but executes external programs
    like bpftool and ip.
    
    It can be tested with:
    sudo -E go test -v ./bpf -count=1
    
    This also packs the XDP program into the library with packr2.
    
    Co-authored-by: Iago LÃ³pez Galeiras <iago@kinvolk.io>

[33mcommit 336d34c307f477b73692656058b890d1c01e73f4[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Thu Feb 28 21:49:12 2019 +0100

    bpf: Add XDP program and means to build it
    
    The program implements blocking the traffic by consulting the BPF maps
    that serve as blacklists.
    
    This also adds a docker file for building an image with clang, so we
    can compile the C code into an ELF object file with the the BPF
    bytecode.
    
    The above are used in the Makefile.
    
    Co-authored-by: Alban Crequy <alban@kinvolk.io>

[33mcommit ab4636f97aa1ea6d57512f7f1146c7f3c88e96c4[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Tue Apr 9 17:14:35 2019 +0200

    versionparse, iptables: Move version parsing to a separate package
    
    We will need to parse kernel version in some follow-up commit, so to
    avoid the duplication of the same functionality that the iptables
    package already has, move the version parsing to the separate package.

[33mcommit 3b1f040c56b474edcd3f5d1fdc71289e7fa99523[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Tue Apr 9 18:54:53 2019 +0200

    license-checker: Fix licenses of the new dependencies
    
    Some dependencies we added have some variant of a BSD license the
    checker didn't know about. Add them.

[33mcommit cdb772ebf7e4c4e07c68de886ec38aedfe48e41a[m
Author: Iago LÃ³pez Galeiras <iago@kinvolk.io>
Date:   Mon Mar 4 13:55:11 2019 +0100

    glide: add some dependencies for the follow-up work
    
    This includes packr2 for putting files in the go code. This required
    bumping logrus and cobra to fix compilation.
    
    Co-authored-by: Alban Crequy <alban@kinvolk.io>

[33mcommit f563ba5ead81c4310cf1929d5e6bbbf3caa6ebe1[m
Author: Krzesimir Nowak <krzesimir@kinvolk.io>
Date:   Tue Apr 9 18:42:51 2019 +0200

    git: Allow skipping some checks in pre-commit hook
    
    The new `git-hooks/files-to-skip` file contains a list of files that
    should not be checked for copyright or goimports. The obvious
    candidates for skipping such checks are generated source files that
    are not based on some template.
    
    This commits adds one file to the list - the generated go code from
    protobuf definitions.

[33mcommit fbe8a12edd2c304ba9ff1d3312363381d42b830a[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Apr 8 06:14:47 2019 +0000

    Automated Typha pin update

[33mcommit 5e8df2e713201962b596d5612435513c46dbd5bf[m
Merge: 54d78749 bbc860e9
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Apr 5 07:42:34 2019 -0700

    Merge pull request #1989 from caseydavenport/casey-vxlan
    
    VXLAN calculation and data plane

[33mcommit bbc860e9421c600506202dd4fd468cb021df261e[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Mar 27 18:44:36 2019 -0700

    VXLAN dataplane and calculation graph changes

[33mcommit 54d787496ff28a2e738acc682d1de2970e6fcedf[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Apr 5 06:12:42 2019 +0000

    Automated Typha pin update

[33mcommit d23581b5a30e1d78818ca099de0e8846705405f5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 2 14:13:45 2019 +0100

    Don't police copyright in felixbackend.pb.go
    
    It's a generated file, and doesn't have a copyright.

[33mcommit dbef0670661d5c3ed767965b543cfaf9ed5af786[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Mar 29 06:13:41 2019 +0000

    Automated Typha pin update

[33mcommit 260a10eb87bf746978045e0fa02cd75c15ad6e7c[m
Merge: 9bfcc534 ff9aa5c0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 28 10:52:27 2019 +0000

    Merge pull request #1988 from roshanirathi/typha-excessive-logging
    
    Fix Typha excessive logging when Felix cannot communicate

[33mcommit ff9aa5c07f35dcf5f032e6e9fdbd52c7529bac6c[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Thu Mar 28 07:45:57 2019 +0000

    fv test case added

[33mcommit ab97a30025b4f1bf47e0dc0408cbc17fc3d163c4[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Mar 27 10:05:31 2019 +0000

    review comments addressed

[33mcommit 7e7fb31b4be9d302c989eeccffad64bceb9a962a[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Mar 27 09:41:25 2019 +0000

    review comments addressed

[33mcommit 0eb09c6991f5554f9a5cfe3d3b2aea0c87412368[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Mar 27 08:46:42 2019 +0000

    ci fix

[33mcommit 2ad3c96cc47dfa59c9f29d359c9aa2cc0a37ac42[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Mar 27 08:44:24 2019 +0000

    Fix excessive logging when felix cannot communicate with typha

[33mcommit 9bfcc534abdcd0c76e3ab4926f6701ba3febb51d[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Mar 22 06:28:39 2019 +0000

    Automated Typha pin update

[33mcommit 83e1c07c2d14845fb1e301fb04f5849bae769fa5[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Mar 21 06:14:19 2019 +0000

    Automated Typha pin update

[33mcommit 09ac4f747858f60664371aafd5d862ed1c828313[m
Merge: da26fb13 49a4726a
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Mar 19 09:54:41 2019 -0700

    Merge pull request #1980 from stevegaossou/stevegaossou-1945-regex-interface-exclude
    
    #1945: Adding support for regular expression values for the Interface Exclude parameter

[33mcommit 49a4726ad233506590566914e7cb9135174f6903[m
Author: Steve Gao <steve@tigera.io>
Date:   Mon Mar 18 11:06:09 2019 -0700

    Applying code review recommenations: do all validation and compiling of regexp in RegexpPatternListParam.Parse function, remove InterfaceExcludes function.

[33mcommit 8916c75c0b0e6879a7cf35d187bd0219c67bd937[m
Author: Steve Gao <steve@tigera.io>
Date:   Fri Mar 15 10:55:43 2019 -0700

    Switching from MustCompile to Compile and logging any compile error for InterfaceExclude; removing die-on-fail flag.

[33mcommit da26fb1395f4f79ffff37b492d701a0f72c6fd63[m
Merge: 8d600114 f5841f22
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 15 11:11:45 2019 +0000

    Merge pull request #1984 from tathagatachowdhury/tathagata-windows-code-cleanup
    
    Remove windows code to clean up code base.

[33mcommit 4f6316ecf1c53fd2daeb8c015b1b475bd982ab85[m
Author: Steve Gao <steve@tigera.io>
Date:   Fri Mar 15 01:10:04 2019 -0700

    #1945: Attempting to fix CI build issue due to goimports violation.

[33mcommit c1c9fb5d3af4a487355dbacf9edbbb68c62da484[m
Author: Steve Gao <steve@tigera.io>
Date:   Fri Mar 15 00:32:46 2019 -0700

    #1945: Addressing code review feedback.

[33mcommit f5841f225d2a3edf3b834d8d106bb7389c20f0b9[m
Author: Tathagata Chowdhury <calsoft.tathagata.chowdhury@tigera.io>
Date:   Thu Mar 14 17:08:31 2019 +0000

    Removed windows code to cleanup code base.

[33mcommit 8d60011429951cc509f7bb22aa885abc60a28d66[m
Merge: 1eff5972 da245623
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 14 09:12:53 2019 +0000

    Merge pull request #1981 from roshanirathi/ip-pool-issue
    
    Fix "hash of unhashable type" error in Felix

[33mcommit d6b81864df0d50e4cc5689453d1c54a0eeea9871[m
Author: Steve Gao <steve@tigera.io>
Date:   Thu Mar 14 00:13:17 2019 -0700

    Fixing bug with compiling list of regexp for interface excludes; fixes broken integration tests.

[33mcommit da245623a670757716840f293d98a03c0d8c3368[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Mar 13 17:26:31 2019 +0000

    ci fix

[33mcommit 9d0207d363d216bcc3b3e66749ae98d89160c918[m
Merge: 02a6fadc 1eff5972
Author: Steve Gao <steve@tigera.io>
Date:   Wed Mar 13 10:09:14 2019 -0700

    Merge branch 'fork-master' into stevegaossou-1945-regex-interface-exclude

[33mcommit 4321e4e2768d1626c87d43bd60d70b6b1135475b[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Mar 13 13:40:37 2019 +0000

    fix and test case

[33mcommit 02a6fadcfd7189f54a54c2220c260ffe449037dc[m
Author: Steve Gao <steve@tigera.io>
Date:   Tue Mar 12 17:33:16 2019 -0700

    #1945: Handling backwards compatibility for interface exclude values that are not meant to be regexp.

[33mcommit 1eff5972cf176640e733cf1de2f1cf7eebd34dd8[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Mar 12 06:13:24 2019 +0000

    Automated Typha pin update

[33mcommit ec45cd364587fec41bcfe1369c97002540dafc25[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Mar 11 06:13:17 2019 +0000

    Automated Typha pin update

[33mcommit 5ae312d886b34739afbe567b7c2b596a6266b9f4[m
Author: Steve Gao <steve@tigera.io>
Date:   Sun Mar 10 13:43:54 2019 -0700

    #1945: Adding support for regular expression values for the InterfaceExclude parameter. Still need to modify the validation on parsing interface values.

[33mcommit d7de4c43df6a95913ef6fc7f6f34bb09f1948041[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Mar 8 06:13:02 2019 +0000

    Automated Typha pin update

[33mcommit 2f65e2bc7252bb4577a5a97d8e5fc7aac4226588[m
Merge: 7996728c 44ab219f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 7 10:54:59 2019 +0000

    Merge pull request #1952 from fasaxc/nat-outgoing-fv
    
    Add sanity check FV of NAT-outgoing inteface filter.

[33mcommit 7996728c1ed4d29dca12a6ac1fd633303d04b4e7[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Mar 7 06:13:03 2019 +0000

    Automated Typha pin update

[33mcommit 5e56158b1964f867915357ec5d308e878566b2f7[m[33m ([m[1;33mtag: v3.7.0-0.dev[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Mar 6 18:21:59 2019 -0800

    Begin development on v3.7.0

[33mcommit 44ab219ff8d2443c211f12fba4e1b891936583dd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 21 11:32:16 2019 +0000

    Add sanity check FV of NAT-outgoing inteface filter.

[33mcommit 1a2024cd36f98ef5c1f96154a7dcac278b8f47c4[m[33m ([m[1;33mtag: v3.6.0[m[33m)[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Mar 6 06:14:44 2019 +0000

    Automated Typha pin update

[33mcommit 1f844185fa1066cb68e4511ff30b502e5d24a53e[m
Merge: bd23d3ac a5cfa125
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 4 15:15:59 2019 +0000

    Merge pull request #1969 from projectcalico/shaun-automated-libcalico-update-master
    
    Automatic patch of libcalico-go to 3a28a07c805c23f3c2f1dc60bafcee50051bf7cb

[33mcommit a5cfa12584a9c4b092106d81717191616b00ea89[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 4 14:44:02 2019 +0000

    Patch libcalico-go to 3a28a07c805c23f3c2f1dc60bafcee50051bf7cb

[33mcommit bd23d3ac63ee13ac1029cfaf5c0d19e326b35f20[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Mar 4 06:13:03 2019 +0000

    Automated Typha pin update

[33mcommit f1724675c4defb9a7b2036a62a2ab8a2bd413169[m
Merge: c0de0d1c f58b7c61
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 1 16:10:02 2019 +0000

    Merge pull request #1967 from fasaxc/squash-status-rep-spam
    
    Squash spammy status report not supported log.  Expected on KDD.

[33mcommit f58b7c612213c32fe0d1056eab51aa87a132a4ce[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 1 14:47:44 2019 +0000

    Squash spammy status report not supported log.  Expected on KDD.

[33mcommit c0de0d1ca734dd16b7630a72b86c163d5920f20c[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Feb 27 06:13:06 2019 +0000

    Automated Typha pin update

[33mcommit d7b9e66c964a17ed1080f5c7042115067c9c9c4d[m
Merge: 1aca9e09 d2ba40d6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 26 16:00:39 2019 +0000

    Merge pull request #1960 from fasaxc/fix-pins
    
    Inherit libcalico-go pin from typha.

[33mcommit d2ba40d62f52008a9cd269e0192e5520e44dbded[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 26 15:09:37 2019 +0000

    Inherit libcalico-go pin from typha.

[33mcommit 1aca9e095807a16f780c008330a554038487ae5b[m
Merge: ad7168eb 1fa25acb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 25 15:49:08 2019 +0000

    Merge pull request #1958 from projectcalico/shaun-automated-libcalico-update-master
    
    Update of libcalico-go to 725f193 and fix KDD IPAM compat

[33mcommit 1fa25acb336e3db691031af5eaa368ede43d8dc9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 25 15:07:07 2019 +0000

    KDD: explicitly set the IPIP tunnel address in the FVs.
    
    Previousely, this was auto-calculated from the podCIDR but now
    we have a real KDD IPAM driver so the field is explicit.

[33mcommit dba5c0dafafa4f3db9cb5e05cdb9155b4837cb4d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 25 12:01:14 2019 +0000

    Update libcalico-go to 725f193eca997939e4f67d04fc5586f25803a980

[33mcommit ad7168eb0193942045b0bc932e88dd0d3f267c5b[m
Merge: f40aeebc 345bbd15
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 20 09:06:41 2019 +0000

    Merge pull request #1949 from roshanirathi/calsoft-new-param-added
    
    IptablesNATOutgoingInterfaceFilter config param added

[33mcommit 345bbd15df7a21fa951ce2eef76153edea20b5bb[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Wed Feb 20 05:37:17 2019 +0000

    linter fix

[33mcommit 57a46901b19f461a59b72c180708930f41b7da4f[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Tue Feb 19 17:28:47 2019 +0000

    glide updates

[33mcommit cf6a5d84acb88aec8920125f6152a0ddcb8bccc1[m
Merge: 75508fac adb0d62f
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Tue Feb 19 10:36:42 2019 +0000

    glide updates

[33mcommit 75508fac5ceb4388ce40f9d7ecb4248d3a87b4d9[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Tue Feb 19 10:34:03 2019 +0000

    glide updates

[33mcommit adb0d62f905cb9bb9c32ebbfd8ecbf6bd55fa5be[m
Merge: f1b3aec1 f40aeebc
Author: roshanirathi <42164609+roshanirathi@users.noreply.github.com>
Date:   Tue Feb 19 15:41:39 2019 +0530

    Merge branch 'master' into calsoft-new-param-added

[33mcommit f1b3aec16e027f819c7f9dc7d80dbd4810322f5f[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Tue Feb 19 10:08:46 2019 +0000

    glide updates

[33mcommit f2261298f953e386a293b20ee9bc5a1031dfc605[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Mon Feb 18 13:37:59 2019 +0000

    import statements fixed

[33mcommit afffb2afeafde1ac6672fd41c21844bbd32a6f8d[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Mon Feb 18 12:05:51 2019 +0000

    test cases added

[33mcommit 5ad046a819de4222c93613cb33e1220933823836[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Mon Feb 18 08:49:46 2019 +0000

    review comments addressed

[33mcommit f40aeebc93396082f376d923a3c415d58240535f[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Feb 18 06:13:42 2019 +0000

    Automated Typha pin update

[33mcommit cffcf9a264f564091a0cd938b0956820e7abfca8[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Fri Feb 15 14:34:52 2019 +0000

    fix for make ut failures

[33mcommit 0d4bca8726bd2c265ef6a1189122975d525a8b76[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Fri Feb 15 12:45:42 2019 +0000

    implementation of the new param added

[33mcommit 3cd6edf82421d98a9c64f7d0bdbe07038e62ac9c[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Feb 15 06:15:00 2019 +0000

    Automated Typha pin update

[33mcommit 1a247f8ca8fe72661af0a48e79f8307139b92683[m
Author: Roshani Rathi <rrroshani227@gmail.com>
Date:   Thu Feb 14 08:47:24 2019 +0000

    IptablesNATOutgoingInterfaceFilter config param added

[33mcommit 5211c86a4152ef11411abb7b5eb675a79ece6eb8[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Feb 14 06:13:02 2019 +0000

    Automated Typha pin update

[33mcommit d34febb1f1089b94f39618d850eb30ce7ea77694[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Feb 13 06:13:13 2019 +0000

    Automated Typha pin update

[33mcommit 2575ad7bae5af27b4b8d419fdfebf6ef0903b973[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Feb 8 06:12:49 2019 +0000

    Automated Typha pin update

[33mcommit c5e0f3f3e5141590156470798b96c5560e6b713b[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Feb 6 06:15:22 2019 +0000

    Automated Typha pin update

[33mcommit 743b921643e4da1236f903bee775ac6912c9c8bd[m
Merge: 10d1a777 b5b6d1ea
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 22 17:07:39 2019 +0000

    Merge pull request #1946 from neiljerram/multi-region
    
    Update for OpenstackRegion config not being Felix-local now

[33mcommit b5b6d1eae3521725a3c468a3595cdae49c5089cf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 22 16:23:08 2019 +0000

    Adapt for OpenstackRegion not being 'local' now
    
    (because it is also now in FelixConfiguration)

[33mcommit 5607d59f858fe1b8fd7f0d8f30a2d0a4b566bfe4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 22 16:20:24 2019 +0000

    make update-typha

[33mcommit 10d1a77774b9c8af137ab47d8bb1a8122c25ae27[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Jan 21 06:22:05 2019 +0000

    Automated Typha pin update

[33mcommit 5a7195cedff7b10243a2993ee497e1b3f2d8ca2d[m
Merge: d5dbd08e e129bd3d
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 18 18:38:26 2019 +0000

    Merge pull request #1944 from neiljerram/multi-region
    
    Validate OpenstackRegion value as a DNS label

[33mcommit e129bd3d7e363c39400f3714063738fd802cbdfb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 18 16:22:41 2019 +0000

    Markups

[33mcommit 27b6606b3880ecf5e9bd1820b9e297d552a66aa3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 18 14:51:31 2019 +0000

    Validate OpenstackRegion value as a DNS label

[33mcommit d5dbd08e1a8249c968504f1e59687384f790fbbd[m
Merge: c754ad86 b3da733f
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 17 11:45:03 2019 +0000

    Merge pull request #1939 from neiljerram/multi-region
    
    Add region into status reporting

[33mcommit b3da733f56d12bd0a56e037cfe288c27381f5157[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 14 14:42:18 2019 +0000

    Avoid ambiguous meaning for empty Region field
    
    The new code here was consistently using it to mean "no region
    configured", which maps to the string "no-region" in etcd key paths.
    
    However, there is a convention that an empty XyzOptions field means that
    the caller doesn't care about the value of that field, and that
    conflicts with the "no region" meaning.
    
    Resolve that here by changing the new XyzKey.Region and
    XyzOptions.Region fields to XyzKey.RegionString and
    XyzOptions.RegionString.  A region _string_ is always either "no-region"
    or "region-<name>" and so is never validly empty.

[33mcommit 0e67214b0ee4fe25da0cf2c07b54d1484e738069[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 10 10:25:57 2019 +0000

    Leave host endpoint reporting as it was, without region field

[33mcommit 410cf2c8b0cc82db7efcba31130c59e288ec3e74[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 7 18:33:12 2019 +0000

    Test status reporting with non-empty region

[33mcommit 9d81cf72c4758c93e0fc4af4276e75d21083c27f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 20 14:16:25 2018 +0000

    Add region into status reporting

[33mcommit 6bb70678d8923e7699614f59d7f6c47ea0f2da37[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 17 10:55:20 2019 +0000

    make update-typha

[33mcommit c754ad867e368dd6ad703b2aee3b9180f49d373a[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Jan 17 06:12:56 2019 +0000

    Automated Typha pin update

[33mcommit fa077e0e4157d1584b012098365b0563faa2ca67[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Jan 15 06:12:59 2019 +0000

    Automated Typha pin update

[33mcommit 40d0c250e68e6bddfa75587bd1dbb98d1d04e97f[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Jan 14 06:13:01 2019 +0000

    Automated Typha pin update

[33mcommit 0a64d6835658a84d06a9cb323475a3b03c8b0882[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Fri Jan 11 06:14:02 2019 +0000

    Automated Typha pin update

[33mcommit a023e41ddf97a257c2a0ec4552a9b9005c51be0c[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Jan 10 06:13:07 2019 +0000

    Automated Typha pin update

[33mcommit 943cda8bad15ddb8220e83f995d3275eabab4b15[m[33m ([m[1;33mtag: v3.6.0-0.dev[m[33m)[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Jan 9 15:41:15 2019 -0800

    Begin development on v3.6.0

[33mcommit a49ec3dad8a2c6ea144ff6a0ed01084315fa7250[m[33m ([m[1;33mtag: v3.5.1[m[33m, [m[1;33mtag: v3.5.0-beta.0[m[33m, [m[1;33mtag: v3.5.0[m[33m)[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Jan 9 06:13:01 2019 +0000

    Automated Typha pin update

[33mcommit b68a607cf1e775bb8b10f6ceb5b167367c8c4d41[m
Merge: 950aa45d 95495cd7
Author: Lance Robson <lance@tigera.io>
Date:   Tue Jan 8 11:14:32 2019 +0000

    Merge pull request #1936 from lwr20/lwr-foss-checks
    
    Add foss checks make target

[33mcommit 950aa45d4d3ced41541751c3b5bfec08a4ba0d3a[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Jan 8 06:12:56 2019 +0000

    Automated Typha pin update

[33mcommit 9dd64a27b1532064ec9ca99850f550f7a32075da[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Jan 3 06:13:36 2019 +0000

    Automated Typha pin update

[33mcommit 95495cd75c9c1d2863158b6e69c5f4bc422f306e[m
Author: Lancelot Robson <lancelot.robson@gmail.com>
Date:   Wed Dec 19 15:36:45 2018 +0000

    Add foss checks make target

[33mcommit 54d97f66bbeaab605ea6a16fd624ff18b98c13ff[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Dec 22 06:13:17 2018 +0000

    Automated Typha pin update

[33mcommit fd908e6b8fe6f559d66b684dc5c3d77664ed1fd4[m
Merge: 13553d06 08dbfc58
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 20 17:21:11 2018 +0000

    Merge pull request #1938 from BSWANG/master
    
    set proxy_delay before set proxy_arp to avoid kernel panic

[33mcommit 08dbfc58f7f6575e279100f8ab874d850c7dedfd[m
Author: bingshen.wbs <bingshen.wbs@alibaba-inc.com>
Date:   Thu Dec 20 10:34:37 2018 +0800

    set proxy_delay before set proxy_arp to avoid kernel panic
    
    Fixes https://github.com/projectcalico/felix/issues/1937
    
    Signed-off-by: bingshen.wbs <bingshen.wbs@alibaba-inc.com>

[33mcommit 13553d062f0ca2055523558727ff0937e60e4c3d[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Dec 5 06:17:43 2018 +0000

    Automated Typha pin update

[33mcommit 85a220cc7904c95d5cd7e6ec9d7732d420c65766[m
Merge: 57c375e4 35737760
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Nov 30 14:23:35 2018 -0800

    Merge pull request #1932 from caseydavenport/specify-github-org
    
    Specify GitHub organization in release-publish

[33mcommit 35737760bfe2406f551e00b124e4fd9b0305da18[m
Author: Casey Davenport <casey@tigera.io>
Date:   Thu Nov 29 13:32:35 2018 -0800

    Specify GitHub organization in release-publish

[33mcommit 57c375e48d063dad8c6da1b6027f29df0b2b2880[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Nov 29 06:13:06 2018 +0000

    Automated Typha pin update

[33mcommit 1cde71e22f098e8f76a599d4b6b25b721ca46562[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Nov 27 06:14:22 2018 +0000

    Automated Typha pin update

[33mcommit 312ad8283b244424758eff95ef257da77d316690[m
Merge: 7bb1e403 eb9bb944
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 26 10:07:52 2018 +0000

    Merge pull request #1931 from projectcalico/gulfstream-automated-gobuild-update-master
    
    Automatic update of GO_BUILD to v0.20

[33mcommit eb9bb944880d9432e3830e2a942daa4e7e007529[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 26 09:25:28 2018 +0000

    Update go-build to v0.20.

[33mcommit 7bb1e403d363f41e81e2034dca59c72034f9024e[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Nov 24 06:12:56 2018 +0000

    Automated Typha pin update

[33mcommit 9336003bc7c897b7bef4613f2f80b7359128aa6f[m[33m ([m[1;33mtag: v3.5.0-0.dev[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 23 12:01:56 2018 +0000

    Begin development on v3.5

[33mcommit f2972737fd65f49c39a5bd5a67001b2cae2cc8c6[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Nov 22 06:21:06 2018 +0000

    Automated Typha pin update

[33mcommit a6977c619c98261b6ee371bbae16f4d34e4bc844[m
Merge: b37bad6c bb58505d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 21 09:35:30 2018 +0000

    Merge pull request #1928 from caseydavenport/casey-automate-release-binaries
    
    Automate pushing release binaries

[33mcommit b37bad6cb76160ec8a8cdb951c7e8e9407fb59a8[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Nov 21 06:21:57 2018 +0000

    Automated Typha pin update

[33mcommit bb58505d292d102babffdc0c4b57d9bf38d78d11[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue Nov 20 10:41:53 2018 -0800

    Automate pushing release binaries

[33mcommit 594e5151028aaf5b193a1a05615d109be47d096e[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Nov 20 06:23:09 2018 +0000

    Automated Typha pin update

[33mcommit 04d1ebf8210427d599f5a7f50865b90e0cfe1c49[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Nov 14 06:17:30 2018 +0000

    Automated Typha pin update

[33mcommit 52129812cac6ce2c8bd13fd678e53e34816442d4[m
Merge: 878db156 724a2c89
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 8 10:08:31 2018 +0000

    Merge pull request #1923 from caseydavenport/support-libcalico-branch
    
    Support typha updates on branches

[33mcommit 724a2c89b049cc6ef047ed6125ae5b0c2961fc72[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Nov 7 21:19:14 2018 -0800

    Support typha updates on branches

[33mcommit 878db156746c0b22327010d7149a29122ba175dc[m
Merge: 1b3147cc d2a3800f
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Nov 7 20:56:09 2018 -0800

    Merge pull request #1921 from doublek/update-typha
    
    Rev typha

[33mcommit d2a3800f4ff9183bef687c8e35a857a3afff2c92[m
Author: Karthik Ramasubramanian <karthik@tigera.io>
Date:   Wed Nov 7 20:10:44 2018 -0800

    Rev typha

[33mcommit 1b3147cca714c561b55d7438f83de5c3887846d8[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Wed Nov 7 06:13:59 2018 +0000

    Automated Typha pin update

[33mcommit 8c2ca5a277f9086c9e6a956f2565fe45f708cea4[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Tue Nov 6 06:15:40 2018 +0000

    Automated Typha pin update

[33mcommit 62b10fac471494466a5b2e060298e344a961afab[m
Merge: 7a1454c1 7334deb9
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 5 19:41:00 2018 +0000

    Merge pull request #1918 from neiljerram/glide-along
    
    Don't interpret glide WARN as a problem

[33mcommit 7334deb906193047717fa05bb514d2eb679413c0[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Nov 5 16:08:50 2018 +0000

    Don't interpret glide WARN as a problem
    
    Doing so causes our CI and automatic updating to fail unnecessarily.
    
    1. From the perspective of "shall we commit this automatic update or
    not", the relevant test is whether "make test" passes following "make
    update-libcalico", and the Semaphore triggers already have this logic;
    i.e. they only commit and push the glide.yaml and glide.lock changes if
    "make test" passes.
    
    2. When the automatic process fails, and I do it manually instead, I've
    seen many cases where the glide update emits both WARNs and ERRORs, but
    the glide.lock and glide.yaml are as expected and "make test" still
    passes anyway.  Hence there are many cases where WARNs and ERRORs are
    benign.
    
    3. We can avoid tripping over benign WARNs by removing the extra grep,
    as in this commit.  Then the remaining conditions will be (a) that glide
    itself completes with successful exit status, and (b) that "make test"
    passes following the update.  Which I believe is what we want.
    
    Also:
    - map in the Glide cache
    - only run glide up twice if the first time fails

[33mcommit 7a1454c1f33ba42f37fa21b53beb41ff68c8a63e[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Nov 3 06:15:31 2018 +0000

    Automated Typha pin update

[33mcommit c7902a504bc6d68b68cbc77fd88f2a446eb9d247[m
Merge: eb083e70 a92365f6
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 29 14:30:53 2018 +0000

    Merge pull request #1913 from neiljerram/packaging-updates
    
    Packaging updates

[33mcommit a92365f6375a9152cf4258b0fdf54e620cba3bf6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 29 11:57:27 2018 +0000

    Avoid changing tracked files; ignore generated packaging

[33mcommit b602536e5fc559318691589ab91e10ff46b8ca6f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 29 09:48:55 2018 +0000

    Delete historical packaging changelogs
    
    From now on the approach will be that we only generate these ephemerally
    when building packages, and don't preserve them.

[33mcommit b5e52a33352268953b967d5c01cdb545b8872e84[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 29 09:46:15 2018 +0000

    In version handling, strip initial 'v' only
    
    Our development version number also now includes a 'v' (3.4.0-0.dev),
    which was tripping up the previous implementation based on cut.

[33mcommit f759fe292746e4d633a49ec295ab2d26c566cdf0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 26 17:55:28 2018 +0100

    Stop including detailed commit messages in package changelog

[33mcommit eb083e70fb1091137be6c90ed1e6278e1044b0e2[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Oct 25 06:14:34 2018 +0000

    Automated Typha pin update

[33mcommit edf4763e7e40fd868788ebbc82f0feec9218282f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 24 17:27:11 2018 +0100

    Fix README typo.

[33mcommit a83a15aa6e98e9a76f9a6cf2d81b61be7d634309[m
Merge: bc9660c9 aed794da
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 24 17:25:40 2018 +0100

    Merge pull request #1911 from fasaxc/repro-hep-named-port
    
    Add host endpoint named port FV test.

[33mcommit aed794da414afe07961424ff6f9b7a4eca8799b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 24 14:39:22 2018 +0100

    Add host endpoint named port FV test.

[33mcommit bc9660c99b0dcea82dcf2c89c2e52d71605f7c6c[m
Merge: 7d8ff9e1 5a98235e
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 22 20:17:29 2018 +0100

    Merge pull request #1910 from neiljerram/hep-all-traffic-pre-dnat
    
    Pre-DNAT policy for all-interfaces host endpoints

[33mcommit 5a98235e0502ed2ccdc65694a1c8297147d6d8ed[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 19 16:33:19 2018 +0100

    Add test with both pre-DNAT and workload egress policy

[33mcommit 37307131d047ab1a00f894b5d094f0fabd085583[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 18 13:55:33 2018 +0100

    Change cali-fh-* -> cali-fh-any-interface-at-all
    
    To avoid possible problems with * confusing folks' iptables scripts.

[33mcommit 560fa81435bc4aa74234bdb0be0ba3bf7dde39fe[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 17 15:48:40 2018 +0100

    Fix: do HEP processing even when coming from local workload

[33mcommit f32e7c3a0e7ee5bc6319b781c572923a7d0c7f7c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 17 14:34:14 2018 +0100

    Add test for host * endpoint

[33mcommit 01381786f5a668204c8886f6fb118569ab86473f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 15 17:40:25 2018 +0100

    Pre-DNAT policy for all-interfaces host endpoints

[33mcommit 7d8ff9e1c1ef9cea4b57a8e7ceaa0f4ed26b5232[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Sat Oct 20 06:14:28 2018 +0000

    Automated Typha pin update

[33mcommit f0cff524cc38b976759f7a6eb33d6ebb19ae50b8[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Thu Oct 18 06:18:11 2018 +0000

    Automated Typha pin update

[33mcommit 36eae05026c983c740e26fdef4192b0c39ee1de4[m
Merge: 02eba6e1 885c2f9f
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 17 15:28:44 2018 +0100

    Merge pull request #1908 from neiljerram/flake-vojtek
    
     Fix time allowed for step of k8s infrastructure set up

[33mcommit 885c2f9f4878e711e42f3b61f9ebe49166499e50[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 17 14:49:02 2018 +0100

    Fix time allowed for step of k8s infrastructure set up
    
    Fixes this flake:
    
        Expected error:
            <*errors.StatusError | 0xc42059acf0>: {
                ErrStatus: {
                    TypeMeta: {Kind: "", APIVersion: ""},
                    ListMeta: {SelfLink: "", ResourceVersion: "", Continue: ""},
                    Status: "Failure",
                    Message: "namespaces is forbidden: User \"system:anonymous\" cannot list namespaces at the cluster scope: RBAC: clusterrole.rbac.authorization.k8s.io \"cluster-admin\" not found",
                    Reason: "Forbidden",
                    Details: {Name: "", Group: "", Kind: "namespaces", UID: "", Causes: nil, RetryAfterSeconds: 0},
                    Code: 403,
                },
            }
            namespaces is forbidden: User "system:anonymous" cannot list namespaces at the cluster scope: RBAC: clusterrole.rbac.authorization.k8s.io "cluster-admin" not found
        not to have occurred

[33mcommit e4198c8d3e3543098a826e48577d6c8915b00985[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 17 14:13:36 2018 +0100

    Remove need for every test to error-check AddDefaultAllow

[33mcommit 3efcb1ef9d7189269d3f7a8d3bc28c6bacb7ee92[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 17 14:06:58 2018 +0100

    Remove need for every test to error-check getInfra()

[33mcommit 02eba6e160981b0d33321d3d2d39f48d8c372ca1[m[33m ([m[1;33mtag: v3.4.0-0.dev[m[33m)[m
Author: Semaphore Automatic Update <marvin@tigera.io>
Date:   Mon Oct 15 06:17:09 2018 +0000

    Automated Typha pin update

[33mcommit 14a8b313427e073da49d00a066d1b01207a8dc26[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Fri Oct 12 06:20:06 2018 +0000

    Automated Typha pin update

[33mcommit 1d19e5ffe56be0754fcec866f64ff024e5d9b034[m
Merge: e5f02aa2 86b39c27
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 11 14:48:03 2018 +0100

    Merge pull request #1905 from fasaxc/use-iptables-lock
    
    Add more logging around version detection.

[33mcommit 86b39c279c0741c22d99fed6fa5b4e35d29b3195[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 11 14:16:21 2018 +0100

    Add more logging around version detection.

[33mcommit e5f02aa2b6f98ebc5a332f8e6624e42c252df15a[m
Merge: a192d316 a97d8c24
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 11 13:15:59 2018 +0100

    Merge pull request #1904 from lwr20/lwr-flakes
    
    Add retries to iptables commands in fv tests

[33mcommit a97d8c2457a28588be94d220e35f03c37b6f03ca[m
Author: Lancelot Robson <lancelot.robson@gmail.com>
Date:   Thu Oct 11 12:23:53 2018 +0100

    Add retries to iptables commands in fv tests

[33mcommit a192d316204cf4720ad7bbcbe4f39361b5209a0e[m
Merge: f8d10909 4bd70a05
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 11 11:33:04 2018 +0100

    Merge pull request #1903 from fasaxc/use-iptables-lock
    
    Use iptables-restore xtables lock

[33mcommit 4bd70a0584990e7a9a0a7b2b871fc878d0082aad[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 11 09:57:31 2018 +0100

    Code review markups.

[33mcommit f8d10909c83a6b690a8077c101b3baf6dc6cf7bc[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Thu Oct 11 06:15:22 2018 +0000

    Automated Typha pin update

[33mcommit 492187b10ad3dd42db9ffbd9ca3c39e72b68d77e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 10 15:18:44 2018 +0100

    Rework feature detection, extract out as its own struct.

[33mcommit 7f02607e1a7abdc33effcf45a16fd95d21531635[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 10 11:23:02 2018 +0100

    Add support for iptables-restore's xtables lock.
    
    - Disable our lock if iptables v1.6.2 is detected.
    - Re-use our lock timeout and probe interval config.

[33mcommit af16b726af29d942551f996c4d7490002a6da802[m
Merge: e277db18 69207978
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 10 13:46:54 2018 +0100

    Merge pull request #1901 from fasaxc/snat-fully-random
    
    Add SNAT/MASQUERADE random-fully flag.

[33mcommit 69207978a928f113246a487d0341497f37269ca9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 10 12:01:30 2018 +0100

    Fix license warning.

[33mcommit 5fdfdb3c67254bac164984542714c74e5e5cc086[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 10 11:57:58 2018 +0100

    Add FV to cehck that we use --random-fully.

[33mcommit 2739c44ce5443fefd0d596abc2424d6bc842a2cb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 9 18:04:15 2018 +0100

    Code review markups.

[33mcommit b0032bbbf26b83050a04f9b5324cda3d534e26e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 9 17:56:16 2018 +0100

    Add support for MASQ fully-random.

[33mcommit 9f9ef44576d20950bb71409e0ad24b7b8d1ffc57[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 9 15:41:30 2018 +0100

    Detect kernel version too when enabling --fully-random.

[33mcommit b25610bc01aef33712ea05c30f1d242b8a67de6c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 9 15:01:25 2018 +0100

    Add SNAT fully-random flag.
    
    Detect iptables version and pass feature flags around.
    
    Use feature flag to control whether the --fully-random flag is included.

[33mcommit e277db18b30dbc6cc665b74315bbe45f2bdb271d[m
Merge: 58352e76 1396cf55
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 10 09:11:26 2018 +0100

    Merge pull request #1902 from caseydavenport/local-build
    
    Add Typha to LOCAL_BUILD_MOUNTS

[33mcommit 1396cf55fcdd60b39eaa2e9f6560a2836537253e[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Oct 9 12:52:03 2018 -0700

    Add Typha to LOCAL_BUILD_MOUNTS

[33mcommit 58352e76ea89b8b9395974094f6d6c93868cf24e[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Tue Oct 9 06:15:06 2018 +0000

    Automated Typha pin update

[33mcommit cb1f6618563c3818be1685d46648ec49e626106a[m
Merge: 2ce3051f 7d8a0761
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Oct 5 09:44:30 2018 -0700

    Merge pull request #1900 from caseydavenport/local-build
    
    Allow build from local libcalico-go

[33mcommit 7d8a076112f2cd08134af7a76f57821b7f1a232d[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Oct 4 16:04:13 2018 -0700

    Allow build from local libcalico-go

[33mcommit 2ce3051f453aca2bce445bbfa90f50d6c45ea732[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Thu Oct 4 06:15:41 2018 +0000

    Automated Typha pin update

[33mcommit f0156cfbed945618130351b23de90f108e2dbd00[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Wed Oct 3 06:17:52 2018 +0000

    Automated Typha pin update

[33mcommit aa252e1e7c59174a83f2fcffe937c1119ef0d021[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Wed Sep 26 06:17:32 2018 +0000

    Automated Typha pin update

[33mcommit bb9db03cf4f1a30b5c6073b62069aade0ba155b8[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Tue Sep 25 06:16:33 2018 +0000

    Automated Typha pin update

[33mcommit 76a56128a4fd5e75be5d77f4b3db89e31c993dd6[m
Merge: c61d1c7d 0a5277f1
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Sep 24 15:36:15 2018 -0700

    Merge pull request #1898 from caseydavenport/fix-release-picks
    
    cherry-pick: Fix release targets

[33mcommit 0a5277f1396f4042ec0cb4e21ba0767bb929be8d[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Fri Sep 21 17:05:27 2018 -0700

    Fix release targets

[33mcommit c61d1c7dac5b9c836d171af65fdbe817f77b8842[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Mon Sep 24 06:16:02 2018 +0000

    Automated Typha pin update

[33mcommit 8c45ae0d05c1bc787dce95c48a53bc354997f89a[m
Merge: d6f92f73 9eca4c47
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 19 11:29:05 2018 +0100

    Merge pull request #1895 from neiljerram/update-typha
    
    make update-typha

[33mcommit 9eca4c47ecaa6a93424905bcda83183d92f48637[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 19 10:59:19 2018 +0100

    make update-typha

[33mcommit d6f92f73dd87701ae27adc9a9685e7c4d6329913[m
Merge: 2894dba4 721e0a64
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Sep 18 10:14:46 2018 -0700

    Merge pull request #1894 from neiljerram/fix-version-regex
    
    Fix version regex to cover 'release-vX.Y' as well as SHA-1s

[33mcommit 721e0a6465eee47a42733ae653241b1c03571159[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 18 11:31:49 2018 +0100

    Fix version regex to cover 'release-vX.Y' as well as SHA-1s

[33mcommit 2894dba45c0338f19206ea836a72eda0fab008a7[m
Merge: 71e035d2 1f0fa43e
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Sep 12 11:48:48 2018 -0700

    Merge pull request #1889 from tomdee/bump-k8s-1.11
    
    Update to K8s v1.11.3

[33mcommit 71e035d2683ed71d2b352f19fd21833a030f5dec[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Sep 12 11:42:12 2018 -0700

    Add CODEOWNERS file

[33mcommit 1f0fa43e8e10a90ffb7861e32296178327abd6cd[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Sep 10 14:19:25 2018 -0700

    Makefile: Bump K8s to v1.11.3

[33mcommit fd4853973cf90836668f1a045f958c3b6892521a[m
Merge: af9cbcf3 7e9bfe10
Author: Lance Robson <lance@tigera.io>
Date:   Wed Sep 12 13:40:18 2018 +0100

    Merge pull request #1891 from lwr20/lwr-write-reports
    
    Enable test reports for all test runners

[33mcommit 7e9bfe10c40a933ef1517ae22ed85f9bf83b95b9[m
Author: Lancelot Robson <lancelot.robson@gmail.com>
Date:   Tue Sep 11 14:48:05 2018 +0100

    Enable test reports for all tests and save reports with different filenames

[33mcommit af9cbcf309b3588cb08a4982cb3f63006e1067c5[m
Merge: b256f10f 6cfc1744
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 10 17:42:23 2018 +0100

    Merge pull request #1888 from fasaxc/disable-push
    
    Stop pushing release images since no-one is consuming them.

[33mcommit 6cfc1744f62155c73a18309594a0f60091952b13[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 10 17:11:29 2018 +0100

    Stop pushing release images since no-one is consuming them.

[33mcommit b256f10f56b255ff4309a8a4d81ba3fd9bf022f3[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Fri Sep 7 06:19:04 2018 +0000

    Automated Typha pin update

[33mcommit 107d342982e67124a0ad4d276712a124ed795183[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Thu Sep 6 06:20:06 2018 +0000

    Automated Typha pin update

[33mcommit fc6563957ed0d6c6678e2365d6856b59a25ca392[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Wed Sep 5 06:19:12 2018 +0000

    Automated Typha pin update

[33mcommit 6ea71819277cafe664b110c44c4faf2ca705f3fe[m
Merge: 26b9883d 2dc975e2
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Sep 4 11:13:55 2018 -0700

    Merge pull request #1887 from deitch/multi-arch-manifest
    
    Add support for multi-arch manifest, with default arch on quay.io

[33mcommit 2dc975e2334fbd4e974f5fead9d6ffeb6eefdff4[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Tue Aug 28 09:30:02 2018 +0300

    Add support for multi-arch manifest, with default arch on quay.io

[33mcommit 26b9883d49c7f9abe9c6221f052fafa56d31a166[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Fri Aug 24 06:22:38 2018 +0000

    Automated Typha pin update

[33mcommit ac4d8e6f0cf1ccd79c13959a1ebd87ee313681f6[m
Merge: 15d74454 0db5b575
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 23 13:21:15 2018 +0100

    Merge pull request #1883 from neiljerram/link-flap-ut
    
    Fix missing iptables after a HostEndpoint-protected interface is deleted and re-added

[33mcommit 0db5b5758ad11f645ae3fcc23f9b789d5314e165[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 23 11:40:57 2018 +0100

    Fix ifacemonitor UT flake
    
    The test code's intention is to test when a deleted link is detected in
    a resync.  However there was a race, and the following was also
    possible:
    
    1. Kick off a resync.
    2. Kick off link deletion.
    3. Resync queries links and finds that the link is question is still
    present.
    4. Link deletion now proceeds, and state for that link deleted.
    5. Resync queries addresses for that link and finds that there aren't
    any.
    
    resulting in an addr callback with set.New(), instead of an addr
    callback with nil.
    
    We can now use delLinkNoSignal to ensure that the original intended
    scenario reliably happens, so that's what this change does.

[33mcommit 4199045e2e42098f8061748b07fc6986b5ed3c77[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 23 09:33:30 2018 +0100

    Code review markups

[33mcommit 15d74454c09fdbada673b6014a68db9c975b8e1a[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Thu Aug 23 06:17:37 2018 +0000

    Automated Typha pin update

[33mcommit 6adc27150b7ea959cf0bf7f1a6561f50db4a6233[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 22 23:25:12 2018 +0100

    Clear caches when resync spots a link as having disappeared

[33mcommit 47921d62f24d4a4dd4d05df3caf8a285e3c7e82f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 22 10:27:24 2018 +0100

    UT when resync spots that a link has been deleted
    
    A customer reported a calico/node having got into a state where expected
    iptables programming for a HostEndpoint was missing.  They created a
    bridge device, and a HostEndpoint to protect that, and initially the
    expected iptables programming was present.  However, after some period
    of churn, which we believe included
    
    - deleting and re-adding the bridge device
    - setting the state of the bridge device down and later up again
    - creating and deleting many real or simulated pods/containers on that
      node,
    
    it was observed that the HostEndpoint iptables were missing, and that
    setting the bridge device down and up made no difference to this.  The
    missing iptables could only be recreated by restarting the calico/node.
    
    We identified a bug that would account for this if all of the following
    points are also true:
    
    1. One time when the bridge device is deleted, the Netlink event for
    that is lost (or delayed for a long time), and the removal of the device
    is then detected by a period resync that the Felix code does.  The bug
    is that the exact handling here is different than when processing an
    individual Netlink event.
    
    2. When the bridge device is added again, it has the same addresses and
    interface index as before it was deleted, and either there is no Netlink
    event reporting the addresses, or Felix sees that event before it sees
    the event about the device reappearing.
    
    3. Later, when the bridge device is set down and up again, either there
    are no address changes that ensue from that (which is unusual, because
    Linux devices normally do IPv6 autoconfiguration, which means that an
    IPv6 address is added when the device goes up, and taken away when the
    device goes down), or there is some other reason why Netlink address
    events are not generated, or don't reach Felix.
    
    This change adds a UT case to repro that scenario, and demonstrates the
    result that we are missing a non-nil address callback when the bridge
    device is added again.  In Felix as a whole, the absence of that
    callback means that HostEndpoint iptables are not reprogrammed.

[33mcommit 78a00e0cff96c3e3a3d4724c9af4e3f1c895d242[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Aug 21 14:46:47 2018 +0100

    Clarify ifacemonitor_test logging

[33mcommit 13aa7f237831c0808612ced2e7b9737dfc2e851e[m
Merge: 03c34d31 6785f032
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Aug 22 08:50:52 2018 -0700

    Merge pull request #1882 from tomdee/remove-coveralls
    
    Makefile: Stop uploading to coveralls

[33mcommit 03c34d31d9e3f30ce60849ff304c8e909f267bf2[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Wed Aug 22 06:19:31 2018 +0000

    Automated Typha pin update

[33mcommit 6785f032e764f4f590bd826854b475e7875b174f[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Aug 21 15:50:24 2018 -0700

    Makefile: Stop uploading to coveralls

[33mcommit 9c0de8b9b51e1bd603daf5e57c551f5a45a3dd0e[m
Merge: bd23c360 f40422a4
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Aug 21 09:50:21 2018 -0700

    Merge pull request #1876 from tomdee/release-all-arches
    
    Makefile: Update release to include all arches

[33mcommit bd23c360e9146a843e804de5ca2a4bbcac39c487[m
Merge: 0b523865 5504ee34
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 21 10:56:12 2018 +0100

    Merge pull request #1879 from fasaxc/fix-gocache
    
    Fix our Go build cache to work with Go 1.10's new cache.

[33mcommit 0b523865b87771a0eefe54210c873ef158ef00ed[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Tue Aug 21 06:20:11 2018 +0000

    Automated Typha pin update

[33mcommit 5504ee34c2558234e9fa74cf3eb5793386d7a614[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 17 14:22:40 2018 +0100

    Fix our Go build cache to work with Go 1.10's new cache.

[33mcommit a9c5d482557ab306f35de2da1f8d556d5ca065ed[m
Merge: 2ef63865 2e6ddc65
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 14 09:52:24 2018 +0100

    Merge pull request #1877 from fasaxc/remove-glibc
    
    Remove glibc to fix build breakage.

[33mcommit 2e6ddc65a32c43871f44edb726f8b06a86af12a9[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Aug 14 09:16:41 2018 +0100

    Remove glibc to fix build breakage.
    
    Bring Dockerfiles into sync and simplify.

[33mcommit f40422a418a1f0770fad1cee0b8dfe497246e42f[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Aug 13 14:36:28 2018 -0700

    Makefile: Update release to include all arches

[33mcommit 2ef638658fe1731419df5edd4612204afd5b4c3c[m
Merge: 4f9d7ece 613f31d3
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 13 10:01:21 2018 +0100

    Merge remote-tracking branch 'origin/release-v3.2'

[33mcommit 613f31d365dca84a56c628de7ea689d77e5a94c1[m
Merge: 30458090 a6afb709
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 13 09:51:45 2018 +0100

    Merge pull request #1875 from neiljerram/pkg-v3.2.0
    
    Debian/RPM packaging for Felix v3.2.0

[33mcommit a6afb709aba345c56dc4db64d719e889688a81e0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 13 09:24:21 2018 +0100

    Debian/RPM packaging for Felix v3.2.0

[33mcommit 4f9d7ece4ca6ba0cfb7a73d908db873f061a0a3a[m
Merge: 30458090 318c558f
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Fri Aug 10 14:02:09 2018 -0700

    Merge pull request #1872 from spikecurtis/binder-import
    
    Import binder package from pod2daemon

[33mcommit 318c558f5085a61c2d7ab3b2a0db51012c600417[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Aug 8 17:04:57 2018 -0700

    Import binder package from pod2daemon
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 30458090588d14445f4b16b5b80e6db80dbffc33[m[33m ([m[1;33mtag: v3.2.0[m[33m)[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Fri Aug 10 06:19:12 2018 +0000

    Automated Typha pin update

[33mcommit 2a2fedd7e2831db07d4f36d2ddc928df783e19bb[m
Merge: 8418e022 d84c3ecd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 9 13:18:31 2018 +0100

    Merge pull request #1873 from fasaxc/ext-host-ips
    
    Add ability to add external host IPs to IPIP whitelist

[33mcommit d84c3ecdfb120e99276e044b92c16dc1889b0ef7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 9 11:01:41 2018 +0100

    Pin go-log, which floated to an incompatible version.

[33mcommit ccf08f5e2d238f33e45845b236bf4fb0885ec6ff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 9 09:52:43 2018 +0100

    Resolve glide merge conflict.

[33mcommit 5d1c32c4fd3229fab5e2a47220f6a397058b49d2[m
Merge: 43971639 8418e022
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 9 09:39:51 2018 +0100

    Merge remote-tracking branch 'origin/master' into pr-1870

[33mcommit 439716393b84712596e9649dfc672d4b75ac36e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 9 09:29:18 2018 +0100

    Fix UT.  Update name of all-hosts IP set.

[33mcommit d31d74b142125506623b13c2683711486850301f[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Wed Aug 8 11:31:57 2018 -0700

    Add ability to pre-create a FelixConfiguration in felix FVs.
    
    Use infra to clean up the felixconfiguration

[33mcommit affb8520341d6b2018022860bf0239c5c671f55f[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Sun Aug 5 20:20:09 2018 -0700

    Initial commit for external hosts cidr list.

[33mcommit 8418e022b3395447334078f8f4f28446fe8c2be0[m
Merge: 7f97e7a5 77f4eeef
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 8 09:09:22 2018 +0100

    Merge pull request #1871 from nwoodmsft/master
    
    Update dataplane driver for Windows 1803 builds

[33mcommit 77f4eeefb8a91bc202a321e26602954e9aaf2cb5[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Tue Aug 7 15:17:25 2018 -0700

    Addressing PR feedback

[33mcommit 4b2a9e53b6c33c3108b1a908492509879e427906[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Mon Aug 6 11:28:11 2018 -0700

    Updating glide

[33mcommit 97625f3df770fb721807f16f6ac22e3cca9a246a[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Fri Aug 3 13:08:09 2018 -0700

    Update hcsshim and use HNSSupportedFeatures to determine HNS ACL feature compatibility

[33mcommit 7f97e7a5831339e70e4d018e73790fc435b5c88c[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Fri Aug 3 06:19:17 2018 +0000

    Automated Typha pin update

[33mcommit 9b4afc2bdba611f4c8b6263763d7e429ca157ce0[m
Merge: 7f96dd0b 1f1bda93
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jul 27 10:54:49 2018 -0700

    Merge pull request #1867 from tomdee/update-gitignore
    
    gitignore: Add the semaphore cache directory

[33mcommit 1f1bda93527ade7b55733e1ea43a05e1e657344c[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jul 27 09:55:39 2018 -0700

    gitignore: Add the semaphore cache directory

[33mcommit 7f96dd0bf26300ea3927dd3dae782a6a3097cca2[m
Author: Semaphore Automatic Update <tom@tigera.io>
Date:   Thu Jul 26 06:19:03 2018 +0000

    Automated Typha pin update

[33mcommit b3d0a99a024d866bfe7336150912d5e4ce93c22f[m
Merge: 8086fab9 09730f9f
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Jul 24 10:04:30 2018 -0700

    Merge pull request #1852 from deitch/multi-arch-ci-cd
    
    ci and cd push all arches; ability to exclude specific

[33mcommit 8086fab99bf61b6b264533916f8d879499ab0e19[m
Merge: 0ff3c42a 54355566
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Jul 23 13:36:18 2018 -0700

    Merge pull request #1866 from tomdee/make-update-typha
    
    Makefile: Add update-typha job

[33mcommit 543555666874f20435b14e9db3722ae98fa23eca[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Jul 23 11:38:02 2018 -0700

    Makefile: Add update-typha job

[33mcommit 0ff3c42a9911847456bb0ea13c09f775a7dbf506[m
Merge: acc0f737 cbcde3c4
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jul 20 14:23:03 2018 -0700

    Merge pull request #1865 from tomdee/update-go-build
    
    Update go-bulid to v0.17

[33mcommit cbcde3c4adf6cdbc24d077a44b50495ec25ba0c8[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jul 20 13:36:22 2018 -0700

    Update to latest Typha

[33mcommit acc0f73723169ae550d5f25a60d752b6d43c03f4[m
Merge: 36dc8f6f 6cc3e555
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 20 14:03:34 2018 +0100

    Merge pull request #1648 from fasaxc/add-v-to-version
    
    Change the version regex to require a "v"

[33mcommit 22a5a243f1dc4d8afa01b4a0bbf8da3fdcb767b1[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Thu Jul 19 17:32:20 2018 -0700

    Fix up static check

[33mcommit f9ded81231d56e3cd6a9ac75236e1d3998c399e0[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Thu Jul 19 12:34:27 2018 -0700

    Update go-bulid to v0.17

[33mcommit 36dc8f6fef3225d604c35e1c44156885b245f7a3[m
Merge: 6af11396 0f4b8299
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Jul 18 09:17:08 2018 -0700

    Merge pull request #1861 from tomdee/remove-libcalico-pin
    
    Glide: Restore CNI pin and remove libcalico-go pin

[33mcommit 0f4b8299c977884efecfd6eaa9745a1fabdca729[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Jul 16 21:27:53 2018 -0700

    Glide: Remove libcalico-go pin and restore other pins
    
    Libcalico-go isn't needed - the version from Typha should be used
    CNI is actually needed - the pkg/ns package is removed from master
    docopt is actually needed - some functions that we use are deprecated in
    the latest version

[33mcommit 6af11396e1abbcdd6b1d204687b5cd54ded9fbd5[m
Merge: 8d7d3855 cc628020
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 17 12:03:05 2018 +0100

    Merge pull request #1860 from neiljerram/bionic-packages
    
    Build packages for Bionic

[33mcommit cc62802059169ba7c7337ba958e3a76d126f88ec[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 17 10:52:54 2018 +0100

    Build packages for Bionic

[33mcommit 8d7d3855d78809a1787982f9737fa0c706739cdb[m
Merge: 48a4a83d e4a3ee04
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 17 09:05:48 2018 +0100

    Merge pull request #1858 from tomdee/remove-circle
    
    Remove unused CircleCI file

[33mcommit e4a3ee04f50135739a02ed7f2773fdd7d3c9248b[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Jul 16 21:05:23 2018 -0700

    Remove unused CircleCI file

[33mcommit 48a4a83d9a3ab6657707daba533d61bcd843a5fc[m
Merge: e9613934 6108b3c2
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jul 13 13:32:08 2018 -0700

    Merge pull request #1854 from tomdee/clean-and-update-glide
    
    Update libcalico-go pin and clean up glide.yaml

[33mcommit 6108b3c2f2310c2d71f67cf574fa5bd0facd47e8[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jul 13 10:18:25 2018 -0700

    Fix up yaml license

[33mcommit 09730f9f1d0281a0c68dfa2b37a5edd40d0b16c5[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Thu Jul 5 14:18:48 2018 +0300

    ci and cd push all arches; ability to exclude specific

[33mcommit 9a023491c6625b906d88a4ac7e1674ab35d07ff8[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Thu Jul 12 14:13:01 2018 -0700

    Update libcalico-go pin and clean up glide.yaml

[33mcommit e96139346993f50495051ede7e6be44778a42ecb[m
Merge: b3b6b52b 7d831257
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Jul 10 17:10:16 2018 -0700

    Merge pull request #1848 from tomdee/bump-versions
    
    Makefile: Bump etcd version

[33mcommit 7d831257b8fa717e0a7bcf2867569e74af897bd8[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Jun 26 12:28:41 2018 -0700

    Makefile: Bump etcd version

[33mcommit b3b6b52b391f15e3346783aa164cd6cff2842730[m
Merge: e0ce0bca e7af13fa
Author: SONG JIANG <song@tigera.io>
Date:   Tue Jul 10 17:25:22 2018 +0800

    Merge pull request #1853 from song-jiang/song-fv
    
    bump k8s to 1.10.4 for FV.

[33mcommit e7af13fa09f1c01a0286994f53ec3e408f723018[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jul 9 18:33:25 2018 +0100

    Review Markup.

[33mcommit 77181c3410e1efd18867f382e24b594b4eeb7cf7[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jul 9 14:57:11 2018 +0100

    Fix k8sfv

[33mcommit 4cb599a0281b7d332ba0879ec264a24c1c3531c0[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jul 9 12:29:34 2018 +0100

    Pass in PRIVATE_KEY to FV test scripts.

[33mcommit ae9ed07f16062ba4eec699a3d661e47b5c0d0b86[m
Author: Song Jiang <song@tigera.io>
Date:   Sun Jul 8 10:35:42 2018 +0100

    bump k8s to 1.10.4 for FV.

[33mcommit e0ce0bca201da59671dd166e80a9c96f2bca6201[m
Merge: 3dcdaab4 96581d3f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 26 14:00:35 2018 +0100

    Merge pull request #1838 from databus23/ephemeral-port-pr
    
    Add option to specify port-range for outgoing NAT.

[33mcommit 96581d3fc70cb9349174949bed141125467f6a26[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Tue Jun 26 12:56:48 2018 +0200

    Bump libcalico/typha dependency

[33mcommit 3dcdaab4a38b837e8fef17671d23d05b44859656[m
Merge: d94110d9 6e5653df
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 25 16:41:47 2018 +0100

    Merge pull request #1834 from deitch/cd-all
    
    Replicate all semaphore activities in ci and cd targets

[33mcommit 5e30b895cb689a322b7345838b80f4c6edf09f68[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Mon Jun 25 11:50:00 2018 +0200

    Remove "local" annotation, capitalize NAT

[33mcommit 8bca4e48562b226180b5d2d3881f1518444ec08c[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Fri Jun 22 17:18:51 2018 +0200

    Avoid double NAT
    
    turns out MASQUERADE is not a final action

[33mcommit 98b523aa2040efeb37e774fb3d66b6971d345119[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Fri Jun 22 16:32:21 2018 +0200

    use helper method to create port range

[33mcommit 6e5653df6f6c4062138b2372d294eadca36ca25a[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Sun Jun 10 14:54:01 2018 +0300

    Replicate all semaphore activities in ci and cd targets

[33mcommit d94110d9083eea6c3a4579cfb22d8dd39b9b9191[m
Merge: c11a9713 13b69a30
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 22 10:42:57 2018 +0100

    Merge pull request #1847 from fasaxc/remove-throttle-log
    
    Remove super-spammy throttle log.

[33mcommit 13b69a30ab7ec9e31c5043719f3f0361ffbf8256[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 22 09:38:08 2018 +0100

    Remove super-spammy throttle log.

[33mcommit c11a9713b704e34b07d6b41b794d2f1fdfaf95ab[m
Merge: 16c03dcd fdff3cc0
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 20 14:27:39 2018 +0100

    Merge pull request #1844 from neiljerram/fv-apply-on-forward
    
    Default-deny hep-forwarded traffic when there are applicable policies

[33mcommit fdff3cc04415d7b1c57a16bd15f1db34209ccc99[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 20 13:59:09 2018 +0100

    Code review markups

[33mcommit f73c0e54b0eb2fdf6cc91bd76c86f26b3b2bac81[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 18 18:54:08 2018 +0100

    Add FV test for applyOnForward behavior
    
    In order for this test to be effective, we need non-IP-in-IP routing.
    
    - Workload->Workload connectivity needs non-IP-in-IP routing so that it
      hits a HostEndpoint defined on eth0.  (With IP-in-IP, it goes via
      tunl0 instead and so misses that HostEndpoint; so a connectivity test
      would always pass regardless of host endpoint policy.)
    
    - Workload->Host connectivity needs non-IP-in-IP routing for a
      successful connection at all.  (With IP-in-IP, the forward path goes
      via eth0, but the reverse path is via tunl0; so a connectivity test
      would always fail regardless of host endpoint policy.)
    
    Therefore this change also adds a topology option for non-IPIP.

[33mcommit 5cb3d28ec88a089d5e1faf365ad479caefb7f4b4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 20 09:05:53 2018 +0100

    Default-deny hep-forwarded traffic when there are applicable policies
    
    HEP-forwarded traffic is allowed when there are no applicable
    applyOnForward policies at all, but denied by default if there are any
    applicable applyOnForward policies.

[33mcommit 16c03dcd92d10de7944c64136adc1ece19141db5[m
Merge: 1d488100 ab895bd4
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Jun 19 16:50:52 2018 -0700

    Merge pull request #1843 from neiljerram/fix-version-report
    
    Fix calico-felix --version

[33mcommit ab895bd427d1f93f3e2e3ec09b415dc34e3255ae[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 19 19:08:16 2018 +0100

    Fix calico-felix --version
    
    LDFLAGS was defined before the other variables that it depends on.

[33mcommit 1d4881008e7a8819dcd4a41ce12b004bd6a55c59[m
Merge: 73804437 097944e9
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 19 11:39:15 2018 +0100

    Merge pull request #1842 from neiljerram/fv-default-forward-drop
    
    Configure model FV hosts to drop forwarded traffic by default

[33mcommit 097944e981678303d327f367bc9777b07dda6715[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 19 11:11:57 2018 +0100

    Configure model FV hosts to drop forwarded traffic by default
    
    Configure our model hosts to drop forwarded traffic by default.  Modern
    Kubernetes/Docker hosts now have this setting, and the consequence is
    that whenever Calico policy intends to allow a packet, it must
    explicitly ACCEPT that packet, not just allow it to pass through
    cali-FORWARD and assume it will be accepted by the rest of the chain.
    Establishing that setting in this FV allows us to test that.

[33mcommit 7380443727e9c73565b3bf4962d0b45c4d97bd7f[m
Merge: d959a72d 09187f09
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 18 20:22:39 2018 +0100

    Merge pull request #1841 from neiljerram/default-allow-forward-traffic
    
    Allow hep-forwarded traffic by default

[33mcommit 09187f09c262fff27645c8a94c45cb296781a3ad[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 18 16:23:44 2018 +0100

    Allow hep-forwarded traffic by default

[33mcommit d959a72d214db79b24e5f4f70e61ecead8028a74[m
Merge: f0cabf4a 9b1c05b4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 18 10:53:51 2018 +0100

    Merge pull request #1836 from caseydavenport/strip-v
    
    Strip the `v` from the version number when building debs

[33mcommit f0cabf4a092f8d79a8172906b82710a8c75ff6a8[m
Merge: 5422c4ab bc3e6b5e
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jun 15 11:34:51 2018 -0700

    Merge pull request #1837 from tomdee/makefile-cleanup
    
    Clean up Makefile

[33mcommit bc3e6b5e740ed478d492e9e564df8f3863af9b28[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Jun 15 10:53:44 2018 -0700

    Revert vendor changes

[33mcommit d88a3c41f1bef5f980d5c6a9bae3bafb6b8e7421[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Fri Jun 15 18:36:33 2018 +0200

    add UT for NATPortRange

[33mcommit 9316e6128dc1e02346af267f61d0489dac914364[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Fri Jun 15 18:36:17 2018 +0200

    use proper type for config param

[33mcommit 5422c4abc1df0d1f9adf7faa0378f4a13e2ce905[m
Merge: 0d8da34e ecf4beed
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 15 15:44:26 2018 +0100

    Merge pull request #1839 from neiljerram/fix-fv-kdd-flake
    
    Handle initial Felix restart for IpInIpTunnelAddr config change

[33mcommit ecf4beeddd3edfecb163aa091828dfa8786e7aad[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 15 15:07:21 2018 +0100

    Handle initial Felix restart for IpInIpTunnelAddr config change
    
    This change completes the workaround intended in #1813, to avoid the
    possibility of Felix restarting _after_ it had seen a HostEndpoint -
    which in the KDD case would mean Felix being unable to reconnect to the
    datastore after restarting.

[33mcommit d28a3369e6c11e1f56ff51d990488febc93b3862[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Fri Jun 15 10:37:49 2018 +0200

    Make new config param local

[33mcommit 9b1c05b425020523243a767c725905209f71e19e[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Jun 13 12:11:48 2018 -0700

    Strip v from version string when building debs/rpms

[33mcommit a2d3a89d31e5b952985b2a26aeed190a3ef080eb[m
Author: Fabian Ruff <fabian@progra.de>
Date:   Thu Jun 14 16:44:23 2018 +0200

    Add NatPortRange configuration option
    
    This commit allow to optionally specify a port range for the outgoing NAT rules that are created by felix.

[33mcommit 26ee376a92ddd31a340492f1904698cc8c2b5fd7[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Jun 13 13:22:19 2018 -0700

    Clean up Makefile
    
    Reordered Makefile to fit the common format
    Renamed variables to match other Makefiles
    Did a bit of general cleanup
    
    Made vendor behave the same as every other repo
    - Created using Docker
    - Not PHONY
    - No update
    - No up-to-date business
    
    Not done
    - Removing .go-pkg.cache from clean (no other build removes this in
      clean)
    - Adding CI target. Felix is just too complicated at the moment, doing
      too many things in parallel
    - Checking if all the SSH_AUTH_SOCK is really needed (I don't think
        other builds do it)
    - Removing or modifying the diagram at the top. I'm not sure if it's
        accurate and/or useful

[33mcommit 0d8da34e9b2d4145d468131de44c57d16525a048[m
Merge: c576273d 095d2b44
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Jun 13 14:32:24 2018 -0700

    Merge pull request #1835 from caseydavenport/update-release
    
    Update release targets to be consistent with other Makefiles

[33mcommit 095d2b449dcc3f317393ba9422a7927f3f62a828[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Jun 13 12:10:48 2018 -0700

    Update release targets to be consistent with other Makefiles

[33mcommit c576273d9c0729f5fb650cdca4e23b98b78b2a24[m
Merge: 6468055e df502e43
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu May 31 11:52:01 2018 -0700

    Merge pull request #1831 from caseydavenport/add-protobuf
    
    Check in protobufs

[33mcommit df502e4395f1ccb2ed911ab7dd2ee8ebd42de2f8[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue May 29 17:18:22 2018 -0700

    Check in protobufs

[33mcommit 6468055e5f8f4dc6eb5fb2cf5373e6cfb058a95d[m
Merge: 41a1eba5 158165a0
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu May 31 08:54:05 2018 -0700

    Merge pull request #1816 from caseydavenport/allow-import
    
    Allow others to import and run Felix

[33mcommit 158165a0b87432034154d1cf3a2a4116373c8d3d[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Apr 30 21:04:45 2018 -0700

    Allow others to import and run Felix

[33mcommit 41a1eba51799484fc190e669789332d9e9a12dd6[m
Merge: 7cbe3a27 f9ed23de
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue May 29 10:54:32 2018 -0700

    Merge pull request #1828 from caseydavenport/cd-automated-libcalico-update-master
    
    Automatic update of libcalico-go to d6aff54dc3527357f016c0cd5c5364f21a15e9b4

[33mcommit f9ed23dece9790441f21a8c45ab7744f27598c99[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue May 29 09:18:20 2018 -0700

    Update libcalico-go to d6aff54dc3527357f016c0cd5c5364f21a15e9b4

[33mcommit 7cbe3a27db06e7b0d935d68423c3342af5bfc498[m
Merge: 547a45a7 7a68acbf
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 21 13:44:18 2018 +0100

    Merge pull request #1746 from deitch/multi-arch
    
    standard makefile targets and multi-arch push

[33mcommit 7a68acbf80ba41fd7be2d4993ee4350c05a4cbf8[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Wed Mar 21 14:44:57 2018 +0200

    multi-arch push

[33mcommit 547a45a7d37229d90c87bf5a328cc6b3f90c52ba[m
Merge: dd1c1dde 83be7c9d
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu May 17 06:01:02 2018 -0700

    Merge pull request #1825 from caseydavenport/cd-automated-libcalico-update-master
    
    Automatic update of libcalico-go to d3230e0d9ba41b54c082aeaf1c42f6ee98cb3331

[33mcommit 83be7c9d78e85303a33e40a2a536b79be3f947e5[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed May 16 09:17:41 2018 -0700

    Update libcalico-go to d3230e0d9ba41b54c082aeaf1c42f6ee98cb3331

[33mcommit dd1c1dde4aee806584c2ee56249440024bb4fcf1[m
Merge: 132ffc5d d828d3b6
Author: SONG JIANG <song@tigera.io>
Date:   Thu May 17 17:03:19 2018 +0800

    Merge pull request #1822 from song-jiang/song-alp
    
    Updated active rule calculator for ALP.

[33mcommit d828d3b68fa1555e6cc3240ce62ebf369ec5e0f6[m
Author: Song Jiang <song@tigera.io>
Date:   Wed May 16 14:59:23 2018 +0100

    Added FV for ALP policy counter.

[33mcommit 4ce3d9d30b776d190bcbeff0cd04aed124ae8c6a[m
Author: Song Jiang <song@tigera.io>
Date:   Tue May 15 15:03:57 2018 +0100

    Updated active rule calculator for ALP.

[33mcommit 132ffc5dc8a793fca6aa1ee2cefaf9e425e35bc3[m
Merge: 3f1e997f fbb05975
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 11 10:36:39 2018 +0100

    Merge pull request #1821 from neiljerram/fix-linter-errors
    
    Fix go-meta-linter errors

[33mcommit fbb059755e0ad1f15f45cf97fb8477aca1972c8b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 10 16:23:35 2018 +0100

    Avoid creating etcd client twice

[33mcommit 3f1e997f7507df663b751a4913e8ee66543f1146[m
Merge: 36febca9 83cc178c
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 10 17:27:02 2018 +0100

    Merge pull request #1820 from neiljerram/test-capitalized-append
    
    Check that capitalized 'Append' works for ChainInsertMode

[33mcommit 83cc178ca8e360a1e27f15d3ff5691b732e0f00b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 10 11:47:25 2018 +0100

    Check that capitalized 'Append' works for ChainInsertMode
    
    (In relation to https://github.com/projectcalico/calico/pull/1968)

[33mcommit f2df0384580d9e648c46c2846cd1f33b1b007068[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 10 13:49:27 2018 +0100

    Fix go-meta-linter errors
    
    /go/src/github.com/projectcalico/felix/calc/calc_graph_test.go:231:6: lastStats declared but not used
    couldn't load packages due to errors: github.com/projectcalico/felix/calc_test
    fv/infrastructure/infra_k8s.go:273:2: this value of info is never used (SA4006)
    fv/infrastructure/topology.go:78:11: this value of client is never used (SA4006)

[33mcommit 36febca9b4d7e7035cb307f7258f929ff6f91574[m
Merge: 77e38937 30c34a18
Author: Saurabh Mohan <saumoh@users.noreply.github.com>
Date:   Fri May 4 09:18:09 2018 -0700

    Merge pull request #1819 from fasaxc/http-match
    
    Plumb HTTP path matches through to policy sync API

[33mcommit 30c34a181b3af7b11ee50efda2d88ab19b0d9139[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 4 09:55:18 2018 +0100

    Fix up after updating model structs.

[33mcommit d02b60398a0ef9f8e4582ffe81387e81c2702e85[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Wed May 2 17:16:03 2018 -0700

    Fix protbuf name and numbering.

[33mcommit 0204614c49560bcaf3daa3f5ef6c614457276c9e[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Fri Apr 27 12:04:53 2018 -0700

    Address review feedback.

[33mcommit c423efc7de4704147f249ec7f4c9582002d53cc3[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Thu Apr 19 16:53:48 2018 -0700

    HTTP Path rule convert over to protobuf.

[33mcommit 77e38937c6a8bc0066895e48465ec81a0c1d1f8d[m
Merge: 6ace8c96 764bcf3f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 4 09:27:07 2018 +0100

    Merge pull request #1818 from colabsaumoh/automated-libcalico-update
    
    Update libcalico-go to 5646fa11213b9b5314cca7f5b3aa28ea9811c908

[33mcommit 764bcf3f7375ca2cd4cad033855b864227f0643c[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Thu May 3 14:54:49 2018 -0700

    Update libcalico-go to 5646fa11213b9b5314cca7f5b3aa28ea9811c908

[33mcommit 6ace8c9659c760f771152b9bf3f3b0d834850807[m
Merge: 501347db a14726e2
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 27 11:28:58 2018 +0100

    Merge pull request #1812 from fasaxc/better-diags
    
    Improve calico-diags redaction.

[33mcommit 501347dba43d1fbb534bc3a336ef356ac64954a9[m
Merge: 2cea7e23 268648a3
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 27 11:11:53 2018 +0100

    Merge pull request #1813 from fasaxc/hep-flake-workaround
    
    Have topology wait for any start-of-day Felix restarts.

[33mcommit 2cea7e23f4a313551527422f5d27ec48483c5b4e[m
Merge: eda77f73 b106eec2
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 26 18:00:22 2018 +0100

    Merge pull request #1814 from fasaxc/improve-datastore-diags
    
    Improve diags around startup/restart.

[33mcommit 268648a30ee7fdf785ef80a7bc09767e43d8da44[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 26 15:22:12 2018 +0100

    Have topology wait for any start-of-day Felix restarts.
    
    Ensures that tests don't have to worry about Felix restarting mid-test when
    its config arrives.

[33mcommit b106eec21b180c68e4a13a051dad0ddb8ccd50b8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 26 14:01:42 2018 +0100

    Improve diags around startup/restart.

[33mcommit a14726e2f7f3446b9960964274f36636d8f5162d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 26 11:34:50 2018 +0100

    Improve calico-diags redaction.
    
    Replace sensitive information with REDACTED instead of
    removing whole line.

[33mcommit eda77f73aa9bdbc258986160806c8dc70f5ec074[m
Merge: a8d5e543 5aec6e79
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 23 15:25:56 2018 +0100

    Merge pull request #1811 from neiljerram/felix-typha-tls
    
    Apply TLS to Felix-Typha connections

[33mcommit 5aec6e7966764ebf2c4282952d1fc4b98b5f5393[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 23 15:07:11 2018 +0100

    For FV, Typha should serve health on all IPs

[33mcommit fad8c203851a13671793f77ad472d22fcfaf950d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 23 14:34:34 2018 +0100

    Code review markups

[33mcommit fac5d93aa8fd97268aea6e6ae29d7a9dcccb4485[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 23 14:02:16 2018 +0100

    Update Typha pins

[33mcommit 072882f6ad58480e7893371851d8810af09dc65f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 23 10:44:39 2018 +0100

    Add FV test with Typha and Felix-Typha TLS

[33mcommit 02c3a5123d2c743c1669317aab4b7f8d36d2a8d4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 20 15:48:18 2018 +0100

    Apply TLS to Felix-Typha connections

[33mcommit a8d5e543c1b624dd702bf952c870a6f283063b6b[m
Merge: 664b78fe 16311602
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 23 13:53:49 2018 +0100

    Merge pull request #1808 from fasaxc/etcd-tight-loop-workaround
    
    Work around etcd watcher tight loop.

[33mcommit 16311602e731af5c52321ba3c76b9e6172b84a04[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 19 14:31:58 2018 +0100

    Work around etcd watcher tight loop.
    
    Fixes #1789

[33mcommit 664b78fe2f603d68c1543ed1abbf234c6afa1048[m
Merge: 2ee967ac a33fedc0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 19 14:56:42 2018 +0100

    Merge pull request #1806 from fasaxc/squash-policy-noops
    
    Squash no-op updates to policy.

[33mcommit a33fedc055612bca19d20eddb165696322b5b028[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 18:14:45 2018 +0100

    Squash no-op updates to policy.

[33mcommit 2ee967acffe17ddaa01ee84238d9badb186a0f69[m
Merge: f9100b79 2a074782
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 19 09:35:21 2018 +0100

    Merge pull request #1802 from fasaxc/cpu-prof
    
    Add support for dumping a CPU profile on SIGUSR2.

[33mcommit f9100b7962aad367bd111ef8df8d79283ca293bc[m
Merge: 7eb5fa90 bfc74a05
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Apr 18 16:56:22 2018 -0700

    Merge pull request #1807 from caseydavenport/cd-automated-libcalico-update
    
    Automatic update of libcalico-go to e3351395c934cee118999b9d29508e9280fa75ec

[33mcommit bfc74a057d30de90e26c507e4ed47fa2376a9e0e[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Apr 18 15:23:30 2018 -0700

    Update libcalico-go to e3351395c934cee118999b9d29508e9280fa75ec

[33mcommit 7eb5fa900da504a436b630520556d811b8a3453d[m
Merge: 4c14ac75 80bcd94f
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 18 17:23:11 2018 +0100

    Merge pull request #1805 from fasaxc/flush-logs
    
    Use logutils.FieldForceFlush to flush the logs without using Panic().

[33mcommit 80bcd94fdae27cc6b73fa51258ef0668d23cbb4e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 15:07:20 2018 +0100

    Use logutils.FieldForceFlush to flush the logs without using Panic().

[33mcommit 4c14ac7506629573d41f2cfb92f217c9ce9de8fa[m
Merge: 7bbe4af0 555bfa43
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 15:01:43 2018 +0100

    Merge pull request #1804 from fasaxc/smc-rev-libcal
    
    Automatic update of libcalico-go to 2bcac53953f662bc5cb1879c93781a5b64f8579d

[33mcommit 555bfa4336ee6ed871ab2d90abe69aa0c1d09e58[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 14:46:03 2018 +0100

    Update libcalico-go to 2bcac53953f662bc5cb1879c93781a5b64f8579d

[33mcommit 7bbe4af082cbf46f3ae0babd6a83f9d7b2b341e2[m
Merge: abe4c504 2cf7a677
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 10:20:02 2018 +0100

    Merge pull request #1803 from fasaxc/fix-dnat-timeout
    
    Fix timeout in pre-dnat test.

[33mcommit 2a0747825973a075e83deee0f5bbb4cd7e2094e4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 09:39:40 2018 +0100

    Add support for dumping a CPU profile on SIGUSR2.
    
    Add (pended) FV test that verifies CPU usage while etcd is down.

[33mcommit 2cf7a677a32b93cf70c420e0d8479dc2bc6f3186[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 18 10:00:58 2018 +0100

    Fix timeout in pre-dnat test.
    
    should be 30s, not 10ns!

[33mcommit abe4c504fa7b385aff6c52ff69b3bda15cbed878[m
Merge: ba8c1b04 dba32793
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 17 13:52:04 2018 +0100

    Reincorporate 3.1.0 tag into master.
    
    No file changes, this commit only records that 3.1.0 is a parent to master.

[33mcommit ba8c1b04ceb1d7a15ddc12473752043e38eb46fa[m
Merge: d4e1b506 f1085dd7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 17 10:13:59 2018 +0100

    Merge pull request #1799 from fasaxc/rev-libcal
    
    Rev libcalico-go and fix up FVs

[33mcommit f1085dd7ac3bf056cefec9032a07d1b25a32983b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 17 09:59:57 2018 +0100

    Fix up selector comparison.

[33mcommit 90ec7d8a89ea99451630c38754eafc72358eeef2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 17 09:31:15 2018 +0100

    Rev typha for matching libcalico-go.

[33mcommit a19da64c58d317751d7961170b2cb1fb5953113a[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Mon Apr 16 14:56:34 2018 -0700

    Changes to allow libcalico-go upgrade for Felix.

[33mcommit d4e1b506776ffe71fe4f3656d411ac41ac4c8c5e[m
Merge: dd64777f d137aeb3
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 16 15:08:19 2018 +0100

    Merge pull request #1797 from fasaxc/rev-go-build
    
    Rev go build

[33mcommit d137aeb306255262aef719b37e56d377896c7347[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 16 12:00:23 2018 +0100

    Rev go-build to v0.14.

[33mcommit 66f966b745dbdb7ee05634b2c74cab1e294685f6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 13 14:28:01 2018 +0100

    Run pre-commit hook inside container.

[33mcommit a2783289f85aeb5a9a968098e597f5465d8f37da[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 13 14:04:03 2018 +0100

    Rev go-build to v0.13

[33mcommit dd64777faf11f4c9f766e07c9e200b61127f7091[m
Merge: 682bfdb4 8575aea0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 16 11:59:00 2018 +0100

    Merge pull request #1795 from spikecurtis/policysync-flake
    
    Don't mutate protos after sending them to Processor

[33mcommit 8575aea07428f94e1b16721491c46858726af69b[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Apr 13 11:06:55 2018 -0700

    Don't mutate protos after sending them to Processor
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 682bfdb4a26f45b7ef7628bbb925ee72edb3bfca[m
Merge: 0057bf43 4a297dcc
Author: Dan (Turk) Osborne <dan@projectcalico.org>
Date:   Fri Apr 13 10:43:50 2018 -0700

    Merge pull request #1782 from ozdanborne/localhost-healthchecks
    
    Stop healthchecks from listening on all interfaces.

[33mcommit 4a297dcca7631b56030eab6c8e92a8ef1c8ddb17[m
Author: Dan Osborne <dan@projectcalico.org>
Date:   Mon Apr 9 17:50:15 2018 -0700

    Stop healthchecks from listening on all interfaces.

[33mcommit 0057bf4393ad1ed26be1c67980f46c2deee41d93[m
Merge: 61db3507 1dba0560
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 13 16:24:09 2018 +0100

    Merge pull request #1793 from fasaxc/fix-connectivity-cutoff
    
    For host endpoint tests, install an allow-to-datastore policy

[33mcommit 1dba0560710c30e59c45c65adc97545d63ef8dc4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 13 15:14:20 2018 +0100

    When using host endpoints, make sure we install an allow-to-datastore policy.

[33mcommit 61db3507f780cdce7355f37e16e5d4d158722de0[m
Merge: 636f0db7 26c2b605
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 13 14:06:15 2018 +0100

    Merge pull request #1791 from fasaxc/link-not-found-workaround
    
    Speculative work around for link not found errors in k8sfv.

[33mcommit 26c2b6050e017bb602aca8a85c47a25dcb287988[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Apr 13 11:54:58 2018 +0100

    Speculative work around for link not found errors in k8sfv.

[33mcommit 636f0db714b0901ed820c0cf0bfd3f44b9f26ac6[m
Merge: 661cc846 8788d24e
Author: Erik Stidham <erik@tigera.io>
Date:   Thu Apr 12 14:11:30 2018 -0500

    Merge pull request #1788 from tmjd/eof-paired-down-flake-work
    
    Adds retry to workload start to address its flakiness

[33mcommit 8788d24e745180587f3c57379507150cb5ec9195[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Apr 10 10:54:55 2018 -0500

    Add retry to workload start

[33mcommit 661cc84637aff7181986e65ef29a419ba98bd7d4[m
Merge: a18dbc71 a6ea0e30
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 11 17:38:20 2018 +0100

    Merge pull request #1774 from tmjd/alt-metrics-check
    
    FV: Trying to get info on HEP flake

[33mcommit a6ea0e305e9ee20790cad0b4ecad85bb8b1e0e5f[m
Author: Erik Stidham <erik@tigera.io>
Date:   Thu Apr 5 13:41:38 2018 -0500

    FV: Trying to get info on HEP flake
    
    The test being changed has been a flake and this is trying to get a
    bit more information by checking for longer than than passing allows.

[33mcommit a18dbc7113f53b8b7e9f6de905ea33b1cf45298a[m
Merge: c96e606c 5428b5b2
Author: Erik Stidham <erik@tigera.io>
Date:   Mon Apr 9 10:29:19 2018 -0500

    Merge pull request #1781 from tmjd/batch-job-tweaking
    
    FV: Understand if there are silent failures

[33mcommit 5428b5b219a66319aea8e1ac0031e4c45446a182[m
Author: Erik Stidham <erik@tigera.io>
Date:   Mon Apr 9 10:02:50 2018 -0500

    FV: Understand if there are silent failures

[33mcommit c96e606c820d436565234dd06214ee5d867eeda5[m
Merge: a97f1c10 7f81c582
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 9 15:19:23 2018 +0100

    Merge pull request #1777 from neiljerram/record-3.1-packaging
    
    Record 3.1.x packaging on master branch

[33mcommit a97f1c10e8a10a2769fd38bf177e03a6dcdfa46c[m
Merge: 08a25b29 24eb27a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 9 14:33:23 2018 +0100

    Merge pull request #1779 from fasaxc/fix-ipset-temp-del-fail
    
    Work around temporary IP set deletion failure

[33mcommit 24eb27a6cd98085b5bf104069fa0f755da781f0c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 9 10:56:55 2018 +0100

    Work around temporary IP set deletion failure
    
    - Use unique temporary IP set names.
    - Wait for next resync to retry deletions to avoid tight loop.
    - Add UT for new behaviour.

[33mcommit 7f81c582f16ad85065d833e8d753f4240e716059[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 6 21:39:29 2018 +0100

    Record 3.1.x packaging on master branch
    
    So that there won't be a strange gap in the record when we branch off to
    release 3.2.x, and so on.

[33mcommit dba3279377fd6ec7baf0ee560bcaec685f25fa86[m[33m ([m[1;33mtag: 3.1.0[m[33m)[m
Merge: 26c4cf72 074e6d41
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Apr 5 13:32:28 2018 -0700

    Merge pull request #1773 from caseydavenport/cd-automated-libcalico-update
    
    Automatic update of libcalico-go to release-v3.1

[33mcommit 074e6d416454a64ba3de4a131664f544f34d516f[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Apr 5 11:03:40 2018 -0700

    Update libcalico-go to release-v3.1

[33mcommit 26c4cf723627e442384b1c890ec1b0a075688a7f[m
Merge: 7704b6a4 3793ff46
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 5 11:52:14 2018 +0100

    Merge pull request #1771 from tmjd/cherrypick-v3.1-flake-improve
    
    Cherrypick v3.1 flake improve

[33mcommit 7704b6a45bc3aef52b6b7267d83c795e2fde4831[m
Merge: 5a9bc6d2 2a4779e4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 5 11:51:14 2018 +0100

    Merge pull request #1770 from fasaxc/v3.1-add-pol-counts
    
    [v3.1] Add stats for policy and profile counts.

[33mcommit 3793ff4669aa13eb609d93baab9428e676a710b2[m
Author: Erik Stidham <erik@tigera.io>
Date:   Mon Apr 2 14:38:19 2018 -0500

    Make slow test failures obvious

[33mcommit 9a85000593d600fcc53ab6e74f9bb5db9a773eeb[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Apr 3 10:59:32 2018 -0500

    Trying the Eventually with a metrics timeout

[33mcommit f4cb756918f95b916697d9c9a094e7d44b29d254[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 28 13:32:10 2018 -0500

    Unexpected fix for HEP Policy fix
    
    - Ensured that HostEndpoint is blocking traffic before adding policy to
      allow traffic.
    - Changed Eventually test to a loop that checks longer than Eventually
      did to try to get a little more information if the flake happens
      again.  Unexplainably the change seemed to fix the flake.

[33mcommit 08a25b29b8bad63ed93df3e60eddc2e54166848f[m
Merge: 785f5785 40fea2a7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 4 17:59:00 2018 +0100

    Merge pull request #1761 from tmjd/obvious-slow-test-fail
    
    Make slow test failures obvious

[33mcommit 785f5785bf61714f684bc04f9ed2eafafdc902b6[m
Merge: 43bc9c45 262b2b10
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 4 17:56:46 2018 +0100

    Merge pull request #1763 from tmjd/host-port-test-tweaks
    
    Make sure metrics checks time out in a timely fashion.

[33mcommit 2a4779e4a58c05c5e5a3b23e84da83c5eacd5044[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 4 13:28:37 2018 +0100

    Add stats for policy and profile counts.
    
    (cherry picked from commit 09057f7ad4458decd258af676d771f10e7da08cd)

[33mcommit 43bc9c45d02318c75cea11c812c0f66e72a4095e[m
Merge: ad600fb3 09057f7a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 4 15:21:31 2018 +0100

    Merge pull request #1769 from fasaxc/add-pol-counts
    
    Add stats for policy and profile counts.

[33mcommit 09057f7ad4458decd258af676d771f10e7da08cd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 4 13:28:37 2018 +0100

    Add stats for policy and profile counts.

[33mcommit 5a9bc6d24d3f6c76175e948b72aad2a7dcefc8a3[m
Merge: 6e5a5b3d baec6336
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Apr 3 17:11:18 2018 -0700

    Merge pull request #1768 from tmjd/cherrypick-v3.1-hep-kdd
    
    Cherrypick Running HostEndpoint FVs with KDD

[33mcommit baec63363449af310eb60a5a5fff938621c74b98[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Apr 3 09:00:59 2018 -0500

    FV: fix interfaceName trimming in test-workload

[33mcommit e5a60f545145cfc08e7ab7babd6857ff1cd8ee3a[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 28 13:32:10 2018 -0500

    FVs: Cleanup HostEndpoints for KDD

[33mcommit ed00f83715832b53d2da469c3422a5dce27538d8[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 21 13:50:25 2018 -0500

    Switch HostEndpoint tests to run with KDD

[33mcommit 0723fe0377986026089d82fe7a1e023e71fd9fcb[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 21 10:16:24 2018 -0500

    Rearrange the etcd/felix support code

[33mcommit ad600fb3817d18e18afe113440dd65d183001b56[m
Merge: 6ea556fc 87e42ff8
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Apr 3 14:24:39 2018 -0500

    Merge pull request #1766 from tmjd/fix-workload-interface
    
    FV: fix interfaceName trimming in test-workload

[33mcommit 40fea2a71dcc242d8db7f86fb6f4a0560447b1ff[m
Author: Erik Stidham <erik@tigera.io>
Date:   Mon Apr 2 14:38:19 2018 -0500

    Make slow test failures obvious

[33mcommit 262b2b10176c0d06f06f12d9d3dc531a0d670c7b[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Apr 3 10:59:32 2018 -0500

    Trying the Eventually with a metrics timeout

[33mcommit 87e42ff8fc04eeb2753cc90e59c53a759a1506c2[m
Author: Erik Stidham <erik@tigera.io>
Date:   Tue Apr 3 09:00:59 2018 -0500

    FV: fix interfaceName trimming in test-workload

[33mcommit 6ea556fc34da9e8e981808f70a0cd67a812796c9[m
Merge: cdf8fcf3 2bc53100
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 3 09:44:33 2018 +0100

    Merge pull request #1764 from tmjd/ginkgo-focus-fvs
    
    Add GINKGO_FOCUS var

[33mcommit cdf8fcf34960f0abaf63131e25e98023fef1e8b0[m
Merge: 5b4711e8 ad4f1274
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 3 09:30:19 2018 +0100

    Merge pull request #1762 from tmjd/cleanup-kdd-hostendpoints
    
    FVs: Cleanup HostEndpoints for KDD

[33mcommit 2bc53100466b0e4d18a7524b38eed44b4885b4e2[m
Author: Erik Stidham <erik@tigera.io>
Date:   Mon Apr 2 10:11:25 2018 -0500

    Add GINKGO_FOCUS var

[33mcommit 12b324fd563f531f236c2a72577fd99828d2694f[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 28 13:32:10 2018 -0500

    Unexpected fix for HEP Policy fix
    
    - Ensured that HostEndpoint is blocking traffic before adding policy to
      allow traffic.
    - Changed Eventually test to a loop that checks longer than Eventually
      did to try to get a little more information if the flake happens
      again.  Unexplainably the change seemed to fix the flake.

[33mcommit ad4f12748ebc1cc0d5593bdf5b23ab001d5a9d70[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 28 13:32:10 2018 -0500

    FVs: Cleanup HostEndpoints for KDD

[33mcommit 5b4711e8b848e833c521fd1b6bdabf25299525bd[m
Merge: 9e45e4bd 7ba8c746
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Thu Mar 29 13:46:22 2018 -0700

    Merge pull request #1759 from caseydavenport/spikecurtis-automated-libcalico-update
    
    automated libcalico update

[33mcommit 7ba8c7466b9c2069bf9ee587181e38408bff8372[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Mar 29 13:09:34 2018 -0700

    Fix healthaggregator compile issue

[33mcommit 3a89b2642a66254c8fc42628aa7b3a6c08ea049d[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Mar 29 12:02:29 2018 -0700

    Update libcalico-go to 88291609bbefd0fe22982a7a78ec51d63583a651

[33mcommit 9e45e4bdf36367f4394ec174beca455507e206d0[m
Merge: 4dd45a13 d03433ef
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 29 10:34:33 2018 +0100

    Merge pull request #1757 from neiljerram/fix-rpm-building
    
    Ensure RPM directory exists

[33mcommit d03433ef5b6a8f2856c2f500368fc9c8fdec4e98[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 29 10:22:24 2018 +0100

    Ensure RPM directory exists
    
    This is another fix following recent multiarch changes - but really the
    error was rpm/build-rpms assuming that a directory would exist, so we
    fix that here.

[33mcommit 4dd45a1379fdd4af4443a7346bbdc87633289041[m
Merge: 9126a5a2 897ba041
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 29 09:54:15 2018 +0100

    Merge pull request #1755 from spikecurtis/processor-test-timeouts
    
    processor_test.go timeouts for large IPSet updates

[33mcommit 9126a5a20359bbe7e2ef82fa8c337d32a0b82ef2[m
Merge: d52a5d45 94c3fef3
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 29 09:19:18 2018 +0100

    Merge pull request #1752 from djlwilder/pin-proto
    
    Non-amd native build to use the latest build of protoc.

[33mcommit 897ba041e1ba48b8979a5ff6accb295aa1d86716[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Mar 28 10:40:23 2018 -0700

    processor_test.go timeouts for large IPSet updates
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit d52a5d450d7c6b511c6a51d9558e8435ac9dfc8f[m
Merge: a498157f f5378fb6
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 28 18:13:18 2018 +0100

    Merge pull request #1754 from neiljerram/no-amd64-suffix
    
    Fix package building following recent multiarch changes

[33mcommit 94c3fef384e8cd56cbfa60dc9e6474e6e28ee31b[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Tue Mar 27 09:47:13 2018 -0700

    Remove extra definitions of PROTOC_CONTAINER and PROTOC_VER.
    
    Both values can be overridden to meet the builder's needs.
    For example, you could do something like:
    
    make calico/felix ARCH=ppc64le GO_BUILD_VER=latest PROTOC_VER=latest
    
    In this example these images would be used:
    calico/go-build:latest-ppc64le
    calico/protoc:latest-ppc64le
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit f5378fb609aac12bc154e582fb8552af341e0d40[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 28 15:31:52 2018 +0100

    Fix package building following recent multiarch changes

[33mcommit a498157fbaf6838c8e9677461a0eaf10d7a760d5[m
Merge: bf829d82 406a4a52
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 27 12:12:05 2018 +0100

    Merge pull request #1751 from neiljerram/pin-protoc-tag
    
    Pin to using v0.1 of calico/protoc container

[33mcommit 406a4a526d24dd66b38374e1c34c9d7e41509769[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 27 11:38:42 2018 +0100

    Markup to kick GitHub

[33mcommit c3ac8e2313c0956779c07453e3af3147941048a7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 27 11:23:46 2018 +0100

    Pin to using v0.1 of calico/protoc container

[33mcommit bf829d824cfe828729069bdf03901ad7342fc013[m
Merge: 53d4aeb8 adf6950c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 26 08:42:38 2018 +0100

    Merge pull request #1750 from projectcalico/automated-libcalico-update
    
    Automated libcalico update

[33mcommit adf6950c5ed03aab28860154e7bf9723b752dd11[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Fri Mar 23 12:15:22 2018 -0700

    Do not skip PolicySyncPathPrefix

[33mcommit 88c6c99ad1d2a08bb9a58a239ac829dd8053334e[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Fri Mar 23 11:42:55 2018 -0700

    Update libcalico-go to f94d044d5357e7d8939fec43efc14124408cd2b9

[33mcommit 53d4aeb88eb0eeefd17d3fb71ce3a12bcdc4d269[m
Merge: e3d778c1 3e731cc4
Author: Erik Stidham <erik@tigera.io>
Date:   Fri Mar 23 08:54:01 2018 -0500

    Merge pull request #1736 from tmjd/kdd-hep-tests
    
    Run HostEndpoint FV tests against KDD also

[33mcommit 3e731cc4bf1a559485410e68bed32949d92cc3a6[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 21 13:50:25 2018 -0500

    Switch HostEndpoint tests to run with KDD

[33mcommit 6e5a5b3daae2cde15398cb1961472113d6ab4725[m
Merge: 5dcd3c8e 782c0851
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 22 10:15:22 2018 +0000

    Merge pull request #1747 from fasaxc/v3.1-win-prof-fix
    
    Merge pull request #1726 from nwoodmsft/master

[33mcommit 782c0851930a9f2f0ceba858c8211521b1a1c4d7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 22 09:56:24 2018 +0000

    Merge pull request #1726 from nwoodmsft/master
    
    Windows dataplane driver should apply profiles when policies are not â€¦

[33mcommit e3d778c1b9c73f6ea5a64ca02d92ab23779be96f[m
Merge: d279ce25 80303238
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 22 09:56:24 2018 +0000

    Merge pull request #1726 from nwoodmsft/master
    
    Windows dataplane driver should apply profiles when policies are not â€¦

[33mcommit 209f2022c852afe7d3ef848ebbb1e2f655e57f7a[m
Author: Erik Stidham <erik@tigera.io>
Date:   Wed Mar 21 10:16:24 2018 -0500

    Rearrange the etcd/felix support code

[33mcommit d279ce25eb2fc8864239a800325613f3aabd2b22[m
Merge: c050ebfa 9e23948d
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Wed Mar 21 12:19:35 2018 -0700

    Merge pull request #1743 from spikecurtis/policy-sync-full-ut
    
    policysync UT

[33mcommit 9e23948da46c0c378accc8077d7124fb0a8b505a[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Mar 21 12:04:50 2018 -0700

    HavePayload matcher and IPSet type bug fix
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 1f4942ff3d94d161636a57bca50d182e0697d335[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Mar 20 15:35:29 2018 -0700

    EndpointInfo.iteratePolicies() only includes a policy once
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 88df426113971a249cf992ed6977f38fe0158a71[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 19 08:40:45 2018 -0700

    policysync UT
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 5dcd3c8ed125112a32d6441e99da93e2f6cd20ce[m
Merge: e2f6473e 8e8059bf
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 21 17:34:19 2018 +0000

    Merge pull request #1744 from neiljerram/release-v3.1
    
    Deb/RPM packaging for Felix 3.1.0-rc1

[33mcommit 8e8059bf4bfa592ed6c6523a99ae6ebea016cbd4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 21 17:23:29 2018 +0000

    Deb/RPM packaging for Felix 3.1.0-rc1

[33mcommit c050ebfa311207bdaa73db2474f91db2f54e32a1[m
Merge: c8a4d9c0 0fefc80e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 21 11:14:41 2018 +0000

    Merge pull request #1703 from deitch/cross-compile
    
    Cross compile

[33mcommit c8a4d9c02f5aea0ed59a44ed1385efd94a90230e[m
Merge: c6a577d5 9bcb67d0
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Tue Mar 20 13:54:03 2018 -0700

    Merge pull request #1734 from spikecurtis/policy-sync-ipsets
    
    Sync IPSets over Policy Sync API

[33mcommit 0fefc80e6b61441eca38f6212ee5ae496a4d2a2a[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Tue Mar 20 11:45:49 2018 +0200

    Add default tag in calico/felix target

[33mcommit e2f6473e2268c7ebc497a22f8a9005ce057ec99b[m[33m ([m[1;33mtag: 3.1.0-rc1[m[33m)[m
Merge: ab22a8a9 8eff890a
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Mar 19 16:10:31 2018 -0700

    Merge pull request #1742 from caseydavenport/cherry-pick-1741
    
    Cherry pick 1741 to release-v3.1

[33mcommit 8eff890a9f84334b6627951d4ea781d6ef0c25ce[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 19 10:50:42 2018 -0700

    Refactor to use net.IP.Mask()
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 063fe7c597ddf9777cce18ac012b8bd05b7016b8[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Mar 16 12:47:25 2018 -0700

    NetworkSet CIDRs in canonical format
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit c6a577d5589a4c0ad5efd110c2312616866322f3[m
Merge: dd893292 8a03988a
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Mon Mar 19 14:18:23 2018 -0700

    Merge pull request #1741 from spikecurtis/1735-mask-networks
    
    NetworkSet CIDRs in canonical format

[33mcommit ab22a8a95034a8cc4341ca0067194a36b1e3dc45[m
Merge: dd893292 5986fe00
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Mar 19 13:14:58 2018 -0700

    Merge pull request #1740 from caseydavenport/cd-automated-libcalico-update
    
    Automatic update of libcalico-go to release-v3.1

[33mcommit 5986fe004024f3ab8a82bb4e3abeec744330b6b6[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Mar 19 11:38:04 2018 -0700

    Update libcalico-go to release-v3.1

[33mcommit 8a03988a80cafeee5a57f36c409a247c973945e2[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 19 10:50:42 2018 -0700

    Refactor to use net.IP.Mask()
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 9bcb67d04c3b09fa77005c6e3c1b34794d2c8743[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 19 09:55:57 2018 -0700

    Refactor PolicySync UT use of temp dirs
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 58578876fd78c02f92fa1f199d818fb66f051922[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Mon Mar 19 08:42:14 2018 +0200

    Add help on supported cross-compile architectures and how to use ARCH

[33mcommit c2c33aa4746f8e7bbb6ac647b0b4a655fb213086[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Mar 16 12:47:25 2018 -0700

    NetworkSet CIDRs in canonical format
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 0e1995e89f509e6c0df9ffb59ac9cfebdedd8371[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Mar 16 11:34:52 2018 -0700

    UT temp dir & IPSetType panic tweaks
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 0e6c116de19b04df7d59445685710113bf5373f3[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Mar 15 15:12:02 2018 -0700

    UT improvements for IPsets over Policy Sync API
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 8030323812799c217394dc6f903c03143383f1f6[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Wed Mar 14 20:55:08 2018 -0700

    Addressing PR feedback

[33mcommit 095a132934e671291f4d0e419e71d53c7242f0b4[m
Author: Avi Deitcher <avi@deitcher.net>
Date:   Tue Mar 6 18:40:37 2018 +0200

    Restructure for cross-compile

[33mcommit 8c1e6139d933fba9d4736a03cc44d3b755cff604[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 12 15:21:20 2018 -0700

    Sync IPSets over Policy Sync API
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit dd893292692fc961963a028fb7aae70d1fb74109[m
Merge: b74b51d3 7714effc
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 12 15:59:40 2018 +0000

    Merge pull request #1733 from fasaxc/smc-rev-libcal
    
    Automatic update of libcalico-go to 49c0d0164441316a4bc430da232a8a6d7703275d

[33mcommit 7714effc6b1dcae569c74e79e8cfd8ab6a351ae3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 12 15:18:54 2018 +0000

    Update libcalico-go to 49c0d0164441316a4bc430da232a8a6d7703275d

[33mcommit 4779dcbb026c46d390448cf38209f16daa79edea[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Thu Mar 8 13:04:30 2018 -0800

    Update felix to latest libcalico-go

[33mcommit b74b51d3790784577278bafcec0689f9c4bd0533[m
Merge: ad2e9a09 5700f5de
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 12 14:44:51 2018 +0000

    Merge pull request #1732 from fasaxc/fv-batching
    
    Add batching support to fv make target.

[33mcommit ad2e9a0967e15aa5a7f74a15fcc2db6fa083fb01[m
Merge: 188ec9fc 6057a5ef
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 9 15:54:51 2018 +0000

    Merge pull request #1710 from linux-on-ibm-z/felix-s390x-support
    
    Added support for s390x

[33mcommit 5700f5de679d7e12fdfa5389784f50c8260bc330[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 9 14:29:16 2018 +0000

    Add batching support to fv make target.

[33mcommit 188ec9fccfb747272b68665434ad873d93515526[m
Merge: 42f512fc 346f41bb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 9 13:09:30 2018 +0000

    Merge pull request #1729 from song-jiang/ipvs-auto
    
    Auto detect kube-proxy mode for ipvs.

[33mcommit 346f41bb3cb07420f1211d6e0786ce521360e3ad[m
Author: Song Jiang <song@tigera.io>
Date:   Fri Mar 9 11:52:54 2018 +0000

    Added fv for auto detecting kube-proxy mode.

[33mcommit b859d0173292c5eb379bcae1febf1665f06e11d5[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Mar 8 16:11:22 2018 +0000

    Markup and new libcalico-go pin.

[33mcommit f4213e0005defe9b02911cd4847685f89ed4a538[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Mar 6 18:19:09 2018 +0000

    Auto detect ipvs support mode.

[33mcommit 42f512fcc80ae0e4d3a2ad9f0fa76d2d4d8899cc[m
Merge: d140021f f6158787
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 8 14:46:38 2018 +0000

    Merge pull request #1702 from projectcalico/feature-policy-api
    
    Add policy sync api

[33mcommit f61587872e5fb790befcedcc2a8af2522619bf20[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 8 14:14:47 2018 +0000

    Exclude Windows tests from linter.

[33mcommit c954116ff2d8b9f111a7c54c6adc3d9791adf629[m
Merge: e43633a6 d4a8a833
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 8 13:59:51 2018 +0000

    Merge remote-tracking branch 'spike/http-rule-passthru' into feature-policy-api

[33mcommit e43633a6961d86cb35b2b82b907435475d9d0926[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 8 13:34:46 2018 +0000

    Fix up some linter errors.

[33mcommit cf5e3fbbb34ae44e2e91d9503c4ffd39eb59f185[m
Merge: 303a14c1 d140021f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 8 13:28:39 2018 +0000

    Merge remote-tracking branch 'origin/master' into feature-policy-api

[33mcommit d140021f1f8e69138e731816c248d0e11594bd51[m
Merge: eefd6aba 18464fbb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 8 13:17:48 2018 +0000

    Merge pull request #1730 from neiljerram/iptable-counts
    
    calico-diags: include iptables packet counts

[33mcommit 18464fbbaa618272d2e4b87fe04b393ac3cb5342[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 8 11:58:12 2018 +0000

    calico-diags: include iptables packet counts

[33mcommit d4a8a83350314f751ffbed7c15cfdb72e38dbefa[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Mar 7 16:00:03 2018 -0800

    Remove unused vars from static analysis
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 5a60ff2862c214cb23eb24b0d83767b3bf5f2b56[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Mar 7 14:41:29 2018 -0800

    Update libcalico & typha pins
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit ab8abea4bfc7fcd39445841a2f20aae84164df1e[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Mar 6 08:33:55 2018 -0800

    pass HTTPMatch thru the calc graph
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit c08d26ff91406d3f4112edc71a5b869b24c8ff30[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Wed Mar 7 13:18:52 2018 -0800

    Windows dataplane driver should apply profiles when policies are not applicable for a given direction

[33mcommit 303a14c1e8e8bdb81873852d5931b5dc83a01da6[m
Merge: a2e65d33 984dd812
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Wed Mar 7 10:54:18 2018 -0800

    Merge pull request #1723 from spikecurtis/sync-namespace-labels
    
    Sync namespace labels

[33mcommit 984dd812eacfc7cef8e2911b0b99c65482585d61[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Mar 7 10:08:46 2018 -0800

    Refactor profile_decoder.go to use type switch
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit eefd6aba380b57656d8b2a13e6d69d64de931e0c[m
Merge: ab32ce47 e7aa458f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 7 18:02:39 2018 +0000

    Merge pull request #1724 from fasaxc/fix-fwd-ep-mark
    
    Fix that workload ingress policy wasn't applied to IPVS traffic

[33mcommit e7aa458f8ab09b105f98cbd7eaee6f7461b6d227[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 5 16:12:14 2018 +0000

    Fix that workload ingress policy wasn't applied to IPVS-forwarded traffic.
    
    - Add the to-workload dispatch jumps to the forward-endpoint-mark chain.
    - Fix that a return from the forward-endpoint-mark chain would only return to
      the cali-OUTPUT chain, not to the OUTPUT chain.
    - Remove some IPVS ingress support rules taht can no longer be hit (since any
      traffic that hit those will be redirected to the forward-endpoint-mark
      chain instead.

[33mcommit a2e65d33b677f3807623c8b0683b2a3d9feab442[m
Merge: 52336d84 3a5f5b52
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Tue Mar 6 11:10:16 2018 -0800

    Merge pull request #1720 from spikecurtis/sync-service-accounts
    
    Sync service accounts

[33mcommit 92f62572f27e502cba40895b58048936d705534c[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 5 13:49:53 2018 -0800

    Fix comment - namespaces synced over API
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 08b3d61eaa23de628e3f77eb1c5627072dd2b8c2[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 5 13:44:51 2018 -0800

    FV for namespace passthru to policy sync
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 3765539a055bbe1ca320cadca131e9e8946efcbb[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 5 13:04:03 2018 -0800

    Policy Sync & External dataplane handle Namespaces
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 3011e32e6e7f9509c199bbdbb2c231cf731a311e[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 5 11:58:11 2018 -0800

    Pass K8s namespaces thru calc graph
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 3a5f5b52829c1de14b4838a569786f5b68a8b605[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Mar 6 08:47:41 2018 -0800

    Code review markups

[33mcommit ab32ce47fd2b6db29de209165ec096060523f604[m
Merge: da11a06d 91bc52a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 6 15:10:19 2018 +0000

    Merge pull request #1722 from matthewdupre/alpine-rev
    
    Update calico/felix alpine base image to 3.7

[33mcommit 91bc52a690ebeded4a3ca68f5adc01d0d020e4ac[m
Author: Matt Dupre <matt@projectcalico.org>
Date:   Tue Mar 6 13:45:28 2018 +0000

    Update calico/felix alpine base image to 3.7

[33mcommit da11a06dbab7caa33cee45789b9f5d298e95fa0f[m
Merge: 43bafe57 752aabdb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 6 11:06:56 2018 +0000

    Merge pull request #1718 from fasaxc/failsafe-donottrack
    
    Whitelist failsafe port response traffic in the raw table only

[33mcommit e0d1caf9b6ca2a2876ad6fec63661f0f54db9192[m
Author: Spike Curtis <spike@tigera.io>
Date:   Mon Mar 5 10:37:30 2018 -0800

    Service Account Labels FV and bug fix
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 91e404e78c42da98206359863629b7a3e387cce9[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Mar 2 13:37:13 2018 -0800

    FV for Service Account pass thru
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 9634d646b6b864d403a613332ce2be4172cf226f[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Mar 2 11:38:41 2018 -0800

    UT for ServiceAccounts in processor
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 91faffa5ad47bbda9c627498cd42cba481152c84[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Mar 1 15:35:00 2018 -0800

    UT for Calc Graph supporting service accounts
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 0412b362828b927a3de511fa5b2b0f72fc39182c[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Feb 28 15:56:21 2018 -0800

    Policy sync & dataplanes update service accounts
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 4b99a93483d94080353e00226c43b48aabb00fc1[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Feb 28 15:19:45 2018 -0800

    Calc graph passes Service Accounts thru to dataplane
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 30e8009097f8c58648309c8a4f7ec5738d12c068[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Feb 28 10:51:27 2018 -0800

    Add ServiceAccount to dataplane proto
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 752aabdb372b56f7b2b2b9c22b3601a5fc56d69d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 5 16:17:51 2018 +0000

    Code review markups.

[33mcommit 43bafe573ed4715d44de20457fa3d8c9c2bd62a8[m
Merge: db52f2ef 9e1f2e6d
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Mar 2 13:34:07 2018 -0800

    Merge pull request #1719 from caseydavenport/cd-automated-libcalico-update
    
    Automatic update of libcalico-go to 16a16d0960511310db4772874de7650ab2967827

[33mcommit 9e1f2e6d2378665275d30a4d9cfe90d42ccacad5[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Fri Mar 2 10:51:33 2018 -0800

    Update libcalico-go to 16a16d0960511310db4772874de7650ab2967827

[33mcommit 52336d849548d09acb8ad9ec6527f3e135399249[m
Merge: 049d2b03 e43cf002
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Fri Mar 2 10:42:15 2018 -0800

    Merge pull request #1706 from fasaxc/policy-api-passthru
    
    Policy API passthru

[33mcommit db52f2efa4c280b4544566ce7c48bf96cde5729d[m
Merge: df2bd6c2 f938b39e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 2 16:45:38 2018 +0000

    Merge pull request #1717 from caseydavenport/cd-automated-libcalico-update
    
    Automatic update of libcalico-go to 2fa2887d917b41342f9beaae745dff2355e4f47c

[33mcommit 7901688dd769d203f9675eba86defac17abfc83b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 2 10:28:56 2018 +0000

    Add FV test for failsafe port/do-not-track policy overlap.

[33mcommit ee2700c30cdd27dea203b7679fffc6fdec3b603f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 27 14:18:19 2018 +0000

    Whitelist failsafe response traffic in the raw chain.
    
    This should ensure that failsafe traffic always gets conntracked.

[33mcommit e43cf00206450bfa914a5890771be4c19f9fe0ac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 2 11:48:53 2018 +0000

    Markups: update libcalico-go and add UT for conversion to proto.Policy.

[33mcommit bb0aa0f4ed7ee2941ce75f367d159f6547403e08[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 28 14:48:29 2018 +0000

    Markups: Switch to a nested mesage for the service account match criteria.

[33mcommit e2e8eed1129b401f322b2f07a0437620fc00b714[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 16 16:22:14 2018 +0000

    Add FV test that service account matches are passed through to the policy API.

[33mcommit 0d94e6e2a7380831fdefbf8a6f9226761a359675[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 16 15:37:11 2018 +0000

    Pass through service account match criteria for policy sync API.

[33mcommit 708a0aeddbe5718101b459d38ab1462fb964ede2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 16 15:16:24 2018 +0000

    Pass through original selectors and namespaces to policy sync API.

[33mcommit f938b39edfcb6ba9a7298742b0a340158de72168[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Mar 1 14:02:26 2018 -0800

    Update libcalico-go to 2fa2887d917b41342f9beaae745dff2355e4f47c

[33mcommit 049d2b03c666e525ecc5bfa4f2c4335775a933cf[m
Merge: ac124a27 a1e83e97
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Thu Mar 1 10:51:37 2018 -0800

    Merge pull request #1716 from spikecurtis/stop-watcher
    
    Add stop channel to watcher

[33mcommit ac124a27adadd197fd7868b31b0e6d53f7754699[m
Merge: 096ed9a1 5642c1a5
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Thu Mar 1 10:24:44 2018 -0800

    Merge pull request #1715 from spikecurtis/binder-break
    
    Break binder event loop on stop

[33mcommit a1e83e971654883abea1df2a4cbf8d3973df622c[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Mar 1 10:21:03 2018 -0800

    Add stop channel to watcher
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 096ed9a184da432de3cb6ea3edace840a8591526[m
Merge: 6d94b2b4 164d3427
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Thu Mar 1 09:56:33 2018 -0800

    Merge pull request #1713 from spikecurtis/clientcancel
    
    Handle async client cancel

[33mcommit 5642c1a51c81fba37e166e610d524aab1ce7c4ed[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Mar 1 09:45:07 2018 -0800

    Break binder event loop on stop
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 164d3427dd29d4145d59a64c27bdb7f5976b79ea[m
Author: Spike Curtis <spike@tigera.io>
Date:   Wed Feb 28 17:06:45 2018 -0800

    Handle async client cancel
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 6d94b2b41d15e4052aff352c720929a04e91d52e[m
Merge: 54135f57 df2bd6c2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 28 15:46:48 2018 +0000

    Merge remote-tracking branch 'origin/master' into feature-policy-api

[33mcommit df2bd6c270257f9ce5fe7cdd05f5e6cfc8e9be62[m
Merge: 2ece19dd c9e9ed5d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 27 11:59:55 2018 +0000

    Merge pull request #1708 from djlwilder/iptables_lock_test
    
    Update iptables_lock_test and health_test to use FV_FELIXIMAGE.

[33mcommit 54135f578bdcdcc6714b32394c8303ffebbf10a1[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Feb 26 11:40:19 2018 +0000

    Markups.

[33mcommit 2ece19ddbfb579ba86640386335f3bd54250bb77[m
Merge: bb44017f 9b89327b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 26 13:14:07 2018 +0000

    Merge pull request #1709 from neiljerram/fix-nanosecond-sleep
    
    Fix accidental nanosecond sleep

[33mcommit 36a4e7fb84c4c2e59964fe08899eed10cfacdd9e[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Feb 26 10:35:28 2018 +0000

    Fix accidental copyright year updates.

[33mcommit 3583e3f34d775a90255bea7d6cb2c49ce8224d79[m
Merge: 2ef78dcd 30eb8e1c
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Fri Feb 23 15:53:24 2018 -0800

    Merge pull request #1707 from spikecurtis/flexvol-binder
    
    Replace FlexVol Management API with binder

[33mcommit 30eb8e1c50c4c65e73a599c760b3e400659d0335[m
Merge: bbb53fe3 b7a86bcf
Author: Spike Curtis <spike@spikecurtis.com>
Date:   Fri Feb 23 13:58:00 2018 -0800

    Merge pull request #1 from colabsaumoh/felix-fv-binder
    
    Fix fv for policy sync with binder.

[33mcommit b7a86bcfefd0728f00b45a3796737436cedb74ef[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Fri Feb 23 11:49:49 2018 -0800

    Address review feedback.

[33mcommit bb44017f4e77c56e6ed7114161c026d2d6e62456[m
Merge: 5d3b1cc7 30fed359
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 22 14:10:30 2018 +0000

    Merge pull request #1705 from song-jiang/ipvs-hep
    
    Enable host endpoint policy with kube-proxy running in IPVS mode

[33mcommit 30fed359450b15e5c9d28f9e81f12985a9a47d56[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 22 13:58:16 2018 +0000

    Placate goimports

[33mcommit 9b89327b75af944f915358dbde83de27443b9326[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 22 12:00:26 2018 +0000

    Fix accidental nanosecond sleep

[33mcommit cd3678c2b9a4010ca3dafe5448f92e15e88c2c7c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 22 11:30:50 2018 +0000

    Test code typo: smNonCaiSetMarkRule -> smNonCaliSetMarkRule

[33mcommit 83bc32d518946f437db1951048b9062ebeaa8510[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 22 06:02:54 2018 +0000

    Rename generic epmark to non-cali epmark.

[33mcommit 61fece06794da057078e1133d61fcbcdfb48d1f8[m
Author: Song Jiang <song@tigera.io>
Date:   Sun Feb 18 14:48:52 2018 +0000

    Fix UT for ipvs host egress.

[33mcommit 8ad3b89e12320b7ae1d78abd9dbc017a95d1d38c[m
Author: Song Jiang <song@tigera.io>
Date:   Sat Feb 17 12:37:40 2018 +0000

    Add drop rule for unknow cali/tap interface.

[33mcommit ccebcca5ac3a708a43950d4facbbf4c0cb47b377[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Feb 13 07:28:44 2018 +0000

    Added support for ipvs hep.

[33mcommit 12aa064172edd5e5b9acbf290c3478dbe339e29a[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Wed Feb 21 15:59:29 2018 -0800

    Fix fv for policy sync with binder.

[33mcommit c9e9ed5d4b31d5edca1b25d4d62d9a159d371719[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Thu Feb 15 16:04:29 2018 -0800

    Propagate FV_FELIXIMAGE into fv and k8sfv tests.
    
    Update fv/iptables_lock_test, fv/health_test and
    k8sfv/run-test to use the value of FV_FELIXIMAGE
    as set in the Makefile.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit bbb53fe3d811fc5eea883a5bae35890ec7006e0f[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Feb 16 13:10:47 2018 -0800

    Poll waits until credential dir exists

[33mcommit d099397f93d2046535bf341ea0cb7545543e4934[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Feb 16 11:34:02 2018 -0800

    Replace FlexVol Management API with binder
    
    Signed-off-by: Spike Curtis <spike@tigera.io>

[33mcommit 5d3b1cc75969b080f13f7188426f3a29d9979eb4[m
Merge: 87ef4ee8 48fcc447
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 16 18:00:45 2018 +0000

    Merge pull request #1701 from fasaxc/pin-protoc
    
    Pin the protoc container to v0.1 (copy of current latest).

[33mcommit 2ef78dcd8369b72bc7d175663cd23333f87e69ed[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 16:43:10 2018 +0000

    Fix server/processor leave processing deadlock; add FV for it.

[33mcommit 7109e7676366afa0d99b0767a992dcef1b9ee596[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 15:39:21 2018 +0000

    Add FV test to verify that a change of profiles is handled correctly.

[33mcommit f2da8de24bc0912bfcfaa0953c19f4ea31719103[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 15:11:38 2018 +0000

    Fix that deletes weren't sent on policy API when policies were no longer used.

[33mcommit 36c9b0b152bf5ab85e8b4bc55bf15a18f180da2d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 15:10:40 2018 +0000

    Split join and leave messsages for clarity.

[33mcommit 12f5a94567ebc99be647cd2d1bdacf2d1fa25883[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 14:05:34 2018 +0000

    Add policy sync FVs
    
    - Check that removing the workload closes connection.
    - check multiple workloads only receive own data.

[33mcommit c4eea7c2b126053d6c93975e050b109019f353b4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 11:42:37 2018 +0000

    Pull out function create per-workload dir.

[33mcommit af288ef86e0ecf4123ff9d500e2ee177ede5ee6b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 15 11:25:33 2018 +0000

    Split out a mockWorkloadClient.

[33mcommit f7f926deecc2cdefb890688a54c8615064034fbb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 17:07:32 2018 +0000

    Wait for connection to close.

[33mcommit e98698c09c9dc703d9e5ebb442cdcde76aba41ff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 17:07:23 2018 +0000

    Improve mock dataplane: catch out-of-order updates.

[33mcommit 06d163efc25054a2aab17c06afcbe86b26e5ff7d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 16:35:10 2018 +0000

    Add InSync message to policy sync API.

[33mcommit 48a790a7aa41f22032a83c5fa7611a37023dc39e[m
Merge: d269a3f0 87ef4ee8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 16:01:32 2018 +0000

    Merge remote-tracking branch 'origin/master' into feature-policy-api

[33mcommit 87ef4ee8d34efe958b958dbd3c5b4491691f4ed5[m
Merge: 7346d75a 1cbdd0fa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 16:00:44 2018 +0000

    Merge pull request #1704 from fasaxc/extract-mock-dp
    
    Move mock dataplane into its own package so it can be reused.

[33mcommit d269a3f0470b07415eec57ab71b9c3d58fd4fc31[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 15:58:58 2018 +0000

    Fix that new connections for existing endpoint didn't receive updates.

[33mcommit b679bb51af20a462ed459034ea25c6e3d63ad9cd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 15:10:48 2018 +0000

    Update policy sync FV to check the correct state is reached.

[33mcommit 62dc4484c98b5e562a95ac0d1e378ad7cc4cd524[m
Merge: e383457e 1cbdd0fa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 14:40:21 2018 +0000

    Merge branch 'extract-mock-dp' into feature-policy-api

[33mcommit 1cbdd0fae340c2989430e3580c05f9f539bddcb7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 14:36:30 2018 +0000

    Move mock dataplane into its own package so it can be reused.

[33mcommit e383457e85d854eb5ee63158eb416ad00b9c7952[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 14 14:33:50 2018 +0000

    Rework policy sync test to use contexts.

[33mcommit 6057a5ef944fd2a74f89699032f33b1468d72629[m
Author: guirish <guirish>
Date:   Wed Feb 14 03:08:22 2018 -0500

    Added support for s390x

[33mcommit f75e3a16b31ac5a44c5dcfa5084c754aa811066b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 18:06:17 2018 +0000

    Tidy up existing policy sync test.
    
    - Use a unique temp dir per run.

[33mcommit 48fcc44789287fb36c008485c08d83c9a0d3c8d1[m
Merge: 5f68fad0 7346d75a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 15:10:08 2018 +0000

    Merge branch 'master' into pin-protoc

[33mcommit 3a184c6c74d1a68fbf560e999718c18d3055f540[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 15:01:20 2018 +0000

    Fix up ifacemanager test after updating glide.

[33mcommit 108d6a1163efdd440da05b2ce63b7a0b8456dc3b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 14:49:57 2018 +0000

    Temporarily ignore the policy sync config params, which are not yet in libcalico-go.

[33mcommit c1d875d0fd2bc65de02e1a882e7776b07bd90524[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 14:49:52 2018 +0000

    Sync up usage of GINKGO_ARGS in Makefile.

[33mcommit 6c10f10305e2c3308c842145ea609a11a23e9349[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 14:28:13 2018 +0000

    Remove hard-coded PathPrefix, plumb through as config param.

[33mcommit 8bbd4d9af91dce7389f78baa084fece9c3055013[m
Merge: 05cf8bea 7346d75a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 13:58:51 2018 +0000

    Merge remote-tracking branch 'origin/master' into feature-policy-api

[33mcommit 7346d75a64ea4ff679e695aacacdc0d3e40c5b2d[m
Merge: adaabe61 ef258344
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 13:57:52 2018 +0000

    Merge pull request #1692 from fasaxc/latency-test
    
    Add latency measurement tests

[33mcommit ef258344185339ba26f00a850db757f8fe06cbfd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 13:47:23 2018 +0000

    Markups.

[33mcommit 05cf8bea2f877f8e70a597024f070e38a632b09f[m
Merge: 846f504d adaabe61
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 13:03:10 2018 +0000

    Merge remote-tracking branch 'origin/master' into feature-policy-api

[33mcommit 846f504dadf9f6a4f739a1e3fd451b0823832d60[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 11:28:43 2018 +0000

    Make the policy sync API socker configurable.
    
    Disable by default to avoid breaking non-policy sync aware FV tests.

[33mcommit 5f68fad0dcd32b4b366fed854d104706cd4f47a3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 10:45:11 2018 +0000

    Pin the protoc container to v0.1 (copy of current latest).

[33mcommit bc3093fa0fd84925ca8c59b7bdc800156f9224dc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 13 10:32:44 2018 +0000

    Un-focus the policy API tests.

[33mcommit adaabe6149d649f0e194f8b53a99eab7aa055765[m
Merge: ee62b2ab 97c4b3ed
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 12 14:44:40 2018 +0000

    Merge pull request #1699 from fasaxc/add-etcd-restart-fv
    
    Add FV test that silently cuts the etcd connection.

[33mcommit 97c4b3ed93fa640766e5120ebd799de0f51570d9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 12 14:34:36 2018 +0000

    Review markups.

[33mcommit d37cfef3872086f62f266d1b5769217557652972[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 12 14:31:53 2018 +0000

    Fix flake: make sure ready flag is reset after that health test.

[33mcommit 8ca21a256163427d1b0b371013b24c6b53da6bf3[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Feb 7 11:20:19 2018 -0800

    Add FV test that silently cuts the etcd connection.
    
    - Use the raw table to silently drop packets from one connection.
    - Check that felix detects and reconnects.

[33mcommit ee62b2abd83f66afcc14ad849643d19414708f62[m
Merge: a5641626 7c59bde2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 9 19:09:18 2018 +0000

    Merge pull request #1698 from neiljerram/nj-rev-libcal
    
    Update libcalico-go to 13d015d6433fd53fb260dc2b3ab50340c34f5749

[33mcommit 7c59bde2e99feeb1ff8fdb2e2c86ac30c0aad6a1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Feb 9 16:41:27 2018 +0000

    Limit status report Apply() calls to 2s (each)

[33mcommit 99f9cbe543033d0c40a534a4c6007440ffdc013b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Feb 9 15:25:21 2018 +0000

    Update syscall.NlMsghdr -> unix.NlMsghdr

[33mcommit e6e8d84d0881cf569a679bdb72f320db49cb9c01[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Feb 9 15:03:23 2018 +0000

    Add Context parameter to backend Apply() calls

[33mcommit d2c7ee8f0c3aec3b0b7c2560b8b90a6299058aaf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Feb 9 14:50:26 2018 +0000

    Update libcalico-go to 13d015d6433fd53fb260dc2b3ab50340c34f5749

[33mcommit a5641626cf405b2e0a8aea04e0a5b2fe08c411d1[m
Merge: fd3b6c45 94707950
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 7 17:22:11 2018 +0000

    Merge pull request #1695 from fasaxc/change-ipset-prefix
    
    Change the main IP set prefix.

[33mcommit 947079509ac649ba0f40a0c73a4565c22b3ccfd6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 7 14:26:37 2018 +0000

    Change the main IP set prefix.
    
    Fixes #1694.

[33mcommit fd3b6c45662dd0c63f5f80cc3617c645ae05625c[m
Merge: 17e79049 07b68634
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Feb 6 16:14:48 2018 -0800

    Merge pull request #1691 from caseydavenport/automated-libcalico-update
    
    Update libcalico-go to 26b83dc3ccceeff9312eaf339386e6599c89c63b

[33mcommit 07b68634b540134a8a11609b29bf5cc26950038f[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Feb 6 11:48:53 2018 -0800

    Update libcalico-go to 26b83dc3ccceeff9312eaf339386e6599c89c63b

[33mcommit 9f4b24a2e3486ae902132d4c1dd5c8775609db91[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Feb 6 19:37:11 2018 +0000

    Add latency measurement tests

[33mcommit 17e79049dbb408c501ee0270bbea521ead716739[m
Merge: f639e9c8 b5cb3746
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 5 14:25:33 2018 +0000

    Merge pull request #1683 from fasaxc/3.x-netsets
    
    Add support for global network sets, which allow a set of CIDRs to be associated with labels in policy.

[33mcommit b5cb3746d4d95990e44bf98eb2cf229f8a091133[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Feb 5 13:45:01 2018 +0000

    Code review markups.

[33mcommit e270e6613b3a3605b51eeb97cf4bc77089bbdaa1[m
Merge: a7296e20 f639e9c8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 2 14:29:09 2018 +0000

    Merge remote-tracking branch 'origin/master' into 3.x-netsets

[33mcommit f639e9c8bc9b7d2b5a557f66c5a94325e3b50669[m
Merge: ff886772 c8d17482
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 2 14:17:25 2018 +0000

    Merge pull request #1687 from song-jiang/ipvs-egress
    
    Support workload egress policy with kube-proxy in ipvs mode

[33mcommit c8d174828c09779d527611ab9e91e02b9fbe45a3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 2 14:00:19 2018 +0000

    Rev typha pin.

[33mcommit a7296e20532e74104622de8b654b56857e544193[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 2 11:26:46 2018 +0000

    Make number of ginkgo  nodes configurable.

[33mcommit a4e6835b144e9383b1db4cc12f49dbaf4e975d3f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 2 11:12:28 2018 +0000

    Fix UT and add validation to mark match builders.

[33mcommit 7df8a35aa3a33e1f398ddefc52af5b2aa58cae75[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 2 10:22:18 2018 +0000

    Make sure logs are hooked before each test.

[33mcommit 6faea172c50e4b1988cbccd843a5e412af9333ae[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 19:18:42 2018 +0000

    Fix glide.yaml.

[33mcommit 5c1440033b5a47cd04901eb239b7f20191e60a01[m
Merge: b71ebedd ff886772
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 18:47:03 2018 +0000

    Merge branch 'master' into ipvs-egress

[33mcommit b71ebedd8e07515967e9103e48274beb5bf2a50d[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 18:33:27 2018 +0000

    Markup for review.

[33mcommit 6644deba3d9d36ae109b9eb9800f5a594d202034[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 1 17:04:53 2018 +0000

    Add timeouts to IPv6 wait loops.

[33mcommit f882fe34bc71c7af3b634cd2d498fbbc573d7ca1[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 15:34:22 2018 +0000

    Removed code which is redundent.

[33mcommit 10ffdb74a8c5d17bd903aca18643fa7ceabf206e[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 15:22:21 2018 +0000

    Added UT for ipvs felix config.

[33mcommit 643313c4afdf130c8f4212893323c1eaa2adcc11[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 1 15:16:08 2018 +0000

    Map in /lib/modules so that ip6tables can insert its modules.

[33mcommit 7fb3b33e7a296527036e4f649172e64331f4afcd[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 14:59:58 2018 +0000

    Fix UT for rules.

[33mcommit 1e36afe2342cb203ab41b3fbf0954e5badcfedd5[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 14:34:55 2018 +0000

    More UT fix for ipvs enabled.

[33mcommit a2b846692784c2a2352e08baf326f50c877a4995[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 1 14:10:16 2018 +0000

    Add IPv6 ingfrastructure and networks sets tests.

[33mcommit ee1911f377a2f7ede8202e93aabbbdd2b271c3bb[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Feb 1 11:38:10 2018 +0000

    Fix more UT for ipvs enable flag.

[33mcommit bad96965ce0d7c059640ab2befcba1040097427b[m
Author: Song Jiang <song@tigera.io>
Date:   Wed Jan 31 22:30:24 2018 +0000

    Added KubeIPVSSupportEnabled and fix some UT.

[33mcommit 8458aff077220a764beae2966f8e1ea36d3eae43[m
Author: Song Jiang <song@tigera.io>
Date:   Wed Jan 31 13:55:33 2018 +0000

    Added UT for epmark.

[33mcommit 9588fb0019bfc0357322060a27433fb19a505806[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 31 12:00:28 2018 +0000

    Add special case for 0.0.0.0/0 and ::/0 CIDRs in network sets.
    
    The kernel rejects 0-length CIDRs so we expand them to a pair of /1s in the
    calculation graph.

[33mcommit ff886772441b1a207b04d396f5c0eca4b1129f9e[m
Merge: 33a1830d 7e0cc8fa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 31 09:52:49 2018 +0000

    Merge pull request #1690 from caseydavenport/update-libcalico
    
    Update libcalico-go to 8439a792041f7cb676bc339dffccf30e165a9ec3

[33mcommit 7e0cc8fa8562ee220502209fedcf00bf1003d08c[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Jan 30 17:07:14 2018 -0800

    Update libcalico-go to 8439a792041f7cb676bc339dffccf30e165a9ec3

[33mcommit 42db9b19207d6130e838e289d8326ec079629e1a[m
Author: Spike Curtis <spike@tigera.io>
Date:   Tue Jan 30 14:44:20 2018 -0800

    Fix flex volume server issues.

[33mcommit bb7a4f9e4896e9e214dce03116a27e49c36bcfb4[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Jan 30 19:31:26 2018 +0000

    Added UT for host ip manager and multi mark match.

[33mcommit a10b960626cda91fc9079df9ce35ec655c8b86d0[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Jan 30 18:10:30 2018 +0000

    More Markup and fix UT.

[33mcommit 7176e51dd5f0aee8550ac934c25d059410ccd134[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Jan 30 16:16:00 2018 +0000

    Markup for review.

[33mcommit b14c76283acc0539f2f616c948886ad34d513e06[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 30 15:28:11 2018 +0000

    Add tests with network sets that have overlapping CIDRs.

[33mcommit 78f05f3726d48a63da2118bc83023fc760c9d531[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 30 14:28:57 2018 +0000

    Tweak conenctivity check failure test.

[33mcommit d7c91abb98a2270bf8d32bdcf3c3965cb5a5ce0b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 30 14:19:20 2018 +0000

    Add more FV tests for network sets.

[33mcommit 20dcc22c1990e473ec93ace67e9433dc893b153f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 30 13:52:28 2018 +0000

    Add more netowrk sets FV tests.

[33mcommit aa93207cc9e35d93efdd2cbeae31727526869b60[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 30 11:57:43 2018 +0000

    Check for leaked connectivity checkers.

[33mcommit bf9f9dd26339e71d0cc2ff5ccff2cfcdfc5982eb[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Jan 30 11:18:35 2018 +0000

    Fix UT for markbits.

[33mcommit 17d1a4411fb8c63f425f9a88d46b5612baf1f45e[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jan 29 19:10:52 2018 +0000

    Added more UT.

[33mcommit 4ef763bcd116b09d7e945893da9896d09d230a20[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jan 29 18:08:24 2018 +0000

    Added UT for mark_bits.

[33mcommit 816fd85546ab4df2e1f3abe46e588dc93f121c4b[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jan 29 18:07:23 2018 +0000

    UT for Markbits bits allocation.

[33mcommit eaec99daccb1669d5cb456f7269afe3ff0925ec7[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Jan 29 16:34:37 2018 +0000

    Kick the tyres, first message through the policy sync API.

[33mcommit 33a1830de87e3655f5937a8ed7037514c5ef0721[m
Merge: 8b316108 91df5999
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 29 15:49:17 2018 +0000

    Merge pull request #1686 from neiljerram/calico-diags-etcdv3
    
    calico-diags: Dump etcdv3 data as well as etcdv2

[33mcommit cb04375fa4026ce63f57043ea231f8f0e25278e7[m
Author: Song Jiang <song@tigera.io>
Date:   Mon Jan 29 14:42:33 2018 +0000

    Added KubeNodePortRange and fix UT for it.

[33mcommit bfcb59ffccef56a5f7729ad8926497bc83703623[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Jan 29 14:14:44 2018 +0000

    Update to use flex-volume prototype.
    
    - WiP on listeneing for flex volume API calls.
    - Have workload API server allocate join UIDs.

[33mcommit 91df5999721e45398486d200d882fb57e7ea94c2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Jan 28 22:01:55 2018 +0000

    eval needed if ETCDCTL_V3 includes ETCDCTL_API=3

[33mcommit c53dbe5d4ce6c15dc5fa8fe4288ed63c081512b9[m
Author: Song Jiang <song@tigera.io>
Date:   Sun Jan 28 20:44:37 2018 +0000

    Fix UT for rules.

[33mcommit a06bcea587f6c91375a0439a340d1bf2aba85bf6[m
Author: Song Jiang <song@tigera.io>
Date:   Sun Jan 28 11:57:17 2018 +0000

    Pass UT for dataplane.

[33mcommit b43067fa4c3e88571e932adf608e3c2d07654957[m
Author: Song Jiang <song@tigera.io>
Date:   Sat Jan 27 16:48:29 2018 +0000

    Refactor epMark.

[33mcommit 40a692d36e36011941f02a4c83fc5b77d24b4023[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Jan 26 15:55:55 2018 -0800

    WIP Policy Sync server

[33mcommit 8221aa628d483d9b9b44c29a4737e9eea60f975b[m
Author: Spike Curtis <spike@tigera.io>
Date:   Fri Jan 26 15:23:25 2018 -0800

    WIP processor handles wep, policy, profiles.

[33mcommit fdaa3c65dcb6f7e144cd8a9d2a9191eb6eb20de6[m
Author: Song Jiang <song@tigera.io>
Date:   Fri Jan 26 21:15:35 2018 +0000

    Added host ipsets.

[33mcommit dc0708968ca53c59a206cef1cafa2b5ffe2fa572[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Jan 26 19:11:46 2018 +0000

    WiP on Processor.
    
    - Add machinery to keep track of joining/leaving connections.
    - TODO: actually accept and process connections!

[33mcommit eed24e867ff1cf7ac89779770ca942ef53e38cd1[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Jan 26 14:23:16 2018 +0000

    Make k8s API server startup retry on failure.

[33mcommit 560a72e371fcb362d7c3b71370bceca3bb053ad7[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Jan 26 13:28:50 2018 +0000

    Use CheckConnectivity everywhere.  Make sure connectivity check is retried at least once.

[33mcommit 942293312617db535ad9f6445e4644b1dd06086c[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Jan 26 13:10:28 2018 +0000

    Increase connectivity check timeout.

[33mcommit 0e4ed5d27002437db89e1d6d2f2fd03263e66291[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Jan 25 16:51:28 2018 -0800

    WIP Policy Sync API Processor

[33mcommit 74323ce5e1912435c77d90c4473ebae8301d4cc4[m
Author: Spike Curtis <spike@tigera.io>
Date:   Thu Jan 25 15:30:13 2018 -0800

    Glide up and UTs running.

[33mcommit f3bfcc4f79e04d03faa2c7755d55a699c6b3556e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 16:13:23 2018 +0000

    Avoid debug logs, they clog the pipe.

[33mcommit 3657ae1c1f4c4a6c84cb726bde66d7f44e39864d[m
Author: Song Jiang <song@tigera.io>
Date:   Fri Jan 19 23:11:34 2018 +0000

    Added EPM and rules for ipvs workload egress.

[33mcommit ea18c8187a4d9cbecb0ef2b89d94161baf619ba8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 15:50:22 2018 +0000

    Make sure docker run is dead before waiting on its logs.

[33mcommit 10367679a4813d7c1651a955b3facdce4f60b60d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 15:15:18 2018 +0000

    Reduce default log level.

[33mcommit 3667066f89e839ee9fe38a3c82f4a652aac99443[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 25 14:59:06 2018 +0000

    Actually think ${ETCDCTL_V3} should include "ETCDCTL_API=3"

[33mcommit fe2e6fb6b99c7c6cc4b277af69373d09f476ab97[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 25 14:41:23 2018 +0000

    calico-diags: Dump etcdv3 data as well as etcdv2

[33mcommit 426faf7cf180bacb28ac81360791a4c29f2670b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 14:12:52 2018 +0000

    Add timeouts to container stop operations.

[33mcommit fb3450ee108d4ac41ce6eeb72c97006bec747059[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 11:22:28 2018 +0000

    Tweak churn test:
    
    - log at debug to ensure we get diags if it ever does fail
    - increase policy churns to balance with netsets.

[33mcommit 4f80dadefe9237a9783ee4234cee4920e45e2529[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 11:22:05 2018 +0000

    Fix that the scanner buffer was too small to read some felix debug log lines.

[33mcommit dfe88fe1991d2e399900c794881b49268a7873d5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 25 11:21:12 2018 +0000

    Beef up tear down processing
    
    - Wait for logs to finish.
    - Escalate to kill if needed.
    - Use docker stop as well as interrupting the docker run process.

[33mcommit 72dc513ae36231e01e8ea2cb9c0a9d6a2c9b559d[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Jan 24 17:14:49 2018 +0000

    Code review markups.

[33mcommit baf0c6acbdf564c63f47e93d9090c60b39c54b3a[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Jan 24 15:07:54 2018 +0000

    WiP

[33mcommit 1ed69c3aa726a7b5c631dbdd081a728145019b75[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Jan 24 11:18:58 2018 +0000

    Add service to the protobuf spec. Rev libs for compatibility.

[33mcommit 1be8e0912b08fa32d161ff7b9ccce1a432f4814d[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Jan 23 14:49:18 2018 +0000

    Update Typha pin.

[33mcommit 15a79f6c86df97721c835946c0bd7ae902ed7d12[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Jan 23 14:24:24 2018 +0000

    Update Windows driver to document that IP sets now contain CIDRs.

[33mcommit 8fcd6ff840f574a954fcf281edcc4dc02a5aa05d[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Jan 23 14:10:52 2018 +0000

    Rev libcalico-go after merging GlobalNetworkSet.

[33mcommit 0f30e1873cc1a78265f0f093c9de4ece4f674634[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 22 18:13:15 2018 +0000

    Add a basic connectivity test for network sets.

[33mcommit 405f6779b65056a647db06094b611bae96e68f02[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 22 16:55:36 2018 +0000

    Add basic FV churn test for network sets.

[33mcommit 662d2fba3d38baeba666888ae1bad967c6594d50[m
Merge: 384bf395 8b316108
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 17 11:53:10 2018 +0000

    Merge remote-tracking branch 'origin/master' into 3.x-netsets

[33mcommit 8b31610827dc07cbc957e3f53f3788468c985dfc[m
Merge: e2302752 a26c79c7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 17 09:47:37 2018 +0000

    Merge pull request #1682 from neiljerram/remove-confluence-link
    
    Remove Tigera-specific Confluence note

[33mcommit a26c79c7824c596b32ef94d0f43d50d79901a3fa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 17 08:53:08 2018 +0000

    Remove Tigera-specific Confluence note

[33mcommit e2302752c97b6cdb7dbf09d6e95ede0d4c3b1074[m
Merge: 88e31de5 25b67990
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 11 13:31:02 2018 +0000

    Merge pull request #1681 from fasaxc/log-to-stdout
    
    Change to log to stdout by default.

[33mcommit 25b67990ec326ff0842f96e316b6a3dedba3ca7b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 11 11:53:57 2018 +0000

    Change to log to stdout by default.
    
    Prevents the default configuration of, for example, fluentd, from
    treating all or logs as errors.

[33mcommit 88e31de5392340ac50f1c35a9eeb37e55a99d5b2[m
Merge: 4411c527 7b44955b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 2 15:45:53 2018 +0000

    Merge pull request #1680 from neiljerram/dedupe-package-doc
    
    Deduplicate doc on package publication

[33mcommit 7b44955b09a59cd388689a04da510ba53b8795bd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 2 15:41:39 2018 +0000

    Review markups

[33mcommit 4411c52754b629d82f6be2e73b6cb356de4acaeb[m
Merge: 808349ea 1b2be512
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 2 14:47:28 2018 +0000

    Merge pull request #1665 from fasaxc/workload-retry
    
    Have workloads retry namespace creation.

[33mcommit 5612f63e97b0c47366367695d4e88d365f11c9c8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 29 15:47:35 2017 +0000

    Deduplicate doc on package publication
    
    Remove Tigera-specific package publication details from RELEASING.md.
    Also remove the para on building development packages, as this is
    unrelated to releasing.

[33mcommit 808349ea53ae648392b301ce3c89d1c3a6b1ddf0[m
Merge: a1312760 e4b26f8a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 2 11:13:33 2018 +0000

    Merge pull request #1675 from neiljerram/retry-LinkByName
    
    Allow time for newly created veth to reflect back to user space

[33mcommit a1312760ce54c235b6f83e0cef26a063d4cfd157[m
Merge: 757dc44c 07fae81a
Author: Brendan Creane <bcreane@users.noreply.github.com>
Date:   Fri Dec 22 19:46:26 2017 -0800

    Merge pull request #1678 from bcreane/deb-rpm-packages-v3.0.1
    
    deb + rpm packages for v3.0.1

[33mcommit 07fae81aa26987a904ac4c1a6256da3412409ecd[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Fri Dec 22 16:56:18 2017 -0800

    deb + rpm packages for v3.0.1

[33mcommit 757dc44c66925c407f7805f3a5b5d53943674939[m[33m ([m[1;33mtag: 3.0.1[m[33m)[m
Merge: 3c943e8f 86e80ad9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 22 17:40:59 2017 +0000

    Merge pull request #1677 from fasaxc/3.0.x-report-ready-when-not
    
    Report ready while waiting for the ready flag.

[33mcommit 86e80ad94691c228b72f235863d45a6cc329ecbe[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 22 17:17:00 2017 +0000

    Fix up FVs.

[33mcommit 12b4804e6d859b7e8803db4618b491357b6d7278[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 22 17:07:18 2017 +0000

    Report ready while waiting for the ready flag.
    
    Needed to allow k8s rolling upgrade to work.

[33mcommit e4b26f8af25a57e7c4d90ca46dd04328f32102b6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 22 14:52:03 2017 +0000

    Allow time for newly created veth to reflect back to user space

[33mcommit 3c943e8f7fa86e4cb904904f4870f1f3f14a6e72[m
Merge: 26193cbf ac913d88
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 22 15:02:39 2017 +0000

    Merge pull request #1674 from neiljerram/packaging-3.0.0
    
    Deb/RPM packaging for Calico 3.0.0

[33mcommit 26193cbf577e5a15b2050fac6a2d74ee8aa8e170[m
Merge: 0fc6d7fe 777998d3
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 22 14:43:03 2017 +0000

    Merge pull request #1673 from fasaxc/fix-docker-tagging
    
    Make sure we tag a docker image for quay.io too.

[33mcommit ac913d889ce12e577b8a506b192c24eb2ca11d7b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 22 14:17:39 2017 +0000

    Deb/RPM packaging for Calico 3.0.0

[33mcommit 777998d34a352a1779498feb1d66c788f6890437[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 22 09:38:37 2017 +0000

    Make sure we tag a docker image for quay.io too.

[33mcommit 0fc6d7fee7fd254dd78f6910b60c068f48569dfe[m[33m ([m[1;33mtag: 3.0.0[m[33m)[m
Merge: d6e62408 0e6f1f19
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 21 16:26:54 2017 +0000

    Merge pull request #1669 from bcreane/rpmbuild-ignores-extra-matches-master
    
    scrape just the most recent Version: when inferring version

[33mcommit d6e62408ec7da8303cba4606a22c01872d6ff80f[m
Merge: 80cf3ac9 52b4603d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 21 11:30:13 2017 +0000

    Merge pull request #1666 from neiljerram/fv-infra
    
    FV infrastructure enhancements

[33mcommit 0e6f1f1909ebd5232e2b0aad2e6f86a12e9ab083[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Wed Dec 20 16:49:45 2017 -0800

    scrape just the most recent Version: when inferring version

[33mcommit 52b4603d191f2d8b3c98a82128be3f3a6111db88[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 8 22:09:03 2017 +0000

    Add var holding output from last utils.Run

[33mcommit f159c2828f8e8ccbca18682f251983f1d30eba22[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 7 17:14:33 2017 +0000

    Add convenience script for rerunning FV suite
    
    Example: FV_LOG_LEVEL=info ./run-test -v
    
    Compared to 'make fv', this script is quicker because it does not
    unconditionally rebuild all the FV-related binaries.  It _does_ still
    rebuild the FV suite test code if needed.

[33mcommit a69a4f06c73ebbf50420e110597a2cbfcc706350[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 20 17:10:55 2017 +0000

    Set up k8s API server only when first needed for a test
    
    As part of this, the k8s API server setup/teardown code is also moved
    into a subpackage.

[33mcommit 80cf3ac9ff5296e954c2a71691db51eda5c30474[m
Merge: e141647f 0e4c32e8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 20 13:39:54 2017 +0000

    Merge pull request #1664 from fasaxc/always-return-pids
    
    Always return a slice from GetPIDs.

[33mcommit e141647f9dac66aa4569a30e3819db158e500817[m
Merge: 14b3d823 4392d153
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 20 13:39:25 2017 +0000

    Merge pull request #1661 from fasaxc/avoid-reconnect
    
    Avoid reconnecting just to check the ready flag.

[33mcommit 0e4c32e8873fc39d965608e6629067d138db8fc7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 20 11:52:38 2017 +0000

    Always return a slice from GetPIDs.
    
    Previously, we'd fail if there were no PIDs because felix was restarting.

[33mcommit 1b2be5125cb9049e9ebf28973bbabba7c3c93660[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 20 11:15:35 2017 +0000

    Have workloads retry namespace creation.
    
    Speculative fix for #1663

[33mcommit 4392d153f7795ce071023ca346ee26040dc973fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 20 11:14:35 2017 +0000

    Self review markups.

[33mcommit 3d37cb35c7da3c20fe0b0ccda80721226857ac46[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 19 21:22:23 2017 +0000

    Cap the number of datastore reconnections before restarting felix.

[33mcommit 8bc2fb2be1063e575fe9f31e9636d13c0ed50d0d[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 19 21:09:16 2017 +0000

    Avoid reconnecting just to check the ready flag.

[33mcommit 14b3d8237d45ded413fa774e79f0f5bc6e6e98b7[m
Merge: 76b263d4 e83fa6b1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 19 19:06:49 2017 +0000

    Merge pull request #1660 from fasaxc/smc-rev-libcal
    
    Automated update of libcalico-go to 7c2de5ed8c029f222d87fc849b54c4075â€¦

[33mcommit e83fa6b1df665dc03549b33f94535efa220c856a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 19 18:47:24 2017 +0000

    Automated update of libcalico-go to 7c2de5ed8c029f222d87fc849b54c4075ef3173f

[33mcommit 76b263d45e075c8538ee32f4a5864a1d190469b2[m
Merge: fa15f177 d0a59315
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 19 14:29:59 2017 +0000

    Merge pull request #1659 from fasaxc/smc-rev-libcal
    
    Automated update of libcalico-go to c63959043fbfe61db5795781c7a6c848câ€¦

[33mcommit d0a5931513a91bda5179c5f275e23fb257b7a0ff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 19 14:09:27 2017 +0000

    Automated update of libcalico-go to c63959043fbfe61db5795781c7a6c848cf2cbe0d

[33mcommit fa15f1776244d1db9e30fcd99f51b8b99be509c8[m
Merge: d937868f 7386a8e1
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Mon Dec 18 17:57:53 2017 -0800

    Merge pull request #1658 from heschlie/automated-libcalico-update
    
    Automated update of libcalico-go to f2f6115910c93430d8d333f7b89421ab1â€¦

[33mcommit 7386a8e112f620ef1b184efacf5b580439b09e7a[m
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Mon Dec 18 17:17:29 2017 -0800

    Automated update of libcalico-go to f2f6115910c93430d8d333f7b89421ab1691ff0f

[33mcommit d937868fa4dc0dd04d61db280c8678ade6b18566[m
Merge: d2a8f3af e1311716
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 18 01:20:01 2017 +0000

    Merge pull request #1652 from neiljerram/live-when-not-ready
    
    Report health before datastore is ready

[33mcommit e1311716568d928d25f357edfe9c3d7d8c83ba6a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 18 00:57:20 2017 +0000

    Update libcalico-go and typha pins

[33mcommit 0de606be790316f4e0bf995dd78149e505662b5a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 15 20:42:27 2017 +0000

    Add FV test

[33mcommit 18b47c0c230439f8a36572c19ce9a138e9e95264[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 15 18:58:05 2017 +0000

    Report health before datastore is ready

[33mcommit d2a8f3afadff272c91937355c819eb7f773c9c1c[m
Merge: 9078a2ee 7ace28fd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 15 20:31:54 2017 +0000

    Merge pull request #1654 from fasaxc/fix-typha-health
    
    Update Typha liveness test to reflect post-migration behaviour.

[33mcommit 7ace28fd98c21cc46a18ae4caea81e854db8d6f4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 15 20:02:19 2017 +0000

    Update Typha liveness test to reflect post-migration behaviour.

[33mcommit 9078a2ee3132b7a1bff8b937f9ebc20a643e75f1[m
Merge: 357cdd9e 7a56e261
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 15 19:42:52 2017 +0000

    Merge pull request #1651 from fasaxc/test-versions
    
    Adjust test versions to be valid for migration.

[33mcommit 7a56e2612ede3d20763f3677b24dd1a316572703[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 15 18:54:23 2017 +0000

    Adjust test versions to be valid for migration.

[33mcommit 357cdd9e7fc181f56c6c197201aa39a6b0ba83c2[m
Merge: 27ed809e 34083393
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 14 18:23:13 2017 +0000

    Merge pull request #1649 from heschlie/felix-config-changes
    
    Felix config changes

[33mcommit 34083393c048daa05f5eab3a971cb148c9a7ece9[m
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Thu Dec 14 10:16:36 2017 -0800

    Bumping libcalico, fixing type error from netlink update

[33mcommit fd747d2c87709218282eae03283a9082140d8476[m
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Wed Dec 13 13:56:39 2017 -0800

    Revving tyhpa

[33mcommit 806fc11df97c934d2d6fdbb663c616bde86a68ec[m
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Wed Dec 13 10:22:06 2017 -0800

    formatting issues

[33mcommit bb4baffa09fc3f5b53acdd0f8bd0f57e2c6b7eba[m
Merge: 05e915fc 27ed809e
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Wed Dec 13 09:22:18 2017 -0800

    Merge branch 'master' of github.com:projectcalico/felix

[33mcommit 05e915fc609dbdd784ca5e7c3ce9dbf915e540a3[m
Author: Stephen Schlie <heschlie@gmail.com>
Date:   Wed Dec 13 09:21:52 2017 -0800

    Pulling in new libcalico-go with FelixConfig changes

[33mcommit 6cc3e555231af803a9ab1e4ab186b792c9df4d95[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 13 11:50:14 2017 +0000

    Change the version regex to require a "v", for consistency with outher repos.

[33mcommit 27ed809e52f5ff2b57861388e4bdd48708ac0970[m
Merge: 661afe22 6de68350
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 12 10:04:09 2017 +0000

    Merge pull request #1613 from fasaxc/workload-log
    
    Wait for stderr after an FV workload failure.

[33mcommit 661afe2211a7c5bfc96c3254b3e49ea12dd7b8ce[m
Merge: 24db6329 149c7f72
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 7 14:47:04 2017 +0000

    Merge pull request #1638 from nwoodmsft/master
    
    Add experimental support for Felix on Windows.  This has a number of limitations:
    - it requires a testing release of Windows Server
    - it only supports positive match criteria, due to limits in the Windows dataplane
    - some match criteria are further limited (no port ranges, for example)

[33mcommit 149c7f72a24d8824ace640ab9dc25ff0ebd018ef[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Wed Dec 6 15:11:17 2017 -0800

    Fixing felix.go goimport

[33mcommit 0bf01909311ba2bc3d1376ec26399e325ef82451[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Mon Dec 4 17:13:06 2017 -0800

    Fixing felix.go merge

[33mcommit 5ef638670278ce392b427d1265372b7294f67431[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Mon Dec 4 16:36:53 2017 -0800

    Addressing merge issues for the PR

[33mcommit f51feb1208af6ad5f817555e2490af6a32e60956[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Sat Dec 2 01:50:50 2017 -0800

    Addressing PR feedback

[33mcommit ac4d05eaf9673cbdabbd34d78bf14dc08d8dc75a[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Thu Nov 30 03:20:59 2017 -0800

    go-fmt updates and fixed windows dataplane unit test

[33mcommit 0a096f46fa544d9470d072f66ccbd55e163f5a8c[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Wed Nov 29 21:30:18 2017 -0800

    Remove monotime dependency

[33mcommit fa9500fdceb8edcc8fd783aa0e57873e19352c42[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Wed Nov 29 21:14:59 2017 -0800

    Adding copyright headers to new source files

[33mcommit a066229af548da731c36a15e5ccb401df788b111[m
Author: Nick Wood <nwood@microsoft.com>
Date:   Wed Nov 29 19:30:43 2017 -0800

    Enable Calico-Felix for Windows

[33mcommit 24db6329b0fd46cb1ec0847b16c4dacd9a98c0f6[m
Merge: 0da87fc6 1abe9373
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 4 17:34:19 2017 +0000

    Merge pull request #1645 from fasaxc/fix-config-delete-restart
    
    Fix that felix didn't restart when config was deleted.

[33mcommit 1abe93736f1f9e4e60239ad6b2605c090ae5300c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 4 16:55:28 2017 +0000

    Fix that felix didn't restart when config was deleted.

[33mcommit 0da87fc6fdca96170c550a7e3f13c71a26b94ad3[m
Merge: 76af7b9e 4f7fdd79
Author: Shaun Crampton <shaun@tigera.io>
Date:   Sun Dec 3 21:27:12 2017 +0000

    Merge pull request #1643 from fasaxc/smc-rev-libcal
    
    Automated update of libcalico-go to c07bf34a9a362e92e5e51853fd5fe03c2â€¦

[33mcommit 4f7fdd7939cd4d9fd038a72df24f64a941596bf6[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Sun Dec 3 21:13:52 2017 +0000

    Automated update of libcalico-go to c07bf34a9a362e92e5e51853fd5fe03c27ecf333

[33mcommit 76af7b9e318868e50eb831f11526b4882d47d975[m
Merge: 5a990f43 973e7a82
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 18:06:49 2017 +0000

    Merge pull request #1641 from fasaxc/fwd-port-config-ignore
    
    v3.0: Handle config changes for ClusterGUID, ClusterType, CalicoVersion.

[33mcommit 5a990f435510208e45807d03ae776c27d3952038[m
Merge: 14b7d264 ff083fbd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 14:32:12 2017 +0000

    Merge pull request #1642 from fasaxc/smc-rev-libcal
    
    Automated update of libcalico-go to 1fe1fb290389b4d14d85551a9cabf89cdâ€¦

[33mcommit 973e7a82d80f092da880435ed31c541b8ad238b1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 13:51:44 2017 +0000

    Add test to verify parity between config and FelixConfig.

[33mcommit de43ca0ec169f8952d3b6b779f24dd49b87a373e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 11:33:35 2017 +0000

    Port config update tests to v3 API.

[33mcommit 58f0239e5118aecaefb2076f15fd8e18caa87456[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 09:47:58 2017 +0000

    Merge pull request #1631 from fasaxc/ignore-cluster-version
    
    2.6.x: Handle config changes for ClusterGUID, ClusterType, CalicoVersion.
    
    Cherry picked from commit 6f20d36d2c4a092c0f01800222f1c141696f0e0a

[33mcommit ff083fbdd008d90a6d2e7e2f27986605e2ba4104[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 13:57:02 2017 +0000

    Automated update of libcalico-go to 1fe1fb290389b4d14d85551a9cabf89cd4f305ec

[33mcommit 14b7d2645850df18e06e4e6b824f769c465ff4d6[m
Merge: 0b4bc762 93433b2f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 1 09:45:48 2017 +0000

    Merge pull request #1636 from caseydavenport/fix-hostname
    
    Fix hostname detection so its lowercase

[33mcommit 93433b2f0152363090aff85c12140280ba03728f[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Nov 29 11:08:09 2017 -0800

    Fix hostname detection so its lowercase

[33mcommit 0b4bc76255b280121a997336704247b54c54c067[m
Merge: 06140d6a be85132a
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Nov 29 19:27:59 2017 -0800

    Merge pull request #1637 from colabsaumoh/upgrade-http
    
    update of libcalico-go to master

[33mcommit be85132a55d09665e697b95a1baa1620881b71ed[m
Author: Saurabh Mohan <saurabh+github@tigera.io>
Date:   Wed Nov 29 18:23:25 2017 -0800

    update of libcalico-go to master

[33mcommit 06140d6ab0c6f3f11644dfbb0c04768365277bf4[m
Merge: fd5b1b41 2ac87c2e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 29 15:13:15 2017 +0000

    Merge pull request #1635 from djlwilder/ppc64le-shell-wrapper
    
    Update ppc64le image to use calico-felix-wrapper.

[33mcommit fd5b1b414302fc21a02ebc4c70c28f8f3b750549[m
Merge: 0a785395 1699fd4e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 29 10:28:21 2017 +0000

    Merge pull request #1634 from fasaxc/master-con-batcher-fix
    
    Fix config batcher: unset dirty flag after flush.

[33mcommit 1699fd4ecdc1449574ae91488f73851b9ddced18[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 28 17:22:54 2017 +0000

    Wait for all-hosts IP set to converge before executing test.

[33mcommit 2ac87c2e4b17ccc9bf6c169481465441cdd89ef1[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Tue Nov 28 13:55:56 2017 -0800

    Update ppc64le image to use calico-felix-wrapper.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 7cd84d29eb2ba6d1e1c9202ef1a21929b0999de9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 28 14:48:27 2017 +0000

    Add UT for config batcher.

[33mcommit a9bc796e71bd5362f36a5b3cdcdf833bbf6cb230[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 27 16:15:46 2017 +0000

    Fix config batcher: unset dirty flag after flush.
    
    Tune logs to avoid Info-level spam for no-op updates.

[33mcommit 0a7853956b0919af5ed914d54aa13479eda8d0b0[m
Merge: 23f3b579 c0489702
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 16:13:58 2017 +0000

    Merge pull request #1628 from fasaxc/fix-filter-action
    
    Fix that the allow action override options didn't apply in all cases

[33mcommit 23f3b579c53f87388a901fcb232b60f2ab768112[m
Merge: 9379045d 2efbdbf8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 14:55:49 2017 +0000

    Merge pull request #1558 from fasaxc/allow-ipip
    
    Explicitly allow IPIP packets from/to Calico hosts.

[33mcommit 2efbdbf8c2722c44b09366531be424dee36c3330[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 14:40:59 2017 +0000

    Code review markups.

[33mcommit c0489702228a1c8687ad60902b57405d441b9095[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 11:25:14 2017 +0000

    Fix up compile error and add UTs for remaining ACCEPT->RETURN cases.

[33mcommit 5b1804137d4ae5eb46ba012c498235a4184671ab[m
Merge: 5d8d65c4 c92d1380
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 10:51:03 2017 +0000

    Merge remote-tracking branch 'origin/master' into pr-1561

[33mcommit 0b1be8c8564283c94fd98ea744625fce0da94cb6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 10:26:08 2017 +0000

    Remove loops from various places where the FVs start felix.

[33mcommit 67c49d52ec68d4a3152bfa60d3ec6ea04d7c532c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 10:15:57 2017 +0000

    Add FV tests for IPIP auto-allow function.

[33mcommit c9f3a5eeef311a2c051ca09da3badded4142632b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 10:12:51 2017 +0000

    Add a shell wrapper to calico/felix to restart felix for config changes.
    
    Handles SIGHUP in addition to felix-initiated restart.

[33mcommit 21f14791084714ad00c30ca66949d4e8b735f88e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 21 10:10:55 2017 +0000

    Add IPIP output rule for symmetry

[33mcommit 9379045d987d8a52bf9835c2b57857bb2648821e[m
Merge: 36ec03da 0115d7e4
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 21 09:54:46 2017 +0000

    Merge pull request #1620 from djlwilder/k8sfv-test-no-arch
    
    k8sfv.test updated to use image definitions from the Makefile.

[33mcommit 0115d7e41639f332d9705747fae0a055573613ae[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Mon Nov 20 15:50:27 2017 -0800

    Check if FV_K8SIMAGE and FV_TYPHAIMAGE are defined for k8s FV.
    
    The test will abort execution if typha or hyperkube images
    are not defined in the environment.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit b4804abe072228db7be0b6067b37dc2da9074213[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Mon Nov 20 15:42:16 2017 -0800

    Retire the uses of TYPHA_VERSION from the Makefile.
    
    Typha version is now part of the FV_TYPHAIMAGE variable.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 5533d930c57ed9f86d571ffead67dfb45427766b[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Tue Nov 7 16:37:41 2017 -0800

    k8sfv.test updated to use image definitions from the Makefile.
    
    Container versions previously defined in k8sfv.test are replace by
    image names:tags as defined in the Makefile with the variables:
    FV_ETCDIMAGE, FV_TYPHAIMAGE and FV_K8SIMAGE.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 36ec03daae77d32836199f1505a5ec50f252a7f2[m
Merge: 9ef7c7de 5f454602
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 20 14:09:57 2017 +0000

    Merge pull request #1626 from song-jiang/logconfig
    
    Fixed invalid option for logSeverity config parameter.

[33mcommit 9ef7c7dee22774c6e086a7c94e903e28fa9b2aed[m
Merge: cdb6df98 c10280c5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 20 11:26:30 2017 +0000

    Merge pull request #1627 from neiljerram/pkg-3.0.0-beta1
    
    Deb/RPM packaging for Calico 3.0.0-beta1

[33mcommit c10280c52ce957cc6e9c760a3b3a6f15f24e6a0f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 20 11:07:50 2017 +0000

    Deb/RPM packaging for Calico 3.0.0-beta1

[33mcommit cdb6df98db4b2430052c4b2eb62dcc2ff25ad19f[m
Merge: c92d1380 0ac42dd7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 20 11:00:01 2017 +0000

    Merge pull request #1571 from ozdanborne/fv-improvements-3
    
    Make it optional to auto-remove containers and add support for restarting stopped ones

[33mcommit 8efd6e06055cdb55e70f49c76d9707ff6c37f631[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 22 14:23:08 2017 +0100

    Explicitly allow IPIP packets from Calico hosts.
    
    Also, limit destination IP to local IPs in order to further limit traffic.
    
    This removes the need for an explicit policy rule when using IPIP and host protection together.
    
    Fixes https://github.com/projectcalico/calico/issues/888

[33mcommit 5f454602246c3d208db3b29dbcc7b4e0fcc1b26a[m
Author: song jiang <song@tigera.io>
Date:   Fri Nov 17 11:30:31 2017 +0000

    Fix invalid option for logSeverity config parameter.

[33mcommit c92d13804273dfa430cbdd15b106e02af231c0a0[m[33m ([m[1;33mtag: 3.0.0-beta1[m[33m)[m
Merge: 8cb27cae 98ef2233
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Nov 16 22:48:34 2017 -0800

    Merge pull request #1625 from caseydavenport/automated-libcalico-update
    
    Automated update of libcalico-go to master

[33mcommit 98ef2233ffebb9847dda94c8d5500221f05ac6b5[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Nov 16 17:58:26 2017 -0800

    Update tests for validation

[33mcommit dec7b65891113b49a053c56da8800cb6933fdfff[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Nov 16 16:25:30 2017 -0800

    Automated update of libcalico-go to master

[33mcommit 0ac42dd70a858f4301ad460554d3b4386e6ea5ec[m
Author: Dan Osborne <djosborne10@gmail.com>
Date:   Fri Oct 20 14:25:24 2017 -0700

    Make deletion of stopped containers optional.

[33mcommit 8cb27cae5e5a0ca85c9b65f80d2949e28cf46910[m
Merge: fe4c2a5c 3c87fe2e
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Tue Nov 14 13:20:43 2017 -0800

    Merge pull request #1622 from robbrockbank/automated-libcalico-update
    
    Automated update of libcalico-go to 250cb94738bf94032f2af491e362543f346cfac9

[33mcommit 3c87fe2e798de5397c871c7f380bea704204a64f[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Nov 14 11:24:12 2017 -0800

    Automated update of libcalico-go to 250cb94738bf94032f2af491e362543f346cfac9

[33mcommit fe4c2a5c8fed3cc44b261fddc291e05a81daf651[m
Merge: 07ac30d6 518dbc35
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Sat Nov 11 16:02:04 2017 -0800

    Merge pull request #1619 from projectcalico/v2-to-v3
    
    Update libcalico-go and typha rev and update v2->v3

[33mcommit 518dbc352494a962e46d50f8bfe72a70c86951bf[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri Nov 10 20:20:46 2017 -0800

    Update libcalico-go and typha revisions.  Update versioning from v2->v3.

[33mcommit 07ac30d642849b2e5ebf21a0b0aa72c5b827fe6c[m
Merge: 7903adf8 2a1fe43f
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Fri Nov 10 14:48:07 2017 -0800

    Merge pull request #1618 from robbrockbank/automated-libcalico-update
    
    Automated update of libcalico-go to a3f05bbf5b10693a0396f805c73f1dcebf985592

[33mcommit 2a1fe43f746a98e35b2616d7538f0f7f6a871cab[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri Nov 10 13:42:30 2017 -0800

    Automated update of libcalico-go to a3f05bbf5b10693a0396f805c73f1dcebf985592

[33mcommit 7903adf86737a3654660986bc9017bb30ce9f41a[m
Merge: b9523459 dc794f6f
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Thu Nov 9 14:14:30 2017 -0800

    Merge pull request #1616 from robbrockbank/automated-libcalico-update
    
    Automated update of libcalico-go to 83fc14937b8584e65bd6c959c0a85256a2d31e28

[33mcommit dc794f6fb86fc85234132dcce5e00cc428da5fe3[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Nov 9 12:35:41 2017 -0800

    Automated update of libcalico-go to 83fc14937b8584e65bd6c959c0a85256a2d31e28

[33mcommit b952345987d7282f77d10186fe6f6b15c744395b[m
Merge: 11a1c375 ff65c40e
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 9 16:51:58 2017 +0000

    Merge pull request #1615 from neiljerram/explicit-sockaddr-pin
    
    Explicitly pin go-sockaddr

[33mcommit ff65c40ed8a4ba2b574adeac615b32a016fae3df[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 9 15:49:31 2017 +0000

    Explicitly pin go-sockaddr

[33mcommit 11a1c3752e0cc7953ac276047ef4087a5048d277[m
Merge: 96b3c1f6 95ff098e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 9 13:16:35 2017 +0000

    Merge pull request #1614 from neiljerram/rev-lcg
    
    Bump libcalico-go

[33mcommit 95ff098e065f94445aaea5a1136a87e066a19eb6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 9 12:14:39 2017 +0000

    Bump libcalico-go

[33mcommit 6de683500ced1d2c4b31298d8ac196addf315985[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 9 10:03:42 2017 +0000

    Wait for stderr after a workload failure.

[33mcommit 96b3c1f6d76c92a3209a3e67cd3cb488a52b2fd1[m
Merge: 7130b0e6 2d648da8
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Wed Nov 8 13:19:00 2017 -0800

    Merge pull request #1611 from caseydavenport/update-glide
    
    Update glide

[33mcommit 2d648da8f5861d7139301bf270e63310bf967093[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Wed Nov 8 12:02:06 2017 -0800

    Update glide

[33mcommit 7130b0e60c168d14cc8f5345f309c362fa3c6b72[m
Merge: 51ef5015 c6ad61fe
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 8 18:23:17 2017 +0000

    Merge pull request #1609 from fasaxc/ready-flag
    
    Reinstate the ready flag

[33mcommit c6ad61fe448dd5e10dbe97640772e616c486cd7b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 8 17:07:56 2017 +0000

    Update libcalico-go and typha pins after merge of ready flag.

[33mcommit 529bba95678d7467ca4069c69c543c68f4f3de4b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 8 15:37:34 2017 +0000

    PRevent config churn by including typha in cluster type.

[33mcommit 1e1e991e6ed6f13dd7a1d1abfaa13bd8e56f6a8e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 8 13:47:40 2017 +0000

    Update to use bools for ReadyFlag.

[33mcommit 51ef5015b1166b8af12331077d3b37f1f12eb88b[m
Merge: c28255d8 0bfe8848
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 8 10:59:24 2017 +0000

    Merge pull request #1608 from neiljerram/pkg-3.0.0-alpha1
    
    Deb/RPM packaging for Calico 3.0.0-alpha1

[33mcommit bc838055b26c7b0519bd5bbd118082b64dd3ae83[m
Merge: 90f60fa9 c28255d8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 8 10:56:44 2017 +0000

    Merge remote-tracking branch 'origin/master' into ready-flag

[33mcommit 0bfe8848938fd522c49baad1793e9dff518d302a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 7 23:17:53 2017 +0000

    Deb/RPM packaging for Calico 3.0.0-alpha1

[33mcommit 90f60fa99c281e11a735efbcecd16fbd7a360c7f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 7 19:54:52 2017 +0000

    Update glide.lock.

[33mcommit c28255d85a3937786e02ee394cb48f0e2ff0d800[m
Merge: 08f4f2f9 b24e2b5a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 7 11:07:26 2017 +0000

    Merge pull request #1607 from neiljerram/rev-libcalico-go
    
    Rev libcalico go

[33mcommit b24e2b5a8669f98f847b948dc30118b4dae68742[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 7 10:33:15 2017 +0000

    Set pod IP correctly, so that pod is not filtered out
    
    Specifying PodIP on a Create has never survived through the
    k8s-apiserver; you have to set the PodIP again on a following
    UpdateStatus call.
    (cf. https://github.com/projectcalico/felix/blob/master/k8sfv/pod.go#L96-L98)
    
    Now that we're filtering for IP, that is important, or else Felix never
    sees the pod creation.

[33mcommit baca82802a633c1d31a45c321bab6872f95e8c36[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Nov 6 16:52:24 2017 -0800

    Update libcalico

[33mcommit 08f4f2f920c41aca0a17631acd5bfcb2903b5eb4[m
Merge: 11c23abc c0d48109
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 7 09:17:59 2017 +0000

    Merge pull request #1599 from djlwilder/override-fvs-images
    
    Allow override of Typha and Hyperkube images in FVs.

[33mcommit 97bbc59712219086c1e5385cf63395a7ae628042[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 3 18:55:18 2017 +0000

    WiP on fixing up tests to use ready flag.

[33mcommit c0d48109d5ca9a6984b56df30eb34125ac0e091c[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Wed Nov 1 10:32:34 2017 -0700

    Allow override of Typha and Hyperkube images in FVs
    
    Image names are selected in the Makefile.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 11c23abc9cfbd78ac899154e2d6bf8d76ea2edef[m
Merge: c3a6bdc5 8e75838c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 3 17:05:53 2017 +0000

    Merge pull request #1603 from fasaxc/makefile-opt
    
    Avoid running glide install after glide up.

[33mcommit c3a6bdc5560b469c48d0315645535c89e33b433c[m
Merge: 4e431e6f 0dbe4874
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Fri Nov 3 09:01:51 2017 -0700

    Merge pull request #1602 from fasaxc/rev-libcalico-go
    
    Update libcalico to get namespace selector support

[33mcommit 3b753b12461c2e308aa1cbdba7d6830057224953[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 3 15:29:22 2017 +0000

    Reinstate the ready flag.

[33mcommit 8e75838c243120692e54979f29df7af3213bdafc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 3 15:22:12 2017 +0000

    Avoid running glide instlaler after glide up.

[33mcommit 0dbe4874ce33177b99e933ce9cd0c1628eb7f1c0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 3 09:39:26 2017 +0000

    Rev typha to match libcalico-go verion.

[33mcommit 4e431e6f975e6fdfe06594aa215ca99299c622ce[m
Merge: 1c21c287 63bdae8f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 3 09:29:13 2017 +0000

    Merge pull request #1600 from djlwilder/fv-fixes
    
    Adjust timeouts and parallel executions in FVs.

[33mcommit 0c07ebe6cf80676f7244f4e7862e2e6f216f790b[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Thu Nov 2 19:20:10 2017 -0700

    Update libcalico to get namespace selector support

[33mcommit 1c21c287fc2055807b50c48497239df1f5b2a60b[m
Merge: 743d9ea5 262980b0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 2 10:01:36 2017 +0000

    Merge pull request #1598 from fasaxc/rev-go-build-0.9
    
    Rev go build to v0.9

[33mcommit 63bdae8f14a2b4e4d6348e31d418282875827efb[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Wed Nov 1 14:05:51 2017 -0700

    Adjust timeouts and parallel executions in FVs.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 262980b00ef3c05899eff38e55c74214aa32c4bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 1 18:44:03 2017 +0000

    Code review markups.

[33mcommit 743d9ea572272edd018895a4e074d31886cbcb88[m
Merge: 67e56d84 e1f6022a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 1 11:14:29 2017 +0000

    Merge pull request #1596 from neiljerram/custom-etcd-image
    
    Allow override of etcd image in FVs

[33mcommit 3c7177580fb187650672c601a6257ce57cece075[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 31 14:46:05 2017 +0000

    Remove monotime dependency.
    
    Fixes #1405

[33mcommit c5fccfc2decb17194208fdbdc96b4f6fd510dddf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 31 14:45:19 2017 +0000

    Rev go-build to v0.9 to pick up go 1.9.2.

[33mcommit e1f6022acf56ee2bd2dab11b1330af6fa96ed1a3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Oct 31 10:09:52 2017 +0000

    Allow override of etcd image in FVs

[33mcommit 67e56d846e5ba564a76d544289f466c48bbcc982[m
Merge: 2af37a93 ce20f8ee
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 31 09:34:36 2017 +0000

    Merge pull request #1595 from djlwilder/iptables_lock_test-performance
    
    Improve the performance of dockerd during iptables_lock_test.

[33mcommit ce20f8ee2a9a87bed03c8efd09a7be6b0893c320[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Mon Oct 30 14:14:34 2017 -0700

    Improve the performance of dockerd during iptables_lock_test.
    
    Adding one a one second sleep inside the tight loop running docker
    commands and increasing the time to wait for a container to start
    to 60 seconds.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 2af37a9308174205dfccf620b00fb2b5eb732864[m[33m ([m[1;33mtag: 3.0.0-alpha1[m[33m)[m
Merge: eb4e2bb7 40738afd
Author: Neil Jerram <neil@tigera.io>
Date:   Sat Oct 28 16:25:28 2017 +0100

    Merge pull request #1593 from neiljerram/rev-libcalico-go
    
    Rev to latest libcalico-go (and Typha)

[33mcommit 40738afd55169ad411673b3b8901a55ba0e02afa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sat Oct 28 13:23:34 2017 +0100

    Rev to latest libcalico-go (and Typha)
    
    Specifically to get the labels -> labelsToApply change

[33mcommit eb4e2bb7c1397f3857cdc6af5f61e0271a0a2fe9[m
Merge: b9181b6c 21cd1cf7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 27 12:13:30 2017 +0100

    Merge pull request #1589 from djlwilder/fv-performance
    
    Improve the performance of dockerd during fv.

[33mcommit b9181b6c58a7100867841bb623329b4cf906e466[m
Merge: 5075dce9 b9bbae76
Author: Gunjan Patel <patelgunjan5@gmail.com>
Date:   Thu Oct 26 17:12:37 2017 -0700

    Merge pull request #1591 from gunjan5/pr-thingy
    
    Comment out the PR template message

[33mcommit b9bbae7671af736ebecce271baf612077e976d38[m
Author: gunjan5 <patelgunjan5@gmail.com>
Date:   Thu Oct 26 16:37:14 2017 -0700

    Comment out the PR template message

[33mcommit 5075dce9678e46031c22fe7f0278bee7c5d0d9c5[m
Merge: ee952bfd 71815112
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 26 16:25:37 2017 +0100

    Merge pull request #1590 from fasaxc/reinstate-fv-health
    
    Reinstate health check FVs

[33mcommit 71815112ebffa3bf5797617152c6ce2baa29fca5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 26 15:29:43 2017 +0100

    Adjust health tests to trigger iptables programming by creating a pod.

[33mcommit ee952bfd3cd117b90579c01c4afcba6e2ca22af9[m
Merge: 071efcf0 34986dac
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 26 15:18:17 2017 +0100

    Merge pull request #1584 from song-jiang/failsafe-default
    
    Added BGP and etcd ports to default failsafe port list.

[33mcommit 25d810c82044aeb2ca77de50dbb99e73ffa83172[m
Merge: c84432e6 071efcf0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 26 14:06:38 2017 +0100

    Merge remote-tracking branch 'origin/master' into reinstate-fv-health

[33mcommit 34986dac6292d5237b4cf28fe8ca13a03ddcd0b2[m
Author: Song Jiang <song@tigera.io>
Date:   Tue Oct 24 16:54:02 2017 +0100

    Updated failsafe port list, make sure bgp and etcd traffic can go through.

[33mcommit c84432e65e82cd9123e6572ef9fc45b49560e7be[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 26 12:26:19 2017 +0100

    Work in progress

[33mcommit 21cd1cf71776aab8f3ebd0d52ad2b44213171ecf[m
Author: David J. Wilder <wilder@us.ibm.com>
Date:   Wed Oct 25 11:07:19 2017 -0700

    Improve the performance of dockerd during fv.
    
    Adding one a one second sleep inside the for-loop of WaitUntilRunning()
    and increasing the sleep time in WaitUntilRunning() to reduce the stress
    and on dockerd during parallel testing.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 071efcf0bc08bf7f2a97d7cabfef5ec53d9a4553[m
Merge: 8bcbc2a6 6f439fc3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 25 17:15:48 2017 +0100

    Merge pull request #1587 from fasaxc/pod-link
    
    Use ip link instead of netlink library to set test veth up
    
    If it fails using this mechanism, at least that's a datapoint.

[33mcommit 6f439fc3e12d9df53f6294211cb7457d86d37e7f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 25 14:34:18 2017 +0100

    Switch to 'ip link set up' for operation to enabled veth.
    
    Worry was that the link struct was being loaded outside the namespace.

[33mcommit 8bcbc2a675620b668a875dc17ace91a9cc6a552b[m
Merge: 6e15323b c76079b3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 25 13:44:36 2017 +0100

    Merge pull request #1586 from fasaxc/wait-for-metrics
    
    k8sfv: wait for Felix metrics to sync after adding/deleting pods.

[33mcommit 6e15323b7385cfaeb98a1dac76f79f47b246bec5[m
Merge: 0aba6bc5 9faeca7a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 25 11:46:07 2017 +0100

    Merge pull request #1585 from caseydavenport/update-libcalico
    
    Update libcalico

[33mcommit c76079b32b68a7f269d616abbe0c1f257107ffe4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 25 11:42:43 2017 +0100

    k8sfv: wait for Felix metrics to sync after adding/deleting pods.

[33mcommit 9faeca7a145aa6c0e31a910981cbd004d5514f90[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Tue Oct 24 18:24:49 2017 -0700

    Update libcalico

[33mcommit 384bf3951a88083764a231f982728c0b2b04107e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 24 13:12:26 2017 +0100

    WiP on netsets FV tests.

[33mcommit 27ceb19257015324813e793326a372ad02af56c7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 23 17:25:35 2017 +0100

    Self review markups

[33mcommit 0aba6bc56f0a8990795e2ae491a13bd22b0c4683[m[33m ([m[1;33mtag: 3.0.0-alpha1-rc1[m[33m)[m
Merge: 67e3b31f eac982f4
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Oct 23 17:11:11 2017 -0700

    Merge pull request #1583 from caseydavenport/update-libcalico
    
    Update libcalico and corresponding label / profile names

[33mcommit eac982f48e487f521e325d2a9c20f38888beb333[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Oct 23 15:36:59 2017 -0700

    Fix some failing FVs by using GlobalNetworkPolicy instead of NP

[33mcommit 9644857ce200df0b6b5992a19ffba094aea6d5a9[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Oct 23 14:16:21 2017 -0700

    Update selectors so they are not namespaced

[33mcommit cdd5f2eb2f2195f0e019517b7cc842e34d64e462[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Mon Oct 23 13:29:36 2017 -0700

    Update libcalico and corresponding label / profile names

[33mcommit 577d81e89395201094445630831fd4c10c85cb0c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Oct 22 22:59:39 2017 +0100

    Use current master Typha

[33mcommit a0b9fd6dfe9c6cef24f447c766498d4c20baf212[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Oct 22 22:53:55 2017 +0100

    Reinstate Felix FV health tests

[33mcommit 67e3b31f6fe6fbd98d2a7cf0e4dae4db95275e34[m
Merge: c28f4acb 987cc810
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 23 17:14:35 2017 +0100

    Merge pull request #1582 from neiljerram/felix-v3-config
    
    Felix v3 config

[33mcommit 58b33246ebaab293463130cd6163a99107c23a0d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 23 16:39:09 2017 +0100

    Switch back to hash:ip,port for named ports.
    
    Since network sets don't support named ports, we don't need to promote
    to hash:net,ip (which would cause an occupancy hit).

[33mcommit e471fc370ef7d8e85351a98ac176923567418c5b[m
Merge: fbe1a166 93df1d9d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 23 15:54:12 2017 +0100

    Merge branch '2.x-series' into 2.x-merge-netset-named-ports
    
    Merge network set support with named port support.  This was a large,
    manual merge because the two features overlap heavily.

[33mcommit 987cc810914943976cdffab502e860f01bc9b193[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 23 11:27:40 2017 +0100

    Allow Felix datastore config by both CALICO and FELIX env vars

[33mcommit c28f4acbf7f65100eabed7d9eedf5fa1c73fd9f4[m
Merge: 09c6bd41 610b090d
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 23 13:29:20 2017 +0100

    Merge pull request #1580 from neiljerram/config-change-logging
    
    Improve logging for config change

[33mcommit 3fbac6625765460695df0bdcf85022be59242fde[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Sat Oct 21 18:38:11 2017 -0700

    Use etcdv3 by default

[33mcommit 610b090dbcfec3873760d9b0da9e58e6372d7cfc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Oct 22 22:52:48 2017 +0100

    Improve logging for config change

[33mcommit 09c6bd41c4decee2ff64e800fc6ba336a81c2254[m
Merge: 6e89a42f dda57c5c
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Oct 22 21:39:49 2017 +0100

    Merge pull request #1579 from robbrockbank/parse-node-config
    
    Parse node config

[33mcommit dda57c5c58be1de96c1e40995494addb0fbda39b[m
Author: Casey Davenport <davenport.cas@gmail.com>
Date:   Sat Oct 21 20:09:42 2017 -0700

    Query v2 Node resource to get its config

[33mcommit 6e89a42f24e2a65094d7b5cc5875a848937784fc[m
Merge: 59dc67de eb821277
Author: Brendan Creane <bcreane@users.noreply.github.com>
Date:   Fri Oct 20 21:48:29 2017 -0700

    Merge pull request #1576 from bcreane/kdd_stop_polling_ds
    
    re-enable k8sfv tests, bump libcalico-go

[33mcommit eb8212779d2234946179344afa53def2df79823c[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Fri Oct 20 18:53:48 2017 -0700

    re-enable k8sfv tests, bump libcalico-go

[33mcommit 59dc67deb7d2f1bc5715ac0cffb12b457aee17a5[m
Merge: 2eb314e1 e762c3bd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 18:05:36 2017 +0100

    Merge pull request #1574 from neiljerram/fv-simplify-ipnet
    
    FV: simplify workload IPNet usage

[33mcommit 2eb314e1e22cb4d51bf91b96269a6245674ee6d4[m
Merge: 8b389302 7acdb275
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 18:03:54 2017 +0100

    Merge pull request #1575 from fasaxc/named-ports-dupes-master
    
    Merge named ports duplicate support to master

[33mcommit 7acdb275a7a7314312e505102fbc4f0a05b57f63[m
Merge: 8b389302 93df1d9d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 17:31:00 2017 +0100

    Merge remote-tracking branch 'origin/pre-v2' into named-ports-dupes-master

[33mcommit e762c3bdb042f56fc08fea53478fc3584764c21d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 20 16:49:44 2017 +0100

    FV: simplify workload IPNet usage

[33mcommit 93df1d9d1a2870805cb7600edc9dbb86ecefdea9[m
Merge: df020fc8 9c852238
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 16:49:26 2017 +0100

    Merge pull request #1573 from fasaxc/named-port-dupes
    
    Add support for named ports with duplicate names.

[33mcommit 9c85223835dcff22e78aa1647788b847f0093b05[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 16:13:55 2017 +0100

    Rev libcalico-go following merge.

[33mcommit 8b389302de3a8fc8ca39e6f92fa639a63d9d93a9[m
Merge: 8c995567 1d98faaf
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 16:04:35 2017 +0100

    Merge pull request #1572 from fasaxc/v2-config
    
    Use the v2 backend API to load configuration.

[33mcommit 1d98faaf0973da1c89ce2bca441f9e2e182fd71c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 15:54:34 2017 +0100

    Rev typha to sync libcalico-go versions.

[33mcommit 45344459d4d02eeab8190bd6b2f3f22ac164d1c8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 15:14:09 2017 +0100

    Code review markups.

[33mcommit 7b3d43282358a9c99cff2ec056f3afaf985595fb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 15:04:05 2017 +0100

    Add support for named ports with duplicate names.
    
    This was found to be required int he real world.

[33mcommit ee88a261017668b5b3a6fe72ff8aa8847c259a0c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 20 11:00:57 2017 +0100

    Use the v2 backend API to load configuration.
    
    The v2 backend API no longer support list operations for v1 models.

[33mcommit 8c9955679a2dd65e789994774003971c32db70b6[m
Merge: df020fc8 3faf96e5
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 20 01:22:23 2017 +0100

    Merge pull request #1570 from neiljerram/v3-integration
    
    Adapt Felix code and test for libcalico-go with v2 data model

[33mcommit 3faf96e52ce396af37d0fa3254d1a62a9ac80393[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Oct 20 00:58:09 2017 +0100

    Update to merged Typha code

[33mcommit c3df4fae252d9c908121843861197af6d94ddef2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 18 23:12:11 2017 +0100

    Hack Felix to ignore datastore ready flag

[33mcommit c07404231a849ff03217f063a636dc07e8adb875[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 19 22:31:37 2017 +0100

    Suppress KDD tests

[33mcommit d265ac2b66b11bfa2430ccfe15812bce7a574768[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 18 23:12:50 2017 +0100

    Use Eventually for initial etcd datastore connection

[33mcommit 3b9d49fd171494400b8d56c222d3facdba37f732[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 18 22:31:34 2017 +0100

    Don't call EnsureInitialized (etcd client)

[33mcommit 2de128cecd201d445d3f3def788f2b6182c4ae0d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 18 13:15:22 2017 +0100

    DatastoreType etcdv2 -> etcdv3

[33mcommit 243ea02155451f390a36eff2bb3d397d90fe9868[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 19 22:07:48 2017 +0100

    make update-vendor

[33mcommit f36e9df1e6f93e7aa9d260c3cf957e69f0fdd642[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Oct 17 14:23:47 2017 +0100

    Adapt code for new libcalico-go and k8s APIs
    
    Including:
    - CalicoAPIConfig now in apiconfig package
    - Convert FV Calico client calls to v2 API
    - Update FV Kubernetes client calls
    - Fix static license and linter checks

[33mcommit 54d216b985e5f17e1f48788b98d3813e7c07352c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 19 21:43:10 2017 +0100

    Update to current libcalico-go master
    
    Plus the same versions of other dependencies as libcalico-go now
    requires.

[33mcommit df020fc85e4c487d93545c92a99263356dc16a91[m
Merge: 62f215ec 736c546a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 19 15:10:35 2017 +0100

    Merge pull request #1567 from fasaxc/parallel-fv
    
    Run FV tests in parallel by copying ginkgo out of the build container.

[33mcommit 736c546ac17cefabad4ab033871578aa6bd29b51[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 19 13:39:49 2017 +0100

    Remove unnecessary mkdir

[33mcommit fbe1a1661f3ec8ab7de09412d19f33bdb6c1e00d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 18 15:54:26 2017 +0100

    Start of a churn test for network sets.  Doesn't terminate!

[33mcommit 5d8d65c4fe767b2ee220f1c6f2b9a3d206f04d5d[m
Merge: 50033d72 62f215ec
Author: Albert Vaca <albertvaka@gmail.com>
Date:   Tue Oct 17 12:43:14 2017 +0200

    Merge branch 'master' into allowaction

[33mcommit 39b01b44ee3a7aafab3a3863240819af2875f462[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 17 10:16:05 2017 +0100

    Record 2.7.0-pre2 release

[33mcommit 942db10fbf9edf8bb27251060360ed4c7da9893f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 16 19:01:14 2017 +0100

    Rev libcalico-go to pick up network sets fixes.

[33mcommit f80639d82478ef03813f5f128b65726cca36f2b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 16 13:49:58 2017 +0100

    Record the 2.7.0-pre1 release.

[33mcommit d0576c79963424597bd036d24cf4a9b1bae0be8b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 16 13:28:37 2017 +0100

    Rev typha to disable static check warning.

[33mcommit 2319407c42e66a04916397110521d1bcb90f377a[m
Merge: 64caa629 78973aec
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 16 10:07:41 2017 +0100

    Merge branch 'network-set' into network-sets-2.6

[33mcommit ee385d9cf51dfa775951ef444f240b6d693218d5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 16:40:38 2017 +0100

    Increase slow spec threshold to 40s.
    
    The health tests test real 30s timeouts so they tent to take 35s.

[33mcommit dac3c9564e7c7af08cab18396c9c3c131d19922c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 14:16:44 2017 +0100

    Run FV tests in parallel by copying ginkgo out of build container.

[33mcommit 62f215ec9bda26e4b9829d541d66a8fcf9c27f61[m
Merge: 084bb5e4 e6ce5522
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 13 14:40:22 2017 +0100

    Merge pull request #1534 from fasaxc/named-ports
    
    Implement support for named ports in policy

[33mcommit e6ce55228ea259fb07b683a1d7918eb1874e2f4e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 13 14:12:01 2017 +0100

    Rev libcalico-go to pick up resync loop fix.

[33mcommit 084bb5e463aea08ce3c58ff69fce8fe5449d1239[m
Merge: 9f1ca44e cd25173c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 16:12:57 2017 +0100

    Merge pull request #1566 from neiljerram/extra-hostep-test
    
    Test when hostEp has expectedIPs matching 2 host interfaces

[33mcommit 9256d275a4d87e7bf71f4b4f79fbf872858424af[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 16:04:11 2017 +0100

    Move UDP conntrack clear into Port.CanConnectTo().

[33mcommit 9255ad863f67b26fb39affd1f80f961ec654343c[m
Merge: d1c253d4 9f1ca44e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 14:50:15 2017 +0100

    Merge remote-tracking branch 'origin/master' into named-ports

[33mcommit d1c253d4869644552c5e76b6172290261cd2f806[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 14:10:38 2017 +0100

    Add test that confuses TCP and UDP named ports.

[33mcommit b4245005af114225af1e0f2adeb3133c336f0efb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 12 11:51:03 2017 +0100

    Make topology set-up common across FV tests.

[33mcommit 9f1ca44e52b43bf4dc0da67ace826f333e9a5c52[m
Merge: ecbd512d 91d35cc8
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 12 10:06:19 2017 +0100

    Merge pull request #1565 from song-jiang/ipvs
    
    Support workload ingress policy for kube-proxy running in ipvs mode.

[33mcommit 91d35cc8963d8a8797aa3db18567d0256efaeb56[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Oct 5 16:58:35 2017 +0100

    Support workload ingress policy for kube-proxy running in ipvs mode.

[33mcommit 08bc1926363aaffdfade985c7534dca99c7674cc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 11 18:24:16 2017 +0100

    Code review markups.

[33mcommit 52e5e2d6c746c667db0e661949c4f1ebbc8b1e5b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 11 15:02:48 2017 +0100

    Add a test that immitates a Kubernetes scenario.

[33mcommit cd25173c3f8d2f919b68c4edcfca9115f2cf5562[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 11 11:35:10 2017 +0100

    Test when hostEp has expectedIPs matching 2 host interfaces

[33mcommit d473778a763be609c3318f48cbacaad0edf7cbf1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 11 10:31:54 2017 +0100

    Fix incorrect condition in named ports index.

[33mcommit f04fd7a11045d9b77884149856ead287b06039af[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 10 18:55:08 2017 +0100

    Rev typha to pick up matching version of libcalico-go.

[33mcommit 735c05c8739f9461d93b4ba0d297b88a1237de0f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 10 16:33:44 2017 +0100

    Port use of Eventually to pre-DNAT test set-up.

[33mcommit 487edd9cd7e719fe60f4f5f35102e6b9b8ff07fa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 10 15:13:15 2017 +0100

    Parametrise named port TCP tests to cover UDP as well.

[33mcommit 27055d9e416bc0aa329b90a87b97d8284a32cc5a[m
Merge: 7ac38002 ecbd512d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 9 11:49:23 2017 +0100

    Merge branch 'master' into named-ports

[33mcommit ecbd512d86355949387b05a98a09070a09d4488b[m
Merge: 4006dd5a 49a9a550
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 2 11:42:09 2017 +0100

    Merge pull request #1542 from song-jiang/hep
    
    Add flag to enable/disable host endpoint policy on forward traffic.

[33mcommit 49a9a550c8871bc71c9db10c711d44627f71d41d[m
Author: Song Jiang <song@tigera.io>
Date:   Thu Aug 31 12:02:43 2017 +0100

    Added support for ApplyOnForward flag.

[33mcommit 4006dd5a3dfdd39bc0087a9e0a7e2f7623432de4[m
Merge: a477c6a0 6463fff9
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 27 14:34:52 2017 +0100

    Merge pull request #1563 from neiljerram/typha-health-fv
    
    Typha health fv

[33mcommit 6463fff941d509614f5b69adc4d27951290a4df1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 27 11:55:02 2017 +0100

    Improve comment punctuation

[33mcommit a477c6a04d1d0da6eea3a06262c76ce26f92b06e[m
Merge: 64caa629 a4a3fc81
Author: Brendan Creane <bcreane@users.noreply.github.com>
Date:   Tue Sep 26 14:37:14 2017 -0700

    Merge pull request #1562 from bcreane/packaging-2.6.0
    
    Update rpm package for 2.6.0

[33mcommit 9288507307390a214a7fd6885ee48bda076ffa42[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Sep 25 15:26:18 2017 +0100

    Update Typha + enable last Typha liveness reporting test

[33mcommit a4a3fc818e3704499ba69b86c536bdaaff9f703b[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Tue Sep 26 13:09:40 2017 -0700

    Deb/RPM packaging for Calico 2.6.0

[33mcommit 087b325b2542d6e3634728e735e9f316959072dd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Sep 25 10:47:04 2017 +0100

    Doc expectations for Felix and Typha readiness/liveness

[33mcommit 64caa62946234549e6a77e622da8a0c66fc9582e[m[33m ([m[1;33mtag: 2.6.0[m[33m)[m
Merge: 5a0cb382 4d769456
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 26 13:33:42 2017 +0100

    Merge pull request #1560 from neiljerram/packaging-2.6.0-rc2
    
    Deb/RPM packaging for Calico 2.6.0-rc2

[33mcommit 4d7694564a398014a2c1fe7696d563cf62464faa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 26 11:39:48 2017 +0100

    Deb/RPM packaging for Calico 2.6.0-rc2

[33mcommit 5a0cb3827e13aafda5e83fa32f9880100953bd26[m[33m ([m[1;33mtag: 2.6.0-rc2[m[33m)[m
Merge: 90ef0417 e2f7df7f
Author: Brendan Creane <bcreane@users.noreply.github.com>
Date:   Sun Sep 24 19:31:17 2017 -0700

    Merge pull request #1559 from bcreane/v2.6.0-rc2-release
    
    bump libcalico-go to v1.7.1 and typha to v0.5.1

[33mcommit e2f7df7f53bde1bf5f5faba1ea76806db65102c4[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Sun Sep 24 16:37:45 2017 -0700

    bump libcalico-go to v1.7.1 for k8s conversion fix

[33mcommit 90ef0417dc6c6787d0089c6e535b01feb148f329[m[33m ([m[1;33mtag: 2.6.0-rc1[m[33m)[m
Merge: 96476a75 f72a8986
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 22 11:31:26 2017 +0100

    Merge pull request #1556 from fasaxc/fix-openstack-detect
    
    Fix OpenStack detection heuristic to ignore 'none'.

[33mcommit 96476a756154f9847438ad23ca46f792a7e532f7[m
Merge: 94647228 5f7e3852
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 21 19:14:46 2017 +0100

    Merge pull request #1557 from fasaxc/permissive-ingress-egress
    
    Support permissive ingress/egress type field.

[33mcommit 5f7e3852300c50673df5f69ab24ff217296e815a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 21 11:50:36 2017 +0100

    Add FV test for permissive ingress/egress type.

[33mcommit f72a898660dd5e8e317f6ddeef954e323a65acdb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 21 11:31:15 2017 +0100

    Fix OpenStack detection heuristic to ignore 'none'.

[33mcommit 94647228c251adb7adf78b8653538e75ea0e7b05[m
Merge: 9c8dee46 d9f0536f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 21 10:16:27 2017 +0100

    Merge pull request #1551 from neiljerram/readiness-fv
    
    Add automated readiness/liveness FV tests.

[33mcommit d9f0536f847931558901eb9de9e0eefb4c3d6fee[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 20 18:30:07 2017 +0100

    Fix mixup between dataplane and calc graph hang parameters

[33mcommit 7589e063f00c9c259003eb1d33380b0f188f8f3c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 20 15:05:50 2017 +0100

    Review markups

[33mcommit a48b463ee8e7644b3062682fd6ea81dc581202e1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Sep 18 14:16:16 2017 +0100

    Disable Felix IPv6 support

[33mcommit 2ddd1852114376e389fb187c07dd6772f95ded6e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 15 18:07:00 2017 +0100

    Coalesce into a single FV suite

[33mcommit 685775fddc13e681402ec4827ce9c85438063f24[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 15 16:28:18 2017 +0100

    Avoid FV code when running UTs

[33mcommit 00ab6135343af3c32bf8c073ac9446b8ca89c9cb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 15 16:12:51 2017 +0100

    Pend the Typha bad endpoint test, which currently fails

[33mcommit 2b02fb26fe44f3a867c35dbcc907ade75edc679b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 15 18:38:30 2017 +0100

    Don't hardcode path to crds.yaml!

[33mcommit 5479e75869c60e839dc837a033d1e5ec11816484[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 14 14:13:33 2017 +0100

    Merge FV test container infrastructures

[33mcommit c57de0a6f13b9f468a7bd48791a5c3236c9d2e60[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 14 02:20:34 2017 +0100

    Updates needed to get tests running
    
    libcalico-go has moved on and specifically now speaks CRDs, which means
    - need to use a newer k8s API server that supports CRDs
    - need to register Calico CRDs
    - also need to use a correspondingly newer Typha version

[33mcommit 3593668a72bf02d12d87536a9fc3bd015d0b9455[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 14 00:52:29 2017 +0100

    Delete dead code; get multiple new FV suites running

[33mcommit 227373113613a6643b586eeb571935cf5f0b4401[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 10 09:47:32 2017 +0100

    Remove focusing.

[33mcommit f2ed64b6d85a5d27fb9bff4209faaeb2eaa2e2bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 25 16:49:00 2017 +0100

    Add simulated hangs to Felix to allow for liveness testing.

[33mcommit 75dd243d515c1eaeff817b4e5379f6b580ec3d7f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 25 13:26:10 2017 +0100

    Minor tweaks.  Tag fv tests with fvtest build tag.

[33mcommit a9ebf758ca78ad3f8f08074218d43a3cb9d0db3a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 25 11:52:42 2017 +0100

    Add tests with slow iptables-restore.

[33mcommit cb9bbd392d2bb434db07dbfb0cb9d593e334df23[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 25 11:00:46 2017 +0100

    Add tests that insert a slow iptables-restore command.

[33mcommit 82b33a554a582175ee8620f0dda4d3f9b4bc510d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 24 19:12:58 2017 +0100

    Get one positive and one negative test working.

[33mcommit 8df00e3f9ac90825cb66431f3e8b294014179e59[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 24 14:10:52 2017 +0100

    Fix k8s API server start command.

[33mcommit d6cbe627642b9d55b749a6f56d6c1d0aa6950afd[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Jul 21 17:09:36 2017 +0100

    WiP on go-based FV tests

[33mcommit 1bc9f584ba3b43c7f1171e880f20803c3b0a92b2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 28 16:44:40 2017 +0100

    k8sfv: remove health endpoint tests
    
    These are going into new FV suite instead.

[33mcommit 8faa9bad49379396d266bf5e1191e60d852256de[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 5 16:19:02 2017 +0100

    Re-report health after (possibly) applying dataplane changes
    
    Otherwise it can take up to 10 more seconds for Felix to appear 'ready',
    after the first dataplane apply has completed.

[33mcommit e1b9ce28637d6390634b8f30ba833537f1eafd88[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 4 19:02:09 2017 +0100

    Correct comment about health registration

[33mcommit 50033d723379dac8df91315319de4717c632b6ca[m
Author: Dario Nieuwenhuis <dirbaio@dirbaio.net>
Date:   Tue Sep 19 16:47:33 2017 +0200

    Fix AllowAction flag behavior, so it replaces all ALLOWs with RETURNs.

[33mcommit 9c8dee468e9392d8165defe032712d423681ecbc[m
Merge: 4b79218b cc46dd08
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 19 13:33:13 2017 +0100

    Merge pull request #1553 from neiljerram/pre-dnat-fv
    
    Pre-DNAT policy FV testing

[33mcommit 7ac3800263b70b9ae898f73bbd34bc9569678fc3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 18 18:12:55 2017 +0100

    Add named ports source port tests.

[33mcommit cc46dd0896cf4b29f9700999289cd038b40c521d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Sep 18 16:10:20 2017 +0100

    Review markups

[33mcommit ec563f4178e13134fc1f8222849676e4195c96ab[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 13 22:46:33 2017 +0100

    Pre-DNAT policy FV testing

[33mcommit 0225bcab91affdcee183263a475b94272b87dc6a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 18 11:15:57 2017 +0100

    Add support for selecting source port in FV framework.

[33mcommit 63d16b69ae4834aa6392f63b048db3b231a70041[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 18:26:38 2017 +0100

    Add tests that use CIDRs with named ports.

[33mcommit f73d24126b374c66ed7937b79120d7f767de5942[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 16:17:01 2017 +0100

    Add tests that mix selectors, negated selectors and named ports.

[33mcommit 956effccfb1a4d158ff9aa0420ed89f1ca022c7c[m
Merge: fdd3c641 4b79218b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 11:32:23 2017 +0100

    Merge remote-tracking branch 'origin/master' into named-ports

[33mcommit 4b79218b14c5fc0c95d5abc0810d781172597063[m
Merge: 274e4fcb b1fe19be
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 11:30:48 2017 +0100

    Merge pull request #1548 from neiljerram/fv-infra-enhancements
    
    FV infra enhancements

[33mcommit fdd3c6412f5bd3aa14dfdb8b29a949e93b8d1e26[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 11:21:22 2017 +0100

    Improve diags in named ports FVs.

[33mcommit e53d0b44e4447f74748e067db1f467c55902d89b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 11:21:06 2017 +0100

    Fix up UTs after making FV fixes.

[33mcommit b1fe19be51bf0d39a2043165fa0db547c1ea26b5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 13 22:45:27 2017 +0100

    Make scenario setup code more robust and idiomatic
    
    So it's more likely to Just Work when copied and tweaked - in particular
    when other tests want a different number of workloads.

[33mcommit 71c3de26102eb13357de8943a0a77a5133eb7874[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 13 22:40:18 2017 +0100

    Enhance FV connectivity check infrastructure
    
    So that we can:
    - check connectivity _to_ a particular <ip>:<port>, instead of to a
      <workload>
    - check connectivity _from_ a container - i.e. from the container's
      top-level namespace - instead of from <workload>

[33mcommit 5fc98cae1c9c9b24ac26a5690c614ffeb4ddeea7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 10:45:53 2017 +0100

    Add first batch of FV tests for named ports.

[33mcommit 56ed21965ae48585c648044d4e1f33fb6f227a0b[m
Merge: 353fab68 6489c113
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 10:44:56 2017 +0100

    Merge branch 'add-port-to-conn-check' into named-ports

[33mcommit 353fab68f0ff8b931b65d62757ec4bf430f09f3b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 14 14:00:43 2017 +0100

    Minor fixes found during FV.

[33mcommit a48afbf831ff36f8abbc9342349f089f321a40c0[m
Merge: 77f706c3 274e4fcb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 10:44:39 2017 +0100

    Merge remote-tracking branch 'origin/master' into named-ports

[33mcommit 6489c113dab50ff92139cfcd3a3d894a52dc6ff6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 15 10:30:18 2017 +0100

    Include port in connectivity diags.

[33mcommit 1630eec123bf2d4a9cc388bc702c4c1cae8adff4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 13 12:45:18 2017 +0100

    Add+use Container methods for exec in that container

[33mcommit 274e4fcbac9d77fccbf41da7b68c64048d4a2656[m
Merge: b42d56ff a36d0dc9
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 15 09:48:03 2017 +0100

    Merge pull request #1549 from fasaxc/container-fv-tweaks
    
    Minor container FV improvements.  Add multiple port support, parallel conn checker.

[33mcommit a36d0dc94f86f96d8b1cfb38ae951bc537fbdf42[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 14 16:14:52 2017 +0100

    Add a parallel connectivity checker.

[33mcommit 1efaeb9536a47603b454747b66067b7729fc95bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 14 16:38:47 2017 +0100

    Code review markups.

[33mcommit b54f0aef6ec77aa228a0766089960c55a88ce7e1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 14 14:04:59 2017 +0100

    Minor container FV improvements.  Add multiple port support.

[33mcommit 77f706c32d72f046203a8f87c1ee1d2847ac1279[m
Merge: 9abc15e8 b42d56ff
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 14 13:57:25 2017 +0100

    Merge remote-tracking branch 'origin/master' into named-ports

[33mcommit b42d56ff2381ecead3f8862b4b695317ec402ddc[m
Merge: 44f8ae08 5894ea0e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 14 13:55:12 2017 +0100

    Merge pull request #1546 from neiljerram/ingress-egress-fv
    
    FV test for ingress/egress policy

[33mcommit 5894ea0edf551146ba48184850dc26fb9e552c41[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 14 13:22:28 2017 +0100

    Use Eventually for 1st -tive conn check after policy change

[33mcommit 80e1831ee212501ce3d704290733d0884ef8bc4b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 14 13:14:35 2017 +0100

    Use Eventually to allow for slow etcd startup

[33mcommit 9abc15e8da71aabd5e8f2c22b93a9173ec8d518d[m
Merge: 93ac128e 44f8ae08
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 13 18:33:57 2017 +0100

    Merge remote-tracking branch 'origin/master' into named-ports

[33mcommit 3637967b0265bade275e344ee23e887921b854f5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 13 10:59:34 2017 +0100

    Fix container and workload cleanup
    
    - No need to handle cases where container or workload was not fully
      started; then the caller's Container or Workload variable would still
      be nil.
    
    - But still support c.runCmd == nil case, so Container.Stop() may be
      called multiple times.
    
    - Assign w.runCmd so that workload cleanup actually works.
    
    - There is a remaining workload process leak case - if the workload
      process starts but then we fail to read its namespace path - but this
      doesn't really matter because the container that it is running in will
      always be cleaned up at the end of the test case.

[33mcommit b5f8924265cc07a4c62ec2344b6d750140727c9d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 13 10:58:43 2017 +0100

    Initialize etcd before starting Felix
    
    So that Felix won't see a config change and shut itself down.

[33mcommit 68011995563f0604abbd392bbc06106e2858bb3a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 12 15:10:59 2017 +0100

    Code review markups

[33mcommit 44f8ae083d12970eb6a68f7bd1beecd930891675[m
Merge: fc653797 e34a5e38
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 12 15:23:34 2017 +0100

    Merge pull request #1526 from fasaxc/netlink-timeout
    
    Add a configurable timeout to netlink operations.

[33mcommit e34a5e385b8e792b1895eb8f83678b35bef01371[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 12 14:42:39 2017 +0100

    Code review markups

[33mcommit 6cd8a8c8ff11791ba8eaa834e0fbb3e6047207ee[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 12 13:56:18 2017 +0100

    Code review markups

[33mcommit f2f51849af1d9a8dcf4cb4aa1fa730914a6dcbf0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 12 10:16:02 2017 +0100

    Allow 20 minutes for possible container image download

[33mcommit 3ad8ec658deaea9502c7c131d4029ca73ab6d564[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 12 09:59:05 2017 +0100

    Allow 5 seconds for test connection

[33mcommit da72ed66ad2d0a85f6c1844cf2ac9bd9ac586367[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Sep 12 09:29:08 2017 +0100

    FV test for ingress/egress policy

[33mcommit 93ac128e73c65ffd1dc6c63ccb6a7e55f336c899[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 7 16:32:21 2017 +0100

    Code review markups.

[33mcommit fc6537971109f3dfdbe2136c1acb313adcd08e41[m
Merge: 524545ea b8ab287c
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 7 13:57:44 2017 +0100

    Merge pull request #1544 from neiljerram/pre-dnat-fv
    
    FV testing for pre-DNAT policy

[33mcommit 71f251e243fafda7b9a62550412fc836b9505eac[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Sep 5 18:26:58 2017 +0100

    Rev libcalico-go to pick up named ports validation.

[33mcommit b8ab287c6da4fb50b48bbb1a522ad765615327c2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 7 09:50:50 2017 +0100

    Markup: unify container stop / clean up code

[33mcommit 868b6488e1974b648b7c11c1bcd5c26a6a883878[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 6 18:46:35 2017 +0100

    Review markups

[33mcommit 03da190dd6a87c6611f126aefef0af9af7de56b5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 6 16:38:05 2017 +0100

    Fix use-after-close of netlink handle.  Add UTs.

[33mcommit 9c59404b1444f8e362f3f2e644a3f65dcc4ddf8e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 6 15:54:25 2017 +0100

    Rename testing_shims to dataplane_shims.

[33mcommit 5a2431990700f79fd058c15afbbf684f6261be9f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 6 15:52:42 2017 +0100

    Rework RouteTable to mock out netlink Handle.
    
    Allows the reconnection logic to be tested.

[33mcommit 77b59cfadbe6b0c17d47b4c32ba3a5815c21c745[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 9 10:41:16 2017 +0100

    Add a configurable timeout to netlink operations.

[33mcommit c8195539ada14263bde577b9f453400f65a5610d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 24 09:48:12 2017 +0100

    FV testing for pre-DNAT policy

[33mcommit 435338c2a9ea4650d39566520eee14ea073e6de3[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Sep 4 18:46:11 2017 +0100

    Make parent tag/label update code common and fix copy/paste bug.

[33mcommit bd862f6284123d9d372233cb39794474c8391430[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Sep 4 18:14:10 2017 +0100

    Move contribution calc methods to index.

[33mcommit 52484fcfe56d6398d16831f4dfdc3b607f9837a7[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Sep 4 17:07:38 2017 +0100

    Add UT for IP sets dataplane.

[33mcommit 3b546b6a0f9cab1b6ee4976053099a226f24d1e5[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Sep 4 16:33:10 2017 +0100

    Add UTs for IPPort match builder.

[33mcommit 5c04f07c3586a6be98cc92b17728ca288bbc29ec[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Sep 4 16:21:53 2017 +0100

    More UTs for dataplane driver.

[33mcommit 78ad05d6b55458af9e137a82162ca33508a2e7c6[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Sep 4 15:55:48 2017 +0100

    Add protocol to numeric port blocks.
    
    I believe that is required by multiport.

[33mcommit 2b6d586b68bf91c22e96194a0742efad81853f73[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Sep 1 19:23:16 2017 +0100

    More rule rendering UTs.

[33mcommit a7835e40a1360da9a19bd7ef9db282100fcd86d9[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Sep 1 15:59:53 2017 +0100

    Start adding tests for named port rule rendering.

[33mcommit 524545eacda88cfd8937cdcf95e97271379cf886[m
Merge: 19b34d04 9f3fc44e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 1 15:59:15 2017 +0100

    Merge pull request #1543 from fasaxc/swap-fatal-for-panic
    
    Replace log.Fatal with log.Panic in most cases.

[33mcommit 19b34d045379894b863ca30d6f72f74a67e1e072[m
Merge: 1210243e b21468b3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 1 13:54:21 2017 +0100

    Merge pull request #1516 from djlwilder/ppc64le
    
    Adding support for ppc64le.

[33mcommit bcce30a3397b2e480989ececc52ae99abaed0f1b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 31 17:11:03 2017 +0100

    Add some named ports tests with negated ports and selectors.

[33mcommit 5d8a796ed8c6415a40c9bf988856109238c73af2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 31 16:26:06 2017 +0100

    Fix up glide.lock after rebase.

[33mcommit c8d276e3974ad230ab5dd06e9f11debd9468be5a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 31 16:12:32 2017 +0100

    Add UT for named ports on host endpoints.

[33mcommit 9f3fc44eb42d500fc27e9c53b9845f0f12d518f5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 31 15:54:22 2017 +0100

    Replace log.Fatal with log.Panic in most cases.
    
    Fatal() results in a silent process exit when running under Ginkgo, which
    is very annoying to diagnose.
    
    Ginkgo is able to catch panics and logs them sensibly with context.

[33mcommit 2aa0a628148255c5177e7a42da59bc676e8b470b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 31 15:52:25 2017 +0100

    Add calc graph FVs for named port label inheritance.

[33mcommit b420db7355d49dcad6948130d938c90316b45947[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 29 16:04:12 2017 +0100

    Tweaks.

[33mcommit 09b4171869a3f88045dd7196ed41406ad6df1825[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 25 15:05:46 2017 +0100

    Add more named ports calc graph FVs.

[33mcommit 1083734b3e1ffadc3806f9ba0170f4abf41aba70[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 25 13:58:51 2017 +0100

    Add named port calc graph FV tests.

[33mcommit 105f1488e9d847b91f65cc847b89a0ad8fbe2733[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 25 13:32:26 2017 +0100

    Move calc graph test models to own file.

[33mcommit b9dfcaf5bff2e6aa07815369323a95ced5cdfef1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 25 11:45:22 2017 +0100

    Tweak ASCII-art

[33mcommit ffa76214e8d2fa09d7a260c9c28cfc52b043c6f0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 25 11:42:39 2017 +0100

    Bring calc graph diagram up to date.

[33mcommit 3b8f8fe972c6dc317e33646c2b3fcb84546fd93c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 24 18:23:50 2017 +0100

    Self review markups.
    
    - Improve docs.
    - Improve naming.

[33mcommit 651936d9e651b604d8d570d5c1f7a266cbbe4f07[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 24 15:03:27 2017 +0100

    Combine selectors in more cases, add UT and clean-ups.

[33mcommit 39569cfa3a0a3e82e61b8d5580211be4b05699f0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 24 13:01:24 2017 +0100

    Minor fixes to named port calculations.

[33mcommit b56cf271a85f19c9007163e06be69eabf51f8040[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 14:36:42 2017 +0100

    Fix up existing UTs.

[33mcommit b5d895ee54c09418f75b76dd97e632daa4d2b53f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 13:56:22 2017 +0100

    Implement named port rule rendering.

[33mcommit 09f44e80663c141a36be3dc71d55a031cb1e06b0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 10:30:09 2017 +0100

    Implement IP set rendering for IP,port.

[33mcommit ef7a12d544546f013b7471310789dbd65bfebdc4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 09:47:50 2017 +0100

    Implement named port rule conversion.

[33mcommit 2ebfaf8bee8c5381ae12385cb85bea17018566b2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 16 16:05:20 2017 +0100

    Implement named ports index.
    
    Passes existing non-named-port UTs.

[33mcommit 2caec7b4fb786d6e5962dc2bf5668013e4a5b371[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 14:46:25 2017 +0100

    Pin libcalico-go to named-ports branch.

[33mcommit 1210243ebce6e059e2b7247f633ebef7d30b2a59[m
Merge: 2a669e3e cc985f26
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 31 10:50:25 2017 +0100

    Merge pull request #1540 from fasaxc/split-up-calc-fvs
    
    Split calc graph FV resource definitions into their own files.

[33mcommit cc985f26fe52732620ca50602ac473e9d1f05efb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Aug 25 13:32:26 2017 +0100

    Split calc graph FV resource definitions into their own files.
    
    The single file was simply too big and hard to navigate.

[33mcommit 2a669e3edd76dcf46e27a3dd339fe9ebbb52b266[m
Merge: edbf92e4 53553b4f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 30 14:04:10 2017 +0100

    Re-integrate 2.5.1 cherry-picks into master.

[33mcommit edbf92e40b5c2fa96950c806782cb4706dcf03c0[m
Merge: 2993e8c4 1eff6395
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 30 14:03:10 2017 +0100

    Merge pull request #1538 from fasaxc/typha-timeout
    
    Add read/write timeout options for Typha connection.

[33mcommit 53553b4f7ff80d193e8550ee3b31704da5349d42[m[33m ([m[1;33mtag: 2.5.1[m[33m, [m[1;31mupstream/release-v2.5[m[33m, [m[1;31mupstream/2.5.x-series[m[33m, [m[1;31morigin/release-v2.5[m[33m, [m[1;31morigin/2.5.x-series[m[33m)[m
Merge: 1180e460 fb291f1f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 30 11:42:32 2017 +0100

    Merge pull request #1539 from fasaxc/typha-timeout-2.5.x
    
    Cherry pick Typha client timeouts to 2.5.x-series.

[33mcommit 1eff639584fb7fd62c426a79040b55fe77f9e266[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 29 16:11:16 2017 +0100

    Add read/write timeout options for Typha connection.

[33mcommit fb291f1f73c21fae686862f615951b87d337983b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 30 11:22:15 2017 +0100

    Cherry pick Typha client timeouts to 2.5.x-series.

[33mcommit 2993e8c4ea9461927891c707288dec017b963172[m
Merge: 7b77b986 d5ad2e21
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 11:09:12 2017 +0100

    Merge pull request #1511 from fasaxc/check-typha-pin
    
    Add static check for Typha pin.

[33mcommit 7b77b986194225b4539441c0d44452183eca2ed1[m
Merge: c8782d6c 1180e460
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 23 09:08:54 2017 +0100

    Merge pull request #1536 from projectcalico/2.5.x-series
    
    Record 2.5.0 deb/RPM changelogs.

[33mcommit c8782d6c6a31105f81c63e90d1a7e064dce52f90[m
Merge: daa250ca 00f53898
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 22 12:01:20 2017 +0100

    Merge pull request #1528 from neiljerram/ingress-egress
    
    Allow Policy to explicitly govern ingress and/or egress

[33mcommit 1180e460ff3ed6958931b9409a598430dcc17045[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 22 10:30:51 2017 +0100

    Record 2.5.0 deb/RPM changelogs.

[33mcommit daa250caf64ac7f121c62aae8d9c0d4303ee145e[m[33m ([m[1;33mtag: 2.5.0[m[33m)[m
Merge: 712e5b74 ad59c6a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 22 09:32:02 2017 +0100

    Merge pull request #1535 from bcreane/isolate_test
    
    Use local crd manifest file instead of pulling from libcalico-go repo

[33mcommit ad59c6a6da66ad906ea5d740c7cac42a132eecc5[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Mon Aug 21 11:23:28 2017 -0700

    Use local crd manifest file instead of pulling from libcalico-go repository
    See: https://github.com/projectcalico/felix/issues/1530

[33mcommit 00f53898b68e845235974b9e1c677a8286b27eac[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 21 15:50:34 2017 +0000

    Update libcalico-go and Typha pins

[33mcommit 7b720323f065e3b65193f866ce496effb2c57655[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 21 12:26:49 2017 +0200

    Code review markups

[33mcommit c01d4ce2b4ef763fae528ce22d3f52e6e4597f36[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 18 15:14:26 2017 +0000

    Update glide.lock

[33mcommit 62b5e8998180bf670744f732b9952c32db196059[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 17 12:06:15 2017 +0200

    UT for ingress/egress changes
    
    Including:
    - Fixes to the expected chains logic for workload endpoints.
    - Test for a workload endpoint with non-empty tiers.
    - Code fix in policy_sorter for when a Policy update needs to be
      reprocessed against the relevant endpoints.

[33mcommit 027dcec9948e27bd614b2bdd918447e8fe18057f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 11 12:43:36 2017 +0200

    Fix ingress/egress caching in PolKV objects

[33mcommit 0279491df98a566f3b59413622da7790c7a8b23c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 10 18:34:04 2017 +0200

    Allow Policy to explicitly govern ingress and/or egress
    
    Fixes #1180

[33mcommit 712e5b74bb9363505a2409f470b5000b53de25b6[m
Merge: 32dc4ea3 01c46491
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 17 11:32:45 2017 +0100

    Merge remote-tracking branch 'origin/2.2.x-series'

[33mcommit 32dc4ea32c4e8b3d37ad41909681ce6d29ebfe6c[m
Merge: 53591c94 4c93b240
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 17 11:31:31 2017 +0100

    Merge remote-tracking branch 'origin/2.1.x-series'

[33mcommit 53591c9447e4501a0655728e6938f1ec6a6baa01[m
Merge: 46353f4f 33e751ad
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 17 11:31:05 2017 +0100

    Merge remote-tracking branch 'origin/2.0.x-series'

[33mcommit 46353f4fd003d383167eef6979a3ba4120f7274a[m
Merge: 203f073a 559c1cc1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 17 11:28:51 2017 +0100

    Merge remote-tracking branch 'origin/1.4.x-series'

[33mcommit 203f073ae5b1bc556788b91761e7179612113772[m[33m ([m[1;33mtag: 2.5.0-rc1[m[33m)[m
Merge: 84930e48 77c3631d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 16 09:59:20 2017 +0100

    Merge pull request #1529 from projectcalico/update_glide
    
    Update to libcalico v1.6.0 and typha v0.4.0.

[33mcommit 77c3631df8941f45b26edea9ebafcdb7f925cd56[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Tue Aug 15 18:27:50 2017 -0700

    Update k8sfv to be compatible with k8s 1.7 + CRDs

[33mcommit a54623ba80692b82907bd4726e292fbf9022d0cd[m
Author: Brendan Creane <brendan@tigera.io>
Date:   Tue Aug 15 17:59:42 2017 -0700

    Update to libcalico v1.6.0 and typha v0.4.0.

[33mcommit 84930e48f9ebfc13c72c5872ae2a80c7fb505142[m
Merge: 0ee59e4a 8430f9c8
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 10 18:31:29 2017 +0200

    Merge pull request #1527 from neiljerram/packaging-2.4.1
    
    Deb/RPM packaging for Calico 2.4.1

[33mcommit 8430f9c8b1f4e218ee3dd706e25eab0c7fc38043[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 10 14:09:59 2017 +0200

    Deb/RPM packaging for Calico 2.4.1

[33mcommit 0ee59e4a1ce7170d14e1ccefc35588013cfdbb7e[m
Merge: 13bd1b33 bc722319
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Aug 10 12:49:17 2017 +0200

    Merge tag '2.4.1' into 2.4.x-series
    
    Felix version 2.4.1
    
    - Update the import for logrus to use lowercasing
    - Switched log.Printf to log.Infof.
    - Update libcalico to v1.5.2

[33mcommit bc72231932710821cab866e81f0f3eefa276ef40[m[33m ([m[1;33mtag: 2.4.1[m[33m)[m
Merge: 2248457c 7dadda9c
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Mon Aug 7 15:29:19 2017 -0700

    Merge pull request #1525 from caseydavenport/bump-glide
    
    Update libcalico to v1.5.2

[33mcommit 7dadda9c99352ff239406901e0fa94ebb142c682[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Aug 7 12:44:13 2017 -0700

    Update libcalico to v1.5.2

[33mcommit 2248457c9b170717307ad4451d384cbb59484356[m
Merge: 2294f583 ca8e4bc1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Aug 7 13:59:30 2017 +0100

    Merge pull request #1517 from djlwilder/iptables_lock_test
    
    Do not depend on the returned text string of iptables -w.

[33mcommit 2294f583d34882e646a537835785162533f92b5b[m
Merge: ef096e66 13bd1b33
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 7 14:40:27 2017 +0200

    Merge branch '2.4.x-series'

[33mcommit 13bd1b33e6acd5d1d4bc4bd2186643ed52df7608[m
Merge: b7e630e2 9aeb5321
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 7 14:32:56 2017 +0200

    Merge pull request #1524 from neiljerram/packaging-2.4.0
    
    Deb/RPM packaging for Calico 2.4.0

[33mcommit 9aeb5321a8542636e817138c616fd3efd800d7ef[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 7 11:59:28 2017 +0200

    Review markups

[33mcommit e8169950bf7aa163282a71a36a8eab63443ad89e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Aug 7 10:32:43 2017 +0200

    Update Deb/RPM changelogs to include all 2.4.0 release notes
    
    Specifically:
    
    - There are good release notes at
      https://github.com/projectcalico/felix/releases/tag/2.4.0 that aren't
      also in the '2.4.0' Git tag.
    
    - There is useful content in the '2.4.0-rc2' Git tag, but there's also a
      bug in our 'make deb rpm' process that means that it doesn't pick up
      all of the tags when more than one of them are in the same place - as
      is the case for '2.4.0' and '2.4.0-rc2'.

[33mcommit a6ee62a34b5bac4388367ee53458c85eaee281d6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 4 22:10:13 2017 +0000

    Deb/RPM changelogs as autogenerated from Git tag content

[33mcommit 9b6a591ced6561765de43da0e4a23ee89c342911[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 4 17:35:25 2017 +0000

    Deb/RPM packaging for Calico 2.3.0

[33mcommit ef096e668ccd8881c3c47a8e809d08e041b86ae0[m
Merge: 3d43b13f 9f3f088b
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 4 22:59:15 2017 +0100

    Merge pull request #1523 from projectcalico/2.3.x-series
    
    Deb/RPM packaging for Calico 2.3.0

[33mcommit a7af7cddb189669597636848f81c374561fe0b67[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 4 22:31:34 2017 +0100

    Explain how to review and edit deb/rpm change logs

[33mcommit ca8e4bc17cf08cfa415b721f27f2759b243808f3[m
Author: David Wilder <wilder@us.ibm.com>
Date:   Fri Aug 4 11:13:11 2017 -0700

    Switched log.Printf to log.Infof.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 9f3f088bf8d70f5d0e27c58ad00abb6cc2e8d652[m[33m ([m[1;31mupstream/2.3.x-series[m[33m, [m[1;31morigin/2.3.x-series[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Aug 4 17:35:25 2017 +0000

    Deb/RPM packaging for Calico 2.3.0

[33mcommit b21468b34e06eeb3193ded9e0d09bfbb94badbe7[m
Author: David Wilder <wilder@us.ibm.com>
Date:   Thu Aug 3 14:29:14 2017 -0700

    Fix spelling.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 3d43b13f7cdb9e42bb98e828241dcd30a28ace74[m
Merge: b7e630e2 4bd49559
Author: Gunjan Patel <patelgunjan5@gmail.com>
Date:   Thu Aug 3 14:06:18 2017 -0700

    Merge pull request #1520 from mgleung/update-logrus
    
    Update the import for logrus to use lowercasing

[33mcommit 4bd49559d727f8fe3f66c406def1bc54a3a363bf[m
Author: matt <mleung975@gmail.com>
Date:   Fri Jul 28 16:05:11 2017 -0700

    Update the import for logrus to use lowercasing

[33mcommit d5ad2e21b9e385ad41a0f5ac2d21fa1884366a2d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 24 11:29:09 2017 +0100

    Add static check for Typha pin.
    
    Prevents Felix and Typha from being pinned to different libcalico-go
    versions, which would be a problem if the datamodel changed.

[33mcommit b7e630e22783b96c3769cbadf019f656762acc6a[m[33m ([m[1;33mtag: 2.4.0-rc2[m[33m, [m[1;33mtag: 2.4.0[m[33m)[m
Merge: 4201a4f0 8131851d
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Jul 27 15:25:27 2017 -0700

    Merge pull request #1518 from matthewdupre/route-grace-period
    
    Add a grace period before deleting routes

[33mcommit 4201a4f0a5c21edd35bb6d5cf0d34aeaf4af98cd[m
Merge: 90920451 d73c9716
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 27 19:08:17 2017 +0100

    Merge pull request #1514 from fasaxc/fix-ready-too-early
    
    Only report ready after first apply() completes.

[33mcommit 8131851d697c570a0c0dc11804afab4f352f1c63[m
Author: Matt Dupre <matt@projectcalico.org>
Date:   Wed Jul 26 17:28:19 2017 +0100

    Leave interfaces in the route cleanup grace period dirty, and add tests

[33mcommit ac28da99dee8208bf21a188e200976dccd689867[m
Author: David Wilder <wilder@us.ibm.com>
Date:   Wed Jul 26 14:21:09 2017 -0700

    Fixed make bin/k8sfv.test failure.
    
    Corrected grep command options in Makefile.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 95f54f1e1d9a62962b1a59543ebf9b1e3b3b7816[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 22 13:40:16 2017 +0100

    Add a grace period before deleting routes.

[33mcommit fa0a5ae2c92d3a43a837275c57ca8515b1068c29[m
Author: David Wilder <wilder@us.ibm.com>
Date:   Tue Jul 25 16:49:41 2017 -0700

    Do not depend on the returned text string of iptables -w.
    
    The iptables_lock_test is looking for a specific text string to be
    returned by iptables. Unfortunately the output string varies depending
    on version. Checking the returned status is sufficient for this test.
    This problem was seen on a ppc64le. I verified the change with "make
    fv" on both x86 and ppc64le.
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit 7b0cdb656bb0ab8ad44ccbda677114c762e2cabb[m
Author: David Wilder <wilder@us.ibm.com>
Date:   Tue Jul 25 15:36:16 2017 -0700

    Adding support for ppc64le.
    
    The build architecture is select by setting the ARCH environment variable.
    For example: When building on ppc64le you could use ARCH=ppc64le make <..>.
    When ARCH is undefined the build defaults to amd64.
    
    Based on work by: Hitomi Takahashi
    
    Signed-off-by: David Wilder <wilder@us.ibm.com>

[33mcommit d73c9716ed9a4e3ec2921a2bb59344bc816229d0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 25 11:04:20 2017 +0100

    Only report ready after first apply() completes.
    
    Fixes #1513.

[33mcommit 9092045143cde9e27dc75d9547117f8abe29df9c[m[33m ([m[1;33mtag: 2.4.0-rc1[m[33m)[m
Merge: 98f815ba 00ab82ac
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 24 20:48:32 2017 +0100

    Merge pull request #1512 from neiljerram/update-typha-pin
    
    Update to current Typha

[33mcommit 00ab82acbd421ec6d5222662f6f514cfc277b773[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 24 20:06:52 2017 +0100

    Update to Typha v0.3.0

[33mcommit 98f815ba48e5bca063f00b2af85a9e12a3cf2adf[m
Merge: 3afad28f 4cb2cd83
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 24 19:34:53 2017 +0100

    Merge pull request #1506 from neiljerram/pre-dnat-policy
    
    Pre-DNAT policy support

[33mcommit 4cb2cd837939807e6621d682d157458e205dd220[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 20 14:06:20 2017 +0100

    UT for pre-DNAT policy
    
    Includes one code fix, namely to propagating PreDNAT flag from
    calc.ParsedRules to proto.Policy (where calc.ParsedRules comes from
    model.Policy, and proto.Policy is next consumed by whoever receives
    ActivePolicyUpdates).  Doesn't matter in practice, with our current
    policy manager coding, because the policy manager doesn't look at
    whether a policy is normal, untracked or pre-DNAT; but nice to propagate
    the information correctly anyway.

[33mcommit 3afad28f5fe9ffbeeedf3b9e83fc0d106acacb44[m
Merge: 95407da7 5d8dcb84
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 24 13:32:20 2017 +0100

    Merge pull request #1510 from fasaxc/fix-rt-time-flake
    
    Allow for time fuzziness in route table UT.

[33mcommit 95407da72050ecdc92151a3c2fb249cd2796bfeb[m
Merge: 0495003d 04f4eabb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 24 10:48:59 2017 +0100

    Merge pull request #1509 from caseydavenport/update-glide-pins
    
    Update glide pin for libcalico-go

[33mcommit 5d8dcb8499dd19e2da18b153af006182d0bd40dc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 24 10:07:18 2017 +0100

    Allow for time fuzziness in route table UT.

[33mcommit 04f4eabbd55816ce29b11a9379b055237cc95272[m
Author: Casey Davenport <casey@tigera.io>
Date:   Fri Jul 21 11:16:45 2017 -0700

    Update glide pin for logrus

[33mcommit bbfeb1a7de6bffbf158ff8f5a8dbe26f10d53ba6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 21 19:33:10 2017 +0100

    Code review markups

[33mcommit f31b62f74ed540ac1d31af2c522abace091bcc40[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 21 18:19:33 2017 +0100

    Fix processing after packet accepted by untracked or pre-DNAT policy
    
    Skip any normal policy for the incoming host endpoint, in that case, but
    not destination workload policy.

[33mcommit 322f063af3314021bc34c37e2cb0fcb2aad7cdfb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 20 14:48:26 2017 +0100

    Only write from dispatch chains in mangle table

[33mcommit 19998ffd3fe45c8a0d11d9879c45685e9bd30887[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 20 14:04:47 2017 +0100

    Allow conntrack-related packets at start of mangle PREROUTING chain
    
    Also use the configured allow action for mangle table, instead of
    hardcoding ACCEPT.

[33mcommit e70e38931f9a1081cde77655f4d47f2f788d4332[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 20 14:03:33 2017 +0100

    Separate configs for allow action in filter and mangle tables

[33mcommit 41f60d3f7baf572f981c193ad5f13183eb2a5248[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 19 13:44:22 2017 +0100

    Program failsafe chain into mangle table
    
    As part of this change, also
    - exploit the to/from symmetry of the endpoint chain programming to
      simplify that code
    - explicitly only do from-endpoint programming for pre-DNAT policies.

[33mcommit 14522fbe83b9dc5eaa1d5e82cb46a2cf9c209592[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jul 19 11:25:34 2017 +0100

    Code review markups

[33mcommit fbe8dbab7eccdfa7713fe1b0beda6eb6b6cc26c8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 14 16:07:50 2017 +0100

    Pre-DNAT policy support
    
    This is the Felix part of https://github.com/projectcalico/calico/issues/823

[33mcommit 0495003d78111221af44cc1ab91e33a150af3d3b[m
Merge: 9c05597c 557a975e
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 20 17:18:23 2017 +0100

    Merge pull request #1507 from neiljerram/set-health-libcalico-go
    
    Use set and health packages from libcalico-go

[33mcommit 557a975e13f233129fea6e44540b2675c20e9b2d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 27 13:46:28 2017 +0100

    Use set and health packages from libcalico-go

[33mcommit 9c05597cda530ca2d8d0d1df964b414b5388cf44[m
Merge: 85e92239 e87473cd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 20 10:14:46 2017 +0100

    Merge pull request #1503 from mgleung/move_formatter
    
    Move logutils functionality to libcalico-go

[33mcommit 85e922391ce766900ff2fa1b3a53bf58e41421c4[m
Merge: b308eee0 b8417dad
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 19 19:15:37 2017 +0100

    Merge pull request #1504 from fasaxc/iptables-lock-disabled
    
    Disable the iptables lock by default.

[33mcommit b8417dad050a2a5d45da44c437ee160b2cc021e3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 18 16:26:55 2017 +0100

    Code review markups.

[33mcommit e87473cd3c0418c6ab826b5c7129fdb454fe25e0[m
Author: matt <mleung975@gmail.com>
Date:   Wed Jul 12 11:53:15 2017 -0700

    Move logutils functionality to libcalico-go

[33mcommit b308eee0b012a2585980eccaf88938caff0e9566[m
Merge: ebfc5f59 fffe1335
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 17 13:50:39 2017 +0100

    Merge pull request #1505 from fasaxc/rev-typha
    
    Rev typha/libcalico-go to pick up multi-net fixes.

[33mcommit fffe133528b89548d2c67258c1020145fa41d74c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 17 13:31:59 2017 +0100

    Rev typha/libcalico-go to pick up multi-net fixes.

[33mcommit 5bd95b8c2f82b6d354ec31c28a66f6aae2e88be4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 17 10:09:07 2017 +0100

    Disable the iptables lock by default.
    
    Be more cautious until we understand why iptables has been seen taking
    a minute or more in real-world scenarios.

[33mcommit ebfc5f591542178f0ae22065605fcf5cae3b673c[m
Merge: 990ee7e1 82063bcf
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 14 18:09:05 2017 +0100

    Merge pull request #1491 from fasaxc/iptables-lock
    
    Grab the iptables lock before running iptables-restore.

[33mcommit 990ee7e1fb890756eb8a7c35b05914c8706d56fb[m
Merge: e35f2510 10770cf3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 14 14:54:19 2017 +0100

    Merge pull request #1483 from fasaxc/multi-nets
    
    Add support for multiple CIDRs in a match rule.

[33mcommit 82063bcf17a38e506d0c7069489d27ed386ada4e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 27 16:41:33 2017 +0100

    Acquire the iptables lock before running iptables-restore.
    
    - Copy and adapt kube-proxy's iptables lock implementation.
    - Implement a shared iptables lock that allows for writes to
      different tables (which are orthogonal).
    - Add a test executable that grabs the lock for a specified
      length of time along with FV tests that test correct blocking
      of iptables -w.
    
    These are the Felix changes required for #1470.

[33mcommit 10770cf34b3dd4ca90e213c3975245b4d1c877b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 13 11:30:37 2017 +0100

    Code review markups.

[33mcommit d8b168977caae7cbd4368566f9a4f7e48067eddc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 10 14:28:22 2017 +0100

    Pin libcalico-go to master version inclusing multi-nets feature.

[33mcommit f393a497fa3ff05d4d2a3f724c96c1756625f207[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 10 14:27:14 2017 +0100

    Improve commenting.

[33mcommit 649c286dc51e64d53999a8cf25b644b99a61319c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 7 11:05:27 2017 +0100

    Fix merge breakage.

[33mcommit 965b59e043bbea58891c8b8b24a7aa5137e54fad[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 19 16:42:56 2017 +0100

    Switch to split net/nets approach.

[33mcommit 474d4604395167b21b679f4aa9058b02bdfd8805[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 19 16:26:36 2017 +0100

    Improve handling of mixed IP versions.

[33mcommit 20424a39b0e93bb2bea5fca2d8a9e5e715d0fd3a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 19 14:53:25 2017 +0100

    Add UTs and optimize mark usage.

[33mcommit cdbb632fc6f1f039dbd7eee7d0e6113d9e09cb9b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 19 11:44:06 2017 +0100

    Validate that IptablesMark bits are set and don't overlap.

[33mcommit fb7bd38feb0821e99d05c386214ebacb4f88c4bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 19 11:17:17 2017 +0100

    Switch to rendering multiple nets as blocks of rules.
    
    iptables actually expands multiple IPs in a single rule to multiple rules,
    which breaks our rule tracking.  Do the expansion ourselves.

[33mcommit 9ea923e5dc6cf5d1f71922bea97a846504ded285[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Thu Jun 15 12:39:52 2017 +0100

    Add support for multiple CIDRs in a match rule.

[33mcommit e35f25102c8b71c109745ca1c2e1512a5eef9d47[m
Merge: d2312981 e35911e6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 13 09:00:09 2017 +0100

    Merge pull request #1502 from caseydavenport/release-note
    
    Add release note to PR template

[33mcommit e35911e6103d4fee5cb171d0c1693f52eed607a6[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Jul 12 14:53:15 2017 -0700

    Add release note to PR template

[33mcommit d2312981c70d41986d25468eb11c2d7d3debae4a[m
Merge: fead0b9e 99ea8da4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 12 10:05:36 2017 +0100

    Merge pull request #1498 from fasaxc/bg-conntrack
    
    Do conntrack deletions in the background.

[33mcommit fead0b9ec17e7329246e4ee9fd996ae8e59c08f3[m
Merge: ef68109a 80fe3981
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 11 16:45:44 2017 +0100

    Merge pull request #1500 from fasaxc/reduce-ct-passes
    
    Only delete conntrack entries for orig-src and reply-src.

[33mcommit 80fe398137bf24cb642e1aa6d699fdbd05fab2d5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 11 11:54:58 2017 +0100

    Code review markups.

[33mcommit 99ea8da45f501331e07f5245e9d46ad26c95850b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 11 11:43:41 2017 +0100

    Code review markups.

[33mcommit ef68109aec81e987a83e862e422b43703f82aaa8[m
Merge: 59cb8e9a 19d35a72
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 11 09:36:44 2017 +0100

    Merge pull request #1499 from ozdanborne/calicoVersion
    
    Store Calico Version

[33mcommit 9b503a6482cdac1467a56f0d7fde70b3d33385c0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 11 09:28:37 2017 +0100

    Only delete conntrack entries for orig-src and reply-src.
    
    This reduces the number of scans of the conntrack table we need to do.

[33mcommit cea95905dda94c6f3e07fb1430aed7567fc53d5e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jul 7 16:00:15 2017 +0100

    Do conntrack deletions in the background.
    
    Block on pending deletions if IP is reused.

[33mcommit 19d35a727de2dc9135628079ce45857be91c74e8[m
Author: Dan Osborne <djosborne10@gmail.com>
Date:   Wed Jun 28 18:20:37 2017 -0700

    Add Calico Version to usagrep

[33mcommit 59cb8e9a5b6a6fe68bef95e3847bfe25c9ec8848[m
Merge: e46ae757 091f18a3
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 4 19:01:17 2017 +0100

    Merge pull request #1489 from neiljerram/liveness
    
    Implement health endpoints for Felix

[33mcommit e46ae757f97925f3da19332b9cf7a6101171b8b8[m
Merge: 24d8e06d f40b206b
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 4 16:34:07 2017 +0100

    Merge pull request #1496 from neiljerram/k8sfv-flags
    
    k8sfv: use flags instead of positional args

[33mcommit 091f18a3df67b0cdcc2c9db5f23e154d8345d7ed[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 4 15:37:24 2017 +0100

    Change STATUS_ constants to camelCase

[33mcommit 77fd9f3011943e7be6b4c281e9d95ecc21bbb323[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 4 15:23:39 2017 +0100

    Fix tracking when Felix is properly configured
    
    It isn't just when there is a non-nil deployment - because some tests
    clean up all previous Node definitions by calling cleanupAll() or
    cleanupAllNodes().
    
    (Fixes the flake at
    https://semaphoreci.com/calico/felix-2/branches/pull-request-1489/builds/13)

[33mcommit f40b206bfba9e710a086f02af2149d0de28ce4fd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 28 15:26:42 2017 +0100

    k8sfv: use flags instead of positional args

[33mcommit e9ec4fa2811593a1fa42a1451d30e8fe54b5262e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 23 18:30:59 2017 +0100

    Implement health endpoints for Felix

[33mcommit 24d8e06da1136e3fa3cb87189aada6e21aaa0fa3[m
Merge: e6521c4c 7eecfd66
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 4 10:11:30 2017 +0100

    Merge pull request #1492 from Logan2211/default-fwdchain-action
    
    Allow selection of policy allow action

[33mcommit e6521c4c6609735ad47f0215980ef26d5cf89e4f[m
Merge: a8ca8da5 e620fb4d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 3 17:20:03 2017 +0100

    Merge pull request #1497 from neiljerram/fix-k8sfv-flake
    
    Don't verify endpoints if we haven't configured Felix

[33mcommit e620fb4d3e16d36d3c925134cafb755a55f24f77[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jul 3 16:42:32 2017 +0100

    Don't verify endpoints if we haven't configured Felix
    
    Fixes the flake seen at
    https://semaphoreci.com/calico/felix-2/branches/master/builds/476, which
    occurs if the first test to run is one that does not fully configure
    Felix.

[33mcommit 7eecfd66729984347321446f46c20fbe4ac3ba70[m
Author: Logan V <logan2211@gmail.com>
Date:   Tue Jun 27 13:05:59 2017 -0500

    Allow selection of policy allow action
    
    Allow selection of ACCEPT or RETURN for policy acceptance actions
    to take when a security group is permitting the traffic. The
    previous ACCEPT-only behavior did not allow for network-wide
    policy to be inserted after the felix chains were checked.
    
    RETURN will allow operators to filter traffic after it has passed
    through the felix chains.

[33mcommit a8ca8da5ac981a3dc0b51e7ebbc9fb23abc61c36[m
Merge: a91c4c78 af42fd9f
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 30 09:48:07 2017 +0100

    Merge pull request #1494 from neiljerram/k8sfv-check-endpoints
    
    k8sfv: check for 0 endpoints at end of each test

[33mcommit af42fd9f2322254e4df57117179e41736bc89f1a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 29 11:09:04 2017 +0100

    k8sfv: check for 0 endpoints at end of each test

[33mcommit a91c4c781fdb751fe3dce7ce2f1a0d5f1516cbca[m
Merge: 0015f191 7dc411c2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 26 13:17:16 2017 +0100

    Merge pull request #1488 from lwr20/add-junit-reports
    
    Produce junit reports

[33mcommit 7dc411c29320dc84932cfe10784821d24c17c00d[m
Author: Lance Robson <lance@tigera.io>
Date:   Wed Jun 21 20:40:24 2017 +0100

    Make test suites produce junit reports.

[33mcommit 0015f1914097c48c2c8f3e297aea3b47349807ae[m
Merge: afdaaaf0 b0131e73
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 21 11:16:52 2017 +0100

    Merge pull request #1486 from fasaxc/fv-tweaks
    
    Minor coverage improvements.

[33mcommit 78973aec4d0225d73e3f2a4dbc3cd8ed245c8129[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 21 10:52:45 2017 +0100

    Fix that ipsets layer couldn't parse IPs as /32 or /128 CIDRs.

[33mcommit 39717ae354f160e241ac21eceb9fbc2156cedf6c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 20 14:35:50 2017 +0100

    FV tests for network sets.

[33mcommit b0131e732340d2a37d1797469f7894d84510c1c7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 20 14:38:15 2017 +0100

    Minor coverage improvements.

[33mcommit d76b2c7b5f0111aef84b8e22b47a85b3210b20a7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 20 13:52:53 2017 +0100

    Implement network sets.

[33mcommit 8dd6c5508ebb9f7e830abd26f9c04e456908f6d7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 20 13:08:05 2017 +0100

    Switch to using hash:net IP sets.
    
    Preparing for adding network sets feature.

[33mcommit afdaaaf034b60ade0bf4dd937ae6454b716fbf61[m
Merge: b12828d9 161eb495
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 19 09:51:04 2017 +0100

    Merge pull request #1484 from fasaxc/update-typha-client
    
    Update Typha client API.

[33mcommit 161eb495a9075b45a69d2ffc0847471b28d42517[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 16 13:27:44 2017 +0100

    Update Typha client API.

[33mcommit b12828d90a310aaa36904d0b210cdc1e2427a554[m
Merge: 85f9ffff 72732775
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 15 15:44:56 2017 +0100

    Merge pull request #1482 from fasaxc/skip-sel-no-ops
    
    Skip recalculation of selector matches if selector hasn't changed.

[33mcommit 727327757ab50a0613783c16dbb52568f099e120[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Thu Jun 15 09:49:54 2017 +0100

    Skip recalculation of selector matches if selector hasn't changed.

[33mcommit 85f9ffffe7a61cff18e2751199d3a0511962b024[m[33m ([m[1;33mtag: 2.3.0[m[33m)[m
Merge: b1bbbcdd 10c62674
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 12 15:38:22 2017 +0100

    Merge pull request #1481 from fasaxc/rev-deps
    
    Rev libcalico-go to v1.4.4 and Typha to v0.2.2.

[33mcommit 10c62674a872872ae836dd761c37663692284f2d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 12 14:56:10 2017 +0100

    Rev libcalico-go to v1.4.3 and Typha to v0.2.2.

[33mcommit b1bbbcdd152b4e7726a2ecc56b6c25f6884e05a0[m
Merge: 2bb4220c f780deeb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 12 13:40:10 2017 +0100

    Merge pull request #1474 from fasaxc/scan-ipt-save
    
    Scan iptables-save output when calculating hashes.

[33mcommit f780deebf208e02a1cc70ee3e66eb79e3c580278[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 12 10:20:52 2017 +0100

    Add UT for new subprocess error cases.

[33mcommit 862d61f532232b2c854381af41e387d6c3af9180[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 15:14:50 2017 +0100

    Disable some WithField calls in the inner iptables resync loop.
    
    Avoids many allocs in the tight loop if we're not debugging.

[33mcommit 405674052012842f2f7e6939444d623a3ac5529c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 10:37:43 2017 +0100

    Scan iptables-save output when calculating hashes.
    
    Avoids a lot of garbage churn and copying.

[33mcommit 2bb4220c59210c94934ce13602085da699def2f5[m
Merge: 56fc09c5 12863049
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 12 09:10:57 2017 +0100

    Merge pull request #1475 from fasaxc/post-read-intvl-config
    
    Plumb through configuration for the post-write check interval.

[33mcommit 12863049bae1f253075aeeb0a21ee6c9428b57e2[m
Merge: 1aa6e327 56fc09c5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:32:42 2017 +0100

    Merge branch 'master' into post-read-intvl-config

[33mcommit 56fc09c5841a7957498960182286e1f499495ea9[m
Merge: 6a022993 1a16e909
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:32:24 2017 +0100

    Merge pull request #1477 from fasaxc/ipsets-resync-perf
    
    Disable WithFields logging in the ipsets resync parse loop.

[33mcommit 6a0229932374dbd1d6ca566e99f650884938fd27[m
Merge: fe2b36b7 ec55224a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:32:10 2017 +0100

    Merge pull request #1478 from neiljerram/typha-in-k8sfv
    
    k8sfv with Typha in the loop

[33mcommit 1a16e909b3cb2d26a72c8ec2a281ea3b7c24c87d[m
Merge: 872a1eb5 fe2b36b7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:18:25 2017 +0100

    Merge branch 'master' into ipsets-resync-perf

[33mcommit fe2b36b734c5efbdef04648c4926608b7ce837dc[m
Merge: 2885dc47 1df9c30e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:18:06 2017 +0100

    Merge pull request #1480 from neiljerram/fix-k8sfv
    
    Add back accidentally removed internalversion import

[33mcommit 872a1eb5da2938e7bcd508849f2ebe6c525da6b4[m
Merge: 7ccc8b59 2885dc47
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:17:51 2017 +0100

    Merge branch 'master' into ipsets-resync-perf

[33mcommit 2885dc47f28bfc6c5d2a3c8c12fbc28d16391375[m
Merge: f45d08f7 ebae8b11
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 9 11:16:52 2017 +0100

    Merge pull request #1479 from gunjan5/ur-hostname
    
    Ignore hostname in url calculation

[33mcommit 1df9c30eae70ff2a640f10f5c939ec4adcad5358[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 9 11:14:50 2017 +0100

    Add back accidentally removed internalversion import

[33mcommit ebae8b1115e04286901df8dd435c3dfef35ca9ae[m
Author: gunjan5 <patelgunjan5@gmail.com>
Date:   Thu Jun 8 16:50:09 2017 -0700

    ignore hostname in url calculation

[33mcommit f45d08f7027ba77dd4d3ec05f2bf5bbacf6ca143[m
Merge: 8c807ca5 eeeb5aa1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 21:57:30 2017 +0100

    Merge pull request #1471 from fasaxc/ipset-retry
    
    Improve diagnostics around ipset restore failures

[33mcommit 1aa6e327dc08bf3b2c55ad8451f590722506d6ff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 15:33:17 2017 +0100

    Use new config 'seconds' type for other fields.
    
    Improves resolution of time-related config params and removes clunky casts.

[33mcommit ec55224a661d16af329fc42ed1f1cb465ac87169[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sat Jun 3 16:42:51 2017 +0100

    k8sfv with Typha in the loop

[33mcommit 8c807ca5d6c3f9e548f85a65d6ab4cb97c50350e[m
Merge: f6dd5dd5 0990dc7a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 15:21:47 2017 +0100

    Merge pull request #1476 from neiljerram/k8sfv-just-a-minute
    
    Prep for a subset of k8sfv to run in semaphore CI

[33mcommit 0990dc7afa956c2e6db60726c314d1ec3ce768d0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 8 14:42:49 2017 +0100

    Revert "Comment out modprobe, to test Felix premature death check"
    
    This reverts commit 00c7e9a55a0cef1eba75ca4ca3acaa13767fb0e9.

[33mcommit 00c7e9a55a0cef1eba75ca4ca3acaa13767fb0e9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 8 14:37:45 2017 +0100

    Comment out modprobe, to test Felix premature death check

[33mcommit eef0c04b2455c1fd04be61ae4dced3bea07fa122[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 8 14:37:17 2017 +0100

    k8sfv: Check Felix does not die before end of test

[33mcommit d34ab6219c20e2e7adab84166eebaf8a439df1af[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 8 14:28:00 2017 +0100

    Make JUST_A_MINUTE the default, as it's more useful for devs

[33mcommit 7fa2bafdbe5b07d38ea5bc7ff82adacd7352a2fd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 8 14:24:35 2017 +0100

    k8sfv: Ensure that ip6_tables module is loaded

[33mcommit 49826b27cbca1befe5aef8e5d7e576b1a4989227[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jun 8 14:07:32 2017 +0100

    Log ip6tables-save stderr if it fails

[33mcommit 7ccc8b59e5081bf6a56584493184f1f3c1034b38[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 13:58:35 2017 +0100

    Disable WithFields logging in the ipsets resync parse loop.
    
    This speeds up the loop by a factor of 3-4x.  On my torture test, it reduced
    the time from 1.2s to 350ms, which is a huge win on the critical path.

[33mcommit 6e9f6d8e8a6b8ded7dec0dccba502bdd9891f06f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 7 15:50:05 2017 +0100

    k8sfv: fix client authorization to API server 1.6

[33mcommit 18f2a9d338df5248b9175de98142250a36f86f94[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jun 7 17:17:43 2017 +0100

    k8sfv mechanism for only running quick tests

[33mcommit 9e3e8c4de575757be168a43b05e6baf58021ffb3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jun 6 11:40:50 2017 +0100

    Update k8sfv imports for recent client-go/apimachinery moves

[33mcommit 3020268e8dd0813a8a25761bd6371b822ba43b9d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 8 09:56:50 2017 +0100

    Plumb through configuration for the post-write check interval.

[33mcommit eeeb5aa1f95b19239fb433f13dc00b54d65f878c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 6 11:48:48 2017 +0100

    Improve diagnostics around ipset restore failures
    
    - Downgrade retry logs to warning. (Fixes #1421.)
    - Re-use tee buffer and use MultiWriter to capture input in more cases.

[33mcommit f6dd5dd5b558594425cc06269903b98224209cd1[m[33m ([m[1;33mtag: 2.3.0-rc3[m[33m)[m
Merge: 49f76d28 19b36504
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 7 16:53:36 2017 +0100

    Merge pull request #1473 from fasaxc/rev-deps
    
    Rev libcalico-go and typha to pick up fixes.

[33mcommit 19b36504ac3ce58bed80957c45d1fc6f1cc6a60e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 7 10:28:30 2017 +0100

    Rev libcalico-go and typha to pick up fixes.

[33mcommit 49f76d28079fabf7db7c67ec5b911c63da774bde[m[33m ([m[1;33mtag: 2.3.0-rc2[m[33m)[m
Merge: 803a8189 76ea7da7
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Tue Jun 6 19:44:52 2017 -0700

    Merge pull request #1472 from caseydavenport/update-glide
    
    Update libcalico to v1.4.0

[33mcommit 76ea7da7bf71bbb8c858254871368bbd35037ac1[m
Author: Casey Davenport <casey@tigera.io>
Date:   Tue Jun 6 19:37:32 2017 -0700

    Update libcalico to v1.4.0

[33mcommit 803a8189fab4dee6fcd2ccd4ba1d1a75f7aec98c[m[33m ([m[1;33mtag: 2.3.0-rc1[m[33m)[m
Merge: 075d0c0b 906e3be8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 6 09:35:22 2017 +0100

    Merge pull request #1469 from caseydavenport/update-glide-client-go
    
    Rev libcalico-go to v1.3.0 (and Typha to v0.1.4)

[33mcommit 906e3be8c44fb3595caaf97465a46822b84894f7[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Jun 5 17:12:24 2017 -0700

    Update client-go

[33mcommit 364f437f83c8201be3d1476de826c59cad67f5a8[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Jun 5 16:16:29 2017 -0700

    Update libaclico-go, typha dependencies

[33mcommit b3f8e9e98987357e0ff07d20a9587760436af511[m
Author: gunjan5 <patelgunjan5@gmail.com>
Date:   Fri Jun 2 15:30:56 2017 -0700

    update k8s FVs to use apimachinery watch and metav1 imports

[33mcommit 075d0c0bc92a29e7eaa7d623df93202966038200[m
Merge: fb6c9d6d 74d42b49
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 5 21:16:20 2017 +0100

    Merge pull request #1466 from fasaxc/typha-ext
    
    Add support for Typha, the sync-offload daemon.

[33mcommit fb6c9d6d273f26707d6ae8b5fd8417fe918a83aa[m
Merge: 85969736 f33b0a4d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 5 17:34:37 2017 +0100

    Merge pull request #1462 from neiljerram/k8sfv-pod-networking
    
    k8sfv: fix pod networking setup

[33mcommit 74d42b495bcaba57a10821c3588e57c490168b91[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 5 15:52:56 2017 +0100

    Move Typha discovery to config retry loop.

[33mcommit 8596973685d1febd5d90b03e9bd2a1ca5a29858f[m
Merge: c07cf458 f19c9269
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 5 17:03:39 2017 +0100

    Merge pull request #1465 from fasaxc/tini
    
    Ensure our Docker image runs with a sane init daemon.

[33mcommit 335784911dc9552b6b7c2e612aaa330156300321[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 5 15:52:24 2017 +0100

    Rev Typha dependency to v0.1.3.

[33mcommit f19c92693148bdace73af1f9cf3398dde1b85030[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 26 11:34:49 2017 +0100

    xEnsure our Docker image runs with a sane init daemon.

[33mcommit f82efc247817d7e7abec3778dfdd9d14c339deb7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jun 5 09:49:35 2017 +0100

    Pin etcd to avoid issue with history rewriting.

[33mcommit ec8ef4a7721e7d48980b26b84fc990a8ff4b74d2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 2 19:42:44 2017 +0100

    Fix time.Sleep() calls to use seconds.

[33mcommit 91a1a47c562cfa50e9bed501270fcc5fb4e2f4ab[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 2 18:38:40 2017 +0100

    Add (untested) support for discovering Typha.

[33mcommit e549c02e9b53022f7c7da18166fae06294f67b51[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 2 15:54:51 2017 +0100

    Rev to Typha client 0.1.2. Fill in build info.

[33mcommit 930d5c35f74d345506469dbe98b9dad7c3f2342a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 1 17:41:11 2017 +0100

    Add support for Typha, the sync-offload daemon.

[33mcommit c07cf458e8ddb242a9e19896c3d5ec9002f17498[m
Merge: 86235369 42524175
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 30 13:30:30 2017 +0100

    Merge pull request #1464 from obourdon/fix_instance_2_hostname
    
    Add hostname tagged metric

[33mcommit 4252417561806c982e9e21222e7ebaff8fbe6814[m
Author: Olivier Bourdon <obourdon@mirantis.com>
Date:   Mon May 22 11:55:07 2017 +0200

    Add hostname tagged metric
    
    This potentially allow prometheus smarter mapping like having:
    sum by (host) (felix_active_local_endpoints * on (job, instance) group_left(host) felix_host)
    instead of:
    sum by (instance) (felix_active_local_endpoints)

[33mcommit 86235369b23c53b54ed26946d4d43071aa3bcad1[m
Merge: d235a3bb b4afcfb9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 23 13:45:59 2017 +0100

    Merge pull request #1463 from neiljerram/k8sfv-dump-utility-function
    
    k8sfv: utility function triggerFelixGCAndMemoryDump

[33mcommit d235a3bb68f15ae62535d3f9aae23b90965b1b8a[m
Merge: 648a211c 2b8574d4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 22 20:22:15 2017 +0100

    Merge pull request #1460 from obourdon/go_metrics
    
    Add config options for disabling Golang and process metrics

[33mcommit b4afcfb9e28cd96297ecb628a6cfa6c8303ad1ae[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 22 18:29:42 2017 +0100

    k8sfv: utility function triggerFelixGCAndMemoryDump

[33mcommit f33b0a4d8f154e2d1e2ea5500a231f0d509b071b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 22 18:28:49 2017 +0100

    k8sfv: fix pod networking setup
    
    So that pods in this test really can communicate with each other.

[33mcommit 2b8574d4fdb0c09c5d3994abae392ba5a62388e0[m
Author: Olivier Bourdon <obourdon@mirantis.com>
Date:   Fri May 19 14:38:03 2017 +0200

    Add config options for disabling Golang and process metrics

[33mcommit 648a211c24f1fab3587fa8868df9aec739b56d3f[m
Merge: cc045e9e 31c608e2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 17 10:06:42 2017 +0100

    Merge pull request #1459 from fasaxc/tweak-rel-msg
    
    Fix variable formatting in Makefile.

[33mcommit 31c608e2d91fedd5d5046919fa3b486bff30923b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 17 09:59:03 2017 +0100

    Fix variable formatting in Makefile.

[33mcommit cc045e9e5900285de11db7f6c52041c7598f1d4f[m
Merge: 9c92a962 88abd73b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 17 09:58:08 2017 +0100

    Merge pull request #1458 from fasaxc/tweak-rel-msg
    
    Tweak instructions for updating release notes etc.

[33mcommit 88abd73bfb73b1092676201e827338252cba454a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 16 12:07:35 2017 +0100

    Tweak instructions for updating release notes etc.

[33mcommit 01c4649141f3c29949c09e081e35faafeacd7eda[m[33m ([m[1;31mupstream/2.2.x-series[m[33m, [m[1;31morigin/2.2.x-series[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 16 10:57:37 2017 +0100

    Update deb and RPM packaging changelogs.

[33mcommit 9c92a9624d11d2ed68484d488c42a0b0d67d88aa[m[33m ([m[1;33mtag: 2.2.2[m[33m)[m
Merge: 7a927aa6 fc693298
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 12 09:35:55 2017 +0100

    Merge pull request #1457 from caseydavenport/2.2.1-rc1
    
    Pin libcalico-go to v1.2.2

[33mcommit 7a927aa69f5b4a1d7bdb9232d9dc461e0b0376fb[m
Merge: 6e2eb568 5168d3a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 12 09:35:31 2017 +0100

    Merge pull request #1456 from projectcalico/2.2.x-series
    
    Reintegrate 2.2.1 release into master.

[33mcommit fc6932980f36b2dfc49c3da17accfc6bb00d59ce[m
Author: Casey Davenport <casey@tigera.io>
Date:   Thu May 11 14:16:06 2017 -0700

    Pin libcalico-go to v1.2.2

[33mcommit 5168d3a657403473187862cae9443d33da4ec1fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 11 11:53:47 2017 +0100

    Update deb and RPM packaging changelogs.

[33mcommit 6e2eb5680ebb4b9cc54455ea54cf84cbcc2e9831[m
Merge: f52bb5a2 b04446b6
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 11 00:49:16 2017 +0100

    Merge pull request #1453 from fasaxc/datastore-reconn
    
    Reconnect to the datastore after initial config load.

[33mcommit b04446b61f696793839c827bd799298b1bbd78a8[m[33m ([m[1;33mtag: 2.2.1[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 10 18:08:50 2017 +0100

    Reconnect to the dtastore after inital config load.
    
    Ensures that we reconfigure the Syncer correctly if the IPIP flag is set in the datastore.
    
    Fixes #1452

[33mcommit f52bb5a29a5b9835f3a25d6c14e16267db564324[m
Merge: bc4d54db f0d5a42b
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 10 14:35:11 2017 +0100

    Merge pull request #1451 from projectcalico/2.2.x-series
    
    Update deb and RPM packaging changelogs.

[33mcommit f0d5a42b4c872504e33b0dee252565db05bef660[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 9 18:46:02 2017 +0100

    Update deb and RPM packaging changelogs.

[33mcommit bc4d54dbe047c513c9a47ad5c89ff29be1128a2c[m[33m ([m[1;33mtag: 2.2.0-rc5[m[33m, [m[1;33mtag: 2.2.0[m[33m)[m
Merge: 1d1f5e4f 3c64becd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 9 15:29:59 2017 +0100

    Merge pull request #1450 from fasaxc/rev-libcalico-go
    
    Rev libcalico-go to v1.2.1.

[33mcommit 3c64becdf723ebc215cdff250024a44dc44ad9a8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 9 11:51:08 2017 +0100

    Rev libcalico-go to v1.2.1.

[33mcommit 1d1f5e4fbd16607f759cb41a2d776b32009ebda4[m
Merge: 410fa0bd e21ca307
Author: Neil Jerram <neil@tigera.io>
Date:   Mon May 8 11:51:27 2017 +0100

    Merge pull request #1437 from neiljerram/k8sfv-monitoring
    
    k8sfv monitoring work - strawman for review

[33mcommit 410fa0bd6801ce05458864d18d02a667dbdbc19c[m[33m ([m[1;33mtag: 2.2.0-rc4[m[33m)[m
Merge: e98b7aa3 67121807
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 4 18:11:09 2017 +0100

    Merge pull request #1448 from fasaxc/disable-node-poll
    
    Disable node polling if IPIP is disabled.

[33mcommit 67121807cf52e9fd35586f17f9222a092ae4bf88[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed May 3 10:50:30 2017 +0100

    Disable node polling if IPIP is disabled.

[33mcommit e98b7aa347480201aa7973e1d4c8148b140ea0bc[m
Merge: 95a96427 ba1fb93d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 4 14:22:57 2017 +0100

    Merge pull request #1445 from fasaxc/squash-dupe-ips
    
    Squash duplicate host IP updates to avoid churning dataplane.

[33mcommit 95a96427a4f5ff81fe192653dda341cb8fac09dc[m
Merge: 934800e2 b93a490b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 4 11:39:37 2017 +0100

    Merge pull request #1446 from fasaxc/rev-go-to-1.8.1
    
    Rev go-build to v0.6 to pick up go 1.8.1.

[33mcommit 934800e2a7cd01e1596b161090b1ba5dce0ab7e6[m
Merge: c499f95c 8a3a4e37
Author: Neil Jerram <neil@tigera.io>
Date:   Thu May 4 10:34:48 2017 +0100

    Merge pull request #1443 from neiljerram/k8sfv-network-policy
    
    k8sfv: Add test with isolated namespace and NetworkPolicy

[33mcommit ba1fb93da2c27c647bfdf35d22beccb86bb95c52[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 2 17:16:57 2017 +0100

    Squash duplicate host IP updates to avoid churning dataplane.
    
    Fixes #1444.

[33mcommit e21ca307917dc023e4eeceffe3464920e4a83726[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 3 18:21:53 2017 +0100

    Use markdown instead of org

[33mcommit b93a490be378a57fe14cfe96f650847e275cd3ae[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 3 14:16:27 2017 +0100

    Rev go-build to v0.6 to pick up go 1.8.1.
    
    The etcd client dependency now depends on 1.8.1 for a bugfix so we need
    to rev go-build before we can rev that.

[33mcommit c499f95c57d05f56970e9b02a7ec762d2468b19b[m
Merge: 90694723 5f728680
Author: Neil Jerram <neil@tigera.io>
Date:   Wed May 3 11:58:03 2017 +0100

    Merge pull request #1439 from neiljerram/k8sfv-any-felix-target
    
    k8sfv: allow using any Felix version

[33mcommit 8c83b17820bb687e58ff086224b1b9ffcb53296a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 21 14:07:10 2017 +0100

    k8sfv: doc and yaml for long-term monitoring setup

[33mcommit 906947233276915475f9c5260d8c9a422e4c84b8[m
Merge: 69e4bcc8 9decf356
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 3 08:44:52 2017 +0100

    Merge pull request #1442 from fasaxc/add-templates
    
    Add github issue/PR templates.

[33mcommit 69e4bcc88ea32f1978493fe0122076c040dc01fd[m
Merge: 1e5cee5c f37f74fd
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 2 12:33:00 2017 +0100

    Merge pull request #1441 from fasaxc/internal-jitter
    
    Switch to internal jitter for check-in.

[33mcommit 8a3a4e37f01b122525f2c9a6042ca9e66c59ad36[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue May 2 12:25:22 2017 +0100

    k8sfv: Add test with isolated namespace and NetworkPolicy

[33mcommit 9decf356b6792222c90d407891dfdfe31b1159f8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 2 09:35:05 2017 +0100

    Add github issue/PR templates.

[33mcommit f37f74fd23b6aaea25c3116ba31be02fe16120b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 2 09:07:03 2017 +0100

    Switch to internal jitter for check-in.

[33mcommit 4c93b24083abebd11bd22f3a5c0b472bc82450f4[m[33m ([m[1;33mtag: 2.1.2[m[33m, [m[1;31mupstream/2.1.x-series[m[33m, [m[1;31morigin/2.1.x-series[m[33m)[m
Merge: 56069cd5 f9d70db9
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 24 17:46:34 2017 +0100

    Merge pull request #1440 from neiljerram/2.1.x-felix-cluster-metrics
    
    Fix felix_cluster_* metrics when usage reporting disabled

[33mcommit f9d70db9e1d129925d804f823f0b50cebf1ca082[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 7 13:56:20 2017 +0100

    Fix felix_cluster_* metrics when usage reporting disabled

[33mcommit 5f728680feb98b322d55d404ab258628e90ac015[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 24 13:22:13 2017 +0100

    Make k8sfv work for Felix 2.1.x
    
    - Get and use the API server's TLS certificate, instead of suppressing
      TLS certificate verification.  (Because Felix 2.1.x doesn't support
      K8S_INSECURE_SKIP_TLS_VERIFY.)
    
    - Specify CALICO_DATASTORE_TYPE as well as FELIX_DATASTORETYPE.

[33mcommit 471d8425b79bb4b265918cd2ef9094e5fb2552be[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 24 11:38:13 2017 +0100

    k8sfv: allow using any Felix version

[33mcommit 56069cd53d50c293ffe733f9926ea014b42acaa0[m
Merge: 1ce72187 2e291712
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 24 09:11:27 2017 +0100

    Merge pull request #1438 from robbrockbank/2.1.2-libcalico-rev
    
    Rev libcalico-go to v1.1.5

[33mcommit 2e2917121647a94e49f75fd71ed0697bbebb55a7[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Fri Apr 21 12:13:31 2017 -0700

    Rev libcalico-go to v1.1.5

[33mcommit 1e5cee5cdcb34b91e3c39a4fd83bc12657b27821[m
Merge: 7a0c614a 32b84ba0
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 21 10:31:06 2017 +0100

    Merge pull request #1434 from neiljerram/k8sfv
    
    k8sfv test improvements for ongoing CI

[33mcommit 7a0c614a093887f6ee422f908be72299c95a0f8f[m[33m ([m[1;33mtag: 2.2.0-rc3[m[33m)[m
Merge: 57b97271 796cabbe
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Thu Apr 20 12:54:24 2017 -0700

    Merge pull request #1436 from robbrockbank/rev-libcalico-v1.2.1-rc3
    
    Rev libcalico-go to v1.2.1-rc3

[33mcommit 796cabbe8036a7c388619245da1664ec9dc14991[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Thu Apr 20 08:37:18 2017 -0700

    Rev libcalico-go to v1.2.1-rc3

[33mcommit 32b84ba0847a479f4f5ffd48ae75803313581d46[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 15:53:11 2017 +0100

    k8sfv: run test correctly when there is no GINKGO_FOCUS

[33mcommit 18159721978bfc12b0fd626d69ec8cb7ef13a6fe[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 14:27:22 2017 +0100

    k8sfv: give each Node an IP address (to avoid #1435)

[33mcommit a2226fe091eddda73ce5fb07c07fdb189bd59288[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 14:02:18 2017 +0100

    k8sfv: add test design notes

[33mcommit c2129c9d9672f4fcb2e4b974d3e0bfd1b73895b1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 13:42:01 2017 +0100

    k8sfv: allow cleaning up, but don't do it by default

[33mcommit f4be2a803ada7117936b2f804287f709f0b6621a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 12:27:30 2017 +0100

    k8sfv: rework metric code to avoid using panic recovery

[33mcommit 591e7a8c46fb18f80f30972bd798e21e7f9a9365[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 12:24:46 2017 +0100

    k8sfv: add K8SFV_LOG_LEVEL option

[33mcommit 24bd1be39da5bb98ce2b479adfe7fd6bc9418b2e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 11:49:22 2017 +0100

    k8sfv: log all Before and After functions

[33mcommit f99e550e6ff62727a45c5de7e8af8ab4986b5b65[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 20 09:59:25 2017 +0100

    k8sfv: revert to running test program inside Felix container

[33mcommit 9314d83931b22fe957196358bc953ff9ab4defac[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 18:19:10 2017 +0100

    k8sfv: add GINKGO_FOCUS option

[33mcommit 88ee697801bda71fc9864b8dc8360529df45194c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 17:42:05 2017 +0100

    Make the Felix log level configurable

[33mcommit 7cd8338aa9fa6eefee8ada8bd6cc43b6d09d1f02[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 17:11:51 2017 +0100

    k8sfv: define Node resource for the Felix under test
    
    Otherwise Felix thinks the datastore is not ready and won't get going
    with any real processing.
    
    Also stop running the test program inside Felix's container, as that
    isn't actually necessary, and I started seeing problems with the
    AfterSuite code not being executed.  No idea why, but the problem was
    solved by running ginkgo normally instead of using separate compilation
    and run steps.

[33mcommit 9bae4e9b52941c1af2353a9a568ddf67892dff37[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 17:18:14 2017 +0100

    k8sfv: SLEEP_BEFORE_CLEANUP, for investigating problems

[33mcommit 6633329b60e6bb90e49884c2c03daf356b7f0444[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 11:16:04 2017 +0100

    k8sfv: add blank line before metric dump
    
    Otherwise metric output is run together with Ginkgo output.

[33mcommit 47c3e828192c1e6bc13ea40e5e021e205694d54a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 11:16:04 2017 +0100

    k8sfv: collect metrics, dump and push to prometheus gateway

[33mcommit 7ad142b35842cec6af8ed48fefeebfce3b5fe323[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Apr 19 11:21:21 2017 +0100

    k8sfv leak test improvements
    
    - Parameterize number of iterations, and number of initial ones to
      ignore.
    - Measure heap_alloc as well as heap_inuse.
    - Use heap_alloc for the pass/fail criterion.
    - Send SIGUSR1 to Felix to trigger GC and heap profile dump.

[33mcommit 0384cba2a1559e34805734dd3e209165ebdce952[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 6 16:40:57 2017 +0100

    k8sfv: Move test run logic to shell script
    
    Also includes the following logical changes:
    - Build test executable in bin/, not k8sfv/.
    - Run in and output to a dedicated output dir (so as not to pollute
      source code dirs).
    - Support parallel runs by allowing caller to specify ${UNIQUE}
      environment variable.
    - Cleanup test containers on Ctrl-C.

[33mcommit 57b97271f8df8213e9c00594c11b60cc7a0f3e90[m[33m ([m[1;33mtag: 2.2.0-rc2[m[33m)[m
Merge: 9d63cf65 d195c33f
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Mon Apr 17 17:55:52 2017 -0700

    Merge pull request #1430 from heschlie/KDD-libcalico
    
    Bumping libcalico-go to rev with KDD updates

[33mcommit d195c33fe5c38602238e94573a38468da1e094ad[m
Author: heschlie <heschlie@gmail.com>
Date:   Mon Apr 17 14:31:41 2017 -0700

    Moved gomega to testImport
    
    - left ginkgo as it causes conflicts with other packages

[33mcommit bec2bfdf4e6eaffad92787fab8901df330cf46e0[m
Author: heschlie <heschlie@gmail.com>
Date:   Mon Apr 17 10:48:48 2017 -0700

    Bumping libcalico-go to rev with KDD updates
    pinned ginkogo as some tests were failing on newer version
    Gomega needed pinning too

[33mcommit 9d63cf651f3d033d00bf79cb967286e65a54b971[m
Merge: 638cfce1 f7d29e35
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 17:55:07 2017 +0100

    Merge pull request #1429 from fasaxc/force-docker-pull
    
    Run `docker build` with `--pull`.

[33mcommit f7d29e357a1ed997b99d74de676811310c9a09da[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 12:50:07 2017 +0100

    Run `docker build` with `--pull`.
    
    This ensures that we get the latest patch release of the base image.

[33mcommit 638cfce1d601d4f4d317d751d0265d62120b681c[m[33m ([m[1;33mtag: 2.2.0-rc1[m[33m)[m
Merge: 9df6c459 e7b1b2e9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 11:51:21 2017 +0100

    Merge pull request #1427 from fasaxc/reintegrate-2.1.x
    
    Reintegrate 2.1.x

[33mcommit e7b1b2e976f5c28be1f0bef6440095eeaadba681[m
Merge: 9df6c459 1ce72187
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 11:31:29 2017 +0100

    Merge remote-tracking branch 'origin/2.1.x-series'

[33mcommit 1ce72187dd90b3175e9132e606972338822f3f3e[m
Merge: fb36783d 826302b2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 11:29:54 2017 +0100

    Merge pull request #1424 from fasaxc/move-conntrack-rules
    
    Move conntrack rules to per-interface chains

[33mcommit 9df6c459ee6974ed110ae2d813c23b805bc1f22e[m
Merge: cfc1fbdb 1691a0a0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 10:59:21 2017 +0100

    Merge pull request #1426 from fasaxc/rev-libcalico-go
    
    Pin libcalico-go to official v1.2.0 release (actually same commit ID)

[33mcommit 1691a0a0c72f92249e26e278b0ce56384bb44f0c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 09:12:28 2017 +0100

    Pin libcalico-go to official v1.2.0 release (actually the same commit ID).

[33mcommit cfc1fbdb9593962bf90838a1c788bfa0456e0012[m
Merge: fc8bf38b dddbb9a3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 08:53:46 2017 +0100

    Merge pull request #1389 from fasaxc/bg-logging
    
    Move log writing to background threads.  This prevents Felix's mainline processing from blocking if one of our logging targets blocks.

[33mcommit fc8bf38b5ff73ff58d08be30effc0c4828073649[m
Merge: a44e4db7 f60af55d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Apr 13 08:51:54 2017 +0100

    Merge pull request #1422 from fasaxc/link-not-found
    
    Potential fix for spurious ERRORs around missing interfaces.

[33mcommit f60af55d025f067f9c1c5e7ca763e26b9f536d2a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 10:32:49 2017 +0100

    Potential fix for spurious ERRORs around missing interfaces.

[33mcommit a44e4db77edba3c0445f8bc5432f3a569c2a5a9c[m
Merge: 9c6d24fa bbbcf1d4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 16:35:13 2017 +0100

    Merge pull request #1417 from fasaxc/rev-go-build
    
    Rev go build to pick up go 1.8.1

[33mcommit 826302b29e71ce249b3d3fe241eaa8a9c476914f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 16:02:08 2017 +0100

    Move established rule to top for performance.

[33mcommit dddbb9a3b36dc3840404e0b6ed6c788b3b586173[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 15:43:53 2017 +0100

    Add debug option to prevent dropping of logs.

[33mcommit 38172a2b88c10d07582378c27585663c0ec38fb5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 14:21:38 2017 +0100

    Add option to disable ctstate=INVALID rules.

[33mcommit 1e4956f5161b251f3b26185b7b244d88a4b28bfa[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 14:00:21 2017 +0100

    Move conntrack rules to per-interface chains.
    
    Prevents us from accepting traffic that is coming from interfaces that we
    don't own.

[33mcommit bbbcf1d491484ce7fc5cf115cb1e4854b1cd39d4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 12 12:49:42 2017 +0100

    Tune staticcheck to reduce RAM.

[33mcommit f2c68b664a824ffcc1241c5c2485620de4b22405[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 10 14:26:25 2017 +0100

    Rev go-build to v0.5 to pick up go 1.8.1.
    
    Since v0.5 includes a newer linter, fix up some trivial issues/false positives.
    
    - Remove unused variable from test.
    - Suppress warning about leaked ticker.

[33mcommit b6103e6320698d4a43eb4ecf1f6ad7293da3b66b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 11 17:53:58 2017 +0100

    Code review markups
    
    - per-destination drop count
    - share code between different destinations.
    - goimports

[33mcommit b8aaa5ffaec4240a0aab40744e6251fe3989dd5b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 17 11:42:27 2017 +0000

    Code review markups.

[33mcommit f0e102d6396afb9f369f0219b1568595401cec36[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 10 17:44:17 2017 +0000

    Move log writing to background threads.
    
    - Replace separate hooks with a single BackgroundHook that queues logs to
      different destinations.
    - Drop logs if the queue channels are full (but record stats).
    - Special case syslog logs: the writer needs a string and our default formatter
      duplicates a lot of syslog function.
    - Handle fatal/panic logs specially, blocking until the log is written.
    - Adjust felix's shutdown logic to use log.Fatal instead of os.Exit() directly
      so that its logs get flushed on exit.
    - While making the change, I spotted that Felix was logging to stderr during
      startup then switching to stdout, I've changed that to log to stderr only.

[33mcommit 9c6d24fa77fdf7582839a0c3b78f1ae3655b2b19[m
Merge: 8327829e ec8fac21
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 11 17:33:46 2017 +0100

    Merge pull request #1419 from fasaxc/remove-kdd-cache
    
    Rev libcalico-go to version without label cache.

[33mcommit 8327829e4ee709ca27ebf4028f895748dbc6bccd[m
Merge: 4b920084 aea2fdac
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 11 17:32:49 2017 +0100

    Merge pull request #1416 from fasaxc/buffer-sig-chan
    
    Buffer the signal channel.

[33mcommit 4b9200840152465a04e47a473a4953028a749be6[m
Merge: d329e51b 560951b6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 11 14:04:39 2017 +0100

    Merge pull request #1412 from fasaxc/udp-failsafe
    
    Add support for failsafe UDP ports and allow DNS/DHCP by default.

[33mcommit d329e51b2ce3524c03a6dc9600ef4dbf3a255f12[m
Merge: d40fb0a6 d8be5a41
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Apr 11 13:49:04 2017 +0100

    Merge pull request #1415 from neiljerram/sigusr-memory-profile
    
    Dump memory profile on receipt of SIGUSR1

[33mcommit ec8fac210db22974ff8dc1df2d8409a47f1d2bac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 10 16:33:32 2017 +0100

    Rev libcalico-go to version without label cache.
    
    Add code to squash identical labels earlier in the pipeline.
    
    Reduces occupancy.

[33mcommit d40fb0a6a66f2ab9436734822b1198f8fbae991f[m
Merge: 8b53c656 c9b345b2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 10 16:51:00 2017 +0100

    Merge pull request #1406 from neiljerram/k8sfv-375-check
    
    Test and fix for https://github.com/projectcalico/libcalico-go/pull/375

[33mcommit 8b53c6568798e35cacf204699759c9ac186ec5d4[m
Merge: db9ee8de 8a3baeb4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 10 16:35:12 2017 +0100

    Merge pull request #1418 from neiljerram/k8fs-grafana-pin
    
    k8sfv: pin to Grafana 4.1.2

[33mcommit 8a3baeb40355ff3778325c6a8e0281a3c889b1b9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 10 15:24:10 2017 +0100

    k8sfv: pin to Grafana 4.1.2

[33mcommit 560951b618e56f086de42f6032b7b3f1caa9ee91[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Apr 7 10:15:16 2017 +0100

    Add support for failsafe UDP ports and allow DNS/DHCP by default.
    
    Fixes #1064
    Fixes #1407

[33mcommit d8be5a41af21403e4f7cb5abb2fb1c453d7c785a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 10 13:50:50 2017 +0100

    k8sfv: set Felix work dir, so we can see the heap dump files

[33mcommit 7bce8c09640b32f94da1833594fcdce8db691e63[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 10 13:37:53 2017 +0100

    k8sfv: configure DebugMemoryProfilePath

[33mcommit f8ffbbcbd4d73db4bdbf0da650dd00cd3cf8ebd6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 10 13:31:39 2017 +0100

    Dump memory profile on receipt of SIGUSR1

[33mcommit aea2fdaca67887f1c10052f584e0c03e11ed6cf4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 10 13:28:29 2017 +0100

    Buffer the signal channel.
    
    Fix that the signal channel wasn't buffered (which presumably can block a
    system goroutine).
    
    Highlighted by the staticcheck linter.

[33mcommit c9b345b2fd208191cb36b3d3550bedf2b1887e47[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 4 17:51:09 2017 +0100

    Get https://github.com/projectcalico/libcalico-go/pull/375

[33mcommit a586965a62037e97fc5ec4fc4a7b958db8cc2b64[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 30 00:55:36 2017 +0100

    k8sfv: test for libcalico-go #375 (pod deletion with no IP)

[33mcommit db9ee8de83c8e86aa7c2a02ef64542e1c04b73cf[m
Merge: adc66823 f9387e11
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 10 10:40:44 2017 +0100

    Merge pull request #1403 from neiljerram/k8sfv-memory-leak
    
    k8sfv: memory leak and CI integration

[33mcommit adc668237b0f1ada37858504ba76b644d79d0fdb[m
Merge: f901e653 8cd4956c
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 10 09:38:08 2017 +0100

    Merge pull request #1414 from neiljerram/felix-cluster-metrics
    
    Fix felix_cluster_* metrics when usage reporting disabled

[33mcommit 8cd4956cc5a7a28bdef8e2507e26e37f6fbbef76[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 7 13:56:20 2017 +0100

    Fix felix_cluster_* metrics when usage reporting disabled

[33mcommit f901e653bfbb150fdf0f4295f32d8629094557d7[m
Merge: ee5b9780 4fc2705f
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Apr 7 08:59:53 2017 +0100

    Merge pull request #1409 from neiljerram/k8sfv-disable-usage
    
    k8sfv: disable usage reporting

[33mcommit ee5b978052c270697b17ab27a5a902964490dc51[m
Merge: 10e6a68c 4adc8aed
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 6 15:13:56 2017 +0100

    Merge pull request #1408 from neiljerram/ut-skip-k8sfv
    
    Skip k8sfv when running ut-no-cover and ut-watch Make targets

[33mcommit f9387e1195c919c776d8db57260ad3c24e34e565[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 6 13:37:37 2017 +0100

    Code review markups

[33mcommit 4fc2705f8e11a3553c6fc5f6483122c4bd74e272[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 6 12:48:43 2017 +0100

    k8sfv: disable usage reporting

[33mcommit 4adc8aede8108dc9ef47be7ae765120904e7e024[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Apr 6 11:12:02 2017 +0100

    Skip k8sfv when running ut-no-cover and ut-watch Make targets

[33mcommit 10e6a68c3e5c138a7c5768e04ab2773a4c3123d6[m[33m ([m[1;33mtag: 2.2.0-pre1[m[33m)[m
Merge: 98239d09 9040571a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Apr 5 09:22:54 2017 +0100

    Merge pull request #1404 from fasaxc/ginkgo-opts
    
    Add GINKGO_OPTIONS variable

[33mcommit 894c820f10769d853224932c5dec07fd8ca13537[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 4 16:15:19 2017 +0100

    k8sfv: ignore generated junit.xml file

[33mcommit 98239d092c33fffc7d31651a01b65cf4330b8afc[m
Merge: 00bb6b6c e3c1e8a2
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 4 13:42:37 2017 +0100

    Merge pull request #1397 from fasaxc/squash-dummy-prof-log
    
    Squash warnings about missing profiles during resync.

[33mcommit 00bb6b6c85c0f6148ca0f5207b058f9e3212b0f4[m
Merge: 987ac41a 4793592e
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Apr 4 13:39:22 2017 +0100

    Merge pull request #1401 from fasaxc/tune-gc
    
    Tune GC to reduce occupancy.

[33mcommit 9040571ae64c0ccce380afbd8cbf8afdb4a6883a[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Apr 4 12:45:13 2017 +0100

    Add GINKGO_OPTIONS variable
    
    Allows developer to pass extra options to ginkgo.

[33mcommit 02151a705b2fb409b9b39ccc23b9709bcf7d10f7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 3 17:16:34 2017 +0100

    k8sfv: generate JUnit XML summary for each test run
    
    So that Jenkins can show us progress over time, hopefully.

[33mcommit a425bf551175bfca7bc21ca55cb84da560b135d1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 3 16:46:00 2017 +0100

    Change k8sfv Makefile target to 'k8sfv-test'
    
    So that it matches everything else that is prefixed with 'k8sfv'.

[33mcommit e22c570f3576e20bc7024cde43f7dbbcc04f1743[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 3 16:43:59 2017 +0100

    Add an objective 'are we leaking memory' calculation

[33mcommit 16a376e3fedb4336e421800090b3d2e2d0566f86[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Apr 3 16:41:18 2017 +0100

    Pass Felix IP to test prog, so latter can get Felix metrics

[33mcommit 4793592edd4fb1f7e2db6fae7fbc0dd31843cce1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Apr 3 10:47:03 2017 +0100

    Tune GC to reduce occupancy.

[33mcommit 987ac41a68099925fdd69d5cb8c5d3624a210287[m
Merge: c08b5c78 f808a563
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 30 18:11:58 2017 +0100

    Merge branch '2.1.x-k8sfv'

[33mcommit f808a563b57040fba3798219d2f9b2ff3d30892c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 30 18:08:24 2017 +0100

    Use libcalico-go v1.1.4 + InsecureSkipTLSVerify support

[33mcommit 1ba41651f82f9872d0e545b992a5e68b8c9ee4d3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Feb 15 11:22:57 2017 +0000

    Allow FELIX_DATASTORETYPE to fully control datastore type
    
    (Without sometimes needing DATASTORE_TYPE or CALICO_DATASTORE_TYPE as
    well.)

[33mcommit 31417861cd7ac83290a6c769a7cec370ec47c439[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Feb 15 10:55:41 2017 +0000

    Generalize and explain datastore config construction
    
    Following discussion in PR #1339, this change clarifies how and why datastore
    config is constructed, and generalizes the code so that it's ready for
    other future datastore types.  (Specifically the test one that I am
    also working on.)

[33mcommit c08b5c7831988d3c38d914cc275fe73cada5d848[m
Merge: f035d16c fb36783d
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 30 17:32:23 2017 +0100

    Merge branch '2.1.x-series'

[33mcommit b7eabab7c8933763e931ea1df28e1d42276c72e7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 20 14:39:00 2017 +0000

    Code review markups

[33mcommit 1bad708c8e6c399ae779423002124428fc0f80ba[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 16 15:15:38 2017 +0000

    Improve Grafana configuration

[33mcommit 156dad648ec949218f95c3adbd59ccbd3cb5a4de[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 16 14:06:50 2017 +0000

    k8sfv: run in isolated network, only expose Grafana port

[33mcommit 43f2b1a19e41ee07359cdc7d87ed794e40214269[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 15 17:55:32 2017 +0000

    k8sfv: add mutex for pod cleanup from multiple goroutines

[33mcommit 1d39de9e6aef60a746151cf22262b019163acc68[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 15 14:18:19 2017 +0000

    Tweaks to running of Prometheus container

[33mcommit d26a6571959a323129767452dbcc4d3569e59285[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 18:52:35 2017 +0000

    Explicitly create namespaces so we can clean up the pods

[33mcommit b3c449c0261787914c9fa9595620329eb735698a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 18:52:21 2017 +0000

    More log spam reduction

[33mcommit 88624fce6fc61e95169627efd9614695c79ac39f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 17:53:29 2017 +0000

    More self-review...
    
    - Normalize most sleeps to 10s
    - Remove/reduce unreasonable tests
      - 100k endpoints => 10k (otherwise takes too long)
      - 1000 local endpoints (unreasonable, only need ~100)
    - Reduce log spam

[33mcommit 429834afc9be8d72f1834570e888614f1ebc9161[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 17:47:18 2017 +0000

    Make Prometheus/Grafana setup reproducible
    
    Should just need 'make run-grafana' now, then logging in as admin/admin
    at http://localhost:3000, and selecting the "k8s scale testing"
    dashboard.

[33mcommit 633ac1cdc107e6b39f00959017365689d4490c53[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 15:49:02 2017 +0000

    Use unique namespace prefix for each test spec

[33mcommit ba0ebbbc074cceca2673c6d82f7b969b45d94bce[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 14:55:30 2017 +0000

    Self-review

[33mcommit fad250e60608c16a76494bfcf7ec3af2bcf0a01a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 13 17:22:51 2017 +0000

    Exclude Felix/KDD FV test from UT run

[33mcommit 09c109ce7e3c7d9e3b2a67beaa3ec4d0cff35557[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 13 17:08:13 2017 +0000

    Generate prometheus.yml with correct local IP address

[33mcommit 30aca21e72c6f0d56d276b7cafac0631be5702d8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 2 10:14:04 2017 +0000

    Add FV test for Felix with k8s datastore driver
    
    This commit adds and uses a separate FV test executable, whose code
    lives under 'k8sfv'.  It tests Felix as a whole, configured to use
    Kubernetes as its datastore; the system under test consists of
    
    - Felix (configured to use k8s datastore)
    
    - libcalico-go, including its k8s backend
    
    - the Kubernetes API server (as provided by the
      gcr.io/google_containers/hyperkube-amd64 Docker image).
    
    The test program drives that system by acting as a Kubernetes API
    client, writing pod (and in future, namespace and network policy)
    objects into the API server.
    
    There are also new Makefile targets for running Prometheus and Grafana
    containers to monitor the test.
    
    Limit number of concurrent goroutines used for pod cleanup
    
    Without this, in the cleanup for the 100k endpoint test, we get an error
    from the API server saying that it has too much work and that we should
    retry a delete operation later.

[33mcommit fb36783d86c61377346099d5b949a1761168ed12[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 29 18:02:53 2017 +0100

    Deb/RPM packaging for 2.1.1 release

[33mcommit ff29d69f152a0d09b6b673e2f96d457354d18ff1[m[33m ([m[1;33mtag: 2.1.1[m[33m)[m
Merge: 83b9fd99 8717de98
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 29 15:04:15 2017 +0100

    Merge pull request #1398 from fasaxc/rev-libcalico
    
    Rev libcalico-go to v1.1.4

[33mcommit 83b9fd99f841aad2536ea6505b5ec26d6319701a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 8 13:17:03 2017 +0000

    Ensure the IP forwarding is enabled on the interfaces we control.

[33mcommit 8717de9872fed83f03e34146030d5a4c27e730da[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 27 18:38:50 2017 +0100

    Rev libcalico-go to 1.1.4.
    
    Fixes bug in KDD.

[33mcommit 95b579a4fbe287ea20f98bf355fc6be58c65fb65[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 27 18:45:51 2017 +0100

    Fix felix.go imports.

[33mcommit dbc49edb6f9747685f69dc9668fc2d295a92ddb1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 17 18:24:03 2017 +0000

    Seed Go's RNG.

[33mcommit f035d16c25d8eceacd50219fa3f16cb71bbce37e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 27 15:41:10 2017 +0100

    Run goimports.

[33mcommit e3c1e8a2b83587dbb9d2eaead8d36e9b32125379[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 27 15:38:52 2017 +0100

    Squash warnings about missing profiles during resync.
    
    It's normal for profiles to be missing if we see the endpoint before the profile.

[33mcommit f3f2f40e013b4c0ef322e4a75362f347da0c1bac[m
Merge: 2fa4849a 17bfbebb
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 21 15:14:32 2017 +0000

    Merge pull request #1367 from neiljerram/k8s-scale-test
    
    Scale testing Felix with the k8s datastore driver

[33mcommit 17bfbebbbcbfa169863668fe367c5bff16db2cca[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 20 14:39:00 2017 +0000

    Code review markups

[33mcommit 2fa4849a6b7e2a29bc6e78062b333e3b32e71608[m
Merge: e8f5c6bf e08b4c86
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Mar 17 23:45:22 2017 +0000

    Merge pull request #1395 from fasaxc/seed-rand
    
    Seed the random number generator

[33mcommit e08b4c8600c68fb32fba40f599233d9e2f0112ae[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 17 18:24:03 2017 +0000

    Seed Go's RNG.

[33mcommit e8f5c6bfbd945d4bf5ea3951f98df1993c45e473[m
Merge: f66e5d6f f3835898
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Mar 17 11:31:01 2017 +0000

    Merge pull request #1374 from fasaxc/combine-inherit-idx
    
    Combine label index and inherit index into single type

[33mcommit f66e5d6f810ac3bdf3016c3a4d7741542e246662[m
Merge: 0c9a1b04 8eed8c13
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 17 10:18:02 2017 +0000

    Merge branch '2.1.x-series'

[33mcommit 8eed8c13e383d9aa6f21519e66f42cbfa7d6cb62[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 17 10:16:58 2017 +0000

    Record deb/RPM changelogs for 2.1.0 release.

[33mcommit ac45dc89b07e8cfb653c314160f5d4038725470a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 16 15:15:38 2017 +0000

    Improve Grafana configuration

[33mcommit c4566ff9ba1a81ab1ef5ad3d84e089d04459dcc9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 16 14:06:50 2017 +0000

    k8sfv: run in isolated network, only expose Grafana port

[33mcommit ce01c43f3fd21cff49c4c01a00fd8232354af8bf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 15 17:55:32 2017 +0000

    k8sfv: add mutex for pod cleanup from multiple goroutines

[33mcommit 6aeb6a6a084e83debdb183155f62b79fdbfedec3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Mar 15 14:18:19 2017 +0000

    Tweaks to running of Prometheus container

[33mcommit f083746a26e063c2535de3ddbf12ca720f73b025[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 18:52:35 2017 +0000

    Explicitly create namespaces so we can clean up the pods

[33mcommit 96de0efe3c7230d3e4614695c1440b34e16d2b42[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 18:52:21 2017 +0000

    More log spam reduction

[33mcommit c367b46929d637f5cfdf532858971dbadf9cf59d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 17:53:29 2017 +0000

    More self-review...
    
    - Normalize most sleeps to 10s
    - Remove/reduce unreasonable tests
      - 100k endpoints => 10k (otherwise takes too long)
      - 1000 local endpoints (unreasonable, only need ~100)
    - Reduce log spam

[33mcommit d03b19f1f8a1e308f2145f196d6e0384afbac7f3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 17:47:18 2017 +0000

    Make Prometheus/Grafana setup reproducible
    
    Should just need 'make run-grafana' now, then logging in as admin/admin
    at http://localhost:3000, and selecting the "k8s scale testing"
    dashboard.

[33mcommit 6858c11bab65a816c9bc7e498ceaf366f1c56d06[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 15:49:02 2017 +0000

    Use unique namespace prefix for each test spec

[33mcommit b05062f5adb59e724e7a9aad4c79df769403a59b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 14 14:55:30 2017 +0000

    Self-review

[33mcommit d162e562e67118097934d05c137d57d73301e16e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 13 17:22:51 2017 +0000

    Exclude Felix/KDD FV test from UT run

[33mcommit a05df75b9b1be3177dc5638781fda8d982a0e991[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 13 17:08:13 2017 +0000

    Generate prometheus.yml with correct local IP address

[33mcommit fa7688c98f06e0b8c36ea9edfbc766cef937becf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 2 10:14:04 2017 +0000

    Add FV test for Felix with k8s datastore driver
    
    This commit adds and uses a separate FV test executable, whose code
    lives under 'k8sfv'.  It tests Felix as a whole, configured to use
    Kubernetes as its datastore; the system under test consists of
    
    - Felix (configured to use k8s datastore)
    
    - libcalico-go, including its k8s backend
    
    - the Kubernetes API server (as provided by the
      gcr.io/google_containers/hyperkube-amd64 Docker image).
    
    The test program drives that system by acting as a Kubernetes API
    client, writing pod (and in future, namespace and network policy)
    objects into the API server.
    
    There are also new Makefile targets for running Prometheus and Grafana
    containers to monitor the test.
    
    Limit number of concurrent goroutines used for pod cleanup
    
    Without this, in the cleanup for the 100k endpoint test, we get an error
    from the API server saying that it has too much work and that we should
    retry a delete operation later.

[33mcommit 0c9a1b048d255453624221708f6807827e0735c3[m
Merge: f2f3783d fb5b330c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 16 14:09:04 2017 +0000

    Merge tag '2.1.0-rc9'
    
    Felix version 2.1.0-rc9
    
    - Rev libcalico-go to v1.1.3.  Fixes a cleanup bug in the Kubernetes datastore driver.
      (https://github.com/projectcalico/libcalico-go/issues/368).

[33mcommit f2f3783d80817699bae36257e34c521e6a9ee453[m
Merge: a43286d8 7ad774d4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 16 14:07:57 2017 +0000

    Merge pull request #1391 from fasaxc/rev-libcalico-go
    
    [master] Rev libcalico-go to v1.1.3; fixes memory leak in KDD.

[33mcommit fb5b330c0d9ba138fab0db103cd12c85a83b3f44[m[33m ([m[1;33mtag: 2.1.0-rc9[m[33m, [m[1;33mtag: 2.1.0[m[33m)[m
Merge: f0e780b4 2506e721
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 16 13:50:13 2017 +0000

    Merge pull request #1392 from fasaxc/rev-libcalico-go-2.1.x-series
    
    [2.1.0-series] Rev libcalico-go to v1.1.3.  Fixes memory leak in KDD.

[33mcommit a43286d862abdda5466a2db2884fdfb82ddbfe30[m
Merge: 3d5f9c23 6e6bbe97
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Mar 16 11:44:31 2017 +0000

    Merge pull request #1366 from fasaxc/combine-indexes
    
    Remove tag index and reimplement on top of tag->label inheritance.

[33mcommit f383589888b3e2a64b27384674d6a4b217b98c90[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 16:11:29 2017 +0000

    Combine label index and inherit index into single type.
    
    Allows for them to share cached data, reducing occupancy.

[33mcommit 7ad774d4a1d96fe8cc3961c448742fe792253601[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 16 09:02:19 2017 +0000

    Rev libcalico-go to post-v1.1.3 version of master; fixes memory leak in KDD.

[33mcommit 2506e721d29424940e0428f03bb1a3362805d586[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 16 09:55:07 2017 +0000

    Rev libcalico-go to v1.1.3.  Fixed memory leak in KDD.

[33mcommit 6e6bbe97fc32cde1d0b30a82168daceb80e05862[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 15 18:06:53 2017 +0000

    Code review markups.

[33mcommit ad3b9f4089d8a255d312c976f3a046c7c07039cd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 2 17:12:15 2017 +0000

    Remove tag index and reimplement on top of tag->label inheritance.
    
    Improves occupancy by sharing the index.

[33mcommit 3d5f9c23539480f2f0e7deb6b21f67aca68022ab[m
Merge: ee7bdab3 76c07f1b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 14 13:31:02 2017 +0000

    Merge branch 'improve-stats'

[33mcommit ee7bdab3010ae00a18f733655803d7f6f86880ac[m
Merge: 9ee14b0b 4686fb4a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 14 13:15:32 2017 +0000

    Merge pull request #1373 from fasaxc/sel-label-ifce
    
    Compute label union on the fly to reduce occupancy.

[33mcommit 9ee14b0bd465ecae6dd1e403fb5fec32cea5d189[m
Merge: 97f350a8 68f2aae7
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Mar 13 14:57:04 2017 +0000

    Merge pull request #1382 from fasaxc/trunc-msgs
    
    Truncate long API messages when logging at INFO level.

[33mcommit 4686fb4a91f46b003c541f881ca2476e2f374fe0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 13 10:27:48 2017 +0000

    Code review markups.

[33mcommit fddff2a25a98fe3ee9e934ad3e9c64a318e234b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 10 16:02:58 2017 +0000

    Add more comments to inheritance index.

[33mcommit d94968a4ae3ff9a9ce51df22a45f107e67b1688e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 16:11:29 2017 +0000

    Compute label union on the fly to reduce occupancy.

[33mcommit 76c07f1ba9c289ab4dfc8232b31fb807b1467712[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 13 10:14:56 2017 +0000

    Switch to monotime package.  Remove need for time jump checks.

[33mcommit 1cc022259ae62b5ce213b09fc3add62de6a15805[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 11:28:30 2017 +0000

    Improve stats: add route table stats, swap histograms for summaries.

[33mcommit 97f350a875d623886de6c41db86e2aa115843cf2[m
Merge: 37117717 4351cd26
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 13 09:47:40 2017 +0000

    Merge pull request #1380 from fasaxc/disp-chain-deltas
    
    Reduce log spam from unconditional rewriting of dispatch chains.

[33mcommit 4351cd26a9c56a63b483f6109c5c5a59166da0e3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 10:19:41 2017 +0000

    Reduce log spam from unconditional rewriting of dispatch chains.
    
    Only update the chains that have actually changed.

[33mcommit 371177179811a9ee72e0c236a39d96f10747472c[m
Merge: 17e29fc1 d252f75f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Mar 13 09:45:53 2017 +0000

    Merge pull request #1376 from fasaxc/enable-fwd
    
    Ensure the IP forwarding is enabled on the interfaces we control.

[33mcommit d252f75fa2c277c43fa5ec7779b8bc0f5361e4a0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 8 13:17:03 2017 +0000

    Ensure the IP forwarding is enabled on the interfaces we control.

[33mcommit 17e29fc142681852ab2b30e555a67bc43b9b7efd[m
Merge: e63210ef d5c3ed79
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Mar 10 14:05:04 2017 +0000

    Merge pull request #1385 from fasaxc/batch-netlink
    
    Add batching for iface addrs/status updates.

[33mcommit e63210efd7f770af85c20d72f82e62fd762bc879[m
Merge: 0c352929 0b77f18c
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Mar 10 13:54:53 2017 +0000

    Merge pull request #1383 from fasaxc/apply-in-parallel
    
    Do dataplane updates in parallel for IPv4/6.

[33mcommit 0c3529294577f27cd6f8960132433560a7f95eab[m
Merge: fd224a69 d6bfee84
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 10 10:13:01 2017 +0000

    Merge pull request #1368 from fasaxc/mem-profile
    
    Add config option to do memory profile

[33mcommit d6bfee84f2c1f12819fb0c5d2b23a4e68546c4ab[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 28 15:40:14 2017 +0000

    Add command line option to dump a memory profile.

[33mcommit d5c3ed796808a18a25bff4046367da10032eb07c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 14:41:53 2017 +0000

    Add batching for iface addrs/status updates.
    
    Improves rubustness when under heavy local endpoint churn.

[33mcommit 0b77f18ca03c0e1198b431e1c572a721ce6620a1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 11:06:51 2017 +0000

    Do dataplane updates in parallel for IPv4/6.
    
    Roughly halves the time spent in apply().

[33mcommit 68f2aae7506d4ce508762f5808e417b6833a6597[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 15:27:31 2017 +0000

    Truncate long API messages when logging at INFO level.

[33mcommit f0e780b4d9dcb3dfa68f992e5a01fcfa8ebf7d79[m[33m ([m[1;33mtag: 2.1.0-rc8[m[33m)[m
Author: Matt Dupre <matt@projectcalico.org>
Date:   Tue Mar 7 17:47:11 2017 -0800

    Clean up undocumented options

[33mcommit fd224a6990bd6e2fc138b78f14a8f7b1ded95dd0[m
Merge: b516899d d676ba23
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 08:46:30 2017 +0000

    Merge pull request #1379 from matthewdupre/sanitize-log-options
    
    Clean up undocumented options

[33mcommit b516899d06f1e57ed43e56a8be4a8182f434e1e0[m
Merge: ee7a9365 1ae826b8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Mar 9 08:45:08 2017 +0000

    Merge pull request #1378 from fasaxc/rev-libcalico-go
    
    Rev libcalico-go to v1.1.2.

[33mcommit d676ba2392b06647015b255d353cda355012a71e[m
Author: Matt Dupre <matt@projectcalico.org>
Date:   Tue Mar 7 17:47:11 2017 -0800

    Clean up undocumented options

[33mcommit 4baafe5f15846dedfd1905c5e0a592424365422c[m[33m ([m[1;33mtag: 2.1.0-rc7[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 13:23:58 2017 +0000

    Ignore empty configuration values.
    
    Fixes #1369

[33mcommit ed969a4a45e89ac006d42c9e088a762650bdd998[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 8 18:14:55 2017 +0000

    Rev libcalico-go to v1.1.2.
    
    Fixes #1375

[33mcommit 1ae826b8238413aae6e1b210c3235406ce300915[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 8 18:14:55 2017 +0000

    Rev libcalico-go to v1.1.2.
    
    Fixes #1375

[33mcommit ee7a93650002af11e5587977c793e5f17028c91e[m
Merge: 4beeeb28 614612c0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 8 09:23:39 2017 +0000

    Merge pull request #1372 from fasaxc/ipset-mem-slice
    
    Use slices instead of sets in IP set member calculator.

[33mcommit 4beeeb28a001000001378ec54c19c74b2ba42202[m
Merge: 62c72a13 5defbb83
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 17:58:36 2017 +0000

    Merge pull request #1371 from neiljerram/fix-typo
    
    Typo fix

[33mcommit 62c72a13af16f28c9ad5f3e4901d0624620efc2c[m
Merge: 9e7d0897 3642d426
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 17:58:16 2017 +0000

    Merge pull request #1370 from fasaxc/fix-config-log-spam
    
    Ignore empty configuration values.

[33mcommit 614612c0b6088472b9f6acc236caea19704dd80f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 15:01:16 2017 +0000

    Use slices instead of sets in IP set memeber calculator.
    
    Improves occupancy.

[33mcommit 5defbb837d528ee36103847ead6c070434d4f08d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Mar 7 15:07:25 2017 +0000

    Typo fix

[33mcommit 3642d426c614ff3e684e1ab45c69ccb092c561e4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Mar 7 13:23:58 2017 +0000

    Ignore empty configuration values.
    
    Fixes #1369

[33mcommit 9e7d0897ba639e1db009b5a910a53f40e96ed9ca[m
Merge: 19757205 a8ad5ab8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Mar 3 09:49:04 2017 +0000

    Merge pull request #1341 from neiljerram/datastore-config
    
    Generalize and explain datastore config construction

[33mcommit 1975720524fc9447cec6f76492342e19aa2e14b9[m[33m ([m[1;33mtag: 2.1.0-rc6[m[33m)[m
Merge: 6d0214cc 267ca1be
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 1 17:23:29 2017 +0000

    Merge pull request #1365 from fasaxc/glide-tweaks
    
    Tweak update-vendor to mark vendor dir up-to-date.

[33mcommit 6d0214ccf359d3aa475dd76d64950f71963722cd[m
Merge: ec5113e4 6bee00e4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 1 17:22:42 2017 +0000

    Merge pull request #1364 from fasaxc/rev-libcalico-go
    
    Rev libcalico-go to 1.1.1.

[33mcommit 267ca1be33259d254d6109b6c9db6bf2deae8240[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 1 14:03:32 2017 +0000

    Tweak update-vendor to mark vendor dir up-to-date.
    
    IIUC, glide up is a superset of glide install so we were doing redundant work.

[33mcommit 6bee00e44bd04cdd4a60b15189b5fae1af133d92[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 1 13:46:46 2017 +0000

    Rev libcalico-go to 1.1.1.

[33mcommit ec5113e450637f4c8dda8ea1dd9a3cfaef9bad69[m
Merge: bcef1874 d9509fd9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 1 13:09:45 2017 +0000

    Merge pull request #1356 from fasaxc/int-dpd-batching
    
    Throttle dataplane updates and opportunistically batch.

[33mcommit bcef18746b199ed28f0d0831861a3cd7731cd9f2[m
Merge: e001e9ba c0aa4b8f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Mar 1 13:09:32 2017 +0000

    Merge pull request #1357 from fasaxc/ipsets-perf
    
    Implement bulk updates to IP sets
    
    -  Improve IP sets update performance by batching multiple set updates into single ipset restore calls.
    - Avoid buffering large amounts of input/output by doing streaming reads/writes from pipes to the child process.
    - Replace `AttemptCleanup()` start-of-day cleanup routine with a resync mechanism that reads back the contents of the dataplane.  Works around / Fixes #1347.
    
    Design:
    
    - Move write function to `Registry`, renamed as `IPSets`.
    - Reduce IPSet struct to a data struct rather than a fully fledged object to avoid having an intricate coupling between the two objects.
    - To support comparison during resync, convert IPs/CIDRs to canonical form and store them as ip.Addr/ip.CIDR objects instead.
    - Remove IP set existence cache since logic is now rolled into resync.

[33mcommit c0aa4b8f70c2258b3724c563daa36bf0d502ab71[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 28 16:12:31 2017 +0000

    Code review markups.

[33mcommit 46c7bc2425c6da60c7f8306c879183cd85abce89[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 27 13:52:22 2017 +0000

    Unit tests for IP sets rework.

[33mcommit 76e9db90745ba29bbc7b68ee34eb45a4ce7ab1b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 24 18:21:15 2017 +0000

    Add metrics for execs.

[33mcommit 89c4062ac440da07b3e7a3584f63df7f37ff8fec[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 24 09:52:11 2017 +0000

    Implement periodic resyncs of IP sets.
    
    - Load IP sets from datatplane and convert members to canonical form.
    - Compare with expected values and queue up updates to repair.

[33mcommit 837947ea1c541eb2b10fd8322995e6b4d357797c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 09:13:39 2017 +0000

    Implement bulk updates to ipsets.
    
    - Move ipset restore logic to IPSets "manager" class so multiple
      writes can be grouped together.
    - Do writes in a streaming fashion to minimise need for buffering in
      memory.
    - Canonicalise IP set members when adding to IPset in preparation
      for impelmenting resync.

[33mcommit e001e9bad2d2eac15aa35075c640691566e3081f[m
Merge: 08cd5dd3 7a2f948b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 27 13:53:33 2017 +0000

    Merge pull request #1363 from fasaxc/rev-go-build
    
    Rev calico/go-build to v0.4.

[33mcommit 7a2f948bff539aa121b628beaa71b073bb9d2a01[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 27 08:59:06 2017 +0000

    Rev go-build container to v0.4.  v0.3 was incorrectly tagged.

[33mcommit 12ef749e2de04cb26d8e55926d1331860c4d27f1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 24 18:22:12 2017 +0000

    Rev calico/go-build to v0.3.
    
    Improves performance by pulling in vfork patch.

[33mcommit 559c1cc1b0752a4b4047dfebe3cc1d0cef3c865d[m[33m ([m[1;31mupstream/1.4.x-series[m[33m, [m[1;31morigin/1.4.x-series[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 23 11:08:34 2017 +0000

    Restore Felix version to be a dev version.

[33mcommit 08cd5dd3295063df91c434657dc95850a56154ae[m
Merge: 0eb43382 a8414119
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 23 09:53:58 2017 +0000

    Merge pull request #1327 from bolcom/build_on_rhel6
    
    Build the felix RPMS on EL6 as well

[33mcommit 595efc9c71048a0e98688d9df6c0d8bc869953ea[m[33m ([m[1;33mtag: 1.4.9[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 23 09:42:36 2017 +0000

    Felix 1.4.9

[33mcommit 0eb433821862631891fcf8b91d41d494de8392f8[m
Merge: 081db38c 1794712d
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Feb 22 18:11:15 2017 +0000

    Merge pull request #1358 from fasaxc/fix-ip-addr-parsing
    
    Fix IP address parsing to use net.IP.To4() instead of len().

[33mcommit a8414119921e0f2c9354519b5e01032155ba6925[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Wed Feb 22 14:10:56 2017 +0100

    Let EL7 build to rpms, and EL6 to el6-rpms, to make sure all kinds of CI-jobs don't fail
    
    Change-Id: I83fbc2a84e1e488e7f45839acead23abacaabce8

[33mcommit 1794712d6bbffccd9ecf0f94cfacab642822c514[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 21 13:19:36 2017 +0000

    Fix IP address parsing to use net.IP.To4() instead of len().
    
    len(ip) can be 16, even for an IPv4 address due to Go's internal
    representation of IPs.
    
    Add UTs and minor clean-ups.

[33mcommit d9509fd9c6a329133f7aae3953d4a9d397b2fd97[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 20 15:27:57 2017 +0000

    Throttle dataplane updates and opportunistically batch.
    
    Improves throughput when under heavy load.

[33mcommit 70dcd515d153a1af265e7ff3fb6bfa77d597c6d3[m
Merge: 2c3d817a 950958b6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 20 13:53:40 2017 +0000

    Merge pull request #1355 from matthewdupre/ignore-host-endpoint-subinterface
    
    Disregard subinterface part of interface names

[33mcommit 081db38cf6b6cef1fbb834d51675ef1f21f1822c[m
Merge: 281f6554 2be0981f
Author: Neil Jerram <neil@tigera.io>
Date:   Sat Feb 18 09:03:20 2017 +0000

    Merge pull request #1354 from fasaxc/implement-admin-down
    
    Disable interfaces that are admin down.

[33mcommit 950958b6aa8b25884950f520314c46e9e1472ba5[m
Author: Matt <matt@projectcalico.org>
Date:   Fri Feb 17 14:58:13 2017 -0800

    Disregard subinterface part of interface names

[33mcommit 281f6554f80568793b5657f2fce4311c807c292a[m[33m ([m[1;33mtag: 2.1.0-rc5[m[33m)[m
Merge: 9776113d 52dc1730
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 15:40:20 2017 +0000

    Merge pull request #1353 from fasaxc/coalesce-stats-updates
    
    Decouple stats collector from usage reporter.

[33mcommit 9776113da48d487a0bcc07b76c2f62668520e407[m
Merge: 87e31f49 7f24c828
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 15:40:04 2017 +0000

    Merge pull request #1350 from fasaxc/improve-in-sync-log
    
    Add log to indicate end of initial sync.

[33mcommit 2be0981f73ada7de1651fcb2bdf1d0dfcf86a898[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 15:37:37 2017 +0000

    Disable interfaces that are admin down.
    
    Fixes #1342

[33mcommit 87e31f494b8a49697ab708e5bd1eba297f88a504[m
Merge: 7d5f8af3 b72514a4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 15:02:21 2017 +0000

    Merge pull request #1352 from fasaxc/fix-insert-false-pos
    
    Ignore removal of non-Calico chain.

[33mcommit b72514a48638865b2b7899f0846f155f6a55eaf8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 11:02:58 2017 +0000

    Ignore removal of non-Calico chain.
    
    Fixes #1349

[33mcommit 7f24c828e7e21ec3f96ff120e667be893a4825a8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 10:19:02 2017 +0000

    Add log to indicate end of initial sync.

[33mcommit 52dc173000e8b84fc4fd2598464746c98da66ce6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 17 11:28:07 2017 +0000

    Decouple stats collector from usage reporter.
    
    Fixes #1348.

[33mcommit a8ad5ab8f1f68a53d027c3b5a65dee5d96d53fd5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Feb 15 11:22:57 2017 +0000

    Allow FELIX_DATASTORETYPE to fully control datastore type
    
    (Without sometimes needing DATASTORE_TYPE or CALICO_DATASTORE_TYPE as
    well.)

[33mcommit 7c670c599af868659cbb5651d2d8ae7e38a714bc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Feb 15 10:55:41 2017 +0000

    Generalize and explain datastore config construction
    
    Following discussion in PR #1339, this change clarifies how and why datastore
    config is constructed, and generalizes the code so that it's ready for
    other future datastore types.  (Specifically the test one that I am
    also working on.)

[33mcommit 7d5f8af37806ad9f67db9ff81ba0ad7fa5d4a03a[m
Merge: e967aa0e 4d8a38d5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 14 14:49:53 2017 +0000

    Merge pull request #1337 from fasaxc/cleanup-unused
    
    Cleanup unused policy rendering code

[33mcommit 4d8a38d518af261bf0d22b74dfd60380d8aa38c9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 13 13:10:24 2017 +0000

    Removing unused policy rendering code and simplify.

[33mcommit e967aa0ed08167222d07c96a8a6ef2ac2293653e[m
Merge: 96532957 556de9bc
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 13 14:15:49 2017 +0000

    Merge pull request #1336 from fasaxc/fix-chain-name-clash
    
    Change chain name prefix from "cali" to "cali-" to avoid name conflict

[33mcommit 556de9bca2d381f183cb24187759ff57729bea71[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 13 10:42:39 2017 +0000

    Change chain name prefix from "cali" to "cali-" to avoid conflict with DHCP agent.
    
    Fixes #1333

[33mcommit 96532957aeb248227c47d979d6ef2559cc27db13[m[33m ([m[1;33mtag: 2.1.0-rc4[m[33m)[m
Merge: 5ae1f384 636e01a4
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Feb 10 12:44:06 2017 -0800

    Merge pull request #1334 from tomdee/pin-libcalico-go
    
    glide: Pin libcalico-go

[33mcommit 636e01a4758ffe60c13948244f284719f48bf0bd[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Feb 10 10:10:20 2017 -0800

    glide: Pin libcalico-go

[33mcommit 5ae1f3842568470cedf433c058934b89cdd543db[m
Merge: e5b33305 b0ddb3b9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 9 09:23:39 2017 +0000

    Merge pull request #1332 from fasaxc/reduce-resync-logs
    
    Improve logs around resync.  Downgrade some spammy logs.

[33mcommit b0ddb3b91efb2ef11ff081201a922f57221518ad[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 8 12:00:44 2017 +0000

    Improve logs around resync.  Downgrade smoe spammy logs.

[33mcommit e5b33305a5946a63600ee132516b5c5d4e347463[m
Merge: dd06c387 f774d700
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 8 09:24:27 2017 +0000

    Merge pull request #1330 from fasaxc/rev-libcalico
    
    Rev libcalico-go to v1.1.0-rc1.

[33mcommit f774d700fb6c80bf24cd62fa5dc47950c72eea90[m[33m ([m[1;33mtag: 2.1.0-rc3[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 7 14:26:37 2017 +0000

    Rev libcalico-go to v1.1.0-rc1.
    
    - Brings in a fix for the k8s backend.

[33mcommit dd06c3877572847f08f6b404e3cca568e89b25a7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 7 14:13:27 2017 +0000

    Aggressively re-check iptables after an update. (#1326)
    
    * Aggressively re-check iptables after an update.
    
    * Code review markups.
    
    * Schedule a refresh at start of day.
    
    Avoids a tight loop if the first iptables read discovers we're already in sync.
    
    * Keep intervals bounded to make testing easier.

[33mcommit cb8a60705091c33af1546315a2c04c8beb5efb35[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Feb 7 10:15:22 2017 +0000

    Handle interfaces being renamed in interface monitor. (#1329)

[33mcommit 8e91905eb7619a82913363d159f0363882eb0680[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Feb 6 21:08:58 2017 +0000

    Add coverage reporting target for golang. (#1323)

[33mcommit 5be9dddd0b134f655adb87ca1c78a2e39473e912[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Mon Feb 6 16:20:03 2017 +0100

    Fix building issue

[33mcommit 0131bc0368a82ff108ae371c93840968fe1024c4[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Mon Feb 6 14:03:14 2017 +0100

    Build the felix RPMS on EL6 as well
    
    Change-Id: I00fac1a48668cbead9cbbdffbdd6516b0bad757b

[33mcommit af84a1bf7247c616270d4e6cbbce232230020a12[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Feb 3 10:50:53 2017 +0000

    Implement loose RPF startup check. (#1322)
    
    Implement loose RPF startup check.

[33mcommit 99fd1a11addcb78124808d563e162fda8b64de83[m[33m ([m[1;33mtag: 2.1.0-rc2[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 2 17:48:53 2017 +0000

    Plumb through Ipv6Support flag and ReportingIntervalSecs. (#1320)

[33mcommit c1df31c6c770e0a5ad38b36ad5290fbb66957d94[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 2 17:48:34 2017 +0000

    Remove flags that are unused in golang dataplane driver. (#1321)

[33mcommit b599cac55ea600b859f4d94664943038891f951b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 2 16:29:29 2017 +0000

    Explicitly ACCEPT packets that are allowed by host policy. (#1318)
    
    Makes Calico compatible with using DROP as the iptables policy.
    
    Fixes #1317

[33mcommit ef731f2adcb8196c8c4458331cb4fe408ce0efff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Feb 2 13:57:31 2017 +0000

    Implement periodic refresh of route table. (#1313)
    
    Fixes #1185

[33mcommit a43622e687607152c75efffd80f3fea79224a27f[m
Merge: 22083d10 19a65565
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Feb 2 00:39:10 2017 +0000

    Merge pull request #1315 from fasaxc/fix-chain-insert-mode
    
    Pass chain insert mode down to iptables.Table.

[33mcommit 19a6556572c4c938fdb8af139400a98dca0bc27b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 17:57:19 2017 +0000

    Pass chain insert mode down to iptables.Table.
    
    Fixes #1314.

[33mcommit 22083d107b3d85e6427b23ff542649dd708d0f45[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 15:19:04 2017 +0000

    Increase timeout when doing async calc graph test. (#1312)
    
    Was failing on heavily loaded systems.

[33mcommit 9bcf5e7e1593f339a1e06bbccf66ed243d5acbb5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 11:38:49 2017 +0000

    Add gometalinter and fix a couple of bugs it spotted. (#1306)

[33mcommit 33e751add4e4ecfe29fc568a611cf14654159d11[m[33m ([m[1;33mtag: 2.0.4[m[33m, [m[1;31mupstream/2.0.x-series[m[33m, [m[1;31morigin/2.0.x-series[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 11:37:46 2017 +0000

    Include more information in workload ID logs. (#1311)
    
    Fixes #1309

[33mcommit 96ab30ad84fb2f9bbd38425a5df8dfe2ac6b8df8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 11:34:12 2017 +0000

    Switch to goimports for formatting code (#1305)
    
    Switch to goimports for formatting code.

[33mcommit 6d549ebd1dc91dd7f06e2c7077269558c8fc9153[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 11:18:37 2017 +0000

    Add extra prometheus metrics (#1304)
    
    Add more prometheus metrics.
    
    - number of active endpoints/policies
    - number of active iptables chains
    - number of ipsets
    - number of dataplane updates and errors.
    - number of iptables rules.
    - dataplane and calc graph update times.
    - counts of updates processed.

[33mcommit b2b64365ba1fe0d9682cceb31afd20244d0d91f6[m
Merge: 08c3f3ee fb9900ff
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Feb 1 09:16:18 2017 +0000

    Merge pull request #1300 from fasaxc/auto-license-check
    
    Add automated license check.

[33mcommit fb9900ff2fecde33c1b465863232f95281401a49[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 15:10:00 2017 +0000

    Convert license check to stand-alone app.

[33mcommit 08c3f3eeb619125c9b17479e0b45cb4303823fc1[m[33m ([m[1;33mtag: 2.1.0-rc1[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:55:25 2017 +0000

    Fix heading.

[33mcommit 02866f4c1b5cde44f17b6d44193356f44e44edc9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 30 13:05:57 2017 +0000

    Add automated license check.

[33mcommit 4d6c0a64b496a37a3153fa2d57e6bd039953abbc[m
Merge: c83ac3be b4b60807
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:37:15 2017 +0000

    Merge pull request #1301 from fasaxc/build-container
    
    Switch to calico/go-build container

[33mcommit c83ac3beb64dade213c8c54b9d9df396e99d73a3[m
Merge: 8e052f4a 5b65ce8d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:30:12 2017 +0000

    Merge branch 'improve-api-docs'

[33mcommit 5b65ce8d91ea602316549bd5f66a306004ed8100[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:29:00 2017 +0000

    Code review markups.

[33mcommit 8e052f4a2baa26ed6a50fb99d9490279afa98d52[m
Merge: 108487d8 cb3c7faa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:23:46 2017 +0000

    Merge pull request #1307 from fasaxc/improve-api-docs
    
    Add datamodel overview to API doc.

[33mcommit b4b60807c31c3a359a968430148d62f325b83a44[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:16:30 2017 +0000

    Remove accidental inclusion of licensecheck code from other branch.

[33mcommit cb3c7faa12b7f9695e41cbd917476260b7b53a91[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 18:10:40 2017 +0000

    Add datamodel overview to API doc.

[33mcommit 108487d894ac16140418ffc92876248c3c455acc[m
Merge: 7c03e504 bc6d3b15
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 31 18:02:13 2017 +0000

    Merge pull request #1299 from neiljerram/ifacemon-map-access
    
    Fix ifacemonitor UT concurrent map access

[33mcommit fde16d760b94578e2f3b1ada24d5e6f2aa6e01c6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 14:43:12 2017 +0000

    Code review markups.

[33mcommit d5be551a3096d5aa01361b12c0058ea7ae54046f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 30 15:13:41 2017 +0000

    Pin calico/build to version with Felix's deps.

[33mcommit 20aa12d2c3a7a4318d4919fb4825069d75eaa68d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 30 14:51:35 2017 +0000

    Switch to calico/go-build container
    
    Use docker for as many targets as possible.

[33mcommit 7c03e504dc1dabc8452fd2a8abe901f7aa7bfb61[m
Merge: 1e91beee 270de763
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 15:40:25 2017 +0000

    Merge remote-tracking branch 'origin/release-2.0.3'

[33mcommit bc6d3b15a5c6bd06563227be91c1f21627a84e45[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 31 14:11:34 2017 +0000

    Code review markups

[33mcommit 1e91beee457f046827eab20efe25566b2a09a6c7[m
Merge: b18eac4a 6086f893
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 10:07:46 2017 +0000

    Merge pull request #1302 from neiljerram/check-nat-output-chain
    
    Check for expected NAT OUTPUT chain

[33mcommit b18eac4a25b72442ef2503b1b74bb14bb460b547[m
Merge: f4bcf745 e5b73678
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 31 10:07:38 2017 +0000

    Merge pull request #1303 from neiljerram/fip-output-insertion
    
    Add NAT table insertion for OUTPUT chain

[33mcommit 270de76360ce9230356df7a8d28821ef85d74bc5[m[33m ([m[1;33mtag: 2.0.3[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Jan 30 18:35:54 2017 -0800

    Pin libcalico-go to v1.0.2

[33mcommit e5b7367860175cbe984d87d1a223828a9d7321d3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 30 17:48:46 2017 +0000

    Add NAT table insertion for OUTPUT chain
    
    (Copy of justification from d36d46c5ac52a:
    
        This is needed so that an endpoint can be pinged from its own host
        using its floating IP.  One reason for wanting that is that that
        is what OpenStack Tempest tests do.  More generally it adds
        utility without any downside.
    
        The PREROUTING chain is only traversed for packets that are
        received on the compute host from elsewhere; so our use of
        PREROUTING to implement floating IPs works for such packets, but
        not for packets that originate from the compute host.  To cover
        the latter, we can traverse the floating IP DNAT rules from the
        OUTPUT chain as well.
    
        Note that we also (already) do floating IP-related SNATs in the
        POSTROUTING chain.  For those to operate correctly, the DNATs have
        to happen first.  (And happily they do:
        https://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg)
    )
    
    In this all-golang version of Felix, we already had what we needed to
    generate the NAT cali-OUTPUT chain; we were just missing the top level
    insertion to link from NAT OUTPUT to NAT cali-OUTPUT.

[33mcommit 6086f8932b5bb94be408707714974c8a302d4d37[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 30 16:43:45 2017 +0000

    Check for expected NAT OUTPUT chain

[33mcommit f4bcf74570eac63239512c7afe7c2664f9fcc7ca[m
Merge: ba414ec2 c4ae6fff
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 30 14:59:43 2017 +0000

    Merge pull request #1298 from fasaxc/fix-port-empty-str
    
    Fix that an empty string for FailsafeIn/OutboundHostPorts was rejected.

[33mcommit 364a5ae67b1e9583dca1a5d6a00fe329ebae9b40[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 30 11:24:15 2017 +0000

    Fix ifacemonitor UT concurrent map access
    
    Fixes #1296

[33mcommit c4ae6fff4073d294438d2bf757d6d9c0287e4b5d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 30 09:08:17 2017 +0000

    Fix that an empty string for FailsafeIn/OutboundHostPorts was rejected.

[33mcommit ba414ec2dd36c07e9605170738940e2d5b6f4806[m
Merge: d5ce2b30 bf972efb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 21:56:32 2017 +0000

    Merge pull request #1202 from projectcalico/golang-dp-driver
    
    - Port dataplane driver to Golang and move in-process.  This has a number of benefits and allowed for a number of bugfixes and enhancements to be worked in:
    
      - Improve dataplane programming performance and decrease occupancy by having only one process instead of two.  It also simplifies the codebase substantially.
      - Simplify deployment (now only one binary needed).
      - Use netlink directly for critical-path route programming operations.
      - Move to a synchronization model for route programming.  Allows for monitoring and restoring routes if they are removed.  Allows for clean up of routes that relate to orphaned endpoints.
      - Ensure IPIP tunnel device configuration is maintained; replace it if it is accidentally removed.
      - Retry iptables/ipset updates in more failure cases to work around transient failures of those commands.
      - Switch to a synchronisation model for iptables.  Avoid reprogramming rules that haven't changed.  This improves performance and avoids resetting rule counters.
      - Label our iptables rules with a hash to allow rules to be identified.  Allows for simpler sync and cleanup.

[33mcommit bf972efbe241e40f476b4b2b2f14ecf4a3b5d1e4[m
Merge: ae29f8c4 42b926f9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 19:17:15 2017 +0000

    Merge pull request #1295 from fasaxc/cleanups
    
    Cleanup README, CONTRIBUTING and unused file.

[33mcommit 42b926f9bc7e1f6a7a244140b2e420ad1c09cfa1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 17:42:31 2017 +0000

    Cleanup README, CONTRIBUTING and unused file.

[33mcommit ae29f8c42516fe5eef27c70eb051689a6b32205a[m
Merge: 0d282d80 bc65ea2c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 17:20:21 2017 +0000

    Merge pull request #1294 from fasaxc/improve-api-docs
    
    Improve dataplane driver API doc.

[33mcommit bc65ea2c24bd4f954f0072cd1c89a696c43689a5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 15:08:46 2017 +0000

    Improve dataplane driver API doc.

[33mcommit 0d282d80958817677d8a8ce4a122d0412e50a203[m
Merge: 7ff21374 2374367b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 17:15:05 2017 +0000

    Merge pull request #1292 from fasaxc/tweak-bit-alloc
    
    Make iptables mark allocation stateful.

[33mcommit 2374367b2eb58d585bf75a3731726d6ebb62d67a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 14:03:56 2017 +0000

    Add more UT.

[33mcommit cff88d977b170b14c64feac0eb9f5259f43760da[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 09:46:44 2017 +0000

    Make iptables mark allocation stateful.
    
    Simplifies adding new marks.

[33mcommit 7ff213749fbf7bc07e9cf9cdc5babb7098f1b10b[m
Merge: fd3be816 fe3e9aff
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 11:02:41 2017 +0000

    Merge pull request #1290 from fasaxc/remove-python
    
    Remove python files and builds.

[33mcommit fe3e9aff120fa42dc71e0c438d87329020dad4b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 10:47:20 2017 +0000

    Tidy up .gitignore.

[33mcommit 283affb690977070d927c5ca1bdc81c7df29bbd5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 10:26:26 2017 +0000

    Remove unneeded line.

[33mcommit 04f63b24a6d6c9fc564f40e417340612df40435b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 27 10:06:10 2017 +0000

    Remove gen-version.sh.

[33mcommit 6a4cde283cd47744113b130560ae35e2739326c4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 17:39:38 2017 +0000

    Move go/docs folder into root.

[33mcommit 2431e68afa45dd7a41b8b806336901035c35e827[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 14:14:39 2017 +0000

    Guard against running builds from non-git dir.

[33mcommit 0afb646fadd70f64ea09e705d3f5de9558dacdc1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 12:48:34 2017 +0000

    Update Makefile for new location of go files.

[33mcommit e279c68a1c216fe265ba39bc60cb9d54ca594498[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 12:00:35 2017 +0000

    Fix up Golang imports after moving go files.

[33mcommit 586fc228fa2795cf855485e65b87effa867c8554[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 11:53:37 2017 +0000

    Move go code up to main directory.

[33mcommit d83a661bb1c4996a7e72c7ae959d16646a6aef5b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 10:39:07 2017 +0000

    Remove Python code and update Makefile.

[33mcommit fd3be816f5280661f665311e91a3b04853ee00fa[m
Merge: 06b16731 ad1d5fd5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 17:37:10 2017 +0000

    Merge pull request #1284 from fasaxc/golang-untracked
    
    Add untracked support to golang dataplane driver.
    
    - Pin libcalico-go to branch with untracked support.
    - Plumb flag through to policy manager, which inserts the policy into the filter or raw table as appropriate.
    - Split policies into tracked/untracked as we copy them to the protobuf API structs.
    - Implement top-level raw cali-PREROUTING and cali-OUTPUT chains.
    - Includes implementing RPF check in the PREROUTING chain.

[33mcommit ad1d5fd5ac959322729cae497bd118173265c2e9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 26 16:00:42 2017 +0000

    Code review markups.

[33mcommit 9ff6c244f81dcaf953579aaee76e07cd01bdb47f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 18:24:20 2017 +0000

    Quick fix for policy/endpoint sequencing issue.  Program all policies to both raw and filter.

[33mcommit 11b4a962170625cfeace0049459c7a4992e22f67[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 18:08:32 2017 +0000

    Add additional diags to iptables.Table when it's about to panic.

[33mcommit 06b1673199da5adad86153e00215373073ecf1f8[m
Merge: 78dbd522 4dd62ce1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 17:52:04 2017 +0000

    Merge pull request #1289 from neiljerram/silence-ifacemonitor-log
    
    Demote overly prominent ifacemonitor warning log

[33mcommit c31862e8eea02d0c4fb98adc3bfe7458f4da803b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 17:35:45 2017 +0000

    Endpoint manager UT and fixes for notrack.

[33mcommit d5ce2b308e2ec66681019a6d73c85bb22d8d2082[m
Merge: 6223f57c ef95b225
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 25 16:24:01 2017 +0000

    Merge pull request #1288 from neiljerram/pkg-2.0.2
    
    Felix 2.0.2 Deb/RPM packaging

[33mcommit 9d7db8af99f6a163161e3502fb8a5d10b8d5753b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 11:18:41 2017 +0000

    Add UT for raw chains.

[33mcommit eb3f9fbdd497a03173401725c3869df697c6caa1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 09:33:54 2017 +0000

    Fix that iptables RPF check was being applied for IPv4.
    
    Given our OpenStack special-case rules, the iptables RPF check is too early in the pipeline.

[33mcommit 4dd62ce1d59567efc72e267115fca5c2d47e1af2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 25 13:41:09 2017 +0000

    Demote overly prominent ifacemonitor warning log
    
    Link and address updates from netlink can race.  When that happens,
    drop only a debug log instead of a warning.

[33mcommit ece4a84f51d421bfe3ee243c5751d4af88c6e52a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 17:58:42 2017 +0000

    UT for deletion of non-existing chain.

[33mcommit aebd0a7e8618f1a3abcef31b25f57570498a6a19[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 17:52:56 2017 +0000

    UT for policy manager.

[33mcommit 4855871b82a5f5865d2fcad3ef2c6151f25d995d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 17:35:21 2017 +0000

    UT and fixes for raw host endpoint chain generation.

[33mcommit de643a7e1f6cd7ab0e21dcba94718d3f152e4bf2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 17:32:15 2017 +0000

    Add marker fields so that action types get traced out in UT output.

[33mcommit 3add2616f729a21d45b9b1a76fe9b88db3bf431b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 14:54:00 2017 +0000

    UTs for untracked policy.

[33mcommit 8b7d97bf0457a6971c9fd93b142e5514e299408f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 13:10:17 2017 +0000

    Rename test file for event sequencer.

[33mcommit 7ec3b6b833682354d9e971650df08e32b434356f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 23 11:37:33 2017 +0000

    Add support for untracked policies on host endpoints.
    
    - Pin libcalico-go to branch with untracked support.
    - Plumb flag through to policy manager, which inserts the policy into
      the filter or raw table as appropriate.
    - Split policies into tracked/untracked as we copy them to the protobuf
      API structs.
    - Implement top-level raw cali-PREROUTING and cali-OUTPUT chains.
    - Includes implementing RPF check in the PREROUTING chain.

[33mcommit 78dbd522c1f3ef5cbcba4de1e6e3f52f46af2b68[m
Merge: 7ae57bd9 9d80eca2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 13:34:05 2017 +0000

    Merge pull request #1285 from fasaxc/action-markers
    
    Add marker fields so that action types get traced out in UT output.

[33mcommit 7ae57bd972cedd862ee41ac3ac0d2690b970de6d[m
Merge: 60f614fd 2d7ae4f0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 13:33:41 2017 +0000

    Merge pull request #1279 from fasaxc/host-ep-reports
    
    Add host endpoint status reports.

[33mcommit 60f614fd5679ace40bf04c03ea2e1b7806b9e8cf[m
Merge: b06cfca1 40efe20f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 13:32:34 2017 +0000

    Merge branch 'golang-dp-driver' of github.com:projectcalico/felix into golang-dp-driver

[33mcommit b06cfca16781901ddd64ea07a02ed786d8ceb427[m
Merge: 696cd7b4 6223f57c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 25 13:32:16 2017 +0000

    Merge remote-tracking branch 'origin/master' into golang-dp-driver

[33mcommit ef95b2255f4f9c79cffbc995036770d876b8e020[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 25 00:37:05 2017 +0000

    Felix 2.0.2 Deb/RPM packaging

[33mcommit c9e5e3a5e37569b06b69de7557158ad28c173fc9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 24 23:55:57 2017 +0000

    Allow overriding the Git-determined version

[33mcommit 355676622fec6c92f09f0928b579c9111c70f90f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 24 23:41:38 2017 +0000

    Include all release notes since last packaging

[33mcommit 6223f57cad4a522016714836a6ace9ab8b217352[m[33m ([m[1;33mtag: 2.0.2[m[33m)[m
Merge: 5e994402 07db39e1
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 24 22:29:04 2017 +0000

    Merge pull request #1283 from neiljerram/release-2.0.1
    
    Use libcalico-go v1.0.1

[33mcommit 07db39e15e013c97183e36c15a704d61290bcd92[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 24 11:16:09 2017 +0000

    Use libcalico-go v1.0.1

[33mcommit 5e994402b852c6ebff8af5454c6155b5e98958a8[m[33m ([m[1;33mtag: 2.0.1[m[33m)[m
Merge: a91a5b39 8cae45b3
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 24 21:52:05 2017 +0000

    Merge pull request #1287 from fasaxc/recheck-iface-up
    
    Handle other errors that can be raise during route removal

[33mcommit 8cae45b3a097e56beaa50f0b53728282a8f5d998[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 18:23:55 2017 +0000

    Handle other errors that can be raise during route removal and reinstate interface check.

[33mcommit 9d80eca2853246e9e40518fd512648264a87d13c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 17:32:15 2017 +0000

    Add marker fields so that action types get traced out in UT output.

[33mcommit 2d7ae4f0c54f9945a68cbbee0094a033e229a2b9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 24 15:21:38 2017 +0000

    Code review markups.
    
    - Remove over-defensive code.
    - Improve comments.

[33mcommit 95464edc1e9707ba46208f3979cd77bee23d3347[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 23 11:11:21 2017 +0000

    Fix failure to make host endpoint status dirty and add UT.

[33mcommit c54ebcf86daacf528aa3c37d8108b4ca49368292[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 16:31:06 2017 +0000

    Improve commenting/naming.

[33mcommit b3890a5e925c6056148a77df893ac05c203c37d1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 16:20:15 2017 +0000

    Only recalculate the dispatch chains if the data they depend on has changed.

[33mcommit c178359145cd15379a80d355cc08eebab37866bd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 16:13:40 2017 +0000

    Add host endpoint status reports.

[33mcommit 40efe20fd02c244fabaae1c8ee39e9c9d5631e56[m
Merge: 4e25005c 4f5109a4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 20 17:27:52 2017 +0000

    Merge pull request #1278 from neiljerram/golang-dp-floating-ips
    
    Add support for floating IPs to the golang dataplane driver

[33mcommit 4e25005cd3516d6a0f771a7cd608f68b5ad9c7d3[m
Merge: 696cd7b4 19f80c5b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 20 16:03:16 2017 +0000

    Merge pull request #1276 from fasaxc/iptables-append
    
    Port ChainInsertMode to Go

[33mcommit 19f80c5be4dbfe28b868bfa506ad301bcd722543[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 20 10:08:20 2017 +0000

    Markups from FV testing:
    
    - Improve diags when logging that chain is out-of-sync.
    - Don't log out-of-sync if chain is marked dirty for inserts.

[33mcommit 4f5109a48b4d137f06153d53e318d8d505f087cb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 19 14:24:34 2017 +0000

    UT and fixes

[33mcommit bcb2798d66521d56c77d180b1b384f723ab9c131[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 19 13:54:33 2017 +0000

    Code review markups

[33mcommit 85e6b21931b3ae83c83af05c017fc41b118e6cd1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 19 10:01:50 2017 +0000

    Adapt existing UTs

[33mcommit 0ec795710b7fb10cfd9050a5e0f3374b40a2872e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 18 18:25:02 2017 +0000

    Code fixes and missing manager reg

[33mcommit c691f9ead6fdeff440a09683e014cc77b8ea0004[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 18 16:07:49 2017 +0000

    Floating IPs in golang dataplane driver

[33mcommit 696cd7b4d982ba7d3c0b9c55afe2a493a2abc4e4[m
Merge: 309a4227 2afc6cbe
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 14:28:50 2017 +0000

    Merge pull request #1274 from fasaxc/dispatch-tree
    
    Implement tree-based dispatch chains.

[33mcommit 983f9b7c00a6825bd228466887dad252235a53c4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 14:26:46 2017 +0000

    Code review markups.

[33mcommit 309a4227c1a123760b9627d45115dcaf708fc264[m
Merge: 6dc481da 8e7e42ab
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 11:24:18 2017 +0000

    Merge pull request #1275 from neiljerram/workload-endpoints-ut
    
    Add UTs for workload endpoints.

[33mcommit 2afc6cbe81d32e8867386b6496cc2c0f1f86a4a4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 19 10:33:56 2017 +0000

    Code review markups.

[33mcommit 6dc481dabf50c940a56da3be71580755c9615416[m
Merge: 93475100 bbf9f69d
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 19 10:19:06 2017 +0000

    Merge pull request #1277 from fasaxc/log-prefix-conf
    
    Port LogPrefix parameter to Go.

[33mcommit c8af8523de71382e9eeace8acd7a0f7244792414[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 11:42:27 2017 +0000

    Implement tree-based dispatch chains.

[33mcommit bbf9f69d8ea8eb45ade6f934c63b9277708ad494[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 18:03:28 2017 +0000

    Port LogPrefix parameter to Go.

[33mcommit a6105350c3b9f85fa3d4c5f25867b761c17be9a5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 16:43:11 2017 +0000

    Port ChainInsertMode to golang.

[33mcommit 8e7e42aba141d514d9a3cf7709a28ffcaf8737e0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 18 16:10:40 2017 +0000

    Rename 'procSysWriter' field to 'writeProcSys'

[33mcommit 67d3a9e00c5c30adbe8af881bcd2198bbdb818a4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 14:11:18 2017 +0000

    Introduce TableOptions parameter on NewTable.

[33mcommit 93475100ace19b4cd18e4ed5e5e54ae07278a1bf[m
Merge: 50574c0d e725d17c
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 18 14:04:37 2017 +0000

    Merge pull request #1271 from fasaxc/status-comb-ut
    
    Add UT for status combiner.

[33mcommit a653a59b71dfc619689c6b4bab481e5e873788a1[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 18 11:57:19 2017 +0000

    Fix: remove old chains when endpoint's iface changes

[33mcommit e883488879b5beef298675145d931f32b29ce5dd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 11 15:09:22 2017 +0000

    Workload endpoints UT

[33mcommit 50574c0db43f75756188b3ef8e9bb9e854419dfd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 11:44:06 2017 +0000

    Add go-ut-watch make target.
    
    Invokes `ginkgo watch -r` in the correct containerised environment.

[33mcommit a91a5b399bdbb25ef7df3868e40802bb853475c0[m
Merge: cff97d8f 09b62ac7
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 18 09:51:41 2017 +0000

    Merge pull request #1272 from fasaxc/remove-etcd-pin
    
    Remove etcd version pin from glide.yaml.

[33mcommit e32104650cb3317cca9fae965331fe5ee03a93dd[m
Merge: 16ccc4f0 09b62ac7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 09:26:09 2017 +0000

    Merge branch 'remove-etcd-pin' into golang-dp-driver

[33mcommit 16ccc4f0319e765d698ee7e12769730d5990bf25[m
Merge: d8d97beb a7bac8f3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 09:09:46 2017 +0000

    Merge pull request #1273 from neiljerram/endpoint-mgr-ut-ip-versions
    
    Really test IPv4 and IPv6 versions of EndpointManager

[33mcommit d8d97beb8878fb2d18e8c1416761c35d0d874184[m
Merge: d3f22014 b52e3745
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 18 09:02:54 2017 +0000

    Merge pull request #1270 from fasaxc/ipipmgr-ut
    
    UTs for IPIP manager; IP sets manager; masquerade manager; policy manager

[33mcommit a7bac8f310c5516f105b7679071ede60c27cd938[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 17 18:52:40 2017 +0000

    Really test IPv4 and IPv6 versions of EndpointManager

[33mcommit 09b62ac790450b57a7c5254c817ae615989aa27d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 17:58:06 2017 +0000

    Remove etcd version pin from glide.yaml.
    
    It was producing conflicting dependencies.

[33mcommit e725d17cec7a1babd9893faee736ff95b1639979[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 16:57:20 2017 +0000

    Add UT for status combiner.

[33mcommit b52e3745300d01ca12ebf5f45cad2b4c8ad32eeb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 15:57:48 2017 +0000

    Code review markups.

[33mcommit 3f75322a2549939a1497c96924ba0b13c6483d59[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 15:41:45 2017 +0000

    Add UTs for policy manager.

[33mcommit 6fac9e77c06e8aa54b06c90df2557393ffbb88ba[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 15:14:50 2017 +0000

    UT masquerade manager dirtiness tracking.

[33mcommit 420b52f4360d60c8d06dfc7b1c1a18eca78f77c6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 14:36:03 2017 +0000

    Add UT for masquerade manager.

[33mcommit 004bfb1877bd7086d685c13f4ad068c2231244f3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 13:03:56 2017 +0000

    Add set.From() and use to streamline UTs.

[33mcommit 548a3046a5d10c0a91846adbe7e1fe9756f90ff6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 11:57:02 2017 +0000

    Add UT for ipsets manager.
    
    Factor out shared UT code with IPIP manager tests.

[33mcommit af47257feba79045e2973fcf58345a8e67afa55d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 11:55:46 2017 +0000

    Add set.FromArray() and Set.AddAll() functions.

[33mcommit 369494803c8730eca18e569b1b3edfdcf440f4eb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 11:55:00 2017 +0000

    Honour max IP set size.

[33mcommit e4e58c4bf1cededf3ed028acffea502349fc8b72[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 09:51:30 2017 +0000

    Rework ipipManager to deal with transient duplicate IPs.  Add UTs.

[33mcommit 406fa8abefdc305a2f13257f93ae310ac1f49cf5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 16 18:21:32 2017 +0000

    Add error-case coverage for IPIP manager.

[33mcommit f11431bcea1e551a3c061e297ee9eabe399370bd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 16 18:01:22 2017 +0000

    Add UT for IPIP manager dataplane programming.

[33mcommit 7fcf4d89690d557404694c23aeb2367382b0d2ad[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 16 17:06:25 2017 +0000

    Shim dataplane in IPIP manager.

[33mcommit d3f220148a41d7a2f25308d8e2cec65ef73c0811[m
Merge: 408c8f1b ed52b327
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 13:57:02 2017 +0000

    Merge pull request #1267 from fasaxc/ipset-deltas
    
    Write deltas to IP sets where possible.

[33mcommit 408c8f1b00ad9f519df6f8f3950ecff20e2e696f[m
Merge: a382f51c cff97d8f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 13:28:36 2017 +0000

    Merge remote-tracking branch 'origin/master' into golang-dp-driver

[33mcommit a382f51c88c81f2239778d64a416cd26fad4fbc2[m
Merge: 31fe32de 07863fbd
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 13:17:25 2017 +0000

    Merge pull request #1259 from neiljerram/intdataplane-ut
    
    Endpoint manager host endpoint UTs

[33mcommit cff97d8f3feab819b8867bab97573030da5474a5[m
Merge: 1fa9f6ef efc29116
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 17 12:04:30 2017 +0000

    Merge pull request #1268 from neiljerram/plumb-floating-ips-ut
    
    Plumb floating ips ut

[33mcommit ed52b3270e3761346c4dc827227c114c12df28bc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 17 10:07:57 2017 +0000

    Code review markups.

[33mcommit 07863fbda6471142bbd266e5753c31319d044dda[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 16 17:29:07 2017 +0000

    Improve representation of host endpoint configuration

[33mcommit dba9b2818a9707a7fb4e9dd5345db285d72cdf59[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 16 17:01:30 2017 +0000

    Test which gets used when multiple host eps match an interface

[33mcommit 58ad4b7009d7261e40d06c72b78188e3b39952f3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 16 15:44:49 2017 +0000

    Order rules by i/f name in both host and wl dispatch chains

[33mcommit 1fa9f6ef05f9ed2d74bfaefe1a6ed4fdcb24d034[m
Merge: cfab63b7 8e48a8b6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 16 15:37:41 2017 +0000

    Merge pull request #1269 from neiljerram/check-test-focussing
    
    Git pre-commit hook: check for accidental test focussing

[33mcommit 85a6a235ac5a1f27576e5bbdcfc5ca665179f981[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 13 18:18:53 2017 +0000

    Add tests with two resolved host interfaces

[33mcommit 1286ad9dd471782e726ea528a7437cb622449b7f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 13 17:36:48 2017 +0000

    Fix append bug

[33mcommit 4c77939919e8e1cd0c074c5a27ceabc46b28d265[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 12 18:13:09 2017 +0000

    Fix: host i/fs map to programmed chains, not host endpoints

[33mcommit 779a553a5ec825e03308e56038da2f7b1d5b9730[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 12 14:11:07 2017 +0000

    Rework host endpoint tests into better ginkgo style

[33mcommit f8ca72c1a19aa39833d1e551020dacd1c86e49e9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Jan 8 21:44:14 2017 +0000

    Complete coverage of resolveHostEndpoints

[33mcommit 40ccd48b1c9003c0693218aab455d7ae872f2f80[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 5 17:42:27 2017 +0000

    Endpoint manager UT

[33mcommit 8e48a8b67fea6095b6b02ff7be2bc04d25207890[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 16 15:19:53 2017 +0000

    Git pre-commit hook: check for accidental test focussing

[33mcommit efc2911683d6353bb726d83b8b9dea567d270af4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 16 15:09:16 2017 +0000

    Remove accidental test focussing

[33mcommit ede89d71c03ad6f076509b7205db27d5747a63aa[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 16 14:56:08 2017 +0000

    UT for workload endpoint model to proto conversion

[33mcommit 577acfe1045955e0048ee333fa2f0db4ad32e073[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jan 16 14:42:45 2017 +0000

    Write deltas to IP sets where possible.

[33mcommit cfab63b7c58059d97453e1f486f7280c7e8f6d69[m[33m ([m[1;33mtag: 2.0.1-rc1[m[33m)[m
Merge: 63909ab5 46cc58c8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Sat Jan 14 21:23:11 2017 +0000

    Merge pull request #1254 from neiljerram/plumb-floating-ips
    
    Add plumbing for ipv4_nat (for floating IPs)

[33mcommit 46cc58c894c7c31217c2a645b5647d6fdc54a949[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 13 19:57:45 2017 +0000

    Add make target for patching complete Felix 2.0.x install
    
    The preexisting make-patch-script target only updates the Golang part of
    Felix 2.0.x, which means it misses the Python dataplane driver part.
    The new make-patch-script-inc-python updates the whole of the Felix
    install.

[33mcommit 545503bdd1fecf14a99de4113a869ddc6173fe57[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 13 19:06:25 2017 +0000

    Python-driver-side plumbing for floating IPs

[33mcommit 31fe32de3ee296be987c88a6e9ea64d6b8c0acf1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 13 14:27:21 2017 +0000

    Avoid setting link MTU or flags if they're already correct.
    
    reduces netlink spam.

[33mcommit e7ca7fd896695b3f3fdb52ed9d5c447f88be3f8b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 13 14:17:15 2017 +0000

    Fix flap of IPIP tunnel address at start up.

[33mcommit 2c3d817a13e116a8bb93532fe0a7d12cdbe2c690[m
Merge: 3ea06172 c0354224
Author: Lance Robson <lance@tigera.io>
Date:   Fri Jan 13 11:27:03 2017 +0000

    Merge pull request #1265 from fasaxc/fix-version-lookup
    
    Fix name of package used when looking up metadata.

[33mcommit c0354224c9678fcec29f064bc4610d293323cfb4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 13 10:59:04 2017 +0000

    Fix name of package used when looking up metadata.
    
    Also improve logs around usage reporting.

[33mcommit 63909ab51a013e87b27c8692afd59b2a31d250f5[m
Merge: 9d88960e 4793144b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 13 09:16:57 2017 +0000

    Merge pull request #1262 from fasaxc/nat-gw-2.0
    
    Port NAT gateway support to 2.0

[33mcommit a356d61b76eb7dcaafcb21754d5c03a6f3e9f876[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 12 15:50:07 2017 +0000

    Add extra logging around IPIP startup.

[33mcommit 4793144b2b36caffae3913cfedccf8d866c08861[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 13:08:39 2017 +0000

    Code review markups.

[33mcommit de7166bc793136c69d16202ccf613befb171b652[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Jan 9 20:13:38 2017 +0000

    Fix that conntrack rules did not match for packets forwarded on a gateway.

[33mcommit e4382f70051c2af821bc8cbb7a16912fbde39c4a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 16:27:14 2016 +0000

    Add support for policing forwarded traffic via host endpoints.

[33mcommit 3ea061724eb89e979f66e205be3bd7e82ddce605[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 12 11:51:35 2017 +0000

    Restore Felix version to be a dev version.

[33mcommit 4e4957d73d9f927860140f42e673d58669395229[m[33m ([m[1;33mtag: 1.4.7[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 12 11:39:46 2017 +0000

    Felix 1.4.7

[33mcommit d457d0a2e6017cac7c9a19c5189a6a7d7faf8063[m
Merge: a17e1438 bea86b37
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 12 11:05:08 2017 +0000

    Merge pull request #1260 from neiljerram/fix-multiple-host-endpoint-loop
    
    Fix tracking of best host endpoint match for a host interface

[33mcommit bea86b375886e0dda09d57646703f62d810a3de3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Jan 8 21:44:14 2017 +0000

    Fix tracking of best host endpoint match for a host interface

[33mcommit a17e143892874ecd76516d23461242a4f713c325[m
Merge: 611584fd 51792ba1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 12 09:25:13 2017 +0000

    Merge pull request #1249 from neiljerram/ifacemonitor-ut
    
    Add unit tests for interface monitoring.

[33mcommit 611584fd05c30adb2e905b33ebb614aafccea4a8[m
Merge: 765553f4 07ed93e1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 11 15:48:44 2017 +0000

    Merge branch 'golang-dp-driver' of github.com:projectcalico/felix into golang-dp-driver

[33mcommit 765553f43dacca002468f726655bc09c06e41a57[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 11 15:48:26 2017 +0000

    Adjust jittered ticker tests to avoid comparing real sleeps.

[33mcommit 51792ba1577f5a5c489b0d91416d1a45cc32084d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 11 15:23:53 2017 +0000

    Code review markups

[33mcommit 07ed93e136ef0737c19c43b379ed138860f17859[m
Merge: 7ab3adf7 65ac1976
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 11 14:17:27 2017 +0000

    Merge pull request #1257 from fasaxc/rules-ut
    
    Add UTs for rule rendering.

[33mcommit 7ab3adf779d94f467cb7e1c181511334b458ef15[m
Merge: fb876e2d 9f36cae6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 11 10:02:17 2017 +0000

    Merge branch 'golang-dp-driver' of github.com:projectcalico/felix into golang-dp-driver

[33mcommit fb876e2d55d263652c3a779152234b6fa23d6d8b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 11 10:01:30 2017 +0000

    Retry iptables-save to improve robustness and avoid log spam.
    
    Add UTs for persistent iptables failure/retry cases.

[33mcommit 4ff3ed8609eb1ba63f21a20e8aa9180348f79dc8[m
Merge: 70a57021 21e0fb17
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 18:22:22 2017 +0000

    Merge pull request #1244 from fasaxc/nat-gateway
    
    Add support for policing forwarded traffic with host endpoint rules

[33mcommit 9f36cae6622dfd4a47f5918f0f539545a28aa04f[m
Merge: ea938798 c520c7e2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 18:12:49 2017 +0000

    Merge pull request #1256 from fasaxc/add-conntrack-ut
    
    Add UT for conntrack package.

[33mcommit 49fcaea2c6167ebe82e1c5368cd29423a026ab11[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 10 18:01:52 2017 +0000

    Fix test hang: allow for occasional extra addr callback

[33mcommit 65ac19761390a722e9a80a6a2a24578285a30cdd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 17:27:40 2017 +0000

    Add UT for NAT outgoing rules.

[33mcommit aebb689e5eb09362f947e9fd9209b397fbd61555[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 17:11:19 2017 +0000

    Add UT for per-endpoint chain rendering.

[33mcommit 8eeca309aefd65a69f54a7433bc33dff56b66168[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 16:26:54 2017 +0000

    Cover rule rendering corner cases.

[33mcommit e38f4d200dd520e38011bf506193dc235c979a6f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 16:05:30 2017 +0000

    Cover StaticNATTableChains.

[33mcommit 486821a5f724596c41735815c9f2497bf19eabc9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 15:44:19 2017 +0000

    Add UT for static chains.
    
    Minor fixes: don't render rules for IPv6 that make no sense.

[33mcommit ea9387988ada0f27e4e39e186337358154f3ca8d[m
Merge: b5a76250 685a8dc2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 17:36:24 2017 +0000

    Merge pull request #1255 from fasaxc/nat-gw-2.1
    
    Support running Felix on a NAT gateway or router

[33mcommit 012c665d434f8a1186cab6701c36fb0b109eedd4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 10 17:01:34 2017 +0000

    Fix occasional test hang: need correct ifIndex on link deletion

[33mcommit c520c7e2dcf1c2ee9aed50b4ee2d06f927d93ea2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 14:29:09 2017 +0000

    Add UT for conntrack package.

[33mcommit 685a8dc24f8069afd315a5c879ff072300caca1f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 13:15:01 2017 +0000

    Code review markups.

[33mcommit 21e0fb17a8202500b2af26a516e38eb946b0cfd6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 13:08:39 2017 +0000

    Code review markups.

[33mcommit b3c5e320aa71302c3ed133c425d79a67624f1a61[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 10 11:53:00 2017 +0000

    Support running Felix on a NAT gateway or router
    
    - Forwarded non-workload packets now pass through the host endpoint chains.
    - Broaden conntrack rules to match such traffic.

[33mcommit b9fa7914ff64d0ee8688992a70a24952ac2c86f2[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Jan 9 20:13:38 2017 +0000

    Fix that conntrack rules did not match for packets forwarded on a gateway.

[33mcommit 48241bcaa8738a471ed6288b0d5d82c885c679ea[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 9 13:00:54 2017 +0000

    Add plumbing for ipv4_nat (for floating IPs)
    
    Fixes #1253

[33mcommit fe248e1588e2cdc2213f2936ae41ea4683358c58[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 9 12:38:45 2017 +0000

    Other code review markups

[33mcommit 319d99cc8e373a818075c94f0411d205a3dfbf8b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jan 9 11:29:24 2017 +0000

    Remove sleep, make test resilient to slow running

[33mcommit 741a428663db65c9377e7185567c28f7a097c3c7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Jan 8 22:47:49 2017 +0000

    Make callback detection channels non-global

[33mcommit 942185eb4cc34b9ca9322c0fdc7d07ba549fff49[m
Author: Neil Jerram <neil@tigera.io>
Date:   Sun Jan 8 22:08:01 2017 +0000

    Only call address callback when iface addrs are changing

[33mcommit bfe67007bf8964640bf031bb5a1c58fb608a96cb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 5 15:48:58 2017 +0000

    Don't notify addresses after link record deleted

[33mcommit 6a73bce124e2fc1e9f1ba49765cc68c85100a3e6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 5 15:48:24 2017 +0000

    Address callback now expected when link is down

[33mcommit c0f30940e62b9534adc80f8657ab5828b15356be[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 5 11:20:01 2017 +0000

    Add comments to explain ifacemonitor testing

[33mcommit 05c17b284112b3f0f3c1e27fee2983a89d032238[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 5 00:37:38 2017 +0000

    Fix accidental channel write blocking

[33mcommit 750f6754e19fa3b6ee3c3160b076c45c6cd4f4b0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jan 5 00:36:45 2017 +0000

    Call callbacks when link removal is spotted by resync

[33mcommit 0330faadcf3065a2e7823aaa2867aff64e70ba67[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 4 17:08:15 2017 +0000

    ifacemonitor UT - full coverage except error conditions
    
    Specifically, not yet covering:
    
    - Fail to subscribe to netlink stub
    - Initial resync call fails (=> LinkList failure)
    - Fail to read link update from channel (=> channel closed)
    - Periodic resync call fails (=> LinkList failure)
    - MonitorInterfaces loop ends (=> some of above)
    - Link update with nil Attrs
    - AddrList call failed when processing a link

[33mcommit 15ca638cb8287aca315a4047dcab87fe875f0247[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 3 19:10:52 2017 +0000

    Progress on ifacemonitor UT
    
    iface_monitor.go:53:           New                                       100.0%
    iface_monitor.go:65:           MonitorInterfaces                         50.0%
    iface_monitor.go:110:          handleNetlinkUpdate                       71.4%
    iface_monitor.go:122:          handleNetlinkAddrUpdate                   0.0%
    iface_monitor.go:157:          notifyIfaceAddrs                          100.0%
    iface_monitor.go:165:          storeAndNotifyLink                        96.7%
    iface_monitor.go:216:          resync                                    36.8%

[33mcommit 5b996c7800c727942e303fc52da9bf351808cfd3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jan 3 15:24:31 2017 +0000

    Create structure for ifacemonitor UT

[33mcommit 91fb7f9abf9d909350664201d73bffa3a2d4cc20[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 16:27:14 2016 +0000

    Add support for policing forwarded traffic via host endpoints.

[33mcommit b5a7625041a319efb46b1991565ed63901ed93ea[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 6 17:13:52 2017 +0000

    Fix that dispatchChains didn't indirect through DropRules().
    
    Meant that it didn't honour the global configuration for drop.

[33mcommit 348d1d00847bf8ceb4e241b520fecc5884c78093[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 6 16:22:36 2017 +0000

    Minor cleanups to routetable.  Remove unused function.

[33mcommit 50d60eacd760797919d18760e62eb93661b97d7c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 6 16:12:07 2017 +0000

    Add more UT for set package.

[33mcommit 8988e85d2c8b7322ce84006debf95fa081c7a555[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jan 6 15:12:49 2017 +0000

    Expand error filtering to more cases to avoid spammy logs on failures.

[33mcommit 9d88960eb9bd6918cbbf8838ea9dae236dbd15a2[m
Merge: c725a96a 671abb7e
Author: Lance Robson <lance@tigera.io>
Date:   Fri Jan 6 14:55:37 2017 +0000

    Merge pull request #1252 from neiljerram/glide-ssh-support
    
    Allow using dependencies that need SSH for access

[33mcommit 671abb7e47ba6b4f4ca666d1054c7fed49a031d7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jan 6 13:59:12 2017 +0000

    Allow using dependencies that need SSH for access

[33mcommit 9dc5ee6fccc4e46ddb17c0df49fae9e890e30b6c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 18:05:37 2017 +0000

    Recheck interface existence to avoid logging errors during tear down.

[33mcommit a630a2fad0efd18ac8de4b5f29eb536f855178df[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 17:51:23 2017 +0000

    Mainline tests for RouteTable along with removal of sync conditions.
    
    We no longer check if a link is up before trying to sync its routes.
    This ensures that we remove old routes if the interface is oper down but
    not gone.

[33mcommit 27d24210eb15643255360eeb90277d00c7c334a1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 16:21:14 2017 +0000

    Shim netlink in routetable package.

[33mcommit 37bc827ca66eaaa8af6cf1c570aade4e3e92a54b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 15:25:07 2017 +0000

    Improve logging when config parsing fails.
    
    Fixes #1228.

[33mcommit 2754b9076487fd6b722724f4c50382f2f3ee9289[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 15:16:34 2017 +0000

    Fix out-of-date comment.
    
    Fixes #1227.

[33mcommit e50587ce5296f4712c9f7fd692b57b7d97a83560[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 14:40:39 2017 +0000

    Downgrade spammy route programming failure log to Warning.

[33mcommit 9ff03eb5aec2b1ad4b257844d57874e3baf1151c[m
Merge: 4f43d8fd 49e78fc8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 14:28:31 2017 +0000

    Merge pull request #1246 from neiljerram/set-ut
    
    Set UT

[33mcommit 4f43d8fd1890e82dc4e18eca073119f569b86efc[m
Merge: 69a7b4b1 89b56f20
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 14:28:06 2017 +0000

    Merge pull request #1245 from neiljerram/host-endpoints
    
    Host endpoints notification improvements.

[33mcommit 69a7b4b10c07035555236b80879432149735a4c4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 10:29:13 2017 +0000

    Fix log leakage during test run.

[33mcommit b9ef1ea89189adfafaa333574451e714e9a9605a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 10:18:14 2017 +0000

    Implement configuration of mark bits, fix mark rendering and add UTs.
    
    - IptablesMarkMask config param is now honoured.
    - Mark bits were being rendered as "1000" instead of "0x1000", fix that.
    - Add UTs for match criteria rendering and action rendering.

[33mcommit e8b92ee6ef0c514abfd97c1097a26a8f1548f3e2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jan 5 09:30:41 2017 +0000

    Fix lack of log hook in intdataplane test suite.

[33mcommit 70a570213344fc74959ec2fa3875c3c2191401d0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 4 22:54:18 2017 +0000

    Rev setup.py version to distinguish development from last release

[33mcommit e709233daa7348444418497dd0ed9ae1a239a2c1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 4 17:49:44 2017 +0000

    Mop up some TODOs:
    
    - Fix lack of short write handling in ext_dataplane.go.
    - Remove some musings on optimisations.
    - Remove some TODOs that have been done.

[33mcommit 5dca757acd78d698dfa063c8ef132f8b32880ec4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 4 17:43:59 2017 +0000

    Refresh IPIP tunnel device config on a timer.

[33mcommit 9e6db170acbaeec4c026bb108ea72d1ff6833a15[m[33m ([m[1;33mtag: 1.4.6[m[33m)[m
Merge: 060e8ed2 05b812e3
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 4 17:28:05 2017 +0000

    Merge pull request #1250 from neiljerram/release-1.4.6
    
    Felix 1.4.6

[33mcommit 4aceab161ce86bb2366c29159cfa3f9c8e2c6c5a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 4 15:54:58 2017 +0000

    Fix comment.

[33mcommit 29da0a26b6cd46a222f8fe74aaef33205775b439[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 4 15:34:02 2017 +0000

    Implement periodic iptables refresh.
    
    - Fix that rule insertions weren't being refreshed.
    - Add a jittered ticker to trigger the refresh.

[33mcommit 85ab49e455215515df9b0d4b792d1d833d833263[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jan 4 14:38:43 2017 +0000

    Coverage tests for iptables Table object and minor improvements:
    
    - Be more precise when checking for incorrect rule insertions.
      Previously, we always refreshed these after a failure.
    - Only execute iptables-restore if there's something to do.

[33mcommit 05b812e34e5439af8e74665f5aaaf7777c82ded2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Jan 4 11:21:41 2017 +0000

    Felix 1.4.6

[33mcommit 9bbe3a3609724e85fe895619b8de09336924947c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 3 17:13:25 2017 +0000

    Work-in-progress on adding iptables UTs.
    
    - Shim exec.Command().
    - Add mock dataplane and a couple of tests.

[33mcommit 67c923e3572dbd1f20ef685a5e04d9cdf93a4012[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jan 3 15:21:04 2017 +0000

    Improve logging.

[33mcommit 49e78fc8cf9a716e97e8c2af17b0cabe19bc2075[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 23 11:42:48 2016 +0000

    Start a UT suite for the 'set' package

[33mcommit 89b56f20248f2e5f8296e3783ff6c76a2e8d9c8a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 23 11:59:32 2016 +0000

    UT fix

[33mcommit 7ec5cf0f8d3b5b6c45c36aef7e79cbcdf48f85bc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 22 23:27:05 2016 +0000

    Notify iface addrs regardless of iface oper state

[33mcommit 63cb6f51958bf2b6ba7ed38774a74fb9cbdebb7f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 22 23:26:42 2016 +0000

    self-review markups

[33mcommit 8a6cf7cc94a5657af5edf44834960527f1b5253d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 21 16:29:09 2016 +0000

    Code review markups

[33mcommit 62b19c7a158861693dc06f5345f568a3c1e738c4[m
Merge: 2a60d4b4 e19447e9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 23 16:10:26 2016 +0000

    Merge pull request #1247 from neiljerram/host-endpoint-id-key
    
    Use host endpoint ID as map key, instead of pointer to ID

[33mcommit e19447e9bb814716954940832e116460f89804ec[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 23 14:35:49 2016 +0000

    Use host endpoint ID as map key, instead of pointer to ID

[33mcommit 2a60d4b4cda8b4abb34aef822490084101fd3014[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 23 13:59:11 2016 +0000

    Improve comments and UTs in iptables package.

[33mcommit f879b30b86e0da6c1036a1e1fc459973b54e9818[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 22 13:42:33 2016 +0000

    Implement endpoint status reporting.
    
    - Maintain a mapping from interface name to ID.
    - Track which interfaces might have changed state in endpointManager.
    - Fix that endpointManager never cleaned up its pending interface updates.
    - Add endpointStatusCombiner, which merges the status of IPv4 and IPv6 copies of the endpoint.

[33mcommit 5bc7db2ed90bdc9c2c8fef229e5f01563072fe46[m
Merge: 1d64b96d fd724d1b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 22 10:48:55 2016 +0000

    Merge pull request #1224 from neiljerram/host-endpoints
    
    Implement HostDispatchChains

[33mcommit 1d64b96dab583af285ee3b288f1a57b3a7128eeb[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 22 10:46:44 2016 +0000

    Delay status reports: work around OpenStack FV issue.
    
    This is not product-ready, the delays are not properly interlocked
    and the right solution is to actually implement status reporting

[33mcommit fd724d1ba5504b53c39fa5fe63a5602eddbc5c9e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 21 14:41:12 2016 +0000

    Change ifaceAddrs to be a Set

[33mcommit 96bc31b0e307dfe2dd8fd4b361103313e94c7015[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 21 14:29:14 2016 +0000

    Better error reporting on route sync.

[33mcommit 0b787d886a67bd4d1e275eecb8b15486af8f8859[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 21 11:35:30 2016 +0000

    Code review markups

[33mcommit 8e9bed81f780e31c7acbf93656b1be05785eeb76[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 21 14:09:33 2016 +0000

    Remove optimization from RouteTable that is now incorrect.
    
    Since RouteTable now handles removing conntrack entries, we want to
    try to sync routes even if the interface is down.

[33mcommit e12c6ff285144fca80f4988dcde6572b8f74ce15[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 21 13:56:12 2016 +0000

    RouteTable and conntrack fixes:
    
    - White-list the fe80::/64 route when syncing.
    - Move conntrack cleanup to RouteTable.  Allows for cleanup during
      RouteTable resync so that conntrack entries from a previous run get
      removed.

[33mcommit c9a7bf03a60d0a1b30ece73c4a337d4440125862[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 21 13:00:57 2016 +0000

    Remove conntrack flows when an endpoint is removed.

[33mcommit f22aaa773fb9595d2401887729e65a04cffa972b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 21 10:12:37 2016 +0000

    Code review markups

[33mcommit 4a1944f4370892e7ae341797a3b32ed09bd33dc6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 22:23:42 2016 +0000

    Making things work - but not sure I need all of these

[33mcommit 506d4c07f6f9bc47907f07a5099ce20da7f7185b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 18:51:52 2016 +0000

    Add non-coverage UT target (which is lots faster).

[33mcommit b9313cf2aa9957f1164734a601524a82f2d7f77f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 18:42:13 2016 +0000

    Add mainling UTs for IP set Registry.

[33mcommit 9fbdb0826f7d3d1539b4ac6b56a7689a24a99bae[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 18:18:14 2016 +0000

    Code review markups

[33mcommit 4114f730f106166e87a226f48c2d4005c4fb96cf[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 17:53:11 2016 +0000

    Revert incorrect empty map initializers

[33mcommit bbe0fc30f0fd6c3ffef2777e995a9e3b4ca748a8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 17:26:41 2016 +0000

    More UTs for IP sets, cover failure cases.

[33mcommit c725a96a566f3116c419e48aa63c9ba6b6027541[m
Merge: e343de8d be4286b8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 16:27:02 2016 +0000

    Merge pull request #1210 from bolcom/config_log_prefix
    
    Make the iptables log-prefix configurable. Defaults to current contents.

[33mcommit d314f591c4ed1a1771cfd919f4c3478a7c244d6b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 14:45:34 2016 +0000

    Add UTs for IPSet object.

[33mcommit 7fdad48f931beff0e436974ae0a468ff12caaaeb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 14:43:05 2016 +0000

    Link in cali-INPUT and cali-OUTPUT

[33mcommit f1060fe10b0e4b44a33bcbf61bed308973828fb0[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 14:30:38 2016 +0000

    Finishing adding host endpoint failsafes

[33mcommit ebe7bf91a23b5bb91bc69c240eebae82cf09c1af[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 14:22:02 2016 +0000

    Fixes from running calico-felix by hand

[33mcommit a5b2f7d62c41dcfd89b4a51920e66be7b581dfa7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 13:40:07 2016 +0000

    Implement host endpoint failsafe chains

[33mcommit 2b66f84c7d353c4f298b857577adde75a45bbac7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 12:37:44 2016 +0000

    UT fix

[33mcommit 82046461c99d7b48e4ce928cc27d93c6201edb19[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 12:30:46 2016 +0000

    Link from static input/output chains to host endpoint chains

[33mcommit 18f07fa101013fc1cbd9e9738dc56ca83d851ed6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 12:10:59 2016 +0000

    Implement HostEndpointToIptablesChains

[33mcommit 6f25af1543df6843c61e08457aa6aebe47d88797[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 20 01:00:06 2016 +0000

    Checkpoint - ** Coding tasks [4/8]
    
    - [X] Store raw host endpoints as received from the store backend -
      in endpoint manager.
    - [X] Monitor local IP addresses and use these to resolve the
      interface name that each host endpoint operates on; inject
      resolved host endpoints into the system.
      (HostInterfacePollInterval)
    - [X] At some appropriate time, update the dispatch chain for host
      endpoints with the list of all currently resolved local host
      endpoints.  (self.host_disp_chains.apply_snapshot)
    - [ ] Equivalent of iptables_generator.host_endpoint_updates: no
      MAC, 'to' = outbound, 'from' = inbound, with failsafe.
    - [ ] Link from felix-INPUT chain to felix-FROM-IFACE, if not
      coming from an interface that matches IFACE_MATCH.
      (felix_input_chain)
    - [ ] Link from felix-OUTPUT chain to felix-TO-IFACE, if not going
      to an interface that matches IFACE_MATCH.  (felix_output_chain)
    - [X] Make HostDispatchChains do its thing, writing to filter
      table, for v4 and v6.
    - [ ] Check FailsafeInboundHostPorts, FailsafeOutboundHostPorts

[33mcommit 20bbb2c6ba0701e56b7b4e1974271fae0b6d986c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 19 19:44:14 2016 +0000

    Enhance ifacemonitor to provide address updates as well

[33mcommit 0b0c365f9a2493f0336af55bb032582786ed3ef4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 19 14:10:13 2016 +0000

    Start a test suite for the internal dataplane driver

[33mcommit e2807eecc6de7a40cb0050d487abc8098c197de9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 8 16:04:50 2016 +0000

    Implement HostDispatchChains

[33mcommit c2097356b68691affe7cc8d640ead78ab90a806f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 12:00:50 2016 +0000

    Organise ipsets classes into files.  Move tests to ipsets_test package.

[33mcommit e2290e0f1cdcde2f7a9615bcad64f9603aaff179[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 11:50:08 2016 +0000

    UTs for ExistenceCache.

[33mcommit 32488582ca0372bd4b9b162a42239c9656fbb1a7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 11:07:59 2016 +0000

    Shim IP set commands for UT.

[33mcommit b164f2c841bed46c9f98739d47cef48bda24f224[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 10:32:12 2016 +0000

    IP sets self-review markups.
    
    - Fix missing set of rewritePending flag.
    - Add comments and clean up naming.

[33mcommit 8cae3e9d8216fad34f34720068bc1d10eb848011[m
Merge: 1bd3e150 e343de8d
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 09:45:10 2016 +0000

    Merge remote-tracking branch 'origin/master' into golang-dp-driver

[33mcommit e343de8d7fac16dc9ac1e947beff38238ab8c4a4[m
Merge: 3926ed90 17b532f2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 09:08:32 2016 +0000

    Merge pull request #1241 from fasaxc/fix-route-list-fail
    
    Fix log spam when we fail to remove routes from a deleted interface.

[33mcommit 3926ed90bee9a636f3ab0fe846fbd215b6e4d8bc[m
Merge: d0f60b98 1383e069
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 09:08:02 2016 +0000

    Merge pull request #1243 from fasaxc/master-fix-iface-multi-pfx
    
    Fix that packets not policed when there were multiple interface prefixes

[33mcommit 060e8ed2ed85eda0615cae81dda7967554b0aae4[m
Merge: 739fca94 f4f70c56
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 09:07:32 2016 +0000

    Merge pull request #1242 from fasaxc/fix-multi-pfx
    
    Fix that packets not policed when there were multiple interface prefixes.

[33mcommit d0f60b98d696d6ca8030e06bdc89f88d089d7d1d[m
Merge: 65940fb7 2b87b1d5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 20 09:05:37 2016 +0000

    Merge pull request #1209 from bolcom/config_insert_or_append
    
    Configure an option to append or insert the iptables rules generated
    
    Fixes #1118

[33mcommit 1383e069ca30fae677d7f739763236aea78c0f65[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 16:04:11 2016 +0000

    Fix that packets weren't properly policed when there were multiple interface prefixes.

[33mcommit 1bd3e15008cf23ec5bb80155adcf314b6fa2e9dc[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Dec 19 20:34:49 2016 +0000

    Add missing return statement.

[33mcommit f4f70c5676e14401bdaaa6e8feb5f50ddf8458e5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 16:04:11 2016 +0000

    Fix that packets weren't properly policed when there were multiple interface prefixes.

[33mcommit 65940fb7f0cd300dffc50d3d5b31eb36b09aa009[m
Merge: bb5ab14b 12700d71
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 15:12:09 2016 +0000

    Merge pull request #1226 from fasaxc/fix-slow-builds
    
    Fix slow Felix builds.

[33mcommit d543277aee0a5d9e9ef3a273520ade4aa53b7a8f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 15:06:34 2016 +0000

    Fix that RouteTable was syncing routes for non-calico interfaces.

[33mcommit 6c356cc757cf011d79de60cf6b175dfbaf49acf8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 13:52:33 2016 +0000

    Implement filter output chain, ready for host endpoints to be added.

[33mcommit 17b532f28bdd8a5720e08618aab9c971abf5c388[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 19 11:05:37 2016 +0000

    Fix log spam when we fail to remove routes from a deleted interface.
    
    Fixes #1240.

[33mcommit bb5ab14b955a015decf581c43cfde418ad023ed4[m
Merge: d6e67217 c251c9d0
Author: Neil Jerram <neil@tigera.io>
Date:   Sat Dec 17 16:41:10 2016 +0000

    Merge pull request #1239 from neiljerram/release-2.0.0-packaging
    
    Felix 2.0.0 Deb/RPM packaging

[33mcommit 14ce698938296c067639a2f7f93c9cc01775085f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 16 17:54:35 2016 +0000

    Fix UT broken by removal of field.

[33mcommit 7e6755410342d39656a3e55ca0d9d87774b1386a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 16 17:39:29 2016 +0000

    Populate felix-INPUT chain, refine naming, split out wl-to-host chain.

[33mcommit d6e672179e76562a8a109e64a0d104d6f7abd4aa[m
Merge: e78eceae e1cdd60e
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Dec 16 09:09:36 2016 -0800

    Merge pull request #1233 from fasaxc/improve-comments
    
    Improve calculation graph comments.

[33mcommit 2b87b1d5877efab6776e2201c43de14425fe1856[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Fri Dec 16 15:59:16 2016 +0100

    Fix tests
    
    Change-Id: I82c2ecc290d1ac1d155fe36d55becd6240507961

[33mcommit fcdbb69cde1132e492e8455df212678685a7d382[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Fri Dec 16 15:37:56 2016 +0100

    Fix tests
    
    Change-Id: I9f51f88c4cd13deaebddea888e04ad66beadcac4

[33mcommit e78eceae833058b342f69ff751632568d80e323b[m
Merge: de9ffc22 900d71bb
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 16 14:30:49 2016 +0000

    Merge pull request #1238 from fasaxc/fix-set-ips
    
    Fix configure_ipip_device() to pass IPAddress to set_interface_ips().

[33mcommit c3fcde5750dbe17ff8b8f3488184f0ff2b6c9107[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Fri Dec 16 15:07:14 2016 +0100

    try to fix tests
    
    Change-Id: I7c051595fd7eab4012d6a4cca7f618cf746134eb

[33mcommit c251c9d0a49a1d63fff04e707ec42e366d30fe30[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 16 14:04:59 2016 +0000

    Markdown fixes

[33mcommit dd65c04cdfa2ff75a5d4c81f0056d3806ea71b27[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 16 14:00:33 2016 +0000

    Separate packaging from the non-packaging release process

[33mcommit 4b2d6879a80939e5fd99f1b5b7f103d4406ac365[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 16 13:46:42 2016 +0000

    Document how to sign and publish Deb/RPM packages

[33mcommit be4286b8ec2502afc9be7c077884920c9859b17b[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Fri Dec 16 14:18:37 2016 +0100

    Add ut for log-prefixes
    
    Change-Id: Ib731b4ec55bcb516397ce8a1165c6e50e0ae9aa0

[33mcommit c78937b503efea438bdc80c84ec2ee4647cac364[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 16 12:47:22 2016 +0000

    Felix 2.0.0 Deb/RPM packaging

[33mcommit a739bc6644f2c856b9b8336cf3d92650899123e0[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Fri Dec 16 12:44:37 2016 +0100

    Fix ut
    
    Change-Id: Ie2bc471d5f061497cf740c355a91b41025261454

[33mcommit 5472e6482c6b0f0581048c459a60bd478e5096f0[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Fri Dec 16 12:29:21 2016 +0100

    Fix little bug
    
    Change-Id: Ic946fbe7d5eef2e575e490b43810920f6fb9aee0

[33mcommit 900d71bbc05b4b22527d6a0de33c3dce308d1d06[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 15 11:35:15 2016 +0000

    Fix configure_ipip_device() to pass IPAddress to set_interface_ips().
    
    Previously, it passed a string, which threw off the set calculations.

[33mcommit de9ffc223e600dc9d76fb681c17ca69fe7d521fe[m[33m ([m[1;33mtag: 2.0.0[m[33m)[m
Merge: 0a536800 8de30b57
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Wed Dec 14 17:38:05 2016 -0800

    Merge pull request #1236 from robbrockbank/update-libcalico-go
    
    Update to use libcalico-go 1.0.0

[33mcommit 8de30b57951ef60e68001638e6257b1366822d2f[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Dec 14 17:15:33 2016 -0800

    Update to use libcalico-go 1.0.0

[33mcommit 058b6b545a910cef681deb372838484b83a2340b[m
Merge: ee0a6b5b 12700d71
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 18:15:47 2016 +0000

    Merge branch 'fix-slow-builds' into golang-dp-driver

[33mcommit 12700d71ce30c5d49c434ce0afb61df13fbc0f55[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 18:13:22 2016 +0000

    Fix logic in static link test.  Move inside container.

[33mcommit ee0a6b5bc9039261ea3f1517429c6cd3eb37cdc1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 18:07:14 2016 +0000

    Tweak cleanup script to remove cali chains.

[33mcommit 65b936591793f6bf0453ae41d14fae6518265c4b[m
Merge: ae83eead 0a536800
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 17:24:23 2016 +0000

    Merge remote-tracking branch 'origin/master' into golang-dp-driver

[33mcommit ae83eead3f9e6dffd45e5ab4f18fcd94dcdbeeba[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 16:43:25 2016 +0000

    Support >15 ports in a match.

[33mcommit 230fa474b5b1d0f35d471251b610dba8a320daa2[m
Merge: 529e8214 0b446880
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 15:33:05 2016 +0000

    Merge branch 'golang-dp-driver' of github.com:projectcalico/felix into golang-dp-driver

[33mcommit 529e8214fa055ff756ae3a4522a3fd65b9e2a84e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 15:32:47 2016 +0000

    Add log action, log prefix support and DropActionOverride support.

[33mcommit 0a53680070f0c972e12c02f065fe99122c6e7db7[m
Merge: f7549257 6dd4e175
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 09:32:10 2016 +0000

    Merge pull request #1235 from projectcalico/update-libcalico-rc6
    
    Update to use libcalico-go rc6

[33mcommit 6dd4e175a32a14936b728f36859675d1eee1a3f6[m
Merge: f4ddd9b2 f7549257
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 09:31:54 2016 +0000

    Merge branch 'master' into update-libcalico-rc6

[33mcommit f75492570d5cd0d20f89b3e3cc7253f72478a937[m
Merge: 7e710cd0 93ebd9f4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 14 09:30:43 2016 +0000

    Merge pull request #1232 from fasaxc/rev-libcalico-go
    
    Rev libcalico-go to 1.0.0-rc5.

[33mcommit f4ddd9b282f30c31cb207631defec7235d421c5f[m[33m ([m[1;33mtag: 2.0.0-rc7[m[33m)[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Dec 13 16:32:26 2016 -0800

    Update to use libcalico-go rc6

[33mcommit 0b4468802f376aa351a41f16bae014c6569ba119[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 13 16:05:39 2016 +0000

    Improve external dataplane commenting.

[33mcommit fe1ddfda188202043639a71e5eb3d463e7a50bd6[m
Merge: 37c8878c e54fea9e
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 13 15:30:04 2016 +0000

    Merge branch 'golang-dp-driver' of github.com:projectcalico/felix into golang-dp-driver

[33mcommit 37c8878c1f3705eb9776f44b4cbceb451e27f37f[m
Merge: c45390d4 e1cdd60e
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 13 15:28:39 2016 +0000

    Merge branch 'improve-comments' into golang-dp-driver

[33mcommit c45390d4f69ac586e02ef8766f9da460ceb8e483[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 13 15:27:27 2016 +0000

    Improve internal dataplane comments.

[33mcommit e1cdd60e2c64c67019b339a2e3eb033953d36650[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 13 14:43:51 2016 +0000

    Improve calculation graph comments.

[33mcommit 93ebd9f484a4d53dcd27976311a1f584f8e1453b[m[33m ([m[1;33mtag: 2.0.0-rc6[m[33m)[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 13 10:51:41 2016 +0000

    Rev libcalico-go to 1.0.0-rc5.

[33mcommit e54fea9e75f466513d1c90ad15c0711265082dd4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 15:38:20 2016 +0000

    Add negated match criteria, UTs and fixes.

[33mcommit d97fd9504bb7d55e397902e43f84445aec0ba95c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 14:41:16 2016 +0000

    Improve handling of ICMPv6: guess the IP version from the protocol version.
    
    Also improve logging in rule rendering code.

[33mcommit 7e710cd07c9d89b730f1f07cb48f5d8cbceaa201[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Sat Dec 10 11:17:19 2016 +0000

    Have usage reporting thread drain stats channel even during startup delay.

[33mcommit 53e7d56573de1a3c55a3df44b6e7e627d356d0b6[m
Merge: 281ea3c3 1184c0fb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 13:47:31 2016 +0000

    Merge branch 'fix-slow-builds' into golang-dp-driver

[33mcommit 1184c0fb506e230c898e01714549fd7d07d82bb9[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 13:47:00 2016 +0000

    Disable make's implicit rules, which slow down the build.

[33mcommit 281ea3c3542acb876722b60ed1637863b94b887a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 11:49:22 2016 +0000

    Improve comments/logs in IPIP code.

[33mcommit 290dd53b8c3d00f2b23013b64e79d80f67004b89[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 11:28:07 2016 +0000

    Remove label from IP address.

[33mcommit 0f7c00bdd174fcc94be2e7d122a5a46be03d796f[m
Merge: 3f922a68 c188e786
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 10:08:06 2016 +0000

    Merge branch 'golang-dp-driver' of github.com:fasaxc/felix into golang-dp-driver

[33mcommit 3f922a688f46230c0d3274898528830326a9edae[m
Merge: a468130c 776b616e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 10:07:58 2016 +0000

    Merge branch 'golang-dp-driver' of github.com:projectcalico/felix into golang-dp-driver

[33mcommit a468130cdd0955e79f376aa7d626560a644a95fb[m
Merge: 593d390f d8196a60
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Dec 12 10:07:46 2016 +0000

    Merge branch 'fix-slow-builds' into golang-dp-driver

[33mcommit d8196a60c85aff81de8dcb1766d3c56e2e619548[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 9 16:19:32 2016 +0000

    Fix slow Felix builds.
    
    - Add a cache directory for $GOPATH/pkg that is mounted as a volume into the
      build container.
    - As part of building the build container image, rebuild the standard library.
      This ensures the standard library is built with CGO disabled so that it isn't
      considered stale by subsequent builds.

[33mcommit 739fca9427aaa2ed76ac93ce80ef27ea01779562[m
Merge: d1655c7c 12cf4160
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Dec 9 15:10:55 2016 +0000

    Merge pull request #1220 from neiljerram/fixes-for-1.4
    
    Fixes for 1.4

[33mcommit eaf4bde4d9e2f73eca7ff320116c63d055ce3d8b[m[33m ([m[1;33mtag: 2.0.0-rc5[m[33m)[m
Merge: 9d162862 d546c757
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 8 19:29:00 2016 +0000

    Merge pull request #1222 from fasaxc/reduce-usagerep-keys
    
    Reduce length of usage reporting keys.

[33mcommit c188e78620677f8763b97257594a8f9a4433143b[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Thu Dec 8 19:02:25 2016 +0000

    WiP on IPIP manager

[33mcommit 776b616e9fc44ee5e2686fbc93dbe9da4bf5a923[m
Merge: e9a99d0e 4f2a8cdb
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 8 18:07:21 2016 +0000

    Merge pull request #1223 from neiljerram/endpoint-chain-name
    
    Make WorkloadEndpointChainName usable for host endpoints also

[33mcommit 4f2a8cdb5496143fc923b305caaa55f56d04ca5c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 8 17:58:40 2016 +0000

    Use clearer 'ifaceName' for EndpointChainName arg

[33mcommit 9d162862249d9d11a2415f6d1c36fdc5df21259e[m
Merge: fe46f3b2 6af37763
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 8 17:41:07 2016 +0000

    Merge pull request #1218 from fasaxc/fix-pol-sort-nil
    
    Fix nil pointer deref in policy sorter.

[33mcommit d38780a47aa43849b72a1f1a0ac52e0835fc0b0a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 8 16:04:14 2016 +0000

    Make WorkloadEndpointChainName usable for host endpoints also

[33mcommit d546c757d610ccf4464f9517ad8a1da6310a6598[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 8 15:28:35 2016 +0000

    Reduce length of usage reporting keys.
    
    Quick fix to reduce server-size storage requirements.
    
    Fixes #1221

[33mcommit 6af377635a3ea5832fa62bc6026bf4edffbb6bd8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 8 10:10:48 2016 +0000

    Fix nil pointer deref in policy sorter.
    
    Fixes #1217.

[33mcommit 12cf4160cac8c5a1ac2d012dc07fd08cdd70b2cf[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 6 15:55:28 2016 +0000

    If an interface is down, make sure we remove its routes.
    
    We were assuming the kernel would do this for us, but in some
    cases, an interface can be oper down but still have routes.
    
    Make sure that the routes get cleaned up in that case by
    calling _deconfigure_interface().

[33mcommit 10a4df26101aec83ddecf82dce61c7d2f35f680a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 14 18:52:45 2016 +0000

    Revert "Pin pycparser version."
    
    This reverts commit 60ff9b18b3a8bec4b13958b4f15f46815c9aa836.

[33mcommit 6d60c8d9d4d0d7f79c69e2b5a2de727c5bea52dc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 27 20:00:39 2016 +0200

    Do floating IP DNATs from OUTPUT as well as from PREROUTING
    
    This is needed so that an endpoint can be pinged from its own host using
    its floating IP.  One reason for wanting that is that that is what
    OpenStack Tempest tests do.  More generally it adds utility without any
    downside.
    
    The PREROUTING chain is only traversed for packets that are received on
    the compute host from elsewhere; so our use of PREROUTING to implement
    floating IPs works for such packets, but not for packets that originate
    from the compute host.  To cover the latter, we can traverse the
    floating IP DNAT rules from the OUTPUT chain as well.
    
    Note that we also (already) do floating IP-related SNATs in the
    POSTROUTING chain.  For those to operate correctly, the DNATs have to
    happen first.  (And happily they do:
    https://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg)

[33mcommit 593d390fe418e4a926e968de5ea797afe9785d3d[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Dec 7 19:02:32 2016 +0000

    WiP on IPIP mode.

[33mcommit e9a99d0e200f54ff2f0c3ed9c86960256c419298[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Dec 7 19:01:51 2016 +0000

    Fix UTs.

[33mcommit fe46f3b29bf3a9eed8ca5e7677944dd3e2496275[m
Merge: 527b90a2 912e783b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Dec 7 18:06:58 2016 +0000

    Merge pull request #1215 from neiljerram/release-2.0.0-rc4
    
    Re-integrate deb/RPM changelogs and make tweaks to release scripts.

[33mcommit 0d0c6322261ad56cbb162ce1bf47e3c292b593a3[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Dec 7 14:07:06 2016 +0000

    Self review/go fmt markups.

[33mcommit 912e783b35c89335ce2280507ccbb91506a8c129[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 7 13:36:37 2016 +0000

    Avoid repeating 'Felix <version>' in Deb/RPM changelogs

[33mcommit 5706f9ddd16c7af058f837869a5e026bcd0582db[m
Merge: 7c67d3ef 527b90a2
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Dec 7 13:29:37 2016 +0000

    Merge remote-tracking branch 'origin/master' into golang-dp-driver

[33mcommit f6856d5723ce2da32f584e561fc6545cbb792140[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 7 13:23:13 2016 +0000

    Felix 2.0.0-rc4 Deb/RPM packaging

[33mcommit 7c67d3ef7db4968ec35d44d08b40e2099996502b[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Dec 7 13:05:34 2016 +0000

    Add IPAM pool masquerade support.
    
    Maintain IP sets containing all IPAM pools and masquerade-enabled pools.
    
    When there are masquerade-enabled pools, add an iptables rule to
    masquerade the relevant traffic and remove it when not.

[33mcommit 706bb9c92fd51a09954f4f5f430af033a58e84fc[m[33m ([m[1;33mtag: 2.0.0-rc4[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 7 02:09:04 2016 +0000

    Use realpath instead of readlink -f

[33mcommit c5b801920f01bffe754c7e3aafc21f985bdb3e08[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Dec 7 00:51:09 2016 +0000

    Use libcalico-go v1.0.0-rc4

[33mcommit 527b90a22ea05a9ef1010d5bcae8282caae9be76[m
Merge: cb62c6f4 66b890a9
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Dec 6 23:37:41 2016 +0000

    Merge pull request #1214 from fasaxc/remove-routes-when-down
    
    If an interface is down, make sure we remove its routes.

[33mcommit cb62c6f471b06bef653e8ae0277c69f9785dc8cc[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 6 12:45:25 2016 +0000

    Skip rules that have CIDRs for different IP versions.

[33mcommit 9288035a6a991c0a45528772ffd50020b52f9c32[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 6 11:41:46 2016 +0000

    Make rule generation tolerate missing IP version for ICMP.
    
    Previously, ICMP rules without an IP version would cause an
    assert when being rendered on the "wrong" IP version.  Now they
    are ignored.
    
    Also, reinstate the UTs for rule generation and fix up in
    light of golang port.

[33mcommit 66b890a99394c234b58b6ba488f6eb04a9495d1e[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Dec 6 15:55:28 2016 +0000

    If an interface is down, make sure we remove its routes.
    
    We were assuming the kernel would do this for us, but in some
    cases, an interface can be oper down but still have routes.
    
    Make sure that the routes get cleaned up in that case by
    calling _deconfigure_interface().

[33mcommit 1b8114c718df5fb3459707015f499c8946e1d2d4[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Tue Dec 6 14:46:27 2016 +0100

    Fix layout
    
    Change-Id: Ic3d304be593b3799218262b90d5b60259dd90e79

[33mcommit 295e190d95063b0b94574844d2450569242c7087[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Tue Dec 6 14:43:50 2016 +0100

    Fix layout
    
    Change-Id: I1b6f99e524e14b4493d0577cdcdc439289aa908d

[33mcommit 3fb4ffece4d11749c6fd66960780244fd5bf8327[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Tue Dec 6 14:42:58 2016 +0100

    Add config params to golang as well
    
    Change-Id: Iddd6ae50b188059af53bc225146257922962f83c

[33mcommit fd5a41a5a19a7a2309428a49e271bb6455a02e77[m
Merge: 201b06df 70084e77
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Dec 6 13:38:24 2016 +0000

    Merge pull request #1207 from neiljerram/release-2.0.0-rc3
    
    Release 2.0.0 rc3

[33mcommit 67939742608678e9ec3802bc671b0b1767af4893[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Tue Dec 6 14:34:42 2016 +0100

    Fix layout
    
    Change-Id: I22c0dc9421da1609d2f349caa89ea16680bdfef0

[33mcommit 9eb45492dba8c60a2b1b5e4b882bf39e2d4e4d47[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Tue Dec 6 14:32:07 2016 +0100

    Allow empty config, also add config to golang
    
    Change-Id: I4796db82465a48f40d61d586f7c1f16632e44289

[33mcommit 03cad38c178c69bbf3ea65c6523f580bc4ef6c09[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Tue Dec 6 09:16:40 2016 +0100

    Make the iptables log-prefix configurable. Defaults to current contents.
    
    Change-Id: I80d482b05956f97262abe906d9549d82e17e7a33

[33mcommit f3d085db084a7eb26be3d76668b2b612a3a90475[m
Author: Wietse Muizelaar <wmuizelaar@bol.com>
Date:   Mon Dec 5 17:16:48 2016 +0100

    Configure an option to append or insert the iptables rules generated
    by calico-felix.
    
    This helps to solve https://github.com/projectcalico/felix/issues/1118
    
    Change-Id: I7986a8a2fce17771d4c515239eacbf930820fb51

[33mcommit 70084e77890d5b9e192ef68299f1cd7e0113fcde[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 5 15:01:48 2016 +0000

    Felix 2.0.0-rc3 Deb/RPM packaging

[33mcommit 6bdd08659efed0eb8621cfa1086dda60fe63b13a[m[33m ([m[1;33mtag: 2.0.0-rc3[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 5 14:50:03 2016 +0000

    Update to current libcalico-go master
    
    (which has some release fixes since the last RC)

[33mcommit 201b06dfb97a59061645106616b8be74147e57af[m
Merge: 66f1ed91 94e8a0a3
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Dec 5 14:38:32 2016 +0000

    Merge pull request #1204 from neiljerram/rc2-packages
    
    Felix 2.0.0-rc2

[33mcommit 6c548a41372eabaf27b9bc66aa5b4f7e15f4b4ee[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 15:38:14 2016 +0000

    Clean ups:
    
    - Improve terminology in felix.go.
    - Move protobug unwrapping to ext dataplane driver.

[33mcommit e9e222419f42857f6cc905735fd6d2e290c345b0[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 15:07:16 2016 +0000

    Add special-case regex used to find old felix rule insertions.

[33mcommit 01daf44ca8a539e9d8ed0172f838562bc6894d1f[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 14:08:56 2016 +0000

    Fix copy/paste error in dispatch chain rendering.
    
    To-endpoint chain was getting from-endpoint rules.

[33mcommit 66f1ed91358d9ea52e09cf0853f7b39288837c77[m
Merge: 26ed5096 1d44879e
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Dec 2 12:48:33 2016 +0000

    Merge pull request #1205 from fasaxc/patch-script
    
    Add a make patch-script target.

[33mcommit 0e4b4a63d9d811d6a6839534d37513272adca61c[m
Merge: fd0a33c4 26ed5096
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 12:46:33 2016 +0000

    Merge remote-tracking branch 'origin/master' into golang-dp-driver

[33mcommit 1d44879e196554e84d839eeff2a9676f5fce4fa9[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 10:59:48 2016 +0000

    Add a make patch-script target.
    
    Outputs a script that patches the calico-felix executable on a test system.

[33mcommit fd0a33c458c347bafc69f8acd59c4301cdbd68b3[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 10:59:48 2016 +0000

    Add a make patch-script target.
    
    Outputs a script that patches the calico-felix executable on a test system.

[33mcommit 271f4fb7fde828eee8bd95911110c32ebebeba57[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Fri Dec 2 10:16:28 2016 +0000

    Fixes to routing table:
    
    - Pass interface events to routing table.
    - Don't try to configure ARP for IPv6 addresses.
    - Beef up logging.

[33mcommit 26ed5096527f2b5e7d2b8e17319a8ce894aa95af[m
Merge: f4dcca25 73c17250
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 19:42:01 2016 +0000

    Merge pull request #1203 from fasaxc/release-process-tweaks
    
    Release process tidy-ups

[33mcommit 73c17250b350ec58dfb0253e563a6f88ce90bb82[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 18:24:29 2016 +0000

    Code review markups.

[33mcommit f4dcca252351199f416e786c495bb1c5b61411ee[m
Merge: 92963026 19be0560
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 18:22:44 2016 +0000

    Merge pull request #1198 from fasaxc/delay-usage-rep
    
    Add 5 minutes to initial usage reporting delay.

[33mcommit 929630266b0ba00ccc56ffb12090110aea9e127c[m
Merge: a98a7a56 0dc06d6a
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 18:18:10 2016 +0000

    Merge pull request #1199 from neiljerram/fix-rpm-changelog
    
    Fix RPM changelog version '2.0.0' - should be '2.0.0-rc2'

[33mcommit 191d4c65ae8625a4f86e9ad74450f2ec7e734d27[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 17:30:58 2016 +0000

    Clean up some minor release process niggles:
    
    - More precise list of artifacts in RELEASING.md.
    - Include instructions to push to Dockerhub/Quay.

[33mcommit d1655c7c1959f5add237d1dd4fb7deb985be0a7b[m
Merge: 0a541084 1967e157
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 16:05:13 2016 +0000

    Merge pull request #1200 from neiljerram/rev-version
    
    Rev setup.py version to distinguish development from last release

[33mcommit 0a5410842c3998c55d2cf39f81caf8c662fc6bc7[m
Merge: 5deef89c 93d78cc7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 16:03:55 2016 +0000

    Merge pull request #1201 from neiljerram/release-process-1.4
    
    Release process 1.4

[33mcommit 0496758da761a13bc37b3ffdeaa1ef89680c7c71[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 15:33:56 2016 +0000

    Fix that dispatch chains were being calculated from stale data.

[33mcommit 1967e157637a98d3f80e8ce330049d6ea51109f3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 15:26:43 2016 +0000

    Rev setup.py version to distinguish development from last release

[33mcommit 93d78cc7f0cb855400af70d18c4de409e20db4ee[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 15:21:21 2016 +0000

    Document 1.4.x branch release process
    
    As we now have different release processes on different branches, it's
    better to have a code-managed RELEASING.md than to try to describe the
    process in a central place.  We already now have RELEASING.md on master;
    this commit adds the corresponding file for 1.4.x.
    
    Also add missing 1.4.5 release notes to CHANGES.md.

[33mcommit 336a293705ad1424efc3995b950790f4e9ea158e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 15:00:11 2016 +0000

    release process 1.4

[33mcommit da5817fd2b3b68301b0848f19554296bb0d29a2b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 14:40:17 2016 +0000

    Add an opaque ID/hash to each rule.
    
    The ID depends on
    
    - the ID of the policy/profile
    - the hashes of the rules preceding it in the list
    - the contents of the rule.
    
    Hence, it is useful for identifying a rule uniquely with high probability.

[33mcommit 5deef89cbe403e9ddd5eedf822d4def3d8b98160[m[33m ([m[1;33mtag: 1.4.5[m[33m)[m
Merge: 30b71543 37084f2e
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 14:25:35 2016 +0000

    Merge pull request #1187 from neiljerram/release-1.4.5
    
    Release 1.4.5

[33mcommit 19be05608088b5d1fae3923234b9a7601f3cbf7f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 13:12:18 2016 +0000

    Code review markups.

[33mcommit 0dc06d6aeccf667f3441e02df751c02eacfeac9b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 11:44:03 2016 +0000

    Fix RPM changelog version '2.0.0' - should be '2.0.0-rc2'
    
    Caused by accidental overwriting of the ${version} variable.

[33mcommit 94e8a0a325e5dcf03ee1649009854926c128ecb9[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Dec 1 11:39:53 2016 +0000

    Felix 2.0.0-rc2

[33mcommit 14194f1990dfe945f29d3149d93537e611d4ec05[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 11:39:40 2016 +0000

    Add support for setting destination MAC address when programming routes.

[33mcommit 1d010620f4043a353ef17022fcb83300548742f1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 10:09:38 2016 +0000

    Add 5 minutes to initial usage reporting delay.
    
    Prevents spamming server under cyclic-restart scenarios.

[33mcommit d8649faa9d13bcb069a35b68a25d693dd7698b32[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Dec 1 09:29:10 2016 +0000

    Add static NAT chains.  Add OpenStack Metadata IP special-case.

[33mcommit a98a7a5691daacc344f9b469466500be49112347[m[33m ([m[1;33mtag: 2.0.0-rc2[m[33m)[m
Merge: 0d90955e 18b3395d
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Wed Nov 30 20:12:33 2016 -0800

    Merge pull request #1196 from robbrockbank/update-libcalico-go-rc2
    
    Update libcalico-go to v1.0.0-rc2

[33mcommit 18b3395d3ca2d732a9d14133a3c47341752c8645[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Wed Nov 30 16:28:00 2016 -0800

    Update libcalico-go to v1.0.0-rc2

[33mcommit 0d90955e91097fa0cbae9af0b477c264e8660b46[m[33m ([m[1;33mtag: 2.0.0-rc1[m[33m)[m
Merge: 667a1ff9 4c0a2791
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 30 18:34:48 2016 +0000

    Merge pull request #1192 from neiljerram/update-libcalico-go
    
    Update to libcalico-go v1.0.0-rc1

[33mcommit 4c0a27919c3569b39256d28b417ab472d6c49721[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 30 18:24:33 2016 +0000

    Update to libcalico-go v1.0.0-rc1

[33mcommit 667a1ff9ea0138616a53dc573b8a525fb1e5624a[m
Merge: 1ac3d64e f0c413ec
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 30 18:06:18 2016 +0000

    Merge pull request #1177 from neiljerram/make-release
    
    Make release

[33mcommit f0c413ec78d82f55d433a9c601806cc4b3c5040e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 30 17:47:06 2016 +0000

    Describe Felix release artifacts

[33mcommit 3015d02b82ceba21621a6092329ee329822de20e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 30 17:37:14 2016 +0000

    Remove handling for dirty working trees
    
    i.e. for a tree with uncommitted changes (whether staged or not).  These
    cause a problem with Debian and RPM package generation - because the
    updating of the debian/changelog (or rpm/felix.spec) means that the tree
    is dirty by the time that we start generating the RPM (or Debian)
    packages.

[33mcommit 633c79e1a81ec4cfb3f03bec38e6d23ed4c77e98[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 23 17:13:00 2016 +0000

    Add version validation

[33mcommit 5e29057968d8647ace2a7ccc1b0d843d035af61f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 23 16:46:53 2016 +0000

    Remove __SNAPSHOT__ handling - no longer needed

[33mcommit cae6aa2c9515491944939af2334b061afc3169bc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 24 13:05:53 2016 +0000

    Include time in version, if not exactly on a tag
    
    This ensures that our version numbers will still be monotonic even when
    building repeatedly with uncommitted changes, or when amending the top
    commit.

[33mcommit 4ea6c94d7dac4004ca6573d4758b25a8fa6bb55e[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 23 17:20:01 2016 +0000

    Add Git SHA to snapshot version

[33mcommit dddd114b4fa256cb887297c9bc450c938365ab4b[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 22 13:46:09 2016 +0000

    Automation of Deb and RPM packaging
    
    Improve auto-update of Debian changelog and RPM spec

[33mcommit e643fc76939a5caed1499ece815c88148729c8ca[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 17 18:51:14 2016 +0000

    Improved release process for Felix
    
    - Autogenerate version number from Git state
    - Automate release tag and artifact creation
    - Incorporate instructions for release publication.
    - Use git-derived version for usage report and felix --version
    - Use git-derived version in version.txt and bundle filename
    - Use utils code that we no longer use

[33mcommit 16723146c46cbfd627255ac109d2751878beaae7[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 18 12:08:37 2016 +0000

    Remove development packaging entries from Deb and RPM data
    
    Instead we will generate these when running make deb or make rpm.

[33mcommit 1ac3d64e7d2901887a515a5d06651d1e9c687045[m
Merge: b8028732 48606922
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 30 14:24:13 2016 +0000

    Merge pull request #1188 from neiljerram/new-logrus-api
    
    Update for current logrus API (fixes #1162)

[33mcommit 718facc8d6f35699ee7aa559f4ca867ddd0850d1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 30 14:22:04 2016 +0000

    Implement process status reporting.

[33mcommit a730c228e8f799d6f7b4cb3fb3451b71b7ce833c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 29 18:26:36 2016 +0000

    WiP on route programming retry/monitoring.

[33mcommit 9380c3f4efb836736de2b69e54a6e8ac1fa0bd77[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 29 11:17:33 2016 +0000

    WiP on ipsets cleanup.
    
    - Add NAT and raw iptables tables (needed to remove use of old IP sets).
    - Add cleanup logic in IP sets management code.

[33mcommit 48606922311e56a9ea22308f3fc5cc77cf785c59[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 29 10:56:48 2016 +0000

    make update-vendor

[33mcommit 6beb3fa1f7f0a37db08412a02703f9b47485b1eb[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 28 14:57:09 2016 +0000

    Update for current logrus API (fixes #1162)

[33mcommit 37084f2e4b84537ee5e6017454e2b25cd05c5e53[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 25 16:40:27 2016 +0000

    Felix 1.4.5

[33mcommit fd3f909a62d5ccf9974dfdbf306245c303821f67[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 28 11:35:52 2016 +0000

    Tell systemd always to restart Felix

[33mcommit b802873259f058ef5d563f8be75ed2593a40da6d[m
Merge: c88ac543 5d07e44e
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 28 09:40:52 2016 +0000

    Merge pull request #1184 from SergK/refactor_user_creation_in_docker
    
    Use commands to add users inside containers instead of mapping in passwd/group files.

[33mcommit 20b4b933b0f47590b7a3af29793a7906eca90af4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 25 22:51:47 2016 +0000

    Avoid new prometheus_client 0.0.18 release
    
    With 0.0.18 we get UT errors about using the same time series name more
    than once.  Since the future is Golang, it probably isn't worth
    addressing this more properly for this remaining Python-based Felix
    branch.

[33mcommit ae189869f817a5593ee4d238cafcb2a4361a44fd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 25 22:51:34 2016 +0000

    Revert "Pin to 0.0.17 prometheus_client, to avoid new 0.0.18 release"
    
    This reverts commit 979aea3d91cd8d5ae001f71f58b69868b75dba69.

[33mcommit 30b71543b700818973471fc06644a8bd39ec5310[m
Merge: e59a5992 979aea3d
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 25 16:26:05 2016 +0000

    Merge pull request #1183 from neiljerram/fix-name-err
    
    Fix name err

[33mcommit 5d07e44e87b92d29180926cc2b2408ce0552192e[m
Author: Sergey Kulanov <skulanov@mirantis.com>
Date:   Fri Nov 25 15:13:20 2016 +0200

    Refactor user creation in docker
    
    Simplify user creation process in docker images

[33mcommit a642b4cf90958a5d45c975a6c9bbeb586e39601d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 25 11:22:07 2016 +0000

    Fix name of outbound profile chain.

[33mcommit 979aea3d91cd8d5ae001f71f58b69868b75dba69[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 25 11:09:26 2016 +0000

    Pin to 0.0.17 prometheus_client, to avoid new 0.0.18 release
    
    With 0.0.18 we get UT errors about using the same time series name more
    than once.  Since the future is Golang, it probably isn't worth
    addressing this more properly for this remaining Python-based Felix
    branch.

[33mcommit bcece3ab2c5d2fc0d00f837cac26c4d4cee0da8e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 25 10:09:12 2016 +0000

    Add dummy endpoint status reports; should get OpenStack running.

[33mcommit c88ac54349f3299ff3cf0698e9b4b38ca0e30117[m
Merge: 4514c92e 39317133
Author: Casey Davenport <caseydavenport@users.noreply.github.com>
Date:   Thu Nov 24 13:21:32 2016 -0500

    Merge pull request #1182 from projectcalico/lxpollitt-patch-1
    
    Update README.md

[33mcommit 3931713363e4429128a441b4d8ee46677d05a851[m
Author: Alex Pollitt <lxpollitt@users.noreply.github.com>
Date:   Thu Nov 24 09:19:32 2016 -0800

    Update README.md
    
    Add contributor/user documentation header notice and tightened content in a few places to be more contributor focussed.

[33mcommit e85943c6f1cf34b5753b5691faddd46938706687[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 17:00:44 2016 +0000

    Fix up iptables UT.

[33mcommit de256eb81b77a01ca7fc12b010980fb63ac762a4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 16:47:10 2016 +0000

    Default to using internal dataplane driver.

[33mcommit bcebf99ecd2955249d081d470c89fcb75f81ef13[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 16:46:25 2016 +0000

    Implement mainline match criteria and fix V6 IP set rendering.

[33mcommit f07bb93a4bcc2c08bd29c34fbf6bb23db1bb082b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 14:57:53 2016 +0000

    Do per-interface proc-sys config.

[33mcommit 25c17091a7593066581d18918a37045d8c4e6765[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 14:33:19 2016 +0000

    Minor fixes:
    - Fix that iptables.Table never set the in-sync flag.
    - Retry after failing to program routes. (Still need to start monitoring for changes.)

[33mcommit 29760b166432de90e9e5c9b30f0c5e924737d34d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 13:38:55 2016 +0000

    Program workload endpoint routes.
    
    - Switch to synchronous programming for now.
    - Plumb through updates and trigger resync after each update.

[33mcommit 27ec54560429def8cbf82d0b0d33879b8e8171c0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 11:37:41 2016 +0000

    Skip interfaces that are marked as down when updating routes.

[33mcommit 35ea4651fe45ad0412013c9d2b35da6ddcf447cf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 24 11:26:45 2016 +0000

    Add routing table syncer.  Currently poll-based.

[33mcommit c8edecd9f3875ff2985f8c226864000fdbb0608a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 18:43:35 2016 +0000

    WiP on routing table syncer.

[33mcommit 8c52bbf93fffb67a436268a2de4333803282e9c2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 18:42:21 2016 +0000

    Do deletes right at the end, after cleaning up insertions.

[33mcommit beddddf9c41b8ca26bea80dbab328267989d0db3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 18:36:50 2016 +0000

    Fix up hash extraction and add UTs.

[33mcommit 4514c92ea055937cc6e38ebeae95b93a0aeb7d0b[m
Merge: 41534563 51eccf0f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 15:18:33 2016 +0000

    Merge pull request #1179 from fasaxc/config-api-fix-up
    
    Use new CalicoAPIConfig to specify connection info

[33mcommit 5a755b152964626244ce7b30fa1e298e54c2b1ee[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 14:19:13 2016 +0000

    Switch to RenderInsert() for calculating insert rules.

[33mcommit 9beb17db52733636514bd8845b48cf20e7e2f1f2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 13:52:53 2016 +0000

    Fix failure to delete iptables chains.
    
    Do deletes in a second pass after we've cleaned up the referring chains.

[33mcommit ea154db4ab1ec0df2aa4984cbf08f16bb0dacb49[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 12:23:01 2016 +0000

    Add profiles to endpoint chains.

[33mcommit 0bc974fa4a6c7c74f3bb12ef7b9a97c9e3f9a7a2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 11:31:40 2016 +0000

    Add dedicated MatchCriteria type for building rules.
    
    Use to start implementing per-endpoint chains.

[33mcommit dff9c0c32653b7b3d4f82fab7c9468602705e0ea[m
Merge: 46c62461 51eccf0f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 09:31:18 2016 +0000

    Merge branch 'config-api-fix-up' into golang-dp-driver

[33mcommit 415345631de3ea41c8b645bc16914bbfae346505[m
Merge: 58c480f5 ed90f77b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 09:26:45 2016 +0000

    Merge pull request #1174 from fasaxc/fix-guid
    
    Fix that clusterType was being defaulted when clusterGUID was missing.

[33mcommit 51eccf0fa2aa1105008fcd4d73c66ac85ff2659b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 23 09:21:27 2016 +0000

    Rev libcalico-go pin to latest master to pick up Syncer fix.

[33mcommit fe52aa8ab9f1824b4caa4f7a5253b5404131f4f4[m
Author: Rob Brockbank <rob@tigera.io>
Date:   Tue Nov 22 09:47:50 2016 -0800

    Use new CalicoAPIConfig to specify connection info

[33mcommit 46c62461f7c4d876affe28938df4941e91029b60[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 22 16:27:13 2016 +0000

    Start of profile support.

[33mcommit 2e4bc128484f12b19d6687fbb907b695beb471dc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 22 14:08:44 2016 +0000

    Factor out manager objects.

[33mcommit 58c480f5ba40b720c41efa24bf7e6d2dd1bcc69a[m
Merge: a47e8dcc 743ac259
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 22 15:43:36 2016 +0000

    Merge pull request #1157 from fasaxc/fix-missing-datastore-type-error
    
    Improve early logging configuration.

[33mcommit ed90f77b0d0b53fb1bb6dcb1bc3f6b583855dced[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 22 09:25:03 2016 +0000

    Fix that clusterType was being defaulted when clusterGUID was missing.
    
    Add some UT.

[33mcommit 9ad4065d56668ac90c79dd8f01c8145e41703eb2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 21 18:23:34 2016 +0000

    Add backoff/panic on iptables failure.

[33mcommit fbdd22b8da7ba8b37efa0a40f391b09e92dc2b94[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 21 15:43:19 2016 +0000

    Add support for hooking kernel chains, use to hook FORWARD chain.

[33mcommit e59a5992c85cad084a84ca816f5af11e9b40e70d[m
Merge: f6ddc11a f2355d3b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 21 09:19:18 2016 +0000

    Merge pull request #1170 from neiljerram/untracked-1.4
    
    Add support for rendering host endpoint chains into the raw table.  Interpret accept in such chains as "NOTRACK and ACCEPT" so that the packets skip conntrack.

[33mcommit 8cc135d84559937b6a0b24e38397cc690f465170[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 18 18:13:03 2016 +0000

    Add drop action to dispatch chains.

[33mcommit 1cf3ff79ef89f0aa3335694361cff5a73abab095[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 18 18:12:53 2016 +0000

    Validate that workload endpoints have names; required by felix.

[33mcommit 020e74ee399ae05c108f48f02370861e5bd3979c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 18 15:49:43 2016 +0000

    Implement basic dispatch chain logic.  Add endpointManager.

[33mcommit 00642e220c0cf542d3c9029715b98094c69717f5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 18 14:21:44 2016 +0000

    Skeleton for rule rendering logic and other minor tweaks.

[33mcommit 546a2e4a014a058f997480168c94437a69693587[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 18 10:52:25 2016 +0000

    Minor clean-ups.

[33mcommit a47e8dccf66c4435e3abba05325e86c902af94d1[m
Merge: f6e855dc 4f6ff7f0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 18 09:49:43 2016 +0000

    Merge pull request #1150 from artem-panchenko/use_local_libcalico-go
    
    Use local 'libcalico-go' for containerized build

[33mcommit 7918bd0ef28c7806073af82525206bdbd11a8381[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 17 19:05:29 2016 +0000

    Skeleton for policy programming.  Still needs rule rendering!
    
    - Switch to 'cali' for iptables prefix and support cleaning up old names too.
    - Work-in-progress on fan-out to different iptables tables.
    - Chain name generation logic.

[33mcommit 762c690b044562c5f08bc658d233c90c662ebcca[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 17 16:14:15 2016 +0000

    Refactor to create a Rule and Chain class.

[33mcommit f2355d3ba995a17a178f651dcdfa36b63dc6c5e3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 17 15:39:07 2016 +0000

    Rename 'default_drop' to 'untracked' (and invert)

[33mcommit 064a30487e674eafd5087d9c6d1a91768146e3f4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 17 15:36:52 2016 +0000

    Get IP sets programming in internal DP driver.

[33mcommit fdf96138876c559cdc4fef762bf4611a47a17e46[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 17 13:56:03 2016 +0000

    Minor cleanups.

[33mcommit 6ddea30f3ad4ca0da184004fb72aec3d6d5fd47c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 17 11:46:57 2016 +0000

    Add IP set CRUD logic.

[33mcommit 1920516044693d4a11679d383a6da86abfbbb372[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 17 11:46:15 2016 +0000

    Rework Felix's main() to pull out external dataplane driver.  Start of internal driver.

[33mcommit 5d9f55b4b45ec30f1da348dfaa7ac41ca7a29da2[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 16 17:46:35 2016 +0000

    Fix

[33mcommit 407ff6f4ad0a4e424bd130002404048021481569[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 16 17:42:42 2016 +0000

    Fix

[33mcommit 0a6e9779ebe98f42f8c85c69e0454fad57759acd[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 16 16:58:38 2016 +0000

    UT fixup

[33mcommit 196ea2814f7406edbe8fd8e3c48acf2f2de26a30[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 16 16:52:18 2016 +0000

    Finish new UntrackedPolicyId

[33mcommit 9dba942427844df91258c29cb7d9c19aa16c3f3a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 16 16:11:01 2016 +0000

    New UntrackedPolicyId

[33mcommit a3a2ef07055e3473514a24b94011fa3bba668c1c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 16 11:31:04 2016 +0000

    Implement iptables hash resync.  Fix up programming.

[33mcommit 7d2a9645c00915ee328d29f5ff514f8f43504cbe[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 16 11:29:42 2016 +0000

    Improve logutils: avoid name clash with user-supplied fields.

[33mcommit c2cbca465ddef3c8b0c7689da9bfb8dc709387df[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 19:10:35 2016 +0000

    Fix setting of NOTRACK mark

[33mcommit d18b66c15fe825ce915a003eb783fc39b9afb930[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 15 18:51:52 2016 +0000

    WiP on iptables writer.

[33mcommit fc08bbf5f90bf2ee0b009a87e7f9927ecf973488[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 18:01:24 2016 +0000

    Handle policy changing between tracked and untracked

[33mcommit 54b0a8cdde837eca5a08886139127289c65c7bcc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 17:42:54 2016 +0000

    Fix typo

[33mcommit 84be561546e86446f95d4d6f6424df71be08a04a[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 17:13:02 2016 +0000

    UT fixup

[33mcommit ef367ec22ad2fd59cc99c1235b692ec603457645[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 17:03:36 2016 +0000

    Simplify ProfileRules

[33mcommit 948865f7b00291de41be08f76c0939c008a64549[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 16:51:16 2016 +0000

    Fix plumbing of untracked field

[33mcommit 8e3e7f6d5ab5a3113f565cecdae9a938ad55d86e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 15 14:07:54 2016 +0000

    Change ActiveRulesCalculator to generate dummy drop rules.
    
    Should make dataplane driver logic simpler by removing need to track
    dependencies.

[33mcommit 21efa410c08973f6428e921ff997ea4cfc9ed198[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 15 13:16:09 2016 +0000

    Rework EventBuffer as EventSequencer.
    
    Now sequences updates to ensure that dependencies are sent
    before the resources that require them.

[33mcommit 54590632bd2e56c7c34149a7450b8cda46230532[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 12:05:16 2016 +0000

    UT fixup

[33mcommit 376c2d8f3d64e416187cfb03ba517cb1f29eaf79[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 10:48:38 2016 +0000

    Correctly get policy 'untracked' property

[33mcommit 5be12406f6545417f9f8282ac747a1ade1e40d8c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 10:05:21 2016 +0000

    Resolve rebase conflict
    
    Split normal and untracked policies in on_tiered_policy_update.

[33mcommit de2fa0c7119cd93204967624c53b6c79a46fa481[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 8 14:28:54 2016 +0000

    Add 'untracked' policy field
    
    iptables driver changes for untracked handling
    
    iptables analysis
    
    Code complete
    
    UT fixups
    
    UT fixups
    
    IPv6 raw table was already used for rpfilter - fix up
    
    Add v4_raw_updater to lists that it should be in
    
    Ensure ACCEPT mark is initially unset
    
    Fix mapping from policy ID to untracked
    
    Set missing chain overrides in raw table
    
    Write failsafe chains in raw table
    
    Use new protobuf index for untracked field

[33mcommit 0185f7b97b93a7115bc78cbe8b7865a1190a0236[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 15 09:37:58 2016 +0000

    Changes that rebased without conflicts

[33mcommit 4713779055ddb087a2f8e17e25bafa22f4bba2d3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Nov 14 16:14:18 2016 +0000

    Fix except block in usage reporting to use full name of exception.

[33mcommit f6e855dcaed91290e60716180b35c19c9c2ac260[m
Merge: 6ef15078 b8e17e88
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 14 10:25:58 2016 +0000

    Merge pull request #1165 from fasaxc/add-certs
    
    Add root CA store, replaces certifi bundle used in Python version.

[33mcommit 6ef150785445dd8c93d080f1b0bf9cb5dcd19308[m
Merge: af2b36e3 d36d46c5
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 8 14:09:02 2016 +0000

    Merge pull request #1135 from neiljerram/fip-postrouting-dnat
    
    Do floating IP DNATs from POSTROUTING as well as from PREROUTING

[33mcommit d36d46c5ac52ae47526c6abb15c55a547079e890[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Oct 27 20:00:39 2016 +0200

    Do floating IP DNATs from OUTPUT as well as from PREROUTING
    
    This is needed so that an endpoint can be pinged from its own host using
    its floating IP.  One reason for wanting that is that that is what
    OpenStack Tempest tests do.  More generally it adds utility without any
    downside.
    
    The PREROUTING chain is only traversed for packets that are received on
    the compute host from elsewhere; so our use of PREROUTING to implement
    floating IPs works for such packets, but not for packets that originate
    from the compute host.  To cover the latter, we can traverse the
    floating IP DNAT rules from the OUTPUT chain as well.
    
    Note that we also (already) do floating IP-related SNATs in the
    POSTROUTING chain.  For those to operate correctly, the DNATs have to
    happen first.  (And happily they do:
    https://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg)

[33mcommit af2b36e3a43034347d4c1576bedc5821f4f08576[m
Merge: edf7ce36 babea5c1
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 8 10:23:15 2016 +0000

    Merge pull request #1167 from neiljerram/dev-reset
    
    Reset versioning and pins for ongoing development

[33mcommit babea5c1eff27e5d94a3bb039584faeaef12c389[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 7 15:51:25 2016 +0000

    Reset versioning and pins for ongoing development

[33mcommit edf7ce36ab511a668ff1710a3aea8188c0b1d76f[m
Merge: d1a5dbb8 4a1fa71c
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 7 15:18:23 2016 +0000

    Merge pull request #1166 from neiljerram/release-2.0.0-beta.3
    
    Release 2.0.0 beta.3

[33mcommit 4a1fa71cfbe004d95686167a019e6453c42140c5[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 7 12:12:58 2016 +0000

    Version 2.0.0-beta.3

[33mcommit d1a5dbb8391339a10990374a95cbd51c77f95625[m
Merge: 96489366 b62c5ada
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Nov 7 11:13:07 2016 +0000

    Merge pull request #1161 from fasaxc/release-2.0.0-beta
    
    Release 2.0.0-beta

[33mcommit b8e17e88d8001c02018651455ef70541973d46b0[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Sun Nov 6 11:06:46 2016 +0000

    Add root CA store, replaces certifi bundle used in Python version.

[33mcommit 96489366cf1d3a3fe900d882b1d8e3526f83cdfb[m
Merge: 790cb579 7b376a75
Author: Shaun Crampton <shaun@tigera.io>
Date:   Sat Nov 5 16:09:00 2016 +0000

    Merge pull request #1163 from caseydavenport/pin-logrus
    
    Pin logrus to desired version

[33mcommit 7b376a75e6894d287bc0834fb94e72e871799f56[m
Author: Casey Davenport <casey@tigera.io>
Date:   Fri Nov 4 15:25:12 2016 -0700

    Pin logrus to desired version

[33mcommit 2b49e4b362deefd2f5beeb56a8854c3d675e20f3[m[33m ([m[1;33mtag: 2.0.0-beta.3[m[33m)[m
Author: Casey Davenport <casey@tigera.io>
Date:   Fri Nov 4 13:42:17 2016 -0700

    Pin logrus

[33mcommit 9e503f54f40594057d1e4e3f15195837b5032f22[m
Author: Casey Davenport <casey@tigera.io>
Date:   Fri Nov 4 12:20:25 2016 -0700

    Pin libcalico-go @ v1.0.0-beta-rc2 and glide up

[33mcommit b62c5ada3467119ce0cf34eaed9b575667a5579b[m[33m ([m[1;33mtag: 2.0.0-beta.2[m[33m)[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 4 18:20:23 2016 +0000

    Version 2.0.0-beta.2
    
    - Fix that nat-outgoing wasn't being honoured.

[33mcommit 0bd0cca313bd0fa04b04f08093779745ad605b89[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 4 13:36:49 2016 +0000

    Version 2.0.0-beta

[33mcommit e5c6a9931028fa4c91a3efa7418565ae4e84d5b4[m
Author: Dan Osborne <djosborne10@gmail.com>
Date:   Wed Nov 2 18:00:34 2016 -0700

    Pin libcalico-go to v1.0.0-beta-rc1

[33mcommit 790cb579cea57ca2d365d6e79d62ad4cbae415a0[m
Merge: 6526356f 8469fdb1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 4 18:10:45 2016 +0000

    Merge pull request #1160 from fasaxc/fix-nat-outgoing
    
    Pass through IP pools to the dataplane driver.

[33mcommit 8469fdb1002fbfe83ac4bd603731743dffce431b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 4 17:29:47 2016 +0000

    Review markups + add UT for DataplanePassthru.

[33mcommit b68d335f21c252c8cd0aaa953e790c9d3da667e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 4 16:51:05 2016 +0000

    Pass through IP pools to the dataplane driver.
    
    Fixes https://github.com/projectcalico/calico-containers/issues/1249.

[33mcommit 6526356fa91bdca2a88f70cf89314d634ca30ea6[m
Merge: 368ab1b0 b6fd4e22
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 4 13:10:17 2016 +0000

    Merge pull request #1153 from neiljerram/build-review
    
    Improve builds:
    - Avoid detached containers.
    - Add more docs.
    - Add release process automation script.

[33mcommit b6fd4e22b27c898e52cecf8c7da79ae04dc867e6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 4 12:14:21 2016 +0000

    Code review markups

[33mcommit b0038b14eec1fe285080d0e04074a0f659f7ff4f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Nov 4 01:30:28 2016 +0000

    debuild: don't run lintian or require orig tarball

[33mcommit 44e0104c314b0a51b94845b9b745ad3542ac6bd8[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 16:54:43 2016 +0000

    Add release process

[33mcommit 743ac25903e7558cbe5889435b505148016349e2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Nov 4 10:12:01 2016 +0000

    Improve early logging configuration.
    
    - Default to logging errors.
    - Provide an override environment variable that allows early logging to be
      turned off or increased. (FELIX_EARLYLOGSEVERITYSCREEN)
    
    Fixes #1156

[33mcommit 2ebe078e91dd430db814bba9c8fff740baeacb8d[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 15:42:11 2016 +0000

    Run calico-iptables-plugin container in a single command

[33mcommit 5995350a745a95ccc091fb0a3561432d77f90515[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 13:01:50 2016 +0000

    Run update-frozen-reqs container in a single command

[33mcommit 297cbfd0785cf97bbd2cd1d4571cb0efbe356be6[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 12:49:44 2016 +0000

    Simplify find call now that 'docs' no longer exists

[33mcommit bc89624dc0a147d3064e524741d3b15027cabb83[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 12:49:25 2016 +0000

    Run python-ut container in a single command

[33mcommit 744365aaa14be43d44235f001996b99b7550ae68[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 12:48:32 2016 +0000

    run-unit-test.sh: Remove obsolete comment

[33mcommit 706acb1406aabf95713950e8238df2e09b5c5266[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Nov 3 10:58:45 2016 +0000

    Add diagram summary of Felix build processes

[33mcommit 5c35326ba9247d2f9fd28d15bc3787942ebab514[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 2 18:06:23 2016 +0000

    Build process: uniquify docker container names

[33mcommit 31cdd87a696f59fad7a7e97559b82849c729b7de[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 2 17:38:44 2016 +0000

    Add missing dependencies for RPM target

[33mcommit 263e13437aef1549aa00f17cf2f226c446b3c643[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 2 17:36:12 2016 +0000

    Simplify deb rules and naming

[33mcommit f2b17c7e2facf684a9f6e0e562b205b88726337c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 2 17:18:06 2016 +0000

    Regularise Docker image and target naming
    
    Name all build images as 'calico-build/...'.
    
    Name the Makefile targets the same as the image names.

[33mcommit ba41047213a4304f646900602ab3d5fe8aff1939[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Nov 2 13:24:59 2016 +0000

    Build review

[33mcommit 368ab1b07ac9f7adb7f89d2dfae2d30924900eb6[m
Merge: d38d1d3f 31c224f6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 11:35:49 2016 +0000

    Merge pull request #1148 from SergK/customize-compare-branch
    
    Allow to customize repo branch for coverage diff

[33mcommit d38d1d3fef2b225bb1d28a9b60331258d714e7c6[m
Merge: ab8799ea 2496d091
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 11:00:05 2016 +0000

    Merge pull request #1152 from fasaxc/k8s-backend
    
    Add configuration parameter to enable the k8s datastore driver, which is now available in libcalico-go.

[33mcommit 2496d091ba8c29ed221f8caa05aad29b650acf42[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 10:45:58 2016 +0000

    panic -> log.Panic.

[33mcommit 5596181ca13cf6999e93cd875c2418050c40896f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 10:42:39 2016 +0000

    Pin gogo protobuf library and rev dependencies.

[33mcommit 09b05b1e6653a353f92b27de73dacace0d236761[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 10:41:47 2016 +0000

    Revert removal of vendor rebuild dependency.

[33mcommit ab8799eaea66627e5db7717e62fca61fd9c08646[m
Merge: 59206b04 ced86b23
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 10:25:53 2016 +0000

    Merge pull request #1145 from fasaxc/remove-unused-config
    
    Clean up config parsing: remove unused config parameters.

[33mcommit 280c8f0b72328ea008c0ca742de2b0d4d6f4b249[m
Merge: dbcc5f80 59206b04
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 10:21:04 2016 +0000

    Merge remote-tracking branch 'origin/master' into cd-go

[33mcommit 59206b04285649b88056a77c7751ae12fc862f02[m
Merge: 0fef6d7d 4c00bcb4
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 10:07:14 2016 +0000

    Merge pull request #1149 from fasaxc/rev-to-2.0-dev
    
    Rev Felix version to be a dev version of 2.0.0.

[33mcommit 0fef6d7d503f6e1696b10db5b924b6a67d575415[m
Merge: efdb1333 11d25760
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Nov 3 08:52:56 2016 +0000

    Merge pull request #1151 from fasaxc/golang-container
    
    Streamline docker images used for builds

[33mcommit 11d257607f29834e18d8552ea7645fdb399a4f58[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 18:34:37 2016 +0000

    Streamline containers for builds.
    
    - Rebase golang build onto golang:1.7 image and build a static binary.
    - Switch to standard python container for pyinstaller builds.

[33mcommit dbcc5f801e9b1cd589620acd4c7557c191ca12f2[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Oct 10 17:03:22 2016 -0700

    Support Kubernetes backend

[33mcommit 31c224f6b918b983b66d83ae70d722f3be3e29c4[m
Author: Sergey Kulanov <skulanov@mirantis.com>
Date:   Wed Nov 2 17:49:03 2016 +0200

    Allow to customize repo branch for coverage diff
    
    We can use some custom branch during code checkout, so let's
    provide an ability for CI to redefine the branch, e.g.:
    
       make ut UT_COMPARE_BRANCH=gerrit/master
    
    the default value is origin/master

[33mcommit 4f6ff7f01febd9a01e75e9710b2d9f812a7e6541[m
Author: Artem Panchenko <apanchenko@mirantis.com>
Date:   Wed Nov 2 19:53:53 2016 +0200

    Use local 'libcalico-go' for containerized build
    
    Add a possibility to use custom 'libcalico-go' repo
    location while building binaries inside container:
    
     - bind additional directory with local copy of the
       repository to '/go/src/github.com/projectcalico/libcalico-go'
       folder inside Docker container;
     - modify 'glide.lock', so 'libcalico-go' module is
       taken from local path when binary is built within container
       'repo: file:///go/src/github.com/projectcalico/libcalico-go'.
    
    With this change it's possible to build GO binaries and
    test them in order to verify changes to the 'libcalico-go'.
    
    Change-Id: I6b46e8f65c1734eea73bc12fa25ab635d940bf1d

[33mcommit 4c00bcb4b54954f29a81ba2937ac1dc4ae5eaca4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 17:29:00 2016 +0000

    Remove now-defunct docs tree (rather than fixing up its version number).

[33mcommit a0b1ada697729db00d556c6f3e0c883c7973bcbe[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 17:11:29 2016 +0000

    Rev Felix version to be a dev version of 2.0.0.

[33mcommit efdb1333b9da87c8792cc824930d57f508d1870f[m
Merge: 1ad3ff2c 38c491d5
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 16:45:56 2016 +0000

    Merge pull request #1147 from fasaxc/rpm-common-dep
    
    Reinstate RPM dependency on calico-common to pick up calico-diags.

[33mcommit ced86b23099f32ec00e0f93803a8208fbafb6a57[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 15:50:17 2016 +0000

    Code review markups.  Remove ClusterGUID and improve comments..

[33mcommit 1ad3ff2cf879cd6a2cf8bc30a8d46dff8c40189b[m
Merge: 4ecd3c04 982fa0e9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 15:23:48 2016 +0000

    Merge pull request #1144 from fasaxc/fix-nil-mac
    
    Fix panic if MAC wasn't present.

[33mcommit 38c491d5194c2fcd671ac2e4b54a7334a0930eb1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 14:53:42 2016 +0000

    Reinstate RPM dependency on calico-common to pick up calico-diags.

[33mcommit 4ecd3c04ad794006cf918e22ac885357ab4dc7f0[m
Merge: 61502462 f0b941a9
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 14:32:58 2016 +0000

    Merge pull request #1146 from fasaxc/fix-dockerfile
    
    Fix executable paths inside Dockerfile.

[33mcommit 69f2d1b31b7294cc1d409dd4706e0af2360e9342[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 14:21:13 2016 +0000

    Clean up config parsing: remove unused config parameters.

[33mcommit f0b941a98162158be5eb7da427fd05296aaae812[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 14:20:33 2016 +0000

    Fix executable paths inside Dockerfile.

[33mcommit 982fa0e918a3068582ebb784ccec93542ee87b64[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Nov 2 12:01:10 2016 +0000

    Fix panic if MAC wasn't present.

[33mcommit 61502462afe63861e2887bee800730461774fa05[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 15:23:59 2016 +0000

    Avoid creating egg info dir as root.

[33mcommit 07e7f645649c169cb8f11c326d483f5e92348025[m
Merge: 9231daa8 77485135
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 14:22:51 2016 +0000

    Merge pull request #1141 from neiljerram/master
    
    README: fix a couple of typos

[33mcommit 774851359869152695bed214dbd207c890b27cdc[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 1 13:59:47 2016 +0000

    README: fix a couple of typos

[33mcommit 9231daa8f2d9294de9c2c9d30195b9e28ff799db[m
Merge: 46876dfe ca4a0a29
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Nov 1 13:55:24 2016 +0000

    Merge pull request #1140 from fasaxc/go-readme
    
    Update README for Golang felix.

[33mcommit ca4a0a293049930203849a32c238659f02d245dd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 11:37:51 2016 +0000

    Update README for Golang felix.

[33mcommit 46876dfeb588792f232cb0127ed96f3fd8ca885c[m
Merge: f6ddc11a 7062a46a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 11:10:25 2016 +0000

    Merge pull request #1122 from projectcalico/go
    
    Port "brains" of Felix to golang
    
    - Golang process becomes the main calico-felix process.
    - Python code now becomes the "iptables dataplane driver".
    - Golang process handles access to etcd via libcalico, paving the way for etdv3 support as well as other datastores.
    - IP sets calculation moved to the golang process.
    - New protobuf API between the Golang process and the Python process.
    - New build process based on wrapping up pyinstaller bundles in the debs and RPMs. Allows us to include the golang binary as well as vendoring all our dependencies, including Python itself.

[33mcommit 7062a46a7ebdc82a852fc617588ee5b117585583[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 11:09:19 2016 +0000

    Remove glide pins. Patches are merged upstream.

[33mcommit ad087079d47b1f8b56a3bcc3e4e74393e2f03db4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 10:25:38 2016 +0000

    Fix up Make-base builds after package rename.

[33mcommit 286ff8475d2f71d443c9d3d1335cb35edb2040b6[m
Merge: 65e51844 85b2b52a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 09:49:45 2016 +0000

    Merge branch 'go' of github.com:projectcalico/felix into go

[33mcommit 65e5184420080a1767d885c944e43af7155b069e[m
Merge: 0a6dd8fd f6ddc11a
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Nov 1 09:47:58 2016 +0000

    Merge remote-tracking branch 'origin/master' into go

[33mcommit f6ddc11a0b3a3a8269136e9438cc66b4c2be823f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 31 23:56:08 2016 +0000

    Rev setup.py version to distinguish development from last release

[33mcommit 8bd6f6f8f9cea7a8353a0284c8155489dd8a4202[m
Merge: 567247c8 c785fdd9
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 31 23:39:55 2016 +0000

    Merge pull request #1139 from neiljerram/release-1.4.4
    
    Version 1.4.4

[33mcommit c785fdd98a10559270a2e68c040ae84c8b18bee6[m[33m ([m[1;33mtag: 1.4.4[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 31 16:15:06 2016 +0000

    Version 1.4.4

[33mcommit 85b2b52a784b568f29679b567b4d30e6a94a3aaf[m
Merge: 0a6dd8fd 13378a4f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 31 13:25:21 2016 +0000

    Merge pull request #1137 from neiljerram/go
    
    Packaging: remove Python code from 'calico-common' package

[33mcommit 13378a4f1899bb565ffd5beb721045cf88414cb4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 31 12:23:38 2016 +0000

    Packaging: remove Python code from 'calico-common' package
    
    This commit makes the corresponding change to the RPM packaging.

[33mcommit 567247c83548e18c065eaab738b9aa019504c6a8[m
Merge: 0eda394f ca3098b3
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 31 13:05:10 2016 +0100

    Merge pull request #1136 from fasaxc/fix-badges
    
    Fix SemaphoreCI badge URL after recreation of Semaphore project).

[33mcommit 077c3699e649c7b42f2e800d94b0e9b2d83df793[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 31 12:53:08 2016 +0100

    Packaging: remove Python code from 'calico-common' package
    
    Continuing to include that code, in a Debian package, causes dependency
    issues that are entirely spurious because we actually now use
    PyInstaller to pull in all of our Python dependencies, and then wrap the
    PyInstaller build into the 'calico-felix' package.  Hence we totally
    don't need the Debian machinery also generating dependencies on
    corresponding Python debs.
    
    (Specifically, the remaining Python code now depends on grpcio, and it
    appears that there is no python-grpcio package available in Ubuntu
    Trusty.)
    
    Therefore, this change trims 'calico-common' so that it only now
    provides:
    
    - calico-diags
    
    - our BIRD config templates and sample shell scripts.

[33mcommit ca3098b3186c0151176faa53bbf2a3c624d05013[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 31 11:36:07 2016 +0000

    Fix SemaphoreCI badge URL after recreation of Semaphore project).
    
    Remove CircleCI badge.  Once the go brnach is merged, SemaphoreCI
    runs the UTs but CircleCI doesn't support docker well enough to run them.

[33mcommit 0a6dd8fda830b2189cb8f2f22733cef74fa1a216[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 31 11:08:43 2016 +0000

    Update to latest libcalic-go.
    
    - Move Update to api package.
    - Minor datamodel fix-ups.

[33mcommit 8acd15eee29cfc349ee7832795705f59bd3c31fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 18:04:52 2016 +0100

    Add a couple of key metrics around resyncs.
    
    Number of resyncs and current resync state.

[33mcommit e13703554e12de33a3852a45dae963bcfe722fe0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 17:46:15 2016 +0100

    Add (unpopulated) prometheus metrics server to golang binary.

[33mcommit b6f3c249ca299165c56139f99644e4df2896779b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 16:34:22 2016 +0100

    Fix PyInstaller build, broken by other build re-arrangements.
    
    Remove machinery to deal with multiple reqs files, was importing
    test_requirements.txt by mistake.  No longer needed now we're using
    PyInstaller everywhere.

[33mcommit 94a31fad8c952a2fa34a99616a079f6261fd32d1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 16:09:11 2016 +0100

    Run Python UTs directly in container, not tox.

[33mcommit 44322aafa43547033868c0d3f726702a195070be[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 15:41:14 2016 +0100

    Build against frozen Python requirements.

[33mcommit 04b27875234eeb12b593c7321b2bde0b286cd748[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 15:27:59 2016 +0100

    Run Python UTs under Docker.  Still using tox.

[33mcommit a088ae91afbd79d5f882f7f01c1a08840447a49d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 14:58:23 2016 +0100

    Build cleanups.
    
    - Remove need to build felix code into the PyInstaller container.
    - Sync PyInstaller and Golang build FROM clauses.

[33mcommit 358ae44d15c7b4463313f0fe64de6207e53f7d21[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 11:59:36 2016 +0100

    Don't stop the status reporter during shut-down.

[33mcommit f16f4526cfc8ba48faed3b48cdb52193db35ecb2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 10:53:08 2016 +0100

    Add requirement for cffi; for some reason PyInstaller stopped picking it up.

[33mcommit 6986be3948f6fdfe84b5e6a9f4aae4397aa19db6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 10:52:56 2016 +0100

    Be defensive if a plugin fails to load.

[33mcommit 307584b1c053e73bea8854167e1a5434409cc765[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 10:52:38 2016 +0100

    Add missing deps to Makefile.

[33mcommit 988bef16c2045853935c4ab9aa79bc0dce316d8e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 09:55:33 2016 +0100

    Delay initial process status report to help detect cyclic restarts.

[33mcommit cef32ec11adf2520da666c5e22e927140e0fad43[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 26 09:45:52 2016 +0100

    Ensure all status updates get delayed at least one tick.

[33mcommit eff98387dd9a554ae583372f7289eaa0d79dd77b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 25 18:42:14 2016 +0100

    Rev libcalico to pick up HWM tracker fixes.

[33mcommit eb7faa38f886cc4163dc02e554cf8b584ab2976d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 25 15:43:54 2016 +0100

    Improve endpoint status reporting.
    
    Add queued dirty set to avoid flapping at start of day.
    
    Stop the status reporter when felix is shutting down.

[33mcommit e5868168eed463b96cd6d7f83adcf38d4c63bd98[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 25 13:26:03 2016 +0100

    Improve usage reporting: extra stats, better version number.
    
    Get the version number from the Python module for explicit "dev" version.
    Report number of endpoints.

[33mcommit 0767c8a97853b1927bc09a75439ed100605001f3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 25 12:01:01 2016 +0100

    Beef up stats collector. Ref-count various keys under each host.

[33mcommit 2aa820d976dcb6a90fc91d668f1d5b8c4d7eb4c8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 25 10:27:52 2016 +0100

    Stop more quickly on SIGTERM.

[33mcommit 8831b7e30cc04d0c6529b8ca2890eccaefa4f47b[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Oct 24 21:34:28 2016 +0100

    Add usage reporting.

[33mcommit f6e1febd903f978036b16cdf254ad952ecebe2c5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 24 18:25:00 2016 +0100

    WiP on usage reporting

[33mcommit 21e20fd80b97a38a9f34b7dadbaf6174b880c276[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 24 17:28:07 2016 +0100

    Allow labels to inherit from tags.
    
    Tag foo now results in label foo= unless it is further overridden
    by an explicit label value.

[33mcommit c22990c53960ef88af92b2e140d8febdf3751e84[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 24 15:27:56 2016 +0100

    Rev libcalico-go to pick up Cluster ID fix.

[33mcommit a5b636fab517ede24acb342197acdbb21cb452f4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 24 11:21:25 2016 +0100

    Improve diags in felix.go.

[33mcommit cde8e6d24d23b9294b8d6aa237c5aa265119ce54[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 24 10:49:19 2016 +0100

    Further simplify managed shutdown and add 2s pause to match Python version.

[33mcommit 20d8cd578f0e2e8fa98c42d3f9d5aa3d492bc301[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 24 10:37:27 2016 +0100

    Exclude tox from python files list.

[33mcommit d857c2f7fe468f168a81b9fea57333ba01639ad6[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 18:11:31 2016 +0100

    Update calico-diags to collect upstart logs.

[33mcommit b5847b359271f34cb0a60746276b886cddc57e22[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 16:33:06 2016 +0100

    Tidy up felix.go.

[33mcommit 73246c08b21f4ba3360ac98d6fac54625cca821b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 15:56:07 2016 +0100

    Rework shut down to avoid double wait on process.

[33mcommit 1a3e6ca08e23af95c55bed34a6a474ed154f6587[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 15:35:56 2016 +0100

    Rename files to use a uniform scheme.  Sync filenames with type names.

[33mcommit 251786ef5651036e015a977f5b8deb07b734d9d2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 15:12:40 2016 +0100

    Cleanups:
    
    - Move dispatcher to dispatcher package.
    - Move policy resolver into main calc package.
    - Move Register calls into each class (seems right that each class should
      know what to register for).

[33mcommit e9c8e06b8d8b4803cab2261325ad32b8638ae5ec[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 14:09:33 2016 +0100

    Minor cleanups and refactorings
    
    - Remove need for empty OnDatamodelStatus() methods.
    - Remove endpointKey typedefs in favour of model.Key.

[33mcommit 0ab2389091e2d568f739f7f3a3a9cf1f26f59806[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 12:31:58 2016 +0100

    Move datastructure packages under felix.

[33mcommit 350872e5461ac3c78d3eb64144cf5d8147a44f5a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 21 11:59:15 2016 +0100

    UTs for jittered ticker; fix for Stop() method.

[33mcommit 9ffe8c6a4021825637a04a842bff662db9e0c5df[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 20 10:42:38 2016 +0100

    Prevent send on closed channel in UTs.

[33mcommit ec1f5aa252f3382e980778fad689d5548bda873a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 19 13:57:44 2016 +0100

    Add logrus hook check to pre-commit hook.

[33mcommit ac47da509029ffe2ba62cdd38cf2c713ce45227c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 19 11:03:29 2016 +0100

    Full UTs for status reporting.
    
    Also improve comments in status reporting code.

[33mcommit 09e843aaa0bb63df34fcdfcf36526de13aa9fa83[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 19 10:05:57 2016 +0100

    Tune shutdown logging to avoid triggering FV failures.

[33mcommit b6589c92fbb9b270534b783d5ccf9726b832e7d5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Oct 19 10:05:50 2016 +0100

    Rename status package to statusrep and add UTs.

[33mcommit 0eda394fc5512424922495704d2633798c0753a4[m
Merge: c497a08f 60ff9b18
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Oct 18 19:39:57 2016 +0100

    Merge pull request #1132 from fasaxc/fix-pycparser-version
    
    Pin pycparser version.

[33mcommit 0d81e271ebb19f504282061b0400a61512e66436[m
Merge: cf03029b 60ff9b18
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 16:48:25 2016 +0100

    Merge branch 'fix-pycparser-version' into go

[33mcommit 60ff9b18b3a8bec4b13958b4f15f46815c9aa836[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 16:41:28 2016 +0100

    Pin pycparser version.

[33mcommit cf03029bf85d54e0fb0a4766dcda4a1e88a71922[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 15:57:32 2016 +0100

    Fix incorrect import.

[33mcommit 867d71b353d1f4352b8b8684095b581fc949e348[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 15:53:23 2016 +0100

    Make Felix log its version at startup.

[33mcommit cc80b7f6acaec25cf316dc74879d6d4a34c5dad0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 15:43:03 2016 +0100

    Rev Golang to 1.7.1, required to pick up runtime.Frames support.

[33mcommit 69b15519814ef4312009afb9566c11ab1d7ce380[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 15:34:52 2016 +0100

    Add UT for logging context hook.  Fix incorrect file detection.

[33mcommit b60cc127ca1fabbfa9919bee12f3f4cc3e2e6f7f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 15:08:39 2016 +0100

    Move dispatcher into calc graph package.

[33mcommit 012d58aa362247f9173fb051bf890fe0ff0f4f02[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 14:51:50 2016 +0100

    Rev libcalico-go to pick up fixes.

[33mcommit 9fc1affa965ea5350df53a4024cbe90ccb8cf58d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 18 13:59:06 2016 +0100

    Rev libcalico-go to pick up fixes.
    
    Improve status reporting logging.

[33mcommit c1059937cfbba61ec388634d29cecd43713b7971[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 10 10:11:32 2016 +0100

    Port brains of Felix to Go. Part 3: add new build system.
    
    New Makefile and docker-based build system.
    
    Uses (different) container images, in turn, to:
    
    - populate the Go vendor directory
    - build the Go code
    - build the PyInstaller bundle
    - turn the PyInstaller bundle into debs for Trusty and Xenial (this
      is a big change to how we package for those platforms, with the
      impact that we now vendor all our dependencies, including Python
      itself)
    - turn the PyInstaller bundle into RPMs for CentOS.

[33mcommit e531cf958ff16e4587c459bc2a3f74cf407f1f18[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 10 10:09:49 2016 +0100

    Port brains of Felix to Go. Part 2: add Go version of Felix.
    
    Add new Golang version of Felix, based on libcalico-go.
    
    The Golang process now calculates all the IP set memberships and sends
    them over Protobuf to the dataplane driver.

[33mcommit c497a08fa19f7377d994b7fc283f6380b11e2dee[m
Merge: b20b9119 07c7edb0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 14 18:05:29 2016 +0100

    Merge pull request #1131 from fasaxc/add-badge
    
    Add SemaphoreCI badge.

[33mcommit 07c7edb01e90660d8f518d2633466102aa1fc283[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 14 18:04:30 2016 +0100

    Add SemaphoreCI badge.

[33mcommit b38dd2e5dd6924390716e9b07366aaa368ae28bf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 10 10:06:58 2016 +0100

    Port brains of Felix to Go. Part 1: move and simplify Python code.
    
    Move Python code into subdirectory and remove brains from Python code.
    
    Python code is now the child process, the iptables dataplane driver.
    Go code (in following commit) is the main process.

[33mcommit b20b9119bf3aca45481c96331dfbe8a8e663f5a0[m
Merge: 33ed0122 2799addc
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Oct 13 13:38:52 2016 +0100

    Merge pull request #1125 from caseydavenport/urllib-fix
    
    Update urllib3 version for PyInstaller builds and include pre-reqs required for IP SANs to work with urllib3.

[33mcommit 2799addc87ab96be264ed83263c12a153bbe77b8[m
Author: Casey Davenport <casey@tigera.io>
Date:   Mon Oct 3 18:02:40 2016 -0700

    IP SAN support in pyinstaller build

[33mcommit 33ed01220f09a49462b707d8b2f58cf206f9af34[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 11 17:46:57 2016 +0100

    Update coveralls badge.

[33mcommit 9784de9b32b04d21ce74762abfea5800ace0ad52[m
Merge: 6dbae0dc b72b3d61
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 10 12:43:59 2016 +0100

    Merge pull request #1115 from projectcalico/smc-conntrack-retry
    
    Add a retry for deleting conntrack entries.
    
    Fixes #1006

[33mcommit 6dbae0dc5df2bb6373246937da1d21134e8dbbda[m
Merge: 5eff313e 43c681a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 10 12:42:23 2016 +0100

    Merge pull request #1130 from djosborne/deprecate-docs
    
    Add 'this doc has moved' to relevant location in new docs site.

[33mcommit 43c681a669c4e5587d18e91bed1dd2bc7d252b24[m
Author: Dan Osborne <djosborne10@gmail.com>
Date:   Fri Oct 7 15:37:04 2016 -0700

    Add 'this doc has moved' to relevant location in new docs site.

[33mcommit 5eff313e6498b3a7d775aa16cb09fd4578331701[m
Merge: 85846deb 9fad7998
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Oct 7 11:31:04 2016 +0100

    Merge pull request #1129 from SergK/redefine-compare-branch
    
    Make repo branch for coverage diff configurable

[33mcommit 9fad79982179e173b82c53488b1b4f344d895e9f[m
Author: Sergey Kulanov <skulanov@mirantis.com>
Date:   Fri Oct 7 13:24:49 2016 +0300

    Make repo branch for coverage diff configurable
    
    We can use some custom branch during code checkout, so let's
    provide an ability for CI to redefine the branch

[33mcommit 85846deb96d1297c4e984f9cd6cee6a8bf71b6b6[m
Merge: 932f02cf ee0b083e
Author: Lance Robson <lance@tigera.io>
Date:   Thu Oct 6 09:20:42 2016 +0100

    Merge pull request #1127 from projectcalico/calico-diags-devstack
    
    calico-diags: include DevStack logs, if present

[33mcommit ee0b083e5a65a78ddc1f7ac6d054b23eeadccb7f[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 5 14:35:19 2016 +0100

    calico-diags: include DevStack logs, if present

[33mcommit 932f02cf613fa7d0072eacf80cdb019926189c04[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 22 15:39:43 2016 +0100

    Rev setup.py version to distinguish development from last release

[33mcommit 9903516a162072456c4e9e228b1be5903dffa771[m
Merge: 183120f7 05869498
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Oct 5 13:25:54 2016 +0100

    Merge pull request #1126 from projectcalico/rel
    
    1.4.3 release

[33mcommit 0586949825b0ac4d61d70241e39db32fe44fad68[m[33m ([m[1;33mtag: 1.4.3[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Oct 4 10:56:27 2016 +0100

    Deb version 1.4.3-1, to allow reupload to Launchpad

[33mcommit 2a477e981f22767e4456341c63f766da161e16ac[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 4 09:38:52 2016 +0100

    Revert "Fix 'pycparser' module installation issue"

[33mcommit 183120f7f6e91909820e05a41d3c245576fc4062[m
Merge: 393590ec 9da2826b
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Oct 4 10:47:24 2016 +0100

    Merge pull request #1123 from projectcalico/revert-1120-fix_pycparser_install
    
    Revert "Fix 'pycparser' module installation issue"

[33mcommit 9da2826b91e349c8f38af5e65f572000984ed075[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Oct 4 09:38:52 2016 +0100

    Revert "Fix 'pycparser' module installation issue"

[33mcommit 393590ec86dcbe4ec09874e14d2b057a49712f21[m
Merge: f7680f57 59f69553
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 3 17:49:32 2016 +0100

    Merge pull request #1119 from projectcalico/version-1.4.3
    
    Version 1.4.3

[33mcommit 59f695532cb0aa50c74aa57db5353e17d5c769d4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Oct 3 10:20:23 2016 +0100

    Version 1.4.3

[33mcommit f7680f57794c25be7a6631c7e04e3da24a12f4c5[m
Merge: 2932d8ce 8d236bbe
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Oct 3 13:39:24 2016 +0100

    Merge pull request #1120 from artem-panchenko/fix_pycparser_install
    
    Fix 'pycparser' module installation issue by excluding version 2.14.

[33mcommit 8d236bbeb8512030b23f8d12bc554dad51b5368e[m
Author: Artem Panchenko <apanchenko@mirantis.com>
Date:   Mon Oct 3 13:37:07 2016 +0300

    Fix 'pycparser' module installation issue
    
    The version '2.14' is broken, see [0] for details.
    
    [0] https://github.com/eliben/pycparser/issues/147
    
    Change-Id: I0fca7dcce7da20c0f312310406a8622272483b58

[33mcommit b72b3d61af6c56ca0a9796e2f853630c127eb1c5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 30 10:52:44 2016 +0100

    Add a retry for deleting conntrack entries.
    
    Fixes #1006

[33mcommit 2932d8ce355983528eab91bf386ec474411ff6d2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 29 15:26:53 2016 +0100

    Update repository URL.

[33mcommit a962b34fa98356cc708538cb02ca3496c7a4f579[m
Merge: b582d1a3 3806ab17
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 29 14:33:09 2016 +0100

    Merge pull request #1113 from projectcalico/optional-felix-cfg
    
    Packaging/docs: stop requiring /etc/calico/felix.cfg

[33mcommit b582d1a33af286ec24ab1737580ca2c804aa97c6[m
Merge: 82cf2034 7e7321fa
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Thu Sep 29 00:37:32 2016 +0100

    Merge pull request #1114 from tomdee/calico/felix-fixes
    
    Calico/felix image fixes

[33mcommit 7e7321fae75825d2fd0e147fabcf5a567979c0d7[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Wed Sep 28 16:31:54 2016 -0700

    Calico/felix image fixes
    
    Install all of glibc (like we do in calico/node)
    Clean up the build and run script

[33mcommit 3806ab170d6c1739dc06ef681e4638f734fba9c3[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 28 11:08:00 2016 +0100

    Packaging/docs: stop requiring /etc/calico/felix.cfg

[33mcommit 82cf2034fc2a07e3be46ef4519237d4bfe79078b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Sep 28 17:42:21 2016 +0100

    More correctly mock out urllib3 objects passed to ijson.
    
    Previously, we mocked out the return value of read() with a simple
    constant but newer versions of ijson tight-loop if we don't return
    an EOF at some point.

[33mcommit ec0ebdd1afc558b11eb6f5892130faea2ff41473[m
Merge: d1a66569 a09fe101
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 27 10:21:47 2016 +0100

    Merge pull request #1111 from tomdee/pyinstaller-image
    
    Use Pyinstaller based felix in calico/felix

[33mcommit a09fe10154287692ee70ed7285f3a27e612ff3d6[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Mon Sep 26 10:09:24 2016 -0700

    Use Pyinstaller based felix in calico/felix

[33mcommit d1a665691cfa66c9f6f1e622c1d6ecb5c30594a8[m
Merge: 8f350c5f 6758ae71
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 22 17:30:13 2016 +0100

    Merge pull request #1104 from cutwater/feature/multiple-iface-prefixes
    
    Allow using multiple interface prefixes

[33mcommit 8f350c5f241cf425651b6b07ed042490af76d454[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 22 15:39:43 2016 +0100

    Rev setup.py version to distinguish development from last release

[33mcommit 6758ae71b2269e29b9ca5dd39d169748fd8c87e9[m
Author: Alexander Saprykin <asaprykin@mirantis.com>
Date:   Mon Sep 19 12:02:08 2016 +0200

    Change format of InterfacePrefix
    
    InterfacePrefix parameter is now a comma separated
    list of values, was string.

[33mcommit 9f00001db66b4210b61029bd23f92889e85659f2[m
Merge: 4ad94625 a6d28ee7
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 22 13:47:05 2016 +0100

    Merge pull request #1110 from projectcalico/version-1.4.2
    
    Version 1.4.2

[33mcommit a6d28ee7b094f1dd26bce24f0ba9c83bc0309528[m[33m ([m[1;33mtag: 1.4.2[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Sep 21 14:11:01 2016 +0100

    Version 1.4.2

[33mcommit 4ad946253bf9128944c397daaa3e1fa18d9c7d5b[m
Merge: a3c13464 891d27ee
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 20 10:13:30 2016 +0100

    Merge pull request #1103 from projectcalico/centos-usage-reporting
    
    Fix usage reporting on CentOS 7

[33mcommit a3c13464ae633b9d51e706a8e1f5ac58da6c6f3b[m
Merge: 2753d68c 195a90f8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 20 09:44:28 2016 +0100

    Merge pull request #1105 from projectcalico/smc-decrease-etcd-timeout
    
    Reduce default etcd watcher timeout to 10s and make configurable.
    
    Reduce urllib3 log verbosity.

[33mcommit 195a90f86d762dc5568f311a70484a9fe5e9945e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 19 16:00:24 2016 +0100

    Increase urllib3 log severity to avoid log spam from EtcdWatcher.

[33mcommit 891d27ee72648c51c1f64edde4f93204dea12089[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Sep 15 15:05:07 2016 +0100

    Fix usage reporting on CentOS 7
    
    Note - in addition to this code change, it's also necessary to install a
    1.0.2 version of python-gevent - replacing the 1.0 version that is the
    default in CentOS 7 - for example from
    https://www.rpmfind.net/linux/RPM/fedora/23/x86_64/p/python-gevent-1.0.2-2.fc23.x86_64.html.

[33mcommit d457e6c344011e447fb143f33fcf6614409f06b4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Sep 19 13:20:42 2016 +0100

    Reduce default etcd watcher timeout to 10s and make configurable.
    
    This makes us more responsive to connection failures and reduces the
    upper bound on how long we'll wait to process the resync_after_current_poll
    flag.
    
    At very low churn rates, this increases the number of etcd requests, but
    only to a level that we already support in order to handle higher churn.
    
    At high churn rate, this makes no difference because we'll never hit the
    timeout.

[33mcommit 2753d68cf9441c0406a2d12aeab6f13cacd89999[m
Merge: a0894a1e 1e0b6968
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Sep 16 10:49:52 2016 +0100

    Merge pull request #1100 from caseydavenport/ipv6-optional
    
    Add manual override for IPv6 support

[33mcommit 1e0b696824210ee03aa1bb1f3ab18871c1658cc9[m
Author: Casey Davenport <casey@tigera.io>
Date:   Thu Sep 15 10:24:55 2016 -0700

    Fixup review comments

[33mcommit a0894a1ee3646e7687517ae8b6484759a3f7e07c[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Sep 15 13:40:20 2016 +0100

    Rev version to supercede all released versions.

[33mcommit 8990e4ae1adc582a994bf5373c423a1c2cd911cb[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Sep 14 14:05:09 2016 -0700

    UTs and Docs

[33mcommit d6a67344b6b31ace93a5f03d75914d9c5eff5e55[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Sep 14 13:00:41 2016 -0700

    Add additional check to "auto"

[33mcommit b629d5968c7d645d0b7b1c6232a3ed65d6cdb1f2[m
Author: Casey Davenport <casey@tigera.io>
Date:   Wed Sep 14 10:48:43 2016 -0700

    Continue making Ipv6 support a felix option

[33mcommit 1d40271a76b4b8e65a996697d896d491c774f7f9[m
Author: Matt <matt@projectcalico.org>
Date:   Wed Sep 14 10:37:42 2016 -0700

    Start adding config option to disable IPv6

[33mcommit 8318b3a732f6b7109ab84628c76bbc0a3f1412a3[m
Merge: a2daf372 36d95fe1
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Sep 13 17:31:30 2016 +0100

    Merge pull request #1097 from mikev/master
    
    value_is_bool should be True

[33mcommit 36d95fe13df34155802948c2b962b38cd748f1ab[m
Author: mikev <mvierling@gmail.com>
Date:   Tue Sep 13 09:23:43 2016 -0700

    valid_is_bool should be True

[33mcommit a2daf3725e33a76bdb01c0311d5827f159969a29[m
Author: mikev <mvierling@gmail.com>
Date:   Thu Sep 8 02:48:27 2016 -0700

    Turn off usage reports prior to UT (#1095)

[33mcommit 9ea4c7afcb6d5960ffd45405ae1473e9fce97a7f[m
Merge: a4ea4d70 6e1deb89
Author: Lance Robson <lance@tigera.io>
Date:   Mon Sep 5 14:49:10 2016 +0100

    Merge pull request #1094 from projectcalico/etcdctl-for-calico-diags
    
    Allow customization of 'etcdctl' for calico-diags

[33mcommit 6e1deb890d2c343607e403fc84cc6b1881cc9883[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Sep 2 19:33:58 2016 +0100

    Allow customization of 'etcdctl' for calico-diags
    
    Specifically, if we're using TLS between a local etcd proxy and the main etcd
    cluster, but not for access to the local etcd proxy, then every
    'etcdctl ...' invocation needs to be 'etcdctl --no-sync ...'.  This
    change makes that possible.

[33mcommit a4ea4d701e156a9e1126bb975d6975390fc1b894[m[33m ([m[1;33mtag: 1.4.1b2[m[33m)[m
Merge: ac4d1203 fae033cf
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Aug 31 15:52:56 2016 -0700

    Merge pull request #1089 from mikev/master
    
    fix space typo from previous configuration.rst change

[33mcommit fae033cfffa97c66f2caedc49db5dfab4ea72ae8[m
Author: Michael Vierling <michael@tigera.io>
Date:   Wed Aug 31 15:45:46 2016 -0700

    Remove quotes and correctly capitalize True/False

[33mcommit 7843146ff7390d7e1cf1d04288ba4b77a72e8b79[m
Author: Michael Vierling <michael@tigera.io>
Date:   Wed Aug 31 15:42:21 2016 -0700

    Remove quotes and correctly capitalize True/False

[33mcommit 00ea37afc6b9fbf3778fc374c44abec5954b983d[m
Author: Michael Vierling <michael@tigera.io>
Date:   Wed Aug 31 15:15:22 2016 -0700

    fix space typo from previous configuration.rst change

[33mcommit ac4d120367382c439c74f5dada57e2ce28c2728f[m
Merge: 89c1286a d0c31fd0
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Aug 31 14:20:33 2016 -0700

    Merge pull request #1082 from mikev/master
    
    Add version reporting to Felix

[33mcommit d0c31fd0b7d1b2056fed7e6031581c694efc6720[m
Author: Michael Vierling <michael@tigera.io>
Date:   Tue Aug 30 17:40:18 2016 -0700

    Add Usage Reporting to Felix

[33mcommit 89c1286a763a52b1f6580fbd728450a4bad9f45c[m
Merge: 20909704 23c2418c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Aug 31 12:10:52 2016 +0200

    Merge pull request #1086 from projectcalico/rpm-repo-update
    
    Update RPM repo for current Calico with Liberty or later

[33mcommit 23c2418cc776ebe78903dfea85bd1d9ef9b963b4[m
Author: Neil Jerram <neil@tigera.io>
Date:   Wed Aug 31 11:00:02 2016 +0100

    Update RPM repo for current Calico with Liberty or later

[33mcommit 209097045483dfc3371457b7691fabc0d780787f[m
Merge: 7207a588 954751aa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 16 09:02:29 2016 +0100

    Merge pull request #1081 from projectcalico/update-felix-cfg-doc
    
    Add EtcdEndpoints to Felix configuration reference

[33mcommit 954751aaec0cf211202506d4c832a2ef4867e248[m
Author: Matt <matt@projectcalico.org>
Date:   Mon Aug 15 14:24:47 2016 -0700

    Add EtcdEndpoints to Felix configuration reference

[33mcommit 7207a58802e60d3bfaa90414ceb3a88caad14966[m[33m ([m[1;33mtag: 1.4.1b1[m[33m)[m
Merge: fff68bf2 d35f8080
Author: Rob Brockbank <robbrockbank@gmail.com>
Date:   Fri Aug 12 13:06:45 2016 -0700

    Merge pull request #1079 from projectcalico/smc-fix-iface-rename
    
    Handle interface renames by simulating a delete/re-add.

[33mcommit fff68bf25a2028d660cc5502d85361edf554f206[m
Merge: 3631bace 0c5969e5
Author: djosborne <djosborne@users.noreply.github.com>
Date:   Thu Aug 11 09:13:18 2016 -0700

    Merge pull request #1074 from projectcalico/smc-loose-rpf
    
    Add config parameter to disable loose RPF check.

[33mcommit d35f8080d5166e615f7424561002936ac26e09f3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 11 11:33:52 2016 +0100

    Handle interface renames by simulating a delete/re-add.
    
    Fixes #1075.

[33mcommit 0c5969e5cf61939fd9ad614094d655cc4a36f4ad[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Aug 4 17:56:55 2016 +0100

    Add config parameter to disable loose RPF check.

[33mcommit 3631baceb542b908de1380cf92c38925aa7bbe18[m
Merge: 3e546d36 5175b037
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Aug 3 17:16:38 2016 -0700

    Merge pull request #1065 from projectcalico/smc-relax-rule-validation
    
    Relax restriction on rules being mandatory.

[33mcommit 3e546d368c36db7332209d14db576fedef79bac5[m
Merge: a318f4de 52caf8cd
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Aug 2 10:18:40 2016 -0700

    Merge pull request #1072 from projectcalico/smc-fix-host-ep-filter
    
    Fix that Felix was resolving local ifaces against remote host endpoints

[33mcommit 52caf8cd81afb5d24144168c5394c242e38aef13[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 2 10:52:52 2016 +0100

    Fix that Felix was resolving local interfaces against remote host endpoints.
    
    Fixes #1071

[33mcommit 5175b0377445a2a77a5abbe5f4d8d218e2da2d24[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 13 18:11:24 2016 +0100

    Relax restriction on rules being mandatory.

[33mcommit a318f4de08a5f6c023ae2f7aa36ed926a11179cb[m
Merge: 9b3dbe2f 4eefd6b0
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 2 14:32:21 2016 +0100

    Merge pull request #1073 from projectcalico/smc-circle
    
    Add CircleCI config.

[33mcommit 4eefd6b0dc77e00c627ab2674ae27c0c493d2282[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Aug 2 11:12:27 2016 +0100

    Add CircleCI config.

[33mcommit 9b3dbe2f9976bbac86a08c7859645d990db65047[m
Merge: 6a9b7321 9592ec87
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 26 17:42:37 2016 +0100

    Merge remote-tracking branch 'origin/pr/1070'

[33mcommit 9592ec878054a2f8a55d2c0507b5c9e39737c5c1[m
Author: Mike Spreitzer <mspreitz@us.ibm.com>
Date:   Fri Jul 22 13:17:59 2016 -0400

    Refined wording, fixed typo, added cross-references
    
    Changed "connection-like" to "connection-based" per reviewer's suggestion.
    Fixed typo and improved wording of note about default deny in a tier.
    Added a couple cross-references to the filtering outline.
    Corrected positioning of anchor for security profiles.

[33mcommit 6a9b73217886f1e391d47a2d3869e2cae113317b[m[33m ([m[1;33mtag: 1.4.0[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jul 22 10:54:15 2016 +0100

    Version 1.4.0 - correct date in RPM spec

[33mcommit f02b8d6305807c5750df3e959ebd6b4220962761[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 21 18:01:10 2016 +0100

    Ubuntu release 1.4.0-xenial

[33mcommit 62c9cd78b960dc309b60eea9b99c1af656d52574[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 21 18:01:06 2016 +0100

    Ubuntu release 1.4.0-trusty

[33mcommit 4ab7e42138a70c701d9c1cbf866d1a95c4af0f9c[m
Author: Neil Jerram <neil@tigera.io>
Date:   Thu Jul 21 17:46:22 2016 +0100

    Version 1.4.0

[33mcommit 687210e98fa396f0441df42d05ed6c003eba1bb8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 21 13:06:50 2016 +0100

    Add cleanup script to RPM spec file.

[33mcommit a9b2c4fcb5dc691116cf9f54cba60dcbdef6e5c1[m
Merge: ac809ad7 cdffa793
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 21 12:48:30 2016 +0100

    Merge pull request #1068 from projectcalico/smc-override-drop
    
    Add option to override DROP rules for debugging policy.

[33mcommit ac809ad71952b9b6fd5869158a440e3f2d8b36fe[m
Merge: 49db45ea d79524aa
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 21 11:19:03 2016 +0100

    Merge pull request #1067 from projectcalico/smc-add-rule-log
    
    If the "log_prefix" field is present in a rule, we emit an iptables LOG action in addition to the rule itself.
    
    If the rule action is "log", just log the packet and continue.
    
    Cleanup: remove unused and now-deceptive on_allow/on_deny parameters from iptables generator.

[33mcommit cdffa793d275d9e167c43f9ff22ee0353640aac1[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 21 10:47:47 2016 +0100

    Fix that _build_to_or_from_chain() bypassed drop_rules().

[33mcommit 0d9c810d6f85da914d11e5c5ad366e182645583a[m
Author: Mike Spreitzer <mspreitz@us.ibm.com>
Date:   Wed Jul 20 23:44:06 2016 -0400

    Added big-picture explanation of filtering
    
    This partly addresses #1069

[33mcommit eacfa9560e34525d18e9bc541bc15487b0deadab[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 20 10:39:34 2016 +0100

    Code review markups.

[33mcommit d79524aad80276afa05d1b817f94faad959a74cf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 20 10:19:33 2016 +0100

    Remove unused and deceptive on_allow/on_deny parameters from iptables generator.

[33mcommit 02b270126109c6fe585403dffacceaf48ebfdd68[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 20 10:11:55 2016 +0100

    Code-review markups.

[33mcommit 98ffe90ab66f0bd04fa0653d71420d05349e8a88[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Mon Jul 18 20:04:36 2016 +0100

    Add log action, and ability to log any rule.
    
    If the "log_prefix" field is present in a rule, we emit an iptables LOG action in addition to the rule itself.

[33mcommit 61ca5bde7e9fbaaf87fd001b2f82d65258ecc5b2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 19 11:36:47 2016 +0100

    Add option to override DROP rules for debugging policy.

[33mcommit 49db45ea609526849ed14a02d8e988a8298eacef[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 19 10:56:36 2016 +0100

    Add tool to remove all felix iptables/ipsets changes. (#1048)

[33mcommit ae10a07d90bd676526804255fd4580229dcd4076[m
Merge: d4aa313b 8e92f68d
Author: Neil Jerram <neil@tigera.io>
Date:   Tue Jul 19 09:19:30 2016 +0100

    Merge pull request #1061 from projectcalico/smc-use-system-trust
    
    Default to using system certificate store.

[33mcommit d4aa313b67fe555cc12d3e7a9fbac289794fa64a[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jul 13 13:20:16 2016 -0700

    Fill in missing log substitution (#1066)

[33mcommit f9ac2c34f8bc0bece460d29268a0f8ffecab6f7f[m
Merge: f0986c65 a61a7af8
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jul 12 14:49:50 2016 -0700

    Merge pull request #1063 from projectcalico/smc-fix-conntrack-return
    
    Fix that conntrack rules only RETURNed packets rather than ACCEPTing.

[33mcommit a61a7af83820bb5215d658e6ef7cd1318bd71e5a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jul 12 14:31:32 2016 +0100

    Fix that conntrack rules only RETURNed packets rather than ACCEPTing.
    
    When we moved the conntrack rules from the leaf chains to the felix-FORWARD
    chain, the behaviour changed because the RETURN now goes to the root
    FORWARD chain, which may have additional non-Calico policy.  This restores
    the intended behaviour.
    
    Fixes #1056

[33mcommit 8e92f68d9e8be1578dce5bb0beb9630a333ca76d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jul 7 10:41:44 2016 +0100

    Default to using system certificate store.

[33mcommit f0986c6572f375bf985400b71a87479b24a3a209[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jul 6 13:46:48 2016 +0100

    Fix hypothesis test for label validation. (#1060)
    
    Exclude labels that start with !.

[33mcommit 0e64f77bc7597fa39ec98445c524d54eeddea1ff[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon Jul 4 17:29:14 2016 +0100

    Update copyrights for Tigera. (#1049)
    
    * Update copyrights for Tigera.
    * Remove incorrect comment from run-pyinstaller script.

[33mcommit 88304b846b83f6fe48a24f62e4bd38c6e6ebd03a[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Jul 4 13:24:00 2016 +0100

    specified coverage >=4.02,<4.1 to work around #1057

[33mcommit 1c7fd3792acb94beb341a17b1f7919673106be23[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 30 16:15:09 2016 +0100

    Update README for Tigera. (#1055)
    
    * Update README for Tigera.
    * Clarify where container information can be found.
    * Update hacking section.

[33mcommit e3346af1d220672eb9e0009399e8a65320abed8e[m
Merge: fbe438c0 93172421
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 30 15:30:35 2016 +0100

    Merge pull request #1053 from projectcalico/smc-default-tier
    
    Allow missing or "default" for tier order.

[33mcommit fbe438c06c87a3a657d528c4cc7a855f21ce5fd6[m
Merge: 0520168c 25b415a8
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 30 15:03:44 2016 +0100

    Merge pull request #1054 from elfchief/conntrack-dep-check-message-typo
    
    Missing conntrack requires conntrack, not iptables

[33mcommit 93172421d00ce41d876acae142d55729f815be45[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Jun 29 17:56:27 2016 +0100

    Allow missing or "default" for tier order.
    
    The "default" order maps an infinite order so it is applied
    after any other policy.

[33mcommit 25b415a8ed6687606b159b01a70a2089e75d9415[m
Author: J. Grizzard <jgrizzard@box.com>
Date:   Wed Jun 29 13:22:20 2016 -0700

    Missing conntrack requires conntrack, not iptables
    
    Error message previously read "Failed to execute conntrack; Calico
    requires iptables to be installed.", which is obviously incorrect.

[33mcommit 0520168c578ce50ca98c94992f46cc66dc857f6e[m
Merge: d01b3ae9 31ac43e4
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 29 10:49:50 2016 -0700

    Merge pull request #1051 from projectcalico/smc-fix-conntrack-err
    
    Use a different conntrack command to trigger module load.

[33mcommit 31ac43e4f5730a6ef3cd48cfaeda418c5fe3b311[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Tue Jun 28 11:31:37 2016 +0100

    Use a different conntrack command to trigger module load.
    
    Old -S command caused error on SL6.5 with conntrack 1.4.3.

[33mcommit d01b3ae96092f63390eabf6bc87cf7029aaea1f7[m
Merge: d6679af6 728b7c67
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 27 22:56:12 2016 -0700

    Merge pull request #1050 from elfchief/bare-metal-rst-typos
    
    Fix example policy in bare metal docs to be valid json

[33mcommit 728b7c67a5375da0b173cc005185876adcddc68b[m
Author: J. Grizzard <jgrizzard@box.com>
Date:   Mon Jun 27 14:15:46 2016 -0700

    Fix example policy in bare metal docs to be valid json

[33mcommit d6679af6abf27deb91b3d20acdc69a30fc02c523[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 27 15:43:47 2016 +0100

    Ubuntu release 1.4.0~pre.3-xenial

[33mcommit 6424738be2cfb071de90b4b8a5016e8e39b1e335[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 27 15:43:44 2016 +0100

    Ubuntu release 1.4.0~pre.3-trusty

[33mcommit 64300991fe7cd89f1ea8e426abc33ec27543ca29[m
Author: Neil Jerram <neil@tigera.io>
Date:   Mon Jun 27 15:42:37 2016 +0100

    1.4.0-pre3: Complete CHANGES.md and update RPM spec

[33mcommit 4b1a68444111e302a28b775e4d3315a6f1b829d1[m[33m ([m[1;33mtag: 1.4.0b3[m[33m)[m
Author: Neil Jerram <neil@tigera.io>
Date:   Fri Jun 24 18:12:54 2016 +0100

    Version 1.4.0-pre.3

[33mcommit 0a2be86d3a241abd1093805dcde7c328d624129a[m
Author: Lance Robson <lance@tigera.io>
Date:   Fri Jun 24 12:58:44 2016 +0100

    Make clear that expected_ipvX_addrs fields match any and fix typos (#1046)

[33mcommit 7dfeb38d965ada83651486ed49cb21c52c1d34f7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 24 13:02:05 2016 +0100

    Add Timeout to socket.accept(). (#1045)
    
    Fixes #1042.

[33mcommit cb2ab8cec5ed429c2e0f86557f0c526cde78ab45[m
Merge: 4e0c52f6 81695ce2
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 24 10:47:10 2016 +0100

    Merge pull request #1040 from projectcalico/smc-commit-hook
    
    Add commit hook that checks copyright and license.

[33mcommit 4e0c52f680b91cfc02ee994263aaae9f0d82ffc3[m
Merge: 84f5d2a5 de51721c
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri Jun 24 09:13:01 2016 +0100

    Merge pull request #1039 from projectcalico/smc-bare-metal
    
    Add support for bare-metal host endpoints

[33mcommit 81695ce2f1dddc23e4e73f0a54643ece84f57521[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 23 14:22:13 2016 +0100

    Add commit hook that checks copyright and license.

[33mcommit de51721cdcdf6959b46cbae5f85dce61da48ce14[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 23 10:12:11 2016 +0100

    Fix IPv6 test, which was failing even though IPv6 was present.

[33mcommit 52dd65407e9a8c33cf51c70e98be680636c45b03[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 23 09:13:40 2016 +0100

    Code review markups.

[33mcommit e25d5940ed1a8f823eed74f35161bcb32b573dbc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 22 14:17:53 2016 +0100

    Add version and git revision to PyInstaller bundle.

[33mcommit 7e7b6bd362408b6a8fcf30b308ded26b7fff7aaf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 22 11:42:11 2016 +0100

    Docs update: move failsafe policy set-up earlier in bare-metal guide.

[33mcommit 96239ea1838a5c4c702838e45292e1ecd41940b4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 18:17:31 2016 +0100

    Code review markups.

[33mcommit 5b00789c3c6d4e6164b7664ba217b9ecc457e22d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 18:01:48 2016 +0100

    Add warning about removing failsafe rules.

[33mcommit 10c98727b43146b609f72a9415cd03738b925ddf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 18:01:35 2016 +0100

    Update Copyright statements to Tigera, Inc.

[33mcommit 84f5d2a588f8cc7e555dd1b218fe0998af66a45f[m
Merge: 9e2d2c22 4fcdf7d7
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 22 09:30:43 2016 +0100

    Merge pull request #1034 from lizrice/label-schema
    
    Add some labels as defined at label-schema.org

[33mcommit 9e2d2c22a15facaa7ab070bdffcc840ddc6f3021[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Jun 20 09:44:55 2016 +0100

    Update URL to Slack badge (#1032)

[33mcommit 92d1db2a50c7e0db9e1d7fde625051665bc994e3[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 17:46:18 2016 +0100

    Simplify upstart job. (#1035)
    
    - start-stop-daemon in unnecessary
    - a config file is no longer needed.

[33mcommit 28b459568a731cf4dd38f64ecebd08a19860cf6e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 17:45:23 2016 +0100

    Fix that a config section called [DEFAULT] was ignored.
    
    In addition, make config file optional.
    
    The config parser treats a section called [DEFAULT] as a special-case
    section that is used as default values for other sections. If there
    happen to be no other sections then we would miss the config values in
    the default section.
    
    Bypass that behaviour and add logging to early startup, enabled via
    environment variable.
    
    Fixes #1036.

[33mcommit 55a984a6df390f0ce6d240833bf14e7a9e5dc0e0[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 15:42:35 2016 +0100

    Docs tweaks.

[33mcommit 22c9aa44c8422d56eb12d52749d4eebb5168c1cf[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 16 10:00:37 2016 +0100

    Minor docs fixes.

[33mcommit 7900acfafce088653ebd356a0bfe059cbd8adeb5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 27 15:08:38 2016 +0100

    Add more files to dockerignore.

[33mcommit a871e7f70541d605809e79d1ab75ddb80309c465[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 15 14:15:49 2016 +0100

    Update changelog for bare-metal support.

[33mcommit 84b58038956638ea12328af54c84e84f63ee8e11[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 14 15:44:01 2016 +0100

    Add bare-metal docs and update securing Calico doc.

[33mcommit dd47818684bea2bfda803b5c93bc7539326c7356[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 2 12:16:16 2016 +0100

    Add pyinstaller bundle to README.

[33mcommit 20c50ed26eb48b02c4c71d566fd2874b5fee32c5[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue Jun 14 15:47:28 2016 +0100

    Add failsafe port whitelist(s) to avoid cutting off SSH access to hosts.

[33mcommit 7dd6d10644ebe40e7a68d05c53ff0022af99f4a2[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 9 10:59:58 2016 +0100

    Default the interface prefix to "cali".
    
    This avoids the need to configure that config in bare-metal environments
    and it's a sensible default for our container environments.

[33mcommit e69a4af3edea450127f481f9ddb08663ffe7ec14[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 2 14:26:02 2016 +0100

    Unit tests and minor cleanups for bare-metal support:
    
    - UTs for host endpoint validation and minor fixes.
    - UTs for datamodel and devices.
    - UTs and docs improvements for fiptables.py.
    - Cleanups: rename chain name constants and move find_longes_prefix to futils.
    - UTs for new HostEndpointDispatchChains actor.
    - Minor fixes and tests for endpoint.py changes.
    - UTs for endpoint.py and minor cleanups.
    - Add UT for IpsetManager host interface indexing.
    - UTs for fetcd.py updates.
    - give FailedSystemCall some default args to make it easier to use in tests.

[33mcommit 18d6a948c0baed9531c972d9615408ddcbb32f2b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 2 13:05:33 2016 +0100

    Introduce an _on_actor_started() hook to allow actors to do startup processing on their own thread.
    
    Move worker greenlet startup calls to _on_actor_started() to avoid accidentally
    starting greenlets during UTs.

[33mcommit 71beb7cd8ccd78a3362eb15ca10fae083d381f27[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 1 14:11:20 2016 +0100

    Code review markups.

[33mcommit 966c49b3a19ba776a43a44d4352740fa063a222b[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 1 13:58:23 2016 +0100

    Check that conntrack and iptables are installed at start-of-day.

[33mcommit 7cd75a9012fdff88fd08002e43085d5c4feaa6b8[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 1 13:46:15 2016 +0100

    Add scripts and tweaks to allow felix to be bundled with PyInstaller.
    
    - Add entry-point script to allow felix and the end driver to be
      run from the same executable.
    - Special-case gevent version lookup, which doesn't work under
      pyinstaller.
    - Special-case invocation of etcd driver.

[33mcommit 02385919c9257e18684bf1144e443b18b82e27cd[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 31 13:40:15 2016 +0100

    Improve comments and docstrings.

[33mcommit 0424534ccde5a231546b760fad4786b0f8bcc731[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Tue May 31 12:21:03 2016 +0100

    Update datamodel and documentation.
    
    - Promote expected IPs to be a list.
    - Switch from storing an ambiguous CIDR to a concrete list of IPs.

[33mcommit e274ba921b5e171a4180e586a608a6d936e3ec7d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 27 15:08:57 2016 +0100

    Add support for RedHat 6.5 and other similar distributions.
    
    - Fall back on python yajl if C library isn't available.
    - Improve IPv6 detection.  Check iptables compatibility.  The RH6.5 kernel doesn't
      support the IPv6 RPF check.
    - Use /var/run for the etcd-driver socket if /run is not present.
    - Remove --wait argument from "iptables --list" call.
    
    The --wait argument isn't present on older versions of iptables and
    it shouldn't be required for --list, which is read-only.  (I believe
    it was present as a hold-over from when we used iptables instead of
    iptables-restore, and we used it everywhere.)

[33mcommit 5278a4102248664b584731b86ac105c1be9f68b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 26 15:38:02 2016 +0100

    UTs: Workload/HostDispatchchains split.

[33mcommit 869d0cd29f97a70ac92e6bbf25f9e430cf170489[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 26 14:20:32 2016 +0100

    Rename host interfaces to host endpoints for consistency.
    
    Rework EndpointId classes into a hierarchy.

[33mcommit 357b8b75131a2b396e50a5a1411f7ae0db29d786[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 9 18:50:20 2016 +0100

    Fix linux interface name regex to include '-', as used by OpenStack.

[33mcommit 24fc6691bbdcb1912410dc3fd533b9cadde4bf74[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 26 11:03:51 2016 +0100

    Add validation for host interfaces.

[33mcommit bff5809343638c2d7e8658a2f60811524213a4f7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 25 17:25:46 2016 +0100

    Hook OUTPUT chain to direct packets to the host interface dispatch chains.

[33mcommit adfb9d0f4fd85dfee0c53dcc3a1b6d60d39be808[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 25 10:06:36 2016 +0100

    Poll for IP address updates and resolve with host interfaces.
    
    Also, make interface poll interval configurable.

[33mcommit 9c5d05b8bc22499ee5f47169355339feb8b7266f[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 25 10:04:59 2016 +0100

    Add function to list all interface IPs.

[33mcommit 926a93c211aaa4187c3ddcd9b1fdf0514f38915e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 25 09:16:18 2016 +0100

    Allow MAC address to be optional in endpoint/host interface data.
    
    If MAC is not provided, then it is not policed.

[33mcommit e43f1d3dab43046d1d824b9a55060ac1d6e11718[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 23 15:24:00 2016 +0100

    Plumb host interface updates through to endpoint manager, dispatch chains.
    
    Still need to handle detection based on IP.

[33mcommit f9f8ac240b50ce1e7becf83f774c5190859967a4[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 23 13:55:46 2016 +0100

    Plumb in new dispatch chains on INPUT path.
    
    Use new stub override to make chains return by default.

[33mcommit e743692fce8d9e8f983dd45930b90df60072e6fc[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 23 13:54:17 2016 +0100

    Improve log when iptables fails to include the offending line.

[33mcommit ca0e3ca66f75aaf31d5f6e07be21a0525050fc28[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 16:59:31 2016 +0100

    WiP on splitting out host interface classes.

[33mcommit 449184b355e380f250aab7a81efb47405debc210[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Mon May 23 10:53:05 2016 +0100

    Add ability to override missing-chain stub rules.

[33mcommit 0a94aa0cc14e4595c9366a5a688ac6c7dc91cf3d[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 15:33:28 2016 +0100

    Add host interfaces to the label/tag indexes.

[33mcommit 9938527093604d258e5d2c6b16cecdca2adab750[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 15:14:28 2016 +0100

    Etcd fan-out for host interface updates.

[33mcommit 417fddbae266f7451350b7b5478033180032b6b7[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 13:39:47 2016 +0100

    WiP on adding additional DispatchChains actor for interfaces.

[33mcommit 3c72bdfdf795bcc5247055fed7ddae93a5d2473e[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 12:02:23 2016 +0100

    Parametrise dispatch chain names.

[33mcommit 4fcdf7d71ab5065f4d93d0ed86c695a6ab12fd3b[m
Author: Liz Rice <liz@lizrice.com>
Date:   Tue Jun 14 13:35:37 2016 +0100

    Add some labels as defined at label-schema.org

[33mcommit a944e883f05864da50e8177895cc123f9e6895d5[m
Merge: e8880597 443ff67b
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 8 09:14:45 2016 +0100

    Merge pull request #1030 from tomdee/CLA
    
    Update to CLA process

[33mcommit 443ff67b61b82fe725feddac600c8bdf2dfb4368[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Jun 7 14:16:25 2016 -0700

    Update to CLA process

[33mcommit e8880597465e9bd1c5c7a1afe9a5d35c4032e5e1[m
Merge: 6e7cf6e4 0012c7a6
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu Jun 2 16:44:45 2016 +0100

    Merge pull request #1026 from projectcalico/systemd-packaging
    
    Add systemd packaging for Felix for Ubuntu/Debian

[33mcommit 0012c7a600b7b8ec1d8350620877cd145da335bc[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 1 16:09:13 2016 +0100

    Add systemd packaging for Felix for Ubuntu/Debian

[33mcommit 6e7cf6e445377f9315b343924c57b90045ae6633[m
Merge: db725314 0cf9a9fe
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed Jun 1 14:17:48 2016 +0100

    Merge pull request #1021 from projectcalico/smc-fix-suffix
    
    Fix that we were using the chain name suffix as the interface suffix.

[33mcommit db72531407bcd9682eb90e163572b5754e4527f2[m
Merge: 410dbb04 4e00663f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 17:34:29 2016 +0100

    Merge pull request #1024 from alexwlchan/patch-1
    
    Fix typo in configuration.rst

[33mcommit 410dbb04ade04f46d9cfe619a106e03d1ef2f38c[m[33m ([m[1;33mtag: 1.4.0b2[m[33m)[m
Merge: 2bf59409 c475e37c
Author: Neil Jerram <neil@tigera.io>
Date:   Fri May 20 17:16:12 2016 +0100

    Merge pull request #1023 from projectcalico/smc-v1.4.0-pre2
    
    Version 1.4.0-pre.2.

[33mcommit 4e00663ffdfa314f2412f223674a372c3293a26c[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Fri May 20 17:15:18 2016 +0100

    Fix typo in configuration.rst

[33mcommit c475e37c0576a12e5a006b1b7df98ce21b399969[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 17:10:45 2016 +0100

    Version 1.4.0-pre.2.
    
    - Add negation to selector expressions (#1016).
    - Add negated match criteria (#1003).
    - Fix next-tier action, which incorrectly accepted packets (#1014).
    - Update bird config generation scripts.
    - Fix conntrack entry deletion (#987).
    - Fix iptables retry on commit (#1010).

[33mcommit 2bf5940946a0cd7903685c181996e8a107c1fbfc[m
Merge: a18bb496 c1c2d89f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 15:29:45 2016 +0100

    Merge pull request #1022 from projectcalico/eepyaich-docs-updates
    
    Minor docs updates

[33mcommit c1c2d89f516e8191eea48935a14dcdab61633606[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 20 15:19:23 2016 +0100

    Update l3-interconnectFabric.rst
    
    Minor typos

[33mcommit 76752af46077fc95ad22ffb8b75ffbb479290f9e[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 20 14:56:56 2016 +0100

    Update l3-interconnectFabric.rst

[33mcommit 0cf9a9fe0b9b10eb4a95497cd72e385f9893b042[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Fri May 20 14:02:28 2016 +0100

    Fix that we were using the chain name suffix as the interface suffix.
    
    These are the same as long as the interface name is short enough but
    they diverge if the interface name would be too long for a chain name.

[33mcommit a18bb496f25630f9994beb7148df9765834b68d8[m
Merge: fb8b5308 1efa261f
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 19 11:21:57 2016 +0100

    Merge pull request #1003 from projectcalico/smc-inverse-match
    
    Add support for negated match criteria.

[33mcommit fb8b53085b9b5b12313984a8c4f2b88dad144ed9[m
Merge: 499f0e6b 12347312
Author: Shaun Crampton <shaun@tigera.io>
Date:   Thu May 19 11:21:43 2016 +0100

    Merge pull request #1016 from projectcalico/smc-negated-sel
    
    Add negation to selector syntax.

[33mcommit 1efa261f4d23f7768618eab33c8545bfbbcb6b6a[m
Author: Shaun Crampton <shaun@tigera.io>
Date:   Wed May 18 18:39:39 2016 +0100

    Improve docs areoung selector negation.

[33mcommit 8c62ee109d6a8ecab6bad7f02ca4eb25fbaf8a85[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Mar 30 09:47:26 2016 +0100

    Add support for negated match criteria.
    
    For example, in addition to "src_tag", we now allow "!src_tag", which matches if
    the source IP is not a member of the tag.

[33mcommit 1234731267f7b9cf9e2dfcc766a50dc25fc04953[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 5 19:03:24 2016 +0100

    Add negation to selector syntax.

[33mcommit 499f0e6b904b67d1250985c2120a660a3f276004[m
Merge: 77d85d5b 06c2ce41
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed May 18 10:15:23 2016 -0700

    Merge pull request #1018 from projectcalico/smc-prom
    
    Add experimental Prometheus metrics endpoints

[33mcommit 06c2ce41336bcbcdfc911535d7331b5aad6a0e3a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 15 10:05:24 2016 +0100

    Add experimental Prometheus metrics endpoint.
    
    * Hook existing stats.
    * Add additional Prometheus stats around etcd resyncs.
    * Add configuration for Prometheus metrics port. Disabled by default.
    * Add deb/RPM dependency on prometheus client.

[33mcommit 77d85d5b840435a0b16a5628cca2008db8e3927a[m
Merge: df151773 5cc6ffe0
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu May 5 15:58:49 2016 -0500

    Merge pull request #1015 from projectcalico/smc-fix-next-tier
    
    Fix that next-tier action also accepted packets.

[33mcommit 5cc6ffe0f13e423ff088e8cdc1dc0016f6a81128[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 5 18:05:47 2016 +0100

    Fix that next-tier action also accepted packets.
    
    Previously, we were setting the accept mark at the start of
    the profile chain and then unsetting it at the end of the chain
    if no rules matched.  That was correct while the only returning
    rule type was "allow", but it meant that when we added
    "next-tier" it also implicitly accepted the packet.
    
    Fixes #1014

[33mcommit df1517733b3de16c42c41c7aed33bb72ced5631e[m
Merge: bc6b4683 7fed2753
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Apr 28 08:47:59 2016 +0100

    Merge pull request #1011 from projectcalico/doc-ip-protocol-number
    
    Document data model support for general IP protocol numbers

[33mcommit 7fed2753b882e1d4a481a69c904677e6cd1651bc[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Apr 27 14:28:08 2016 -0500

    Document data model support for general IP protocol numbers

[33mcommit bc6b4683447e654359b55408e23fbd097956eed8[m
Merge: 73327fa1 98e8b433
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Apr 27 08:38:06 2016 +0100

    Merge pull request #1010 from projectcalico/smc-fix-commit-retry
    
    Fix incorrect check for retryable iptables error.

[33mcommit 98e8b4336a938c1c844617c78459ef6ccc15dc0f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 26 17:18:59 2016 +0100

    Fix incorrect check for retryable iptables error.
    
    Fixes #1009.

[33mcommit 73327fa1525bbbc4a2f3262417a74cebbb8f8f1c[m
Merge: 5c0da091 bb10ccf5
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 5 11:18:01 2016 +0100

    Merge pull request #1007 from projectcalico/fuel-update
    
    Doc: update to cover Calico plugin for Fuel 7.0

[33mcommit bb10ccf5ccbefb24bb783b429a8a469c3ecf6425[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Apr 5 11:13:23 2016 +0100

    Doc: add note about plan for Fuel 8 support

[33mcommit efee1479da3a0246de2d0a08cced78a972b865c5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Apr 5 11:06:02 2016 +0100

    Doc: update to cover Calico plugin for Fuel 7.0

[33mcommit 5c0da0914df854677f448fb0ca7d042373a8085e[m
Merge: 86aabb17 7a88241d
Author: Dave Langridge <dave.langridge@metaswitch.com>
Date:   Wed Mar 30 12:35:17 2016 +0100

    Merge pull request #1002 from projectcalico/bird6-packaging
    
    Include new calico-gen-bird6-mesh-conf.sh in Deb and RPM packages

[33mcommit 7a88241de4bc652589263c9572d5c698d6f2ba05[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 30 12:30:40 2016 +0100

    Include new calico-gen-bird6-mesh-conf.sh in Deb and RPM packages

[33mcommit 86aabb173b17c2b9b187228f20066d9bf69216d2[m
Merge: bd27bf6f 03527baa
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 30 10:22:26 2016 +0100

    Merge pull request #1001 from projectcalico/smc-fix-rpm-deps
    
    Fix RPM pyparsing dependency.

[33mcommit 03527baa618d67c0c20f48787f8b924abc08594a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Mar 30 09:48:44 2016 +0100

    Fix RPM pyparsing dependency.

[33mcommit bd27bf6f68df8333fc8f0d2a13c6bd10f951966b[m
Merge: e4ed181f 0442fdf4
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Mar 29 09:33:23 2016 +0100

    Merge pull request #998 from projectcalico/smc-explicit-conntrack
    
    Explicitly track which IPs should be removed from conntrack.  Explicitly load conntrack module.

[33mcommit e4ed181f61b55fceb22bc277f1634873b4d51483[m
Merge: 0ac2f2c3 e8fa0189
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 24 16:46:36 2016 +0000

    Merge pull request #1000 from projectcalico/devstack-ipv6
    
    Add script to generate BIRD6 mesh config

[33mcommit e8fa018923f7b046a99cf5da3d9228812a375288[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 24 16:16:47 2016 +0000

    Fix comments about how many arguments are required in mesh config scripts

[33mcommit e4bd7df1ef9ae57af25baab4976a7313ca748d82[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 23 17:20:51 2016 +0000

    Add script to generate BIRD6 mesh config

[33mcommit 0442fdf495ee1492e07fab52c7f36867ad85748e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Mar 23 10:38:06 2016 +0000

    Pre-load the nf_conntrack_netlink module.
    
    Fixes #986.

[33mcommit f2587955e0584fdaf7f451ee8aedcb663a6e8ea6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Mar 22 15:36:41 2016 +0000

    Switch to explicit calculation of conntrack entries to remove.
    
    Also, ensure we translate CIDRs to IPs by beefing up tests.
    
    Fixes #987.

[33mcommit 0ac2f2c344868bed157cd477add45af3bee2ef3a[m[33m ([m[1;33mtag: 1.4.0b1[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Mar 22 19:17:50 2016 -0700

    Version 1.4.0-pre.1

[33mcommit 829a84ad2a92b45cf26d19bf60df9e28eba8674b[m
Merge: 1ffc1032 4a540338
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Mar 22 16:20:16 2016 -0700

    Merge pull request #996 from TrimBiggs/no-ipv6
    
    Allow IPv6 only if host supports IPv6

[33mcommit 4a540338b04e9f79b7b677e59d4c087827e1c4b8[m
Author: Tim Briggs <timothy.briggs@metaswitch.com>
Date:   Fri Mar 18 17:08:50 2016 -0700

    Allow Felix to run without IPv6 if host does not support it

[33mcommit 1ffc10322d2ea9fbc42ac76f2f9fd5b7421d7e67[m
Merge: 84bca836 121ee475
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Mar 22 13:31:42 2016 -0700

    Merge pull request #991 from projectcalico/etcd-endpoints
    
    Add support for EtcdEndpoints configuration option.

[33mcommit 121ee475867a3d6a7cc8a7f24f17fea0bdb229b1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Mar 22 11:54:22 2016 +0000

    Make EtcdClientOwner changes back-compatible.
    
    * Shuffle etcd server list to avoid thundering herd.
    * Use with: when locking.

[33mcommit f8baf3c87ed1bc8e99362f6775aadd9b8673faf2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Mar 22 11:44:14 2016 +0000

    Remove Config.ETCD_ADDR to avoid confusion with Config.ETCD_ADDRS.

[33mcommit d4e01465c5df40f67ec0976271ace1d5d3a05313[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Mar 11 11:00:21 2016 -0800

    Add support for new EtcdEndpoints configuration option.
    
    - Prefer EtcdEndpoints to existing EtcdScheme and EtcdAddr options.
    - Update etcddriver to use multiple etcd URLs
    - Pass multiple etcd URLs through to python-etcd

[33mcommit 84bca836174550a6e46353122204a6cbbac37b41[m
Merge: fc947bfe c780c9f6
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Mar 22 18:14:43 2016 +0000

    Merge pull request #979 from fasaxc/smc-labels
    
    Add tiered policy based on labels and selectors

[33mcommit c780c9f681c3e470d61d4d807a4d24ec5c9d3afc[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 16:45:42 2016 +0000

    Code review markups.
    
    * Lots of comment fix-ups.
    * Split validation logic for profiles and policies.
    * Remove blist dependency now we're using explicit sort order.
    * Rename selector AST nodes and simplify initialisation.

[33mcommit 72f490d73aa3ec839336ffb7fcff592e70d5571e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 14:10:31 2016 +0000

    Update documentation and changelog for tiered policy.

[33mcommit 91cc45c32966b46d993f4ca527360173bad6e630[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 10:36:11 2016 +0000

    Add tiered policies to endpoints.
    
    * Endpoint manager now indexes selectors against endpoints and
      sends them updates of the policies that apply.
    * Rules generator now generates tiered policy.
    * Rules generator now uses a bit from the configured forwarding
      mask to represent "next-tier" action.
    * Update requirements to include blist.

[33mcommit 717cf57be44d550828261a9dd88c10e4a0949237[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 10:34:07 2016 +0000

    Add support for selectors in rules.
    
    * ProfileRules extracts selectors and increfs with IpsetManager.
    * Rules generator now takes a mapping from selector to ipset name.

[33mcommit d405f0c834cf2ffedd9de76d0d0baad48e176218[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 09:50:54 2016 +0000

    Add support for generating ipsets from selectors.
    
    * IpsetManager now accepts SelectorExpression objects as IDs.
    * IpsetManager now indexes the active expressions against labels.

[33mcommit 909c3c49f158edf63de27d26454d4e4df669821d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 09:54:59 2016 +0000

    Plumb new policy, labels and selectors through etcd and validation.
    
    * Add required methods to splitter to do the fan-out.
    * Rework splitter tests to enforce general requirement that names line up
      and async agr not forgotten.
    * Add validation for labels and selectors in common.py.
    * Add handlers to etcd watcher.

[33mcommit 3b1f0f5901f1e405c060e15e04838c7c5bd2bc80[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 09:40:03 2016 +0000

    Add a class to represent tiered policy IDs.

[33mcommit c289b5e2557a44c4e28f06f94ae5f0c3f3ef71c0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 09:35:28 2016 +0000

    Add label and selector indexing libraries.
    
    * selectors.py contains a parser for selector expressions, which
      are Boolean expressions over key-value label dicts.
    * labels.py adds indexing classes, which index a collection of
      selectors against a collection of label dicts allowing for
      efficient calculation of changes when labels and expressions are
      updated.

[33mcommit 9a79a03668980861aa3af75a698bfeb9e9367383[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 09:45:45 2016 +0000

    Update .gitignore.
    
    * ignore local virtualenvs.
    * ignore hypothesis db.
    * ignore coverage XML.

[33mcommit fc947bfef8c0952749e23f425d62caf8a9ad54c5[m
Merge: 1d119319 3d6ba7c7
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Mar 22 10:21:16 2016 +0000

    Merge pull request #995 from projectcalico/smc-ep-status-log
    
    Add stack-trace to port status error message.

[33mcommit 3d6ba7c71d3e1e2d1bc957310ff0176830e06ed6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Mar 18 13:20:30 2016 +0000

    Add stack-trace to port status error message.
    
    Exception was expected so previously we didn't log the trace.
    Now we're seeing an unexpected exception.

[33mcommit 1d11931986fe5108b39001891be97a210107e0cd[m
Merge: c86ccd21 7d7ae3d1
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 15 13:06:06 2016 +0000

    Merge pull request #992 from projectcalico/smc-diff-cover
    
    Add diff-cover output to run-unit-test.sh output.

[33mcommit c86ccd216efefd19396f7fb950819c7ade7a1e3a[m
Merge: 109a732d e57c5643
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 15 11:30:16 2016 +0000

    Merge pull request #848 from nbartos/fip
    
    Support floating IPs via NAT.

[33mcommit 7d7ae3d1dff687132342ed7c9bc63500240273ff[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Mar 15 09:58:16 2016 +0000

    Add diff-cover output to run-unit-test.sh output.
    
    Shows which lines of coverage you've missed in your patch.

[33mcommit e57c5643d1966287e0f1c2e51a25df492141f00d[m
Author: Nick Bartos <nibartos@cisco.com>
Date:   Fri Dec 4 10:34:35 2015 -0800

    Add OpenStack plugin docs.
    
    Currently these docs are not in the OpenStack networking-calico
    repository with the rest of the plugin code.

[33mcommit c0ae6484a8ae53d028f0654eb45a6b187d0b7877[m
Author: Nick Bartos <nibartos@cisco.com>
Date:   Wed Oct 14 14:45:23 2015 +0100

    Support floating IPs via NAT.

[33mcommit 109a732df832bbd7f70a90df27d8248b1e37ff51[m
Merge: c56f83fe b550433c
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Mar 9 08:44:32 2016 +0000

    Merge pull request #990 from projectcalico/link-upgrade-doc
    
    Reference upgrade doc from next-steps link collection

[33mcommit b550433cac6ce5214ee0d4b9d1dd58d0c9a98c23[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Mar 8 10:48:14 2016 -0800

    Reference upgrade doc from next-steps link collection

[33mcommit c56f83fef18dad8026397f7fb4146a25501b90f5[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Fri Mar 4 14:48:45 2016 -0800

    Update Google Analytics beacon to new URL

[33mcommit 63d6e07a15444619ef6c419e868478063a09704f[m
Merge: 32c0e03e 93c8be15
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 17:44:42 2016 +0000

    Re-integrate 1.3.0 docs changes.

[33mcommit 93c8be150eb8b7335da77a655bf6db8affd803ee[m[33m ([m[1;33mtag: 1.3.0[m[33m)[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 14:23:15 2016 +0000

    Add instruction to uncomment the lock_path variable in neutron.conf.

[33mcommit c5caf39465e48a7a6a8612adc8b2a380d90320d5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 14:07:03 2016 +0000

    Add banner to docs for non-pre-releases.

[33mcommit 4c83603a2d552e7c7156fad0015562261d5d7a4a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 11:35:25 2016 +0000

    Add a warning banner to docs for pre-releases.

[33mcommit b071b65f69fc93c7694bd609a0381bc5caaf494b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 12:09:41 2016 +0000

    Add warnings about now out-of-date chef install.
    
    Fix typo

[33mcommit 32c0e03e2858312f53cf7c09464c50e8587549bb[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 14:07:03 2016 +0000

    Add banner to docs for non-pre-releases.

[33mcommit f1a94eb6c3d5f4817dade331897b503f179baba9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 11:35:25 2016 +0000

    Add a warning banner to docs for pre-releases.

[33mcommit 9fded0443d0a283d32bb6066c08e2ca81d01f2b7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Feb 29 11:34:36 2016 +0000

    Rev version numbers after branching 1.3.0.
    
    Master is now the 1.4.0-pre series.

[33mcommit e28b1cb9b1700ede2a69cc6bb81b690a008676a6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Feb 25 15:00:44 2016 +0000

    Version 1.3.0

[33mcommit 5ed064007838738337fad176ae5b888a2a335cd3[m
Merge: 2b22c846 d3e718fe
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Feb 26 13:20:03 2016 +0000

    Merge pull request #984 from projectcalico/smc-1.3-docs
    
    Update docs for 1.3.0.

[33mcommit d3e718fe9fb3798c2226802dc5459ee54e3a0c36[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Feb 26 11:28:59 2016 +0000

    Update docs for 1.3.0.
    
    * Prefer individual package updates over dist-upgrade.
    * Manually install calico-dhcp-agent in this release.

[33mcommit 2b22c8462b1575b7dee55d4b354235c63fcc0399[m
Merge: dc6dd2d0 2093ae26
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Feb 25 13:30:00 2016 +0000

    Merge pull request #981 from projectcalico/964-fwmark-config
    
    Add config option for iptables mark masks.
    
    Allows calico to co-exist with other agents that need to use the mark.

[33mcommit 2093ae26e639c3756bb1f4dfc68630d13ab2a483[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Feb 25 09:26:58 2016 +0000

    Fix up mask function:
    
    * Remove tabs from config.py.
    * Fix int parsing if value is already a number.
    * Remove leading 0s from UT asserts.

[33mcommit 164d15ffd1a5f35cba5791f6778ac8cc19d266c3[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Feb 19 15:49:10 2016 +0000

    Add config option for Iptables Mark Masks and default to not using the whole mark space.
    
    Also update int config option parsing to guess base (for hexadecimal input).

[33mcommit dc6dd2d0086675e6d044b79218e24e86223ed791[m
Merge: bf73d58a 951239d3
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Feb 19 08:56:37 2016 +0000

    Merge pull request #980 from projectcalico/awlc/occur
    
    Fix spelling of occurence

[33mcommit 951239d304dd5a088eb3e0fd8965f7da3394d467[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Feb 18 16:28:35 2016 +0000

    Fix spelling of occurence

[33mcommit bf73d58ababfaad727f8a19340974e80832c7f16[m
Merge: f8933675 2a640977
Author: Dave Langridge <dave.langridge@metaswitch.com>
Date:   Wed Feb 10 15:27:57 2016 +0000

    Merge pull request #977 from projectcalico/upgrade-calico-packages
    
    Name all required Calico packages in upgrade instructions

[33mcommit 2a64097736a35afa863646b92c050a2de13ecd1d[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Feb 9 15:47:14 2016 +0000

    Improve upgrade instructions

[33mcommit f89336752d1d42a2e6852b21b3149647071bdf0d[m
Merge: 6681710b 9d58a08f
Author: Dave Langridge <dave.langridge@metaswitch.com>
Date:   Mon Feb 8 11:07:23 2016 +0000

    Merge pull request #974 from projectcalico/calico-dhcp-agent-docs
    
    Fixes to docs about Liberty+ DHCP agent install

[33mcommit 9d58a08f5d4cdf1afc5c18d6ee73b902c007b187[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 5 17:19:19 2016 +0000

    Handle possible upgrade from Neutron DHCP agent to Calico DHCP agent

[33mcommit 6681710b36645851a819664e32a1cd5728eeaefc[m
Merge: 78c07d98 e051b703
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Feb 4 12:32:50 2016 +0000

    Merge pull request #971 from liljenstolpe/cl3-l3-doc-edits
    
    changed recommendations in l3 doc

[33mcommit 78c07d986b3aae6bfcefffbbd7c66dfa18a146e9[m
Merge: 7d820f18 7df5a1a4
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Feb 4 12:05:47 2016 +0000

    Merge pull request #969 from projectcalico/smc-fix-early-ipset-release
    
    Only release ipsets after updating iptables.

[33mcommit 874a77cc66abfdbea6052731385f2a2438ff93f9[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 3 16:58:40 2016 +0000

    Fixes to docs about Liberty+ DHCP agent install
    
    - Delete any instructions to restart calico-dhcp-agent before
      calico-compute has been installed.
    
    - Actually, if you're using calico-dhcp-agent, restarting isn't needed
      at all, as we don't have to edit any of its config.
    
    - When using calico-dhcp-agent, also do 'service neutron-dhcp-agent
      stop'.
    
    (No further changes are needed to the upgrade doc.)

[33mcommit 7d820f18c474265af46af348e591fd4207e8a50b[m
Merge: 11b205cd e86bd383
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Feb 2 13:27:18 2016 +0000

    Merge pull request #973 from projectcalico/calico-dhcp-agent-docs
    
    Doc changes for using Calico DHCP agent with OpenStack Liberty

[33mcommit e86bd3837f0a3e1cf9bb4ed1367c751ba4c7b2db[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Feb 2 13:17:55 2016 +0000

    Doc changes for using Calico DHCP agent with OpenStack Liberty

[33mcommit e051b703185a2c0c4e680b46fe2e43ac50817ec6[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Feb 1 14:43:45 2016 -0800

    changed recommendations in l3 doc

[33mcommit 11b205cd4cfc300da6d83438beb5ad7744dde9be[m
Author: Tom Denham <tom.denham@metaswitch.com>
Date:   Fri Jan 29 15:00:19 2016 -0800

    Add missing dependency in Dockerfile

[33mcommit a2be847df8c87821c99d611e726cff754348c5a4[m
Merge: fe8b4006 500d9171
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Thu Jan 28 17:17:45 2016 -0800

    Merge pull request #849 from tomdee/dockerfile
    
    Add a Dockerfile for felix

[33mcommit 500d91712cd9f7ae008f4227ea25ced7c55b1dcf[m
Author: Tom Denham <tom.denham@metaswitch.com>
Date:   Tue Oct 20 12:02:51 2015 -0700

    Add a Dockerfile for felix
    
    - Build felix (and deps) inside the container
    - Resulting container is ~60MB (mostly python and deps)

[33mcommit fe8b40068fb2beb8fc1ef80076e2e555b8262794[m
Merge: 1d5aaa5c e29b27ff
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Jan 28 14:15:39 2016 +0000

    Merge pull request #956 from projectcalico/awlc/repo-links
    
    Update links for renamed calico-containers repo

[33mcommit 7df5a1a4425d604803650101e19a4537891afe1e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jan 28 14:00:17 2016 +0000

    Only release ipsets after updating iptables.
    
    Fixes #967

[33mcommit 1d5aaa5cc1a0216c250ec8e587334ee881567065[m
Merge: 3e06e169 ece663cd
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Jan 25 15:04:00 2016 +0000

    Merge pull request #965 from projectcalico/move-safe-decode-json
    
    Move safe_decode_json to a Felix-independent module

[33mcommit ece663cd6228267624f08fb454206f053a8306e4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 22 14:23:35 2016 +0000

    Move safe_decode_json to a Felix-independent module
    
    So that networking-calico can reliably use it

[33mcommit 3e06e1695f65519422a0c2290a69e77e169c06b6[m
Merge: dea57633 b15296cc
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Jan 18 14:26:23 2016 +0000

    Merge pull request #961 from projectcalico/subnet-data-model
    
    Add DHCP agent information to data model

[33mcommit dea57633b2a1948a6cec77a5e82ea4ae4c3f5dee[m
Merge: 51ddda05 04a19c14
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Jan 15 10:43:39 2016 +0000

    Merge pull request #818 from projectcalico/juju-bundle-update
    
    Update Juju bundles

[33mcommit 04a19c148b8d6d42cd41243bd2df121b48c9d5a9[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Jan 14 12:46:24 2016 +0000

    Adjust charm positioning so spacing is consistent with other bundles in the charm store

[33mcommit d7169d742780305d4102a17f3053b6e4023a32db[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Jan 14 11:40:22 2016 +0000

    Update Juju documentation to reference all bundles

[33mcommit 9f537f05ee513703980dc14ef001196530ca53e4[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Jan 14 11:25:30 2016 +0000

    Update Icehouse and Kilo bundles to use the latest versions of the charms

[33mcommit 8a3f4a668177df783ded3263258900ce35d6adb4[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Jan 14 10:41:51 2016 +0000

    Add latest Juno bundle

[33mcommit 51ddda0538c0014fb1c8b475763454badd62fffb[m[33m ([m[1;33mtag: 1.3.0a6[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Jan 12 19:14:51 2016 +0000

    Version 1.3.0~pre6

[33mcommit f04e47b920191b6ec3d95c777e8830487daaa6fe[m
Merge: 19019b0b 0cae8394
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jan 12 17:25:38 2016 +0000

    Merge pull request #960 from projectcalico/smc-tunnel-ips
    
    Add NAT rule to fix the source IP on packets that go down the tunnel

[33mcommit 0cae8394e17cca4d59fabb1582f354eb623c9358[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jan 11 17:46:10 2016 +0000

    Add NAT rule to fix the source address on packets that go down the tunnel.

[33mcommit b15296cc88ea68bff6b389434ee1ddc1114f9e3b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Jan 12 10:25:00 2016 +0000

    Add DHCP agent information to data model

[33mcommit 19019b0bddf1d5ea2cc444c25f16b123fcb9873c[m
Merge: c2cb9283 da32ce7c
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jan 8 16:05:59 2016 +0000

    Merge pull request #959 from projectcalico/smc-tunnel-ips
    
    Add configuration for IPIP tunnel local address.

[33mcommit da32ce7c7412026c82d6ce3600ac690c3542bddf[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jan 7 17:47:46 2016 +0000

    Add configuration for IPIP tunnel local address.
    
    When configured with an address in the IPIP pool, this allows
    the host to originate packets to IPIP-tunneled addresses.

[33mcommit e29b27ff8b427eae55b252f9db22dbad34128f5d[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Tue Jan 5 09:36:15 2016 +0000

    Update links for renamed calico-containers repo

[33mcommit c2cb928370484d76c16bf2dde77ac6456ea0f862[m
Merge: 3338dbda 0f430230
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Dec 17 15:05:17 2015 +0000

    Merge pull request #953 from projectcalico/smc-fix-ipip-already-exists
    
    Retry IPIP configuration on failure.

[33mcommit 0f43023037b2f525c8dbb3df9a9953e064eceba3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Dec 17 14:47:21 2015 +0000

    Retry IPIP configuration on failure.
    
    Fixes #928.

[33mcommit 3338dbdafe24d44f502caee09a010622dada600b[m
Merge: 4d04cabc 6caad32b
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Dec 17 13:53:17 2015 +0000

    Merge pull request #942 from projectcalico/stable
    
    Merge 1.2.2 release branch back into master

[33mcommit 4d04cabcb635c9a65d4ca0b248661c3c77d9afd2[m
Merge: 9a4ac163 731854d0
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Dec 17 10:49:56 2015 +0000

    Merge pull request #951 from projectcalico/smc-fix-ep-update-after-unref
    
    Ignore post-unreference calls to LocalEndpoint._finish_msg_batch()

[33mcommit 731854d0ab75767fa95491cd57418a0f866f8272[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 16 16:31:58 2015 +0000

    Ignore post-unreference calls to LocalEndpoint._finish_msg_batch()
    
    Move the assert to the individual methods, which should not be
    called, to allow for messages received via the RefHelper.
    
    Fixes #945.

[33mcommit 9a4ac16330a9e79db402f9a707780a081d6a3db7[m
Merge: 5b927d3a b18381ef
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Dec 16 12:25:43 2015 +0000

    Merge pull request #947 from projectcalico/smc-remove-mock-pin
    
    Remove mock pin

[33mcommit 5b927d3a8622e09aee3c422f3ce2dbc8126ed05c[m
Merge: 5785c057 fdad0181
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Dec 16 11:00:27 2015 +0000

    Merge pull request #940 from projectcalico/smc-batch-delay
    
    Increase batch delay on IpsetManager.
    
    This improves performance under heavy churn.

[33mcommit b18381ef7bb3ffb6abd198965722e70400a4307e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Dec 15 12:21:00 2015 +0000

    Remove pin to mock==1.0.1 and deal with the fallout.
    
    mock 1.3.0 now catches various incorrect asserts, which showed
    some bugs in out code.
    
    autospec no longer works for socket.socket due to a mock bug.

[33mcommit 5785c057f574d9fa4c6b924c79611a98a06ff904[m
Merge: 2d0eb4cc c19e8e18
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Dec 16 10:49:08 2015 +0000

    Merge pull request #946 from projectcalico/smc-remove-py26
    
    Remove UT support for Python 2.6 (and pypy).

[33mcommit c19e8e187071f0b6fe44967f8a28adbffa6865f5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 16 10:35:55 2015 +0000

    Remove pypy support too.  gevent 1.1 + pypy 4.0.1 seem to produce segfaults
    
    Tracked by: https://bitbucket.org/pypy/pypy/issues/2209/segfault-while-running-our-uts-after
    and: https://github.com/gevent/gevent/issues/704

[33mcommit 19dc016686166562fd9a506ec019b41578688e48[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Dec 15 10:49:10 2015 +0000

    Remove UT support for Python 2.6.
    
    Also remove now-unneeded pins in tox.ini.
    
    As of python-etcd 0.4.3, python-etcd fails at install time on Python 2.6.
    
    Impacts difficulty of re-instating RHEL6.5 support: #455.

[33mcommit 2d0eb4ccbb358860351acd2147e8cb943dbed78e[m
Merge: 2f6f332d d1d59849
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Dec 14 21:09:54 2015 +0000

    Merge pull request #944 from projectcalico/smc-fix-ut-race-2
    
    Fix UT race where event was passed to resync thread too soon.

[33mcommit 2f6f332d99340d3b4249192572fda50caf12c06c[m
Merge: 14458788 ea32f1e3
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Dec 14 14:48:39 2015 +0000

    Merge pull request #943 from projectcalico/smc-fix-ut-race
    
    Fix race in driver FV tests.

[33mcommit 14458788618f97ee093b24bc3b5a8d154b232cb7[m
Merge: b7e5cbdd cfad6614
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Dec 14 14:16:25 2015 +0000

    Merge pull request #941 from projectcalico/smc-remove-splitter-actor
    
    Remove the UpdateSplitter Actor.

[33mcommit b7e5cbdd1e57479a8bbe503e737f58ff54c02156[m
Merge: 633c754b 379cf9d4
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Dec 14 14:15:24 2015 +0000

    Merge pull request #934 from projectcalico/smc-incremental-ipset-updates
    
    Track deltas to tag ipsets in the IpsetManager.

[33mcommit d1d5984901738527ba1bd0bd92f9a68cbe726c8b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Dec 14 14:10:45 2015 +0000

    Fix UT race where event was passed to resync thread too soon.

[33mcommit ea32f1e35c6a728fc914548815aa09a434e2e549[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Dec 14 11:27:34 2015 +0000

    Fix race in driver FV tests.
    
    Wait for the driver to be blocked on the watcher queue before
    sending the resync request.  This makes the test deterministic.

[33mcommit 379cf9d40a3408149e5494620583e4e636e53412[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Dec 7 15:02:09 2015 +0000

    Track deltas to tag ipsets in the IpsetManager.
    
    Should improve performance with lots of tag members.

[33mcommit 6caad32b96e5c124f596ca2bfbc1612b9efcbef3[m
Author: Mat Meredith <matthew.meredith@metaswitch.com>
Date:   Sat Dec 12 02:36:05 2015 +0000

    Fix up merge issues

[33mcommit c685fc5aa6d753222f00e7ec435e8d0f519f67ba[m
Merge: 3ac8855e 9a4ac163
Author: Mat Meredith <matthew.meredith@metaswitch.com>
Date:   Sat Dec 12 00:18:37 2015 +0000

    Merge branch 'master' into stable
    
    Conflicts:
            calico/felix/splitter.py
            calico/felix/test/base.py
            calico/felix/test/test_splitter.py
            setup.py

[33mcommit 633c754bc155d71937670eb14597f826aa5c34f0[m[33m ([m[1;33mtag: 1.3.0a5[m[33m, [m[1;33mtag: 1.3.0-pre5[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Dec 11 16:26:20 2015 +0000

    Version 1.3.0~pre5

[33mcommit 3ac8855ec49d2d7a10c093fd984dda3f9246419a[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Dec 11 12:57:14 2015 +0000

    Don't insert random characters into files

[33mcommit a47062d6a107cf7244ed2053ac73b2ec87f500bf[m
Merge: ca0f124d 4845eaa7
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Dec 11 12:43:16 2015 +0000

    Merge branch 'master' into stable
    
    Conflicts:
            CHANGES.md
            calico/election.py
            calico/felix/config.py
            calico/felix/devices.py
            calico/felix/endpoint.py
            calico/felix/felix.py
            calico/felix/test/base.py
            calico/felix/test/test_devices.py
            calico/felix/test/test_endpoint.py
            calico/felix/test/test_felix.py
            calico/felix/test/test_splitter.py
            calico/openstack/mech_calico.py
            calico/openstack/t_etcd.py
            calico/test/test_election.py
            debian/changelog
            rpm/calico.spec
            setup.py

[33mcommit cfad6614ad88d7fdf7868be6b101b2048ddef589[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 9 16:04:30 2015 +0000

    Remove the UpdateSplitter Actor.
    
    This improves performance by significantly reducing the number of
    messages we pass around.

[33mcommit ca0f124d71e875e2c1d059eb44bbc1160747cc10[m[33m ([m[1;33mtag: 1.2.2[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Dec 10 19:42:50 2015 +0000

    Version 1.2.2

[33mcommit b98a1b07c3677a56c75ebc6965a782bd71f3126a[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Nov 18 14:49:54 2015 +0000

    Resolve "Felix dies if interface missing" on Alpine
    
    Alpine and Ubuntu have slightly different error messages when you
    run 'ip link show <non-existent interface>'; respectively
    
        ip: can't find device 'thisdoesnotexist'
        Device "thisdoesnotexist" does not exist.
    
    We run Felix inside an Alpine container for calico/node, but the
    different wording meant Felix didn't recognise the missing
    interface as a known error, so raised an exception.  Now we catch
    both wordings and handle them correctly.
    
    Fixes #899.

[33mcommit 2c76182681f09e9133ca74c187cae0740fc4d5f5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 9 17:20:36 2015 +0000

    Reduce election refresh interval, handle EtcdEventIndexCleared.
    
    Reduce refresh interval so event buffer is less likely to wrap
    while we're waiting.
    
    If we do hit EtcdEventIndexCleared, suppress spammy warning log
    since we handle that case.
    
    Back-application of networking-calico commit
    d089633814b597ca3eb5957bd5d9d98d436dd1a8

[33mcommit b76a7cf0448243dd9a7983454705405621c6d502[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 9 17:15:55 2015 +0000

    Catch EtcdKeyNotFound in addition to EtcdCompareFailed.
    
    Back-application of networking-calico
    7b4b9a7721fa953a59da06780c1abf10a74ec995.
    
    Fixes #914.

[33mcommit 180aaa22b790319f70808f9c662bdf03f64ca046[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 9 17:14:22 2015 +0000

    Various leader election improvements:
    
    * Reduce startup timer to reduce time without a leader after restart;
      this is sensible now that we're relying on leader election to
      nominate the status reporting thread.
    * Opportunistically check if the previous master is still alive if
      we happen to start on the same server.  Reduces time to get a new
      master after restarting neutron.
    * Add additional diags in hope of diagnosing election bouncing seen
      in #775 and #869.  Possible starvation of elector?
    
    Back-application of networking-calico commit
    4203acf5098e8f23bcaf4c2c5eb415a57f7842a4

[33mcommit 7d338d8f08ab36b20c448cff6c708f42c3fb3fc0[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Nov 13 17:43:50 2015 +0000

    Don't report port deletion as an error status

[33mcommit fdad018147ab5d8a119b2622ebcb0f9a9333af81[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 10:29:08 2015 +0100

    Increase batch delay on IpsetManager.
    
    This improves performance under heavy churn.

[33mcommit 4845eaa7c7a2f9db41916650812c29e88e4de88a[m
Merge: f16b952e 70429612
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 8 11:37:00 2015 +0000

    Merge pull request #853 from projectcalico/smc-batch-delay
    
    Add a delay to Actor scheduling when under load.

[33mcommit f16b952e663f336a9e3b331c6cc79ea91996bfcb[m
Merge: 5f3853d5 2c20c3fe
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Dec 8 08:57:55 2015 +0000

    Merge pull request #939 from tomdee/analytics
    
    Add analytics

[33mcommit 5f3853d5fd00bd7c00cd4b4943219d3155348b53[m
Merge: 0289d320 207577a7
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Dec 8 08:42:36 2015 +0000

    Merge pull request #937 from TrimBiggs/etcd-ssl-calicoctl
    
    Add link in securing-calico doc for calicoctl

[33mcommit 2c20c3fe47bf931f0463b8c6b96bf1e01050402f[m
Author: Tom Denham <tom.denham@metaswitch.com>
Date:   Mon Dec 7 16:50:15 2015 -0800

    Add analytics

[33mcommit 207577a7f8a9188097b435cd91b250673fe7ff85[m
Author: Tim Briggs <timothy.briggs@metaswitch.com>
Date:   Mon Dec 7 10:25:30 2015 -0800

    Add note in secureing-calico doc for calicoctl

[33mcommit ecb2bde70ff0ccf0f788c84954ceb1f3976bf935[m
Merge: e7bb8aa8 7522b3bf
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Dec 7 15:44:17 2015 +0000

    Merge pull request #926 from projectcalico/felix-plugin
    
    Add experimental Felix plugin interface

[33mcommit 0289d32000ae3dd94018b40426e485079d7d8459[m
Merge: c7f5009a 74faccd9
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Dec 7 15:31:36 2015 +0000

    Merge pull request #932 from projectcalico/smc-tls-docs
    
    Add documentation describing how to configure TLS for etcd.

[33mcommit c7f5009a6b17d2454e9d8d4a9ef1057e24280646[m
Merge: a9a27215 34a3cbbe
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Dec 7 15:24:05 2015 +0000

    Merge pull request #935 from projectcalico/smc-fix-uts
    
    Fix UT to account for refactored loop time measurement.

[33mcommit 34a3cbbe897dbca3f5f964c0b67f999f29f41bc3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Dec 7 15:17:45 2015 +0000

    Fix UT to account for refactored loop time measurement.

[33mcommit 74faccd9a088e291484d196b6dd1cc3e1644b164[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Dec 7 13:49:45 2015 +0000

    Minor corrections and suggested improvement about calicoctl

[33mcommit 715a62d97cfce6dc0c9264b72b98794d2b694f8a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Dec 4 16:48:47 2015 +0000

    Add documentation describing how to configure TLS for etcd.

[33mcommit a9a272158785c3ccab06cc215952d494cb6042c3[m
Merge: dd1e3454 1bfb2411
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Dec 4 13:31:26 2015 +0000

    Merge pull request #927 from projectcalico/nc-upgrade
    
    Update install and upgrade instructions for networking-calico packagiâ€¦

[33mcommit dd1e34549e64fb1659f076262080e36cde8e1250[m
Merge: 68761396 132ea7f8
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Dec 3 14:42:22 2015 +0000

    Merge pull request #931 from projectcalico/smc-driver-diags
    
    Make sure we get stats on watcher shutdown

[33mcommit 132ea7f87a1fc1adeb38490df7deb4d80edc9682[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Dec 3 13:20:28 2015 +0000

    Make sure watcher logs stats before shudown.

[33mcommit 7522b3bf6be22522f92d94fdbdceada2da53dbc3[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Dec 3 10:21:55 2015 +0000

    Fix file permissions

[33mcommit 79c03c19eb589e97cba97d224c9fb06d1c25a37b[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Dec 3 10:18:06 2015 +0000

    Fix coverage version in tox

[33mcommit 68761396fac82f8a304c56ed6b9a72d3723aa33b[m
Merge: 9e7c36ba ab576f85
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 2 16:40:27 2015 +0000

    Merge pull request #929 from projectcalico/smc-driver-diags
    
    Add some basic stats to the etcd driver

[33mcommit ab576f852cb4b8f24567cd3c7623e9c3cb16f0d6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 2 16:26:03 2015 +0000

    Code review markups.

[33mcommit bdc80d043b3e69141db6e7c2a51b33a2f4c5e109[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 2 15:21:10 2015 +0000

    Add UTs for stats functions.

[33mcommit 389d0bd2f8962595029c36513e17895fd3376f2c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 2 15:02:53 2015 +0000

    Add stats to the resync thread.

[33mcommit 5f233f60e802f997ee4f0b8a6e96d2509952817d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Dec 2 14:46:16 2015 +0000

    Add stats to the watcher thread.

[33mcommit 02357756946f46dd31e16c7ee4216a7f3eff445e[m
Author: Mat Meredith <matthew.meredith@metaswitch.com>
Date:   Wed Dec 2 14:38:49 2015 +0000

    Apply PR feedback

[33mcommit 1bfb24110d8752d5c4d7b64471dcba5113dded49[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Dec 1 18:20:01 2015 +0000

    Update install and upgrade instructions for networking-calico packaging change

[33mcommit 11861d6f2a16ef424cf93beaf1b377d345cc65f9[m
Author: Mat Meredith <matthew.meredith@metaswitch.net>
Date:   Fri Nov 6 11:22:27 2015 +0000

    Add experimental Felix plugin interface
    
    This commit contains the first draft of a plugin interface for Felix.
    This interface is highly experimental: it should not be considered
    stable and may change significantly, or be removed completely, in
    future releases.

[33mcommit 9e7c36baed7115f8dcd28c4aa76a074f3ef74dac[m
Merge: 484c6658 46cc2865
Author: Alex Chan <alex@alexwlchan.net>
Date:   Tue Dec 1 09:55:30 2015 +0000

    Merge pull request #924 from projectcalico/smc-devices-tweaks
    
    Remove non-deferred stringification.

[33mcommit 484c665881b26268bc501ef98a6045669127788c[m
Merge: 39cb2508 26b369a2
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Dec 1 08:56:27 2015 +0000

    Merge pull request #925 from projectcalico/awlc/log-tweaks
    
    Remove a few non-deferred stringifications

[33mcommit 26b369a2d0ea1459074e34a614dc5929826c339a[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Mon Nov 30 17:01:35 2015 +0000

    Remove a few non-deferred stringifications

[33mcommit 46cc286550c923b1158292fa4c236c5d92c5d5a9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 30 15:51:14 2015 +0000

    Remove non-deferred stringification.

[33mcommit 39cb2508acb3d2bfe379729d2cc82b6ec7b79a88[m
Merge: b4426506 d3ace30a
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Nov 30 15:16:39 2015 +0000

    Merge pull request #922 from TrimBiggs/fix-driver-coverage
    
    Make test call to hit HTTPSConnectionPool for coverage

[33mcommit b442650634e7c30968b9e35232ea57ae20640981[m
Merge: 1313a89e 44009a72
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Nov 30 12:35:02 2015 +0000

    Merge pull request #923 from projectcalico/really-delete-mech-calico
    
    Delete remaining mech_calico.py

[33mcommit 1313a89ee6db42acc966b953f01ef3b32d2822dd[m
Merge: f47abd85 1885c7bd
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 26 13:31:40 2015 +0000

    Merge pull request #917 from projectcalico/smc-defensive-exc
    
    Be defensive to HTTP-related exceptions in the etcd driver.

[33mcommit f47abd85a4ee70a07fa142cabdfc4100a45a31a2[m
Merge: 29e01cf9 1580f682
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 26 13:30:15 2015 +0000

    Merge pull request #918 from projectcalico/smc-tweak-interface-checks
    
    Use sysfs to check interface state rather than shelling out.

[33mcommit 29e01cf96496d065806f77d89b109d2e61c0a0e2[m
Merge: ed18472a 23b9f276
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Nov 26 12:05:07 2015 +0000

    Merge pull request #921 from projectcalico/install-calico-diags
    
    Use setup.py to install calico-diags, instead of deb/rpm incantations

[33mcommit 44009a726edb4fac3361981066538d3c146021c4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Nov 26 12:02:44 2015 +0000

    Delete remaining mech_calico.py
    
    This should have been deleted by #911, but somehow survived.

[33mcommit d3ace30ab43e57c5112db6d7e942833244030c91[m
Author: Tim Briggs <timothydbriggs@gmail.com>
Date:   Wed Nov 25 09:15:42 2015 -0800

    Make test call to hit HTTPSConnectionPool for coverage

[33mcommit 23b9f2766077797606c023a842fe8a7d83e583b3[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Nov 25 11:34:26 2015 +0000

    Use setup.py to install calico-diags, instead of deb/rpm incantations
    
    As well as simplicity, this has the advantage that calico-diags will
    be correctly installed (including in a virtualenv, if applicable) if
    the calico code is installed using 'pip install'.

[33mcommit ed18472a7b04c3e3d218def412184ab85ab2991e[m
Merge: c8d81ef6 9c0492ca
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Nov 25 10:56:21 2015 +0000

    Merge pull request #911 from projectcalico/mech-driver-move
    
    Mech driver move

[33mcommit 9c0492ca7fae6baeb01b04917e66eb702e72fb4c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Nov 25 10:28:46 2015 +0000

    Add RPM changelog entry

[33mcommit c81bbde2e6d99f2011cce0dc113921e24f7478a7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 24 16:03:02 2015 +0000

    Correct RPM version

[33mcommit a66bcc73bcb1370ee37d246061b5b93efe7b7256[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 23 11:48:16 2015 +0000

    Move election module to networking-calico
    
    This makes sense as the networking-calico mechanism driver is the only
    user of the election module.
    
    It also means that there is now nothing in the core Calico repository
    that requires eventlet.

[33mcommit 935b909a4edde1b25487d3147e8517ceadee1fd9[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Nov 19 11:17:18 2015 +0000

    RPM spec changes for mechanism driver move

[33mcommit 1de98a5c6d492abff9888cc3d3b172bf24d24892[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Nov 18 11:36:23 2015 +0000

    Version 1.3.0~pre.2

[33mcommit b6ca4fa98c23bdde6e630b406130301275b62b90[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Sun Nov 15 22:52:26 2015 +0000

    Move Calico mechanism driver to networking-calico

[33mcommit 6002431f5cf30ced143249e5fe24e39854971795[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Nov 13 17:03:12 2015 +0000

    Move Calico mechanism driver to networking-calico

[33mcommit 70c2502964dc4a41038bdf441ff91edb87fd6071[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Nov 13 16:44:33 2015 +0000

    Move Calico mechanism driver to networking-calico

[33mcommit c09ade710c89b1883c8d118a0bcc9633026ee3c7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Nov 12 15:24:30 2015 +0000

    Move calico-control and calico-compute packaging to networking-calico

[33mcommit 1885c7bdae6f6f8f95f82672ea75f1634cf913c9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 24 09:37:07 2015 +0000

    Suppress tracebacks from expected exceptions during driver shutdown.

[33mcommit 1580f6827f1469e62b6eca8625aefffa96ef3e42[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 24 12:22:08 2015 +0000

    Use sysfs to check interface state rather than shelling out.
    
    This is much faster.
    
    Also, check the operstate, which is more reliable than the UP state.

[33mcommit 69aa0f5653d446ce1855bf69513a63dde400820a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 24 09:06:24 2015 +0000

    Be defensive to HTTP-related exceptions in the etcd driver.

[33mcommit c8d81ef669a08c3d41f24b8ce690be90bee28c2b[m
Merge: 74a295e6 27744cbe
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Nov 24 08:41:14 2015 +0000

    Merge pull request #916 from projectcalico/smc-fix-dir-continue
    
    Fix incorrect next_index calculation for directory creations.

[33mcommit 74a295e61a4d294be93a7f07ea98014d036aefcb[m
Merge: 0fcd976c a86b65a6
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Nov 23 19:50:30 2015 +0000

    Merge pull request #913 from projectcalico/smc-fix-reporting-down
    
    Rework endpoint status calculation.

[33mcommit 0fcd976c007204ac903426e48da170958fa658fe[m
Merge: f8d3785e d5b29b61
Author: Timothy Briggs <timothydbriggs@gmail.com>
Date:   Mon Nov 23 11:40:42 2015 -0800

    Merge pull request #915 from TrimBiggs/etcd-secure
    
    Add support for secure etcd with SSL

[33mcommit 27744cbe089648d2c28ec55d4a3d9bbca68075a9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 23 18:19:58 2015 +0000

    Fix incorrect next_index calculation for directory creations.

[33mcommit d5b29b6163f4e1a2ab25b45a0e22f57111f29a50[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 16 13:38:59 2015 +0100

    Add support for secure etcd with SSL

[33mcommit a86b65a6cbd4bf3ac7c31dca704a4a785556fd5c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 23 16:47:30 2015 +0000

    Fix #914: catch EtcdKeyNotFound as well as EtcdCompareFailed.

[33mcommit f8d3785e4c643ed6ce6e893d63cb15aadd9e90af[m
Merge: 0d44c4ed bf13f657
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Nov 23 14:37:38 2015 +0000

    Merge pull request #905 from projectcalico/1.2-reintegrate
    
    Reintegrate 1.2.1

[33mcommit 1130f299e3ec9905de47f8b034ed7874d21fb155[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 23 14:31:12 2015 +0000

    Rework endpoint status calculation.
    
    * Simplify conditional to prioritise checks.
    * Explicitly check device_is_up flag rather than relying on fall-through.
    * Log reason for any changes.

[33mcommit 0d44c4ed4d53fa355103678da1554833b7c13d12[m
Merge: e2cf6d0d 948b743b
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Nov 23 10:46:03 2015 +0000

    Merge pull request #906 from projectcalico/smc-downgrade-log
    
    Downgrade interface programming error to warning.

[33mcommit e2cf6d0dd0d30ac10311da728b2f2c1a295b1d8f[m
Merge: bb5fb9f4 75886e21
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Nov 23 10:45:16 2015 +0000

    Merge pull request #908 from projectcalico/smc-fix-stats
    
    Fix swapped update/delete stats.

[33mcommit 75886e21cfbd4a46136acb6cc7bf0545a0d66add[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 20 11:22:27 2015 +0000

    Fix swapped update/delete stats.

[33mcommit bb5fb9f490695116c44669acad8b069c97e350a0[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Fri Nov 20 10:17:20 2015 +0000

    Update README with our libyajl2 dependency

[33mcommit 2a36f87279dd032f7d2c11fb1990ec96313b27b5[m
Merge: 3d2c9bcd fdfc50db
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Nov 19 16:00:32 2015 +0000

    Merge pull request #902 from projectcalico/awlc/alpine-missing-iface-fix
    
    Resolve "Felix dies if interface missing" on Alpine

[33mcommit 948b743b44f4736efc6206b83207c037408130cb[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 19 15:57:33 2015 +0000

    Downgrade interface programming error to warning.
    
    It can also occur when the interface is flapping.

[33mcommit 3d2c9bcd5e4137c9f153a86ccc281f074760baf1[m
Merge: ba1cc829 fbe2432d
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Nov 19 15:49:17 2015 +0000

    Merge pull request #904 from projectcalico/spam
    
    Trivial log spam reduction

[33mcommit bf13f657fce5f45a1b16b04787c1ac8df3323c27[m
Merge: e7bb8aa8 61e7095f
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 19 13:45:25 2015 +0000

    Merge remote-tracking branch 'origin/master' into 1.2-reintegrate
    
    Conflicts:
            CHANGES.md
            calico/felix/fetcd.py
            calico/felix/ipsets.py
            calico/felix/test/test_fetcd.py
            debian/changelog
            rpm/calico.spec

[33mcommit ba1cc829b29953d6b36ac06912929a4db02f1dbf[m
Merge: 61e7095f 56a78c28
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Nov 19 12:30:14 2015 +0000

    Merge pull request #895 from projectcalico/smc-skip-configure
    
    Skip configuring interface if we know it's down.

[33mcommit fbe2432d98771a20cdd63cf90139af974cf3888f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 19 10:31:38 2015 +0000

    Reduce severity of log that is 99% of all logs in a heavily loaded system

[33mcommit fdfc50db60a75d98919650a39c5eb537faedda41[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Nov 18 14:49:54 2015 +0000

    Resolve "Felix dies if interface missing" on Alpine
    
    Alpine and Ubuntu have slightly different error messages when you
    run 'ip link show <non-existent interface>'; respectively
    
        ip: can't find device 'thisdoesnotexist'
        Device "thisdoesnotexist" does not exist.
    
    We run Felix inside an Alpine container for calico/node, but the
    different wording meant Felix didn't recognise the missing
    interface as a known error, so raised an exception.  Now we catch
    both wordings and handle them correctly.
    
    Fixes #899.

[33mcommit 56a78c28712b019885e039f1e59a99b4f6ce8d01[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 13 17:11:49 2015 +0000

    Skip configuring interface if we know it's down.

[33mcommit 61e7095f97b5502a100bd09add3eb43541ae58a8[m
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Nov 19 09:22:46 2015 +0000

    Update coverage badge to point at master.

[33mcommit 0dbe2419627f850c35f446df3332b7313cf6d2e3[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Nov 18 14:29:34 2015 +0000

    Yet another UT instruction clarification

[33mcommit 573af2f996159685829ab54978534522f2815abf[m
Merge: 4d39e23d 9c4cd35b
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 17 17:27:39 2015 +0000

    Merge pull request #852 from projectcalico/smc-concurrent-resync
    
    [Work in progress] Implement concurrent resync

[33mcommit 4d39e23d67192cd7195bfbb59ad18123fba4ae6c[m
Merge: 90562ccb 1825a7ab
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Nov 16 19:21:00 2015 +0000

    Merge pull request #898 from projectcalico/awlc/ut-instructions
    
    More clarifications to the UT instructions

[33mcommit 1825a7abaf8be97093cb2b08b0c86f2d0ab2035a[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Mon Nov 16 11:06:02 2015 +0000

    More clarifications to the UT instructions

[33mcommit 90562ccb599a38c800f3cfea22acce832a367070[m
Merge: 5d5fc0db 0d15b429
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Sat Nov 14 23:28:31 2015 +0000

    Merge pull request #891 from projectcalico/smc-fix-conf-infc-log
    
    Add additional diags when failing to program an interface.

[33mcommit 5d5fc0dbd24a65aa11b0e83a3ff0bc7c2c5f4355[m
Merge: ecd2ee14 87874f4e
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Sat Nov 14 23:26:54 2015 +0000

    Merge pull request #892 from projectcalico/smc-suppress-log-ifce-missing
    
    Squash warning log if interface doesn't exist yet.

[33mcommit ecd2ee14dea1f6e93cb92b0f9d4242bfa1499a78[m
Merge: 6cf713b2 d5dfcb45
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Nov 13 17:53:28 2015 +0000

    Merge pull request #897 from projectcalico/md4-remove-scary-log-on-port-deletion
    
    Don't report port deletion as an error status

[33mcommit d5dfcb45b5f86ac4332cef53b5ff5138225a07a6[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Nov 13 17:43:50 2015 +0000

    Don't report port deletion as an error status

[33mcommit e7bb8aa8b97cb58bfbc0757353c89bb145687660[m[33m ([m[1;33mtag: 1.2.1[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Nov 13 16:36:16 2015 +0000

    Version 1.2.1

[33mcommit d9d23d22c82678a2722bd4af8c95f79fdfd9b2d9[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Fri Nov 13 16:31:44 2015 +0000

    Fixed tar command

[33mcommit 6cf713b2374e340bf2125a33e3f6f5e5806f57db[m
Merge: 2085c443 8eafbf67
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Nov 13 16:33:40 2015 +0000

    Merge pull request #893 from projectcalico/lr2/issue_770
    
    Fixed tar command

[33mcommit 2085c443a264e933d8100bfe76594dac72979801[m
Merge: d7f5d5ad 986075cf
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Nov 13 16:32:10 2015 +0000

    Merge pull request #882 from projectcalico/smc-iptables-n
    
    Add --numeric to iptables command to avoid DNS lookups.

[33mcommit 8eafbf675997253a5004ad02231b25442aa3f4d8[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Fri Nov 13 16:31:44 2015 +0000

    Fixed tar command

[33mcommit 87874f4ed1d5bb698ccb1783e2cd1045effb870c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 13 16:09:44 2015 +0000

    Squash warning log if interface doesn't exist yet.
    
    Avoid checking flags for non-existent interface.

[33mcommit 0d15b42938e8325141bcb186b11fd91668ace439[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 13 15:51:51 2015 +0000

    Add additional diags when failing to program an interface.
    
    Fixes #871.

[33mcommit 10903cfca3a3b5db62529b2dbbcf162cd953881d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Nov 13 12:15:59 2015 +0000

    Pin pip version of networking-calico to 1.0.0
    
    This will make the mechanism driver move into networking-calico cleaner.

[33mcommit 4244e1200713bec49b58c38fcb826019c30c7edc[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Thu Nov 12 11:32:49 2015 +0000

    Make diags.sh use /tmp to gather diags together

[33mcommit 76a8c7a30fb9d3c48af8d4b84757c166109083e1[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Nov 10 15:35:15 2015 +0000

    Change diags collection dir name
    
    So that when you untar the diags, the hostname is included in the
    directory name.

[33mcommit 9c4cd35b110f2066ed6e7c93b3ce503f1ee2d30d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 12 18:39:18 2015 +0000

    Code review markups: don't stop the watcher unless we have to.

[33mcommit 2937a7d25e57e46d5b540e2ecbf9272631f67934[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 12 17:48:54 2015 +0000

    Code review markups: bound size of watcher queue.

[33mcommit 96df45d07b1a84e90149d386f0ccb9633cefe277[m
Author: Tom Denham <tom.denham@metaswitch.com>
Date:   Tue Nov 3 13:25:13 2015 -0800

    Update iptables references from protocol names to numbers
    
    Some versions of iptables don't understand protocol names
    (such as ipencap). Instead, protocol numbers are safer.

[33mcommit 1b41aa198634086c1ad14f3bcfb4370d7b4f3a48[m
Merge: f5888921 d0563d07
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 12 15:50:58 2015 +0000

    Merge pull request #888 from projectcalico/smc-fix-ipset-list
    
    Fix #887 incorrectly passed list to IpsetActor.

[33mcommit d0563d073511e33d69b8c1923558daad83d5e77f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 12 15:38:15 2015 +0000

    Fix #887 incorrectly passed list to IpsetActor.

[33mcommit d7f5d5ad3f8a4a502a7bde572266f8e69089b791[m
Merge: 76d43e46 12dd484a
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Nov 12 14:03:54 2015 +0000

    Merge pull request #885 from projectcalico/alexwlchan-patch-1
    
    Add dependencies to UT instructions in README

[33mcommit 12dd484a490948c616389c00dd18477990b65c7a[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Nov 12 10:02:10 2015 +0000

    Add dependencies to UT instructions in README

[33mcommit 76d43e46074f105d756a3534519f830ecc13d3cc[m
Merge: 89127463 b1c16faa
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Nov 12 12:51:58 2015 +0000

    Merge pull request #880 from projectcalico/smc-install-docs-rpms
    
    Remove manual install of python-etcd and posix-spawn from docs.

[33mcommit 8912746398d3cb63341624191e2c010b3d24fff3[m
Merge: 021fb5ff 4b3c9686
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Nov 12 12:26:19 2015 +0000

    Merge pull request #886 from projectcalico/lr2/issue_770
    
    Make diags.sh use /tmp to gather diags together

[33mcommit 4b3c9686773c58c216a7a09417b928d4766da88b[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Thu Nov 12 11:32:49 2015 +0000

    Make diags.sh use /tmp to gather diags together

[33mcommit d61de4a3aef32ea006f9bc9ccc30ffc0c7b981ec[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 12 09:37:19 2015 +0000

    Code review markups for concurrent resync function.

[33mcommit 7042961219eb3a7564fde74757f8cb383c5c88db[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 10:29:08 2015 +0100

    Add a delay to Actor scheduling when under load.
    
    This limits the maximum frequency at which we'll schedule each
    actor.  This:
    
    * Encourages batching when we're under load (while processing
      messages immediately when we're not).
    * Reduces starvation.
    
    In addition:
    
    * work around gevent issue where sleep() does not necessarily
      yield to another greenlet by calling sleep(0.000001) instead
    * reduce number of loop iterations before yielding to reduce
      starvation.

[33mcommit 986075cfaff54b7ce3670442c39bd9224f4dcec6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 10 17:30:11 2015 +0000

    Add --numeric to iptables command to avoid DNS lookups.

[33mcommit 2ca158908ec0d623cd686e621e82b7c4060bf8f0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 10 16:46:23 2015 +0000

    Rework driver tests to handle concurrent requests from old/new watcher.
    
    Improve shutdown mechanism.

[33mcommit 021fb5ffc2c8aa91505f92a252ecda2ff775d027[m
Merge: e3b3a1fd cf275c9e
Author: Lance Robson <lancelot.robson@gmail.com>
Date:   Tue Nov 10 15:41:58 2015 +0000

    Merge pull request #881 from projectcalico/lr2/hostname_in_diags
    
    Change diags collection dir name

[33mcommit cf275c9e60565860f1e5470d6b9d2ee03b9571d2[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Nov 10 15:35:15 2015 +0000

    Change diags collection dir name
    
    So that when you untar the diags, the hostname is included in the
    directory name.

[33mcommit b1c16faadc8e0f3b1348ab62d31e5a298b735be2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 10 11:07:33 2015 +0000

    Remove manual install of python-etcd and posix-spawn from docs.
    
    These are now avaiable as RPM dependencies.

[33mcommit e3b3a1fd6ab9e7bf33cf5ff2d4b69f4d5ec8c758[m
Merge: 29d43302 f322e1d2
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 10 09:30:06 2015 +0000

    Merge pull request #864 from projectcalico/remove-dhcp-agent-dep
    
    Do not require a DHCP agent on the target compute host

[33mcommit c7cc1be20d4ea4d0938b96609f2c50b6ebbeaf40[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 10 09:20:40 2015 +0000

    Update changelogs.

[33mcommit 025379c6ff145e39f18487104c38ae802fc7f3b2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 10 09:09:32 2015 +0000

    Add calico.etcddriver to list of tests in tox.ini.

[33mcommit 73f6c1e6d08ffd17f5ed49d091effa1f0682bc7c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 9 15:10:18 2015 +0000

    Update dependencies.

[33mcommit ec4aa175d623dcf0f1e1e60e1c8d17dcabfba5e5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 16:03:28 2015 +0000

    Cover splitter.py.

[33mcommit 8e10582cb4c8f62631e00df18bc0467304148b74[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 15:25:32 2015 +0000

    More coverage for driver.py and hwm.py.

[33mcommit 486798be99a6875410ff039a92484d768a2eebe9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 14:34:15 2015 +0000

    Convince PyCharm's linter that patch.object exists.  Removes many warnings.

[33mcommit d5fb12919b87afe161b3aa547512f42c57ed2f9b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 14:33:04 2015 +0000

    More coverage for driver.py and some minor fixes:
    
    * Only stop the watcher for resync when we've finished the previous
      resync.
    * Extra logging around join().
    * Fix non-determinism in FV test.

[33mcommit 0c326312e12b8da267645ddc634beb9fe20949c5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 10:48:08 2015 +0000

    Cover __main__.py.

[33mcommit d2dcb76858b3e09f9160bdb01056d19076128c7f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 10:28:33 2015 +0000

    Add etcddriver to coveragerc includes.

[33mcommit 6a9b9a0b3d820ddbc471a5759f28c6c95e93718e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Nov 6 10:26:15 2015 +0000

    Additional coverage for etcdutils.py.

[33mcommit 158a86a45afdb2e20d0b7e570c9452c5a6da5b40[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 19:17:25 2015 +0000

    More coverage for fetcd.py.

[33mcommit 526690858ab8edcd2e2144dfdaddc9c06415ef7b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 18:46:27 2015 +0000

    Cover dispatch functions in fetcd.

[33mcommit aaea805220df3753380298b36a3b0cf49564349e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 18:08:45 2015 +0000

    First batch of tests for new fetcd function.

[33mcommit 249769836f0898f9490d6867e136d00f489f7dea[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 16:24:34 2015 +0000

    Additional UT for etcd driver.

[33mcommit fd60353e8b36db6cc2436bf38c50b3b33e511604[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 15:23:18 2015 +0000

    Exclude new test files from coverage.

[33mcommit 53b3040d64b483eb7cb88ca11d9140bb700969ed[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 15:17:49 2015 +0000

    Remove now-unused force_reprogram flag.  Add UT for ipsets.py.

[33mcommit a24201e1f4924ac9e5c6b725d1a115d793b39c49[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 12:01:01 2015 +0000

    Add UTs for ProfileManager.

[33mcommit 078dd9474a9a477050f94a84245cb1ed05d29357[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Nov 5 10:38:12 2015 +0000

    Full coverage for EndpointManager.

[33mcommit 70a29797a092143c2f6eec400ef70ce3aa1d0cc0[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Wed Nov 4 21:06:21 2015 +0000

    Prevent accidental start of a real LocalEndpoint during test.

[33mcommit 08d4a89f39210542495e752d50921f2a4dc260cf[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 17:56:18 2015 +0000

    Minor fix: removing chains should be synchronous.

[33mcommit d32dbf59b30226ffd21168ccb633e0bfac5276a7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 17:56:07 2015 +0000

    Cover new EndpointManager function.

[33mcommit 69af1d459d592ba362fd15f678750ac56e950e17[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 17:54:28 2015 +0000

    Cover new config.

[33mcommit dc4c8d582ec300704db5e04384d9f8aa723ce024[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 16:33:34 2015 +0000

    Remove now-unused parse_if_* functions.

[33mcommit 2a072c5cae1e3571c6ddc22cec500fef4d6f2ab3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 16:31:31 2015 +0000

    Move stub code to own file.

[33mcommit 0096a1af06b7f91c841c6b8bfbe4c941201d8b0a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 14:36:21 2015 +0000

    More driver FV tests covering various error cases.

[33mcommit 513fd83a7cdf716e4bb807bdcd40cc7214d308a2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 14:35:46 2015 +0000

    Make timeout=1 the default for MessageReader.  Avoids accidentally blocking forever.

[33mcommit bd8189b5ab5c656b5662854b399a3b1ff45126e4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 14:02:46 2015 +0000

    Streamline driver test, avoid messy stack trace on success.

[33mcommit b1e6662ebe4624c4b9db0acbdbb104cf4fb47870[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 11:56:23 2015 +0000

    Cover remaining lines in protocol.py.

[33mcommit dcd3df0ae3ac5ba9c3036c01a455b59dd6ec5df1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 11:11:45 2015 +0000

    Add UTs for protocol.py read/write function.  Minor fix to reader.

[33mcommit 389456f5b80ba6d3c3488f1febeda2ea2dca4e03[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Nov 4 09:38:06 2015 +0000

    Minor cleanups; get driver tests working with other tests.

[33mcommit 99cec92e255e3e3360ffa718c5a48465c9ef1e44[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 17:23:24 2015 +0000

    Add FV-level test for mainline resync processing in driver.

[33mcommit b93c1311e0074ab29703e63cee1c75bbd0d7cbc9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 17:22:50 2015 +0000

    Record ready flag in HWM cache so that we spot if it disappears.

[33mcommit 725a9f43e9e7c0f02ce324973768efe1e111e705[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 17:22:03 2015 +0000

    Minor fixes: prevent blocking forever on events.

[33mcommit be9fe6cae2ee5d187df33e816b6f0157e711df37[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 17:20:52 2015 +0000

    Fix thread shutdown; make sure threads are daemons and join them correctly.

[33mcommit d53d97e0b2e8b5bc92bad4c9ecab84eac984232e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 14:01:49 2015 +0000

    Add initial FV-level test for driver.

[33mcommit 053d1352ae1af4a4ff2a7320ba5a08930889c05c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 13:38:47 2015 +0000

    Fix hard-coded URL for etcd.

[33mcommit ef80e3ae8afcac86b31c89704d2e68fd84d947e2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 11:24:28 2015 +0000

    Factor out shared request logic in driver.

[33mcommit 5f838f539936b8c46c4bfcdf1ddf82fcd2e161df[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Nov 3 10:56:27 2015 +0000

    Add UTs for HWM tracking.

[33mcommit a853baa2ec02f45a577e7a94064fc87cac19d131[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 17:35:48 2015 +0000

    Add comments to HWM tracker.

[33mcommit 999c2d917458c6041e8a5e06aebfb4f48c49c880[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 17:02:26 2015 +0000

    Make URL calculation common; other minor cleanups.

[33mcommit 1f1b7f44715fcd5e121f45580ca46f031f2fb8fe[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 16:16:21 2015 +0000

    Remove fake stack and use function calls instead.

[33mcommit 59244e6763b9db791ca6a6fb8a9d13e7fa47778c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 15:24:42 2015 +0000

    Set syslog executable name in driver.

[33mcommit 67dd8106323aa0a2d3182b301fb4c7bbd504c7fd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 15:10:15 2015 +0000

    Add configuration for driver's log file location.

[33mcommit 8bb53c69bd9b2876e17b502f7d70fdb8fec0c4db[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 14:59:12 2015 +0000

    Fix up imports.

[33mcommit 15dad50b3ff6691e955bc264c4d32de1c2fb7d9a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 14:50:37 2015 +0000

    Refactor driver to use MessageReader/Writer classes.

[33mcommit f3ce0d3b748ff2f42ecf09df10cafb2a414369cb[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 14:00:35 2015 +0000

    Move Felix socket handling into utility classes.  Clean up EtcdEvent class.

[33mcommit 6c56d3c8d2056ba5b01d270729f99912bad57781[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 2 13:10:05 2015 +0000

    clean up fetcd.py.  Add stats, comments and logging.

[33mcommit fa5ef318c4a9661c7b0694f69ac3fbc265904881[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 16:56:12 2015 +0000

    Fix UT broken by variable rename.

[33mcommit e02cbaaabe2757b7cbbff63764dd6edd7da2879e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 15:39:05 2015 +0000

    Trigger resync if the whole /calico/v1 directory disappears.

[33mcommit ed037c8736e0bd4d094cb8732610e14391b38fa2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 15:17:49 2015 +0000

    Ensure start-of-dat cleanup only runs once when we Felix moves to being in sync.

[33mcommit e3a946f44c3f257d5cbb84b18801407ff11dd9c3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 15:17:13 2015 +0000

    Make sure status messages are flushed immediately.

[33mcommit 5eae9ed4a2cf31079aa76d65b5b960a303a7cc43[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 14:49:59 2015 +0000

    Fic incorrect use of send() vs sendall().

[33mcommit 906a0e5b29f8638ff9ae8c934980fb3b8f7d4199[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 14:49:49 2015 +0000

    Implement periodic resync.

[33mcommit f8691f41015b1b199d8de9dbe7b6e57a99bf9463[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 12:08:46 2015 +0000

    Tidy up fetcd.py:
    
    * FelixEtcdWatcher no longer an EtcdWatcher subclass.
    * Move status cleanup to the StatusReporter.
    * Remove ResyncRequired exception.

[33mcommit 73ae15ad1c83abb5b114d75b978fc2c812e759a9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 27 11:20:08 2015 +0000

    Fix python-msgpack version.

[33mcommit b2dbd9645e6e91c686e34f7cb7d9f92400f0b686[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 26 16:03:11 2015 +0000

    Trigger status cleanup and hosts ipset updates from in-sync message.

[33mcommit 2a7afe4ae44630b1af067d2e6fc48c94afd89ff4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 26 13:42:58 2015 +0000

    Rev build number for upgrade testing.

[33mcommit 0f08fa1099814f9e3be6bfa91189d6a6c060b93f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 26 13:23:10 2015 +0000

    Add versions to felix_requirements to match built packages.

[33mcommit c9875eac5a55b52375ead74d38e92ccee864ab90[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 17:04:27 2015 +0100

    Add msgpack dependency.

[33mcommit e3314bbd6884e91f63e2e152321c0eeceb340af6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 17:04:07 2015 +0100

    Fix that in-sync was logged at error.

[33mcommit 79597209baaa0381e47be7e330a8a64c84e422f9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 16:49:34 2015 +0100

    Defensive: encode keys that use characters not allowed in the trie.

[33mcommit 5b3d47678f83b55fa2f75219146b5459fe78a188[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 16:08:30 2015 +0100

    Defensively check for process adoption in driver.

[33mcommit f46deebc42d19fe274c721b8296f83dd8c93611b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 15:10:14 2015 +0100

    Add new deb dependencies.

[33mcommit 948be71d263489b5267a75895e0e4d8ae169ad9d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 15:07:26 2015 +0100

    Fix up tests, remove now-invalid tests.

[33mcommit 12d914dde85603dffe0cfa02f5afcec5113d1d42[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 14:14:20 2015 +0100

    Only log tag update message if we actually updated tags.

[33mcommit c52d2ea8ff26a4367da9c3261f0cfc562367832d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 13:56:45 2015 +0100

    Make Felix's etcd watching thread more cooperative.

[33mcommit 3939686d0eb0002a253c554c451491803deb1f8e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 23 11:57:54 2015 +0100

    Block ProfileRules startup until we're in sync.
    
    * Override _maybe_start() to block startup until we're in sync.
    * Retry startup after in-sync message.
    * Change IpsetManager to use consistent approach.

[33mcommit 678c601efab340f4d3b796952e9b874d25dd31f3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 16:11:18 2015 +0100

    Implement EndpointManager/DispatchChain in-sync processing.

[33mcommit 2c7b9f9f5ee8ea11e8754789a7f0f869e6d333ae[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 15:25:56 2015 +0100

    Implement in-sync handling for tag manager.
    
    * Plumb through in-sync message.
    * Defer programming of TagIpsets until we're in sync.

[33mcommit d253497a90a5b7ddaf5e2314789644ef299bb67f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 15:24:50 2015 +0100

    Rename driver handler methods.

[33mcommit 2f417096e22c80b39f65b1098b58d8cfb503b887[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 14:17:39 2015 +0100

    Cleanup: remove now-unused code.
    
    We no longer need to handle directory deletions in Felix because the driver does that for us.

[33mcommit 8469f744e1083b8a7759a1ba0169c5af6390637f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 13:33:44 2015 +0100

    Pull out protocol constants into new file.

[33mcommit 4ecd913e51e64d6b1fcdcdf7a8508e2e66df0d2c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 13:20:17 2015 +0100

    In driver, trigger resync if ready key is unset.

[33mcommit ad968cf055d8607ac8bcccf9975930c0f2946cc1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 13:19:02 2015 +0100

    Do not handle any updates from driver until begin_polling is set.

[33mcommit 70dec6973c087e0c9fe0906e26034c0f0068f074[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 22 10:54:40 2015 +0100

    Allow ':' and '.' in etcd keys.

[33mcommit 6eaab109d48c3f3ae93b531806ba9b93696c65ad[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 17:57:04 2015 +0100

    PReliminary requirements update.

[33mcommit 59881a8c0d289431390afe6730f8ad11210f40f1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 17:40:49 2015 +0100

    Suppress error when reads time out on a watch.

[33mcommit 67883613c9e3ee62d3d4f48b75dda048c43a81d1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 17:38:11 2015 +0100

    Check cluster ID on etcd responses.

[33mcommit 373a57a948b4a37f96981c2a02ff00e042cfbf46[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 15:48:58 2015 +0100

    Handle HTTP and etcd errors in watcher loop.

[33mcommit 8c5cd41f33eb645628405ebc6f850f45e1fe77c6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 15:07:15 2015 +0100

    Handle errors from etcd when loading snapshot.

[33mcommit 4360085f94a6534e23b48eea32d0496cf75a4691[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 15:07:00 2015 +0100

    Minor cleanups: logging and comments.

[33mcommit 1119d831cda21868afb73ea0320e59c1ccb82f90[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 14:35:28 2015 +0100

    Driver now sends status messages to Felix.

[33mcommit 652803e0d38a45120537c1daef5b8a41183762db[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 14:03:32 2015 +0100

    Pass config back ot driver once it's been validated.

[33mcommit 0fade39ed9affc7b04e97b24f734e236b3dc2905[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 20 17:15:55 2015 +0100

    Move Ready key check and config loading to driver.

[33mcommit ee41ab685752c8e48f4c4c987cf2fb313c542b69[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 20 16:02:24 2015 +0100

    Refactor etcd driver into a class.  Add init message.

[33mcommit ffd190f71565cf5e4acc02179af1425b003a8411[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 20 11:40:02 2015 +0100

    Experiment: use a BytesIO to avoid calling sendall as often.

[33mcommit b744f4df31bc16f11df8f681242ae43b2958ac39[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 20 11:39:10 2015 +0100

    Use /run/felix-driver.sck for socket.

[33mcommit 143fa0570a3706c7d7ccd415ee6a96eed1a9cfe8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 19 16:50:05 2015 +0100

    Optimization: avoid trie lookup for most events.

[33mcommit 63a367a0531f1240bc87b34672e2d3c36fee4fb3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 19 15:39:42 2015 +0100

    Move complex HWM calculations into a dedicated class. General tidy-up.

[33mcommit 540790d3e0f1b5d733de9f0210ba766b5b436447[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 19 11:50:58 2015 +0100

    Work in progress on productising etcd driver.

[33mcommit 3db781ca163df4f2cf8cda2dd5f0ce875e6f285f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 16 18:13:25 2015 +0100

    Move gevent-specific function to geventutils. Set up logging in driver.

[33mcommit 6d592d3568cf3ab321a7ab2c39f8c32d9006c67a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 16 15:37:08 2015 +0100

    Move etcd driver code into own package, Felix now starts the driver.

[33mcommit 64771357229869c304411610f952e7a47f69a3aa[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 16 13:47:08 2015 +0100

    Move etcd driver into its own package.

[33mcommit c1752378402d9a1ae67647cded2e7d0cdb95d0c5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 16 13:38:59 2015 +0100

    Prototype etcd driver process, replaces etcd watch loop.

[33mcommit 29d4330215ae87ff7ca506371867f8c474ec0ca6[m
Merge: bc877575 af205cb3
Author: Paul Tiplady <paultiplady@gmail.com>
Date:   Mon Nov 9 15:51:39 2015 -0800

    Merge pull request #878 from projectcalico/smc-add-rpm-deps
    
    Update RPM dependencies to include newly-built packages.

[33mcommit bc877575afd9b4e920e8b2b9ab30fd2091224eaf[m
Merge: badbd1e1 178c3980
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Nov 9 17:32:42 2015 +0000

    Merge pull request #877 from projectcalico/smc-rev-coverage
    
    Rev coverage in tox; ensure code runs with correct concurrency type.

[33mcommit af205cb386d6ebcb2e1216ec9283419f811c26f5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 9 17:07:05 2015 +0000

    Update RPM dependencies to include newly-built packages.
    
    Add additional dependencies that were missing.

[33mcommit 178c39806204e5cbe93a4520be464e6afd341a95[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Nov 9 13:35:03 2015 +0000

    Rev coverage in tox; ensure code runs with correct concurrency type.

[33mcommit f322e1d26a5f016f9c1d9c8e8727d5c23c293382[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 9 11:34:31 2015 +0000

    Fix typos

[33mcommit badbd1e1d15798c1d21506a435bccbb6a37337cc[m
Merge: 22e747bb 62173562
Author: Alex Chan <alex@alexwlchan.net>
Date:   Fri Nov 6 16:47:01 2015 +0000

    Merge pull request #870 from projectcalico/eph-docs-tweaks
    
    Fix missing closing parenthesis

[33mcommit 6217356259e173eeaf918c786cc10df127d7ab75[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Nov 6 16:36:52 2015 +0000

    Fix missing closing parenthesis

[33mcommit 22e747bbe5c4f12463a472cd1d79c73b890ff25e[m
Merge: 91949d28 62c45f3e
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Nov 4 17:36:30 2015 +0000

    Merge pull request #867 from projectcalico/fuel_plugin_repo_move
    
    Update link to fuel-plugin-calico repo for move from stackforge to opâ€¦

[33mcommit 62c45f3e03380b6af34df53b3136aea663998d70[m
Author: Emma Gordon <emma@projectcalico.org>
Date:   Wed Nov 4 17:11:48 2015 +0000

    Update link to fuel-plugin-calico repo for move from stackforge to openstack namespace

[33mcommit 91949d289b47c803d3d0b29e6317e6468b3ead38[m
Merge: ded523f3 8b1200aa
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Nov 4 08:51:51 2015 +0000

    Merge pull request #866 from projectcalico/iptables-protocol-number
    
    Update iptables references from protocol names to numbers

[33mcommit 8b1200aa1eac86b6ee067ead6640f24915a5a30b[m
Author: Tom Denham <tom.denham@metaswitch.com>
Date:   Tue Nov 3 13:25:13 2015 -0800

    Update iptables references from protocol names to numbers
    
    Some versions of iptables don't understand protocol names
    (such as ipencap). Instead, protocol numbers are safer.

[33mcommit 11048e9aa570fe251cbf83f77a830fdd21e6db6e[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 3 16:57:09 2015 +0000

    Remove bind_port unit test that is no longer valid

[33mcommit 2803576fe968c5ad4e6255f1c291500adb86e95f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 2 16:38:23 2015 +0000

    Do not require a DHCP agent on the target compute host

[33mcommit ded523f3bca2e71bc388fc6b025621eb59aef849[m
Merge: cc76b7eb 833924dc
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Oct 28 20:31:41 2015 +0000

    Merge pull request #858 from projectcalico/alexwlchan-patch-1
    
    Fix typo in calico.felix.config

[33mcommit 833924dcaa1d34a115a8dc64c280ed6b13490d86[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Mon Oct 26 16:43:16 2015 +0000

    Correct exception log in calico.felix.config

[33mcommit cc76b7eb44d5a33e3ffb511bdfa2ac1bf66025d4[m
Merge: 96d684de 370b1ee0
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Oct 27 17:16:18 2015 +0000

    Merge pull request #861 from projectcalico/smc-reinstate-ipset-fix
    
    Reinstate ipset size increase

[33mcommit 96d684de866561eaf4ea7043c83fc64f763f1dc1[m
Merge: f5888921 1233d248
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Oct 27 09:18:52 2015 +0000

    Merge pull request #863 from projectcalico/more-badges
    
    Add Slack and IRC badges

[33mcommit 1233d248fa5a4e7f4e9a0f6c8ca270310d7726f6[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Oct 27 15:41:37 2015 +0900

    Add Slack and IRC badges
    
    Add more badges, like the calico-docker repo

[33mcommit f588892156a9324483db9e79188ba0cf17ce9df5[m[33m ([m[1;33mtag: 1.2.0[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 26 19:18:31 2015 +0000

    Version 1.2.0

[33mcommit 33017128545791063190018bcfe54946d33655dc[m
Merge: e7be303c 397b52e1
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Oct 26 18:16:11 2015 +0000

    Merge pull request #862 from projectcalico/version-1.2.0
    
    Version 1.2.0

[33mcommit 397b52e1a13d187f2de0695f9d13fca7f61bf177[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 26 18:07:53 2015 +0000

    Version 1.2.0

[33mcommit cf4e439a098b310f85a0263d23c43fd375feafb4[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 26 17:56:13 2015 +0000

    Version 1.2.0~rc1

[33mcommit 370b1ee08309ff47a092c435e0846970db460a59[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 26 17:20:45 2015 +0000

    Fix upgrade issue caused by creating ipset with differing parameters.

[33mcommit dc81c8c98fdc50f75309be37195b6d7752065141[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 26 17:39:23 2015 +0000

    Revert "Revert "Increase default maximum size of ipsets and make configurable.""
    
    This reverts commit 2926344218f0bae6a245549ce69876a3dad78350.

[33mcommit e7be303c478087615da8fe1c667a3e7b3cdbda5c[m
Merge: 96e1b461 29263442
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Oct 26 17:37:36 2015 +0000

    Merge pull request #860 from projectcalico/revert-844-smc-fix-ipset-size
    
    Revert "Increase default maximum size of ipsets and make configurable."

[33mcommit 2926344218f0bae6a245549ce69876a3dad78350[m
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Oct 26 17:34:10 2015 +0000

    Revert "Increase default maximum size of ipsets and make configurable."

[33mcommit 96e1b461dbdcf61acd1fa4ded20ce6e3297a49b3[m
Merge: 2ba374c9 88695daa
Author: Dave Langridge <dave.langridge@metaswitch.com>
Date:   Mon Oct 26 13:30:13 2015 +0000

    Merge pull request #857 from projectcalico/liberty-centos
    
    Liberty centos

[33mcommit 88695daa4e968116d8e343e3711e72ff647d9d95[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 26 12:28:53 2015 +0000

    Remove superfluous ``__

[33mcommit 2ba374c9dc5522db0259ed4face73b3fe17573b6[m
Merge: d343a488 167ccc3e
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Oct 23 18:01:24 2015 +0100

    Merge pull request #850 from projectcalico/smc-fix-missing-oper-down
    
    Report interface oper down for interfaces that we've never seen up.

[33mcommit 926050b357893d25e0d4b48232e0deabf3d1729d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 17:41:40 2015 +0100

    Install python-etcd 0.4.2+calico on EL7 (although requirements are only for 0.4.1+calico to work around a bug in early setuptools)

[33mcommit 2e81df221bea52aa4cac0b740c149ce156607555[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 17:36:48 2015 +0100

    Finish EL7 Liberty install instructions

[33mcommit fb952c295d677cc01fe615f536bf044eff5826cf[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 15:05:06 2015 +0100

    Deprecate inconsistent 'rpm' repo for Juno in favour of 'rpm_juno'

[33mcommit 3324ef245b8a9fe14edc856cf732f2255ec4381f[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 15:04:08 2015 +0100

    Start updating EL7 install doc for Liberty

[33mcommit d343a488762f5f1cfcb2ffd9fd7d89ca90ef9ab2[m
Merge: 4984997f a9d7a6ab
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Oct 23 17:35:01 2015 +0100

    Merge pull request #856 from projectcalico/revert-843-smc-rev-python-etcd
    
    Revert "Rev python-etcd to 0.4.2."

[33mcommit a9d7a6ab8ac503a6c202666195c8daa1f08f0ea5[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Oct 23 17:34:54 2015 +0100

    Revert "Rev python-etcd to 0.4.2."

[33mcommit 4984997f0f99ea01f12df2dfb9529fe004bf6b69[m
Merge: 353324a8 08cdbcee
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Oct 23 15:32:40 2015 +0100

    Merge pull request #843 from projectcalico/smc-rev-python-etcd
    
    Rev python-etcd to 0.4.2.

[33mcommit 353324a8baeb5ddd4922c65a32922c17f91f288e[m
Merge: 79d9cba3 58d7dffa
Author: Dave Langridge <dave.langridge@metaswitch.com>
Date:   Fri Oct 23 14:20:03 2015 +0100

    Merge pull request #855 from projectcalico/liberty-ubuntu
    
    Update Ubuntu install documentation for OpenStack Liberty

[33mcommit 58d7dffab3e3f41d91dd4042d6779b0d929c94b0[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 11:51:46 2015 +0100

    Upgrade dnsmasq before restarting DHCP agent

[33mcommit aaa445320c1a2cb2e0ff42164913606f46223a9c[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 11:42:43 2015 +0100

    Clarify that upgrade is still needed for Liberty

[33mcommit 884ce16d633e8917c75bb625cb22ee8323c75abf[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Oct 23 11:22:55 2015 +0100

    Use 'stable' as Liberty+ PPA name

[33mcommit 050c8efe2d7fd8de24c41b0f4a552281c6975035[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Oct 22 16:01:41 2015 +0100

    Quotes work better when you close them

[33mcommit f2616cf4a14ed3b8e85515fc275ba9bb5c90129f[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Oct 22 15:55:18 2015 +0100

    Update Ubuntu install documentation for OpenStack Liberty

[33mcommit 79d9cba3b13ad078b19a9eabb52f1cafc52a1a01[m
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Oct 21 15:58:38 2015 +0100

    Update changelog

[33mcommit 08d0eff8207ec95a299f1c26af24151b68b1d16c[m
Merge: 42f545f4 91805bb3
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Oct 21 15:54:20 2015 +0100

    Merge pull request #844 from projectcalico/smc-fix-ipset-size
    
    Increase default maximum size of ipsets and make configurable.

[33mcommit 167ccc3e912028eaf55d9582e7a6b5a9f0083204[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 21 11:58:28 2015 +0100

    Report interface oper down for interfaces that we've never seen up.
    
    Closes a race where the LocalEndpoint reads that the interface is
    up at start of day but then it subsequently goes down.

[33mcommit 42f545f46c9d01029c1f2605d22f3bc6941cf5f4[m
Merge: 25524409 9c24c0ce
Author: Alex Chan <alex@alexwlchan.net>
Date:   Mon Oct 19 18:52:45 2015 +0100

    Merge pull request #845 from projectcalico/smc-trunc-syscall-log
    
    Truncate long stdin/stout/stderr output from failing commands.

[33mcommit 25524409c171c34815e29a91e926c8be8f7b8f72[m[33m ([m[1;33mtag: 1.2.0-pre2[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 19 17:44:11 2015 +0100

    Version numbers should increase

[33mcommit 24d485963f0c4affd14ed8f3d2bdda6a25f71c8f[m
Merge: cdee9d4c 3308510c
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Oct 19 15:49:59 2015 +0100

    Merge pull request #847 from projectcalico/release-1-2-0-pre2
    
    Version 1.2.0-pre2 (now with correct spacing)

[33mcommit 3308510c64b2321171c38a2d1e4244c3b87241da[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 19 15:46:23 2015 +0100

    Version 1.2.0-pre2 (now with correct spacing)

[33mcommit cdee9d4c32926d6c78e1089881385481b6d3c3ea[m
Merge: fa879ee7 eb2695ff
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Oct 19 15:36:35 2015 +0100

    Merge pull request #846 from projectcalico/release-1-2-0-pre2
    
    Version 1.2.0-pre2

[33mcommit eb2695fff7c1cd121c3171de948a8a0677cb0b00[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Oct 19 15:33:21 2015 +0100

    Version 1.2.0-pre2

[33mcommit 9c24c0cecf01a481b1240ca504efc0911cac4f26[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 15 16:04:08 2015 +0100

    Truncate long stdin/stout/stderr output from failing commands.
    
    Fixes #769.

[33mcommit 08cdbceed7ae62e17d96eba3ddca0ab047e00f02[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 14 17:37:36 2015 +0100

    Rev python-etcd to 0.4.2.

[33mcommit 91805bb313e2e3214f67a2194b95b205b6b9ed72[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 15 14:34:44 2015 +0100

    Increase default maximum size of ipsets and make configurable.
    
    Fixes #768.

[33mcommit fa879ee78a015d27ac80e73bd39707be97ec4496[m
Merge: b78d52ab 90fb77ef
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Oct 15 13:32:17 2015 +0100

    Merge pull request #842 from projectcalico/multinode-devstack
    
    Multinode devstack

[33mcommit b78d52ab3702bdbd9c857a722200dcdf5eed6c73[m
Merge: 7d1427d5 01fca533
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Oct 15 11:09:02 2015 +0100

    Merge pull request #822 from projectcalico/smc-per-port-status
    
    Add per-port status reporting to Felix and Neutron driver

[33mcommit 90fb77ef0a4bea408afd5a9b6f69a3e6afaf4f62[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Oct 15 10:41:32 2015 +0100

    Include new BIRD mesh script in Debian and RPM packages

[33mcommit 4ae031dcc300958c5d6740ac8a37992d0a2042f8[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Oct 14 17:53:42 2015 +0100

    Enclose BGP protocol name field in single quotes

[33mcommit 7d1427d5dea972f119c1abca30dca47fbd351496[m
Merge: 67b41ae1 b04d9964
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Oct 14 17:33:41 2015 +0100

    Merge pull request #835 from projectcalico/smc-fix-dependency
    
    Move python-etcd dependence to calico-common.

[33mcommit da1803cd1fe757c19761128401b2fe0826b40f7b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Oct 14 16:58:33 2015 +0100

    Allow caller to specify where BIRD config templates are

[33mcommit 77e9f84e3e81f90ba79a5da222cacb0b9e29c3ed[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Oct 14 16:58:05 2015 +0100

    Allow invocation with no peers

[33mcommit 2973430e6a28b59daf0d4f396326ae10de0958b7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Oct 14 11:38:48 2015 +0100

    Add script for generating BIRD IPv4 mesh config

[33mcommit d69cf21e4f8f70b38e5974fc37c13c86590517b5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Oct 14 11:33:53 2015 +0100

    Move BIRD IPv4 peer config to separate template file

[33mcommit 2b89bc12533850f7a3fc6f80cc9ff30b9af36aaf[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Oct 14 11:32:13 2015 +0100

    Fix 'relector' typos in BIRD config scripts

[33mcommit df2defc10f56954be37edd9ecccd19f7f28377fe[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Oct 13 18:10:19 2015 +0100

    Use latest version of Neutron charm with simplified OIL friendly configuration

[33mcommit 01fca533cb0f4fa6925ee7c1d0aa2beda7b9f7b7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 13 17:03:16 2015 +0100

    Code review markups.

[33mcommit 104ef1c72c0200bf9739f870c9ab4c6f1b19cc9e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 13 10:48:48 2015 +0100

    Mock out sqlalchemy in the UTs.

[33mcommit 3ae73c89609784d57b34fe8111dd31db8ee4c5ff[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 13 09:41:03 2015 +0100

    Fix up UTs and defensively catch DBError.

[33mcommit ad9c6367745354766acba471b11ded9797af2759[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 13 09:34:38 2015 +0100

    Tune logging to avoid multiple info logs for each endpoint deletion.

[33mcommit 8fe3651d5536daa2bf2a4e283e0bb5c9b3d111d7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 13 09:34:12 2015 +0100

    Take an update lock on the port to avoid race in update_port_status().

[33mcommit ce4de6a4dc86a6eec9478d6e35ce9eb49fed9f01[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 13 09:33:38 2015 +0100

    Fix db package import on Juno.

[33mcommit 94e22660e99b1f43cc4cde181e154922dda3cb32[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 9 17:12:05 2015 +0100

    Ensure iptables gets refreshed when interface state is changed.

[33mcommit 2b576fb9b8de05f9dd43d5054b79664632ffdc8c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 9 15:13:20 2015 +0100

    Fix resync() to correctly interpret _endpoint_status.

[33mcommit 55be278c9ba69a18c4d72f7ae3b25f9131b3304d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 9 13:10:44 2015 +0100

    Retry on DBError in on_port_status_changed().

[33mcommit b04d9964a8daf7f1b42caaa7ec9ebbbd8923259c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 16:15:53 2015 +0100

    Move python-etcd dependence to calico-common.
    
    Prevent upgrade of the actual Calico code unless python-etcd
    is also updated.
    
    Fixes #812.

[33mcommit 67b41ae124e91af93fa4423a3c51e4d533b2a04f[m
Merge: 2b787d56 6c7d1eba
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Oct 8 15:32:59 2015 +0100

    Merge pull request #840 from projectcalico/awlc/ut-extensions
    
    Quick improvement to UT coverage

[33mcommit 02532fe249a7ef5fe0de00ff38602460fdc5c488[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 8 15:24:58 2015 +0100

    Fix that interface wasn't deprogrammed when interface set admin down.

[33mcommit 2b787d5695d767d09d5d067a95d48e104908c988[m
Merge: 6936e8e3 af39cc39
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 8 15:19:18 2015 +0100

    Merge pull request #841 from projectcalico/smc-use-deque
    
    Use a deque for the Actor's event queue.

[33mcommit af39cc3977d364a1a9b7736d751ed8dbebcfca46[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 8 13:51:26 2015 +0100

    Use a deque for the Actor's event queue.
    
    deque.popleft() is much more efficient than list.pop(0).

[33mcommit 6c7d1eba531604f77d5fd12d2638bdcd86a78fad[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu Oct 8 09:58:15 2015 +0100

    Extend the coverage of calico.felix.devices
    
    This adds the (previously uncovered) case to check that
    interface_up returns False if it hits an IOError trying to read the
    /sys/class/net/<if_name>/flags file, and tidies up the name/docstring
    for the two related tests.

[33mcommit 6936e8e3b1ee1d5af417445aea0d037b74df91a9[m
Merge: 375377b9 37e6275f
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 8 09:41:19 2015 +0100

    Merge branch 'smc-use-logging-disable'

[33mcommit 37e6275f7acba914010256fc6320d1a8bbe3bf63[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 8 09:39:58 2015 +0100

    Make it clear that logging levels can be None.

[33mcommit 375377b93bfbeb49b4111c83aec7b8761d90086f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Oct 7 14:46:17 2015 +0100

    Code review markups.

[33mcommit f011c4b2d28fd2f3988cd75db51a01202cca0954[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 6 17:13:53 2015 +0100

    Optimization: use logging.disable() to set logging level.
    
    This reduces the overhead of each logging call.

[33mcommit 447949cc84417beaa49780cd9a63eb7618740681[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 6 17:03:50 2015 +0100

    Make message ID more easily greppable.

[33mcommit 25cc2f6ad3458806d2e8c2aa565c6ddc7e847333[m
Author: Shaun Crampton <shaun@cantab.net>
Date:   Sat Sep 19 21:40:08 2015 +0100

    Optimize actor message passing.
    
    * Remove UUID generation, which is expensive.
    * Replace Queue with a list and direct switch calls.  Queue supports
      multiple readers, which adds a bunch of overhead.
    * Only calculate caller information if debugging enabled.

[33mcommit d8bf5efa26b1d3e85bff777f54c7e2f5846271b3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 6 13:45:59 2015 +0100

    Improve comment in datamodel_v1.py

[33mcommit 1f9a05a73f6fd0aa926e4cd47cc478cb926d9584[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 6 12:11:10 2015 +0100

    Combine status reports from IPv4 and IPv6 LocalEndpoints.

[33mcommit 7eede1885bfc90edf9eb05b020132614fa736bea[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 6 11:28:30 2015 +0100

    Minor code review markups.

[33mcommit c9e9191dbc7639fd850148d3e51f4d61570d3187[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Oct 6 09:01:17 2015 +0100

    Split status reporting function out into EtcdStatusReporter actor.

[33mcommit 0a614ddf97d95923f4715ca61e05d1aab8f19af2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Oct 5 13:48:02 2015 +0100

    Report interface oper state into etcd.

[33mcommit 194cd1b2fae087531b0c79e48834adfb3ed2572f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Oct 2 09:04:55 2015 +0100

    Update changelog.

[33mcommit 6b7aec73dd3355298c2d17a0895631cc5391e8ad[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 1 08:44:03 2015 +0100

    Fix missing log argument.

[33mcommit 4b4518b0afcf27436a496481e276245a96bf1222[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 16:10:27 2015 +0100

    Fix that parent dirs weren't deleted when felix removed a status.

[33mcommit 62f3217f367bd8a78a3f30104471cdf87030b524[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 14:04:55 2015 +0100

    Additional UTs for t_etcd.

[33mcommit faa7f29212c716c7f668eb89510f4decf0639818[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 12:22:00 2015 +0100

    Add additional UTs for t_etcd.py.

[33mcommit 68cf90d1a96d0e43ea22aabe013b8a260f06f329[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 11:58:04 2015 +0100

    Fix that on_status_del was not registered as a handler.

[33mcommit e956c780fd926b8cc8babf5075dff92d0f268414[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 11:35:36 2015 +0100

    Minor fixes and additonal UTs.

[33mcommit 031f6daf66e0d85566eb3cd6a9e09613cfc431c2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 11:05:02 2015 +0100

    Add UTs for LocalEndpoint._maybe_update_status.

[33mcommit d7b5e4d38e2f6abc7add3b9ec19cd18fd0474dc0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 11:04:48 2015 +0100

    Track whether we've ever seen a device in-sync.

[33mcommit 04906fb7bbcc37251a7bbef58fbed9c09c79a500[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 17:56:40 2015 +0100

    Add UTs for Felix per-port status writing function.

[33mcommit 275c9b7566f83ab823c0dd92c1d14b5d11eb900c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 15:44:13 2015 +0100

    Fix typo in variable name.

[33mcommit 8da4cf1fc06b78efaeff272cbb1825a69a8fb16e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 14:31:25 2015 +0100

    Fix up UTs.

[33mcommit 032bf398938d8686e4e0a49ad29c627a51fd3e91[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 14:15:39 2015 +0100

    Track felix liveness during resync so we report endpoints as down if felix is down.

[33mcommit 98fdfc682c4302324037344c10b9f84d13e6e028[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 13:25:39 2015 +0100

    Track known endpoint IDs for generating delete events.
    
    Etcd only gives us one event when a whole dir is deleted,
    keep track of what was in the dir so we can simulate a delete.

[33mcommit f0bcf964fe4b939ba4d40dfa645f798d516d053b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 11:52:40 2015 +0100

    Add configuration for endpoint status reporting.

[33mcommit 7d9b797664ddd0c0dea1a3df31f221d7196251b1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 11:52:00 2015 +0100

    Implement cleanup of endpoint status keys in felix.

[33mcommit 756cfed8e05dfe04d46376e4c97bc2a3622990d4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 11:21:57 2015 +0100

    Add utility function to delete empty parent dirs from etcd.

[33mcommit 4351ddac6755944d0db8d8762737d2e83a8a1146[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Sep 28 14:37:52 2015 +0100

    Minor tidy-ups.

[33mcommit da4c5b11e9cd966c0e810a7f659f4ca9cbc44ae4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 24 16:03:50 2015 +0100

    Remove incorrect comment.

[33mcommit 8e8184baf9301644d348a25611ff4a0721a9dfbe[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 23 17:30:22 2015 +0100

    Add start-of-day resync for felix per-port status.

[33mcommit c50e88e8776014cff6b479397d9e309e4b469d5d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 23 17:24:53 2015 +0100

    Fix start-of-day error caused by no endpoint status dir.

[33mcommit f9013990f3a798e5092278966db1b5b59f9ecdc3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 23 16:07:32 2015 +0100

    Add per-port status reporting to neutron.

[33mcommit c5e7335f011f27177fc8cf56192fcb3495b25e9f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 23 15:48:14 2015 +0100

    Report up/down/error for port status, move those constants to datamodel_v1.

[33mcommit 3578f92c47a61f8d00b0a781ea84afe7333969a7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 17 16:13:10 2015 +0100

    Very rough first-stab at per-port status reporting.

[33mcommit 2d677db3cef415fd13da518b94ab509ea535c144[m
Merge: ac7c06bb ade4235f
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Oct 6 09:14:05 2015 +0100

    Merge pull request #833 from projectcalico/smc-ensure-rp-filter
    
    Set the kernel's default rp_filter setting for new interfaces to strict.

[33mcommit ade4235f83d13a9a825cdbbcfe157f201166ea86[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 30 15:36:35 2015 +0100

    Set the kernel's default rp_filter setting for new interfaces to strict.
    
    Closes a race with felix configuring the interface.
    
    Fixes #806.

[33mcommit ac7c06bb591fcdf0854324fa82702f5ad5586966[m
Merge: 592cff8a ecbfaa51
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Oct 5 17:48:45 2015 +0100

    Merge pull request #837 from projectcalico/smc-optimize-ipset-index
    
    Reduce Felix's ipset index occupancy.

[33mcommit ecbfaa51259ff9e46738669b3d0596c1af918c1e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 09:42:45 2015 +0100

    Reduce Felix's ipset index occupancy.
    
    Replace two layers of index with one layer of tuples and
    only store a single tuple instead of set of tuples when
    there's only one entry.

[33mcommit 592cff8a35bc67fca84fef941e798792beff043f[m
Merge: 99515126 865f0ae4
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Oct 2 12:03:35 2015 +0100

    Merge pull request #831 from projectcalico/smc-fix-status-tight-loop
    
    Fix tight loop if watched etcd key does not exist.

[33mcommit 865f0ae4a5e103514c21d4e4c5e1072b70f38920[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 29 09:04:31 2015 +0100

    Fix tight loop if watched etcd key does not exist.
    
    Required promotion of etcd stub library to avoid order dependence
    in UTs.

[33mcommit 995151269f3e279a9dbde4a8602384331b145eff[m
Merge: 66f31116 b3aeeff4
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Oct 1 16:17:06 2015 +0100

    Merge pull request #836 from projectcalico/smc-fix-gr-delete
    
    Fix deleting referenced chains before end of graceful restart window.

[33mcommit b3aeeff4ca8ea4a36b52dfbef2629fd3db11c150[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Oct 1 12:26:35 2015 +0100

    Fix deleting referenced chains before end of graceful restart window.
    
    Prior to this fix, the chains would be left in place until the
    end of the graceful restart window rather than being stubbed out
    immediately.
    
    Fixes #834.

[33mcommit 66f3111622cc05d06ce3434a6b5307f24a940131[m
Merge: 44006212 60aa49ee
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Sep 30 22:35:49 2015 +0100

    Merge pull request #832 from projectcalico/awlc/unused-imports
    
    Remove some unused imports

[33mcommit 60aa49ee34a2030616415ec54c8e8bd9bf6cab50[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Tue Sep 29 09:47:42 2015 +0100

    Remove some unused imports
    
    I ran 'flake8 *.py **/*.py' over the entire repo, and corrected all
    the reports of unused imports.

[33mcommit 440062125f2f0692d00317ddfaff54add2aff5a9[m
Merge: 1f63e543 db9df90f
Author: Alex Chan <alex@alexwlchan.net>
Date:   Mon Sep 28 20:26:10 2015 +0100

    Merge pull request #828 from projectcalico/centos-install
    
    Install yum-plugin-priorities on CentOS

[33mcommit db9df90f87746e143dda118856bcf6e4596b137a[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Sep 28 15:18:09 2015 +0100

    Correct rst formatting

[33mcommit 1f63e543516562106c3872fcfda403dc683552e7[m
Merge: 1864e5cd 9d1e3d4c
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Sep 25 16:21:13 2015 +0100

    Merge pull request #830 from projectcalico/smc-update-python-etcd-instr
    
    Peg python-etcd version in RH instructions

[33mcommit 9d1e3d4c5fc076c30b12471916144f750f754393[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 25 16:10:35 2015 +0100

    Peg python-etcd version in Redhat instructions.

[33mcommit 647c62359dd7d4e824ac0e2b2bd748bdfee6164c[m
Merge: e1a5dc64 3d21a18c
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 25 16:04:47 2015 +0100

    Merge tag '1.1.0'

[33mcommit 3d21a18cb04805441b9a87175fee1c78ccf22894[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 25 16:01:27 2015 +0100

    Peg python-etcd version for docs version 1.1.0.

[33mcommit 1864e5cd1d93a1834a1278e30e934a306f629a99[m
Merge: e1a5dc64 f0c78945
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Sep 25 15:46:42 2015 +0100

    Merge pull request #829 from projectcalico/smc-1.2.0-pre.1-dev.1
    
    Version 1.2.0-pre.1-dev.1

[33mcommit f0c78945828627dc75c5a9dac427c663644625e9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 25 14:54:41 2015 +0100

    Version 1.2.0-pre.1-dev.1

[33mcommit 345b0c64f8399c6c0f869ea586a85f8db6dcf2cc[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Sep 25 10:25:17 2015 +0100

    Install yum-plugin-priorities on CentOS

[33mcommit e1a5dc64ffb4a61efa5517cd5f0f55326c37e3b4[m
Merge: c9394be8 45c2a77c
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Sep 24 14:27:23 2015 +0100

    Merge pull request #826 from projectcalico/occupancy
    
    Reduce amount of unneeded copying in ipset code.

[33mcommit 45c2a77c748d02ef59444a4ed9da8f6718bee6ad[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Sep 24 12:03:53 2015 +0100

    Reduce amount of unneeded copying in ipset code.

[33mcommit c9394be8f9d8f90ef47f4314d20d12b3fa13f511[m
Merge: b5e2a247 47a6f93c
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Sep 24 13:40:18 2015 +0100

    Merge pull request #825 from projectcalico/smc-add-logs
    
    Add debug logging around finishing batches and check_call.

[33mcommit 47a6f93cddbc98fcb1c701170c0f622588127ac5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 24 11:19:09 2015 +0100

    Add debug logging around finishing batches and check_call.

[33mcommit b5e2a24760e6da460780f7cb0ed51b0f7e1ca5a0[m
Merge: ab131f7d e6da1512
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Sep 23 16:34:30 2015 +0100

    Merge pull request #824 from projectcalico/smc-fix-etcd-exc
    
    Fix handling of CAS failures, which now manifest as EtcdCompareFailed.

[33mcommit e6da15122319f8e8864f7d2e7622b8a24362694e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 23 16:29:05 2015 +0100

    Fix handling of CAS failures, which now manifest as EtcdCompareFailed.

[33mcommit ab131f7d9dc852e989ba6e2184870a3c63381d64[m
Merge: b2d0f245 96a46ec5
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Sep 23 14:39:12 2015 +0100

    Merge pull request #821 from projectcalico/smc-rev-python-etcd
    
    Rev python-etcd to 0.4.1+calico.1.

[33mcommit 96a46ec5c42cef16d77bc9af635500a1a4540574[m
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Sep 23 14:38:50 2015 +0100

    Update CHANGES.md

[33mcommit be40277dfd67f128098826978d64cc945d4f7ddd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 22 14:21:48 2015 +0100

    Delay retries on connection failure.
    
    Avoids tight loop if proxy is down.

[33mcommit e3f7ff8924230ac9b2c63bb64c40b0e55793a947[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Sep 21 17:11:51 2015 +0100

    Rev python-etcd to 0.4.1+calico.1.
    
    Main change in the API is that exceptions are now wrapped, allowing us
    to combine a lot of except clauses.

[33mcommit b2d0f245f2d2016d147f8de143f8d1c727e506c7[m
Merge: 0c245faf 3a289658
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Sep 21 16:22:05 2015 +0100

    Merge pull request #819 from projectcalico/smc-endpoint-batch
    
    Refactor LocalEndpoint to be a batched actor.

[33mcommit 3a289658656eaf95f659b628e9f93a3b18930fa5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Sep 21 12:45:23 2015 +0100

    Add UT for profile and IP updates.

[33mcommit 0c245faf2e06863c19ca4074e2f916ddbdb9c1f6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Sep 21 11:58:29 2015 +0100

    Remove version from changelog for unreleased changes.

[33mcommit ac68ad9a4fec0b2fa5f02bdd1a25b7fd9b1c1753[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 18 14:10:49 2015 +0100

    Refactor LocalEndpoint to be a batched actor.
    
    Should improve performance under load/flapping data and make
    it easier to add status reporting.

[33mcommit a0e6c5fbe33eb56fd2a429f2293bf3746a66abf5[m
Merge: db9d7624 810a1e4b
Author: Alex Chan <alex@alexwlchan.net>
Date:   Fri Sep 18 14:39:30 2015 +0100

    Merge pull request #817 from projectcalico/awlc/ut-improvements
    
    Pick off some very low-hanging bits of UT coverage

[33mcommit 810a1e4b81c0651b36ba7dfd58e880bf0e236901[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Fri Sep 18 14:39:14 2015 +0100

    Fix typo: chain ~> action

[33mcommit db9d762418bb8c21a43948f09129fbde167b8fc3[m
Merge: 160f1f2f 942943e1
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Sep 18 14:11:21 2015 +0100

    Merge pull request #816 from beddari/docfix_rhel_python_posix_spawn
    
    Document yum deps for posix-spawn on RHEL

[33mcommit ec17047cd4c917952e00e2d5421c567c4cb3af9f[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Sep 18 11:48:43 2015 +0100

    Rename old Juju bundle to specify that it's for Icehouse

[33mcommit e8eaa3f1ac14f209647e768e62edd3cb74c5844b[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Sep 18 11:46:51 2015 +0100

    Add Kilo JuJu bundle

[33mcommit b5aea92854dd8e26d9be0ae69fd6c971447ee923[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Fri Sep 18 10:22:20 2015 +0100

    Pick off some very low-hanging bits of UT coverage
    
    * Increase coverage of calico/felix.splitter and calico.felix.config
      to 100%
    * Pick off a very low-hanging line in calico.common

[33mcommit 942943e10ca44584958ce69b5de0123250453444[m
Author: Jan Ivar Beddari <code@beddari.net>
Date:   Fri Sep 18 08:54:55 2015 +0200

    Update redhat-opens-install.rst

[33mcommit 47b1d46c3523b3229c32c7ff456ff419cf570f31[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Sep 17 17:26:43 2015 +0100

    Update Juju bundle to use the latest merged charms

[33mcommit 160f1f2f94d34654a204ec7c72cc476d2aca100e[m
Merge: 11e144f7 6f1f3002
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Sep 17 17:23:23 2015 +0100

    Merge pull request #814 from projectcalico/smc-felix-liveness-clean
    
    Add agent liveness reporting to felix/neutron.
    
    * Felix reports its liveness into etcd with a TTL.
    * Neutron driver polls etcd for felix status and reports into neutron's DB.
    * Neutron driver blocks VM scheduling if felix is not running.
    * etcd polling function extracted out into etcdutils.EtcdWatcher class.

[33mcommit 6f1f3002021412423413d42670005f23dae91f46[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 17 16:17:35 2015 +0100

    Code review markups.

[33mcommit e708376c8fbefe2c8dcd46f9ffff7f7dcdd01e36[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 17 13:31:34 2015 +0100

    UTs for CalicoEtcdWatcher and minor fixes.

[33mcommit aa6eb7626cce76ae0f2ec06ff8a06c282002056a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 17 10:20:00 2015 +0100

    Fix file permissions on Python files.

[33mcommit 1ff480df5169b3c6d7b3f2fd0e40e220c5454e19[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 17 09:58:07 2015 +0100

    Minor cleanups.

[33mcommit 3fa57d68271fb23b15367b287537ee19acff4648[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Sep 17 09:31:36 2015 +0100

    Adjust mocking of datetime for PyPy compatibility.

[33mcommit eb1ded5b14e848ac6a422437b1779d9a6f71e8f6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 17:48:15 2015 +0100

    Default felix status reporting to on now that neutron expects it.

[33mcommit 86b3679817706f6c85ac42251643bb5813a1b6a3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 17:43:34 2015 +0100

    Override bind_port to check that both felix and the DHCP agent are alive.

[33mcommit 1d3e1487d8eab125331e290472618a844a5f5f6d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 17:16:32 2015 +0100

    Comment start_flag usage.

[33mcommit 407d4df5b9db2ec06717e0e64ee82b615dd97d75[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 16:43:25 2015 +0100

    Replace uptime key with complete copy of status, report the first update.
    
    In neutron driver, use the first update flag to report into neutron.

[33mcommit 816106a24d42d9d93847e4a48cfeb33ab1c62f87[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 02:01:52 2015 +0100

    Fix several minor issues found in FV testing.

[33mcommit 78208b1068cce5ec57ee8dcbd6c8283f2f3163e8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 01:06:50 2015 +0100

    Fix status updating thread to wait for configuration.

[33mcommit 3bc7d6ff82187a24750c807f0c27f916962ac6f4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Sep 16 01:05:30 2015 +0100

    Avoid referencing gevent in code shared with neutron.

[33mcommit 26bf3ac0e4125b4e24af406fde4b4cb3a9179c64[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 15 15:30:04 2015 +0100

    Update changelog.

[33mcommit a61cbacc16ce4e2d5d407989df7a2b609f6a10fa[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 15 15:17:26 2015 +0100

    Report felix status into neutron database.
    
    Start a polling thread in the neutron driver to watch etcd
    and report felix's status into neutron's database.

[33mcommit 2229ead528355a0182c064510ded5fdd8fcb9da7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 15 15:15:49 2015 +0100

    Add felix liveness reporting.
    
    Felix now reports its uptime into etcd.

[33mcommit b1da79a19cb06ff9e97e6a195c199fa60d3e526a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 15 15:11:18 2015 +0100

    Rework felix etcd logic to use EtcdClientOwner/Watcher base classes.

[33mcommit c617f061ab1437bcb743d4a1735f6a59177ca3e6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 15 15:06:38 2015 +0100

    Add EtcdClientOwner and EtcdWatcher utility classes.
    
    These help with managing an etcd client lifecycle and abstract
    out the logic to watch etcd.

[33mcommit a9f2e0b53232de7c30b842926d91af13253cc3b8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 15 13:59:38 2015 +0100

    Add monotonic_time() function, which returns a monotonic timestamp.

[33mcommit 6dae49b48bfebe7e8d923a65a7c0157d8d6c1b32[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 18:37:53 2015 -0700

    WiP Add monotonic_time() function.  UT fails when run with others, possibly gevent monkey-patch issue?

[33mcommit 11e144f767f838c91fb4644a269fa01cf1381165[m
Merge: dd1ab253 4d4515d8
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Sep 14 10:52:38 2015 +0100

    Merge pull request #791 from projectcalico/issue786ipsetinc
    
    Incrementally update ipsets rather than wipe and reset.

[33mcommit 4d4515d8e1edcdcad39dcf76c2e3ae9fba53cb5f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Sep 1 16:02:36 2015 +0100

    Incrementally update ipsets rather than wipe and reset.

[33mcommit dd1ab25325a9284b40839f1e62c7438b24168a0d[m
Merge: 88b155b6 da032cd6
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Sep 11 17:15:11 2015 +0100

    Merge pull request #810 from projectcalico/juju-reduce-bundle-colocation
    
    Juju: Give Cinder, Keystone and Nova cloud controller their own nodes

[33mcommit da032cd67fd7abb445191f5bd33645b2b91465df[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Sep 11 17:02:11 2015 +0100

    Set a default admin password in the Juju bundle

[33mcommit ccf2dd16ba02c3979d8e500b906322bf114c0a04[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Sep 11 16:50:03 2015 +0100

    Give Cinder, Keystone and Nova cloud controller their own nodes

[33mcommit 88b155b6a6ac22293ab5c0984f8e3f7f3f7804af[m[33m ([m[1;33mtag: 1.1.0[m[33m)[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Sep 8 11:56:42 2015 +0100

    Version 1.1.0

[33mcommit f83a8d3b1e167ead416f6345bae9c8feeaf794c0[m
Merge: 9c523a50 b3d7eae7
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Sep 8 17:31:12 2015 +0100

    Merge pull request #798 from projectcalico/issue789comment
    
    Fix issue #789 - tidy up a misleading comment.

[33mcommit 9c523a50695daa5afc5cdec21b29e8aa2ebb1091[m
Merge: d3dda079 66b19502
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Sep 8 17:30:23 2015 +0100

    Merge pull request #802 from projectcalico/smc-update-rh-posix-sp
    
    Update Redhat install to reference python-posix-spawn 0.2.post7

[33mcommit 66b195027afb5a9548f2546293a3d09b8c498aa6[m
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Sep 8 13:23:37 2015 +0100

    Update Redhat install to reference python-posix-spawn 0.2.post7

[33mcommit d3dda0798b0eb79732594f0974f61d01fc3772b4[m
Merge: f89b7d6d b8f03710
Author: Lance Robson <lancelot.robson@gmail.com>
Date:   Tue Sep 8 09:35:48 2015 +0100

    Merge pull request #801 from projectcalico/smc-coveralls
    
    Add coveralls coverage status badge.

[33mcommit b8f0371098a8ba537c56b283850d6d3909e1c627[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Sep 8 09:27:52 2015 +0100

    Add coveralls coverage status badge.

[33mcommit f89b7d6db6ef8e67d180cc54e3a21c2951b079bd[m
Merge: 8080737f 57644290
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Sep 7 13:10:46 2015 +0100

    Merge pull request #792 from projectcalico/netlink
    
    Improve netlink-based generation of interface update notifications
    
    Prevent spurious notifications by tracking the operstate and flags and only notifying once per transition to oper up.

[33mcommit 8080737f610c5efd2c080ec10611c96c87ef64d8[m
Merge: ae286275 0541b422
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Sep 7 10:53:23 2015 +0100

    Merge pull request #793 from projectcalico/awlc/ut-datamodel
    
    Improve UT coverage of calico.datamodel_v1

[33mcommit b3d7eae73707e755809529c1ab292eab0a42ba5d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Sep 7 10:50:21 2015 +0100

    Fix issue #789 - tidy up a misleading comment.

[33mcommit 57644290e955f5b8ea542b7e2e80002f1fdf737f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Sep 4 20:47:47 2015 +0100

    Remove interface record if it goes down
    
    This ensures that the InterfaceWatcher loop will emit a new
    interface_update message if an interface flaps down and then up again.
    It may be that the flap causes routes or other interface state to be
    lost, so it makes sense for Felix to check and reprogram in that case.

[33mcommit fdaaca5b2c8d646b39e574abb7a64d1ab2ef0415[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Sep 3 15:31:19 2015 +0100

    Suppress duplicate interface update notifications

[33mcommit 2724e57526be32cdd7c4d8bb0c6a59bfeab47278[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Sep 2 11:30:32 2015 +0100

    InterfaceWatcher loop: restructure and use IFLA_OPERSTATE
    
    According to
    https://www.kernel.org/doc/Documentation/networking/operstates.txt,
    IFLA_OPERSTATE is the most convenient overall representation of
    whether an interface is ready for use.  If IFLA_OPERSTATE is
    IF_OPER_UP, it is; otherwise, not.  Therefore this change only signals
    an interface_update message from the InterfaceWatcher, for a newly
    notified interface, if that interface's IFLA_OPERSTATE is IF_OPER_UP.
    
    It also refactors the code a bit, to avoid deep netlink message
    parsing when we're not going to signal anything anyway, and adds more
    debug logging.

[33mcommit ae2862754f63f82acb8201aaffd8cc7af9875da1[m
Merge: ff88cce1 39d7313b
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Sep 4 17:58:07 2015 +0100

    Merge pull request #796 from projectcalico/smc-rpf-clean
    
    Fix missing async arg; blacklist gevent 1.1b4 on PyPy.

[33mcommit 39d7313bca7f47a5f38dcdf669c782b44d39c7fd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 4 17:50:55 2015 +0100

    Blacklist gevent 1.1b4, which seems to have a broken gevent.signal.

[33mcommit 400822586205d068f7fb119f3689f53eb77a1830[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 4 17:35:58 2015 +0100

    Fix missing async arg.

[33mcommit ff88cce1d944539b9d1abdf7d8992cd64279d155[m
Merge: 7a68d978 93081867
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Sep 4 14:18:26 2015 +0100

    Merge pull request #794 from projectcalico/smc-rpf-clean
    
    Use the kernel's RPF check instead of iptables rules.

[33mcommit 930818676d0c82924ea3789656d6b4c6ecbbc605[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Sep 4 13:30:25 2015 +0100

    Use the kernel's RPF check instead of iptables rules.
    
    Our iptables rules were incorrect, so we required the kernel's
    RPF check to be configured or packets could be spoofed.
    
    This change
    
    * explicitly enables the kernel's RPF check on each
      Calico-controlled interface
    * explicitly checks that the global RPF value is compatible with
      a per-interface check
    * removes our iptables rules that duplicate the RPF check
    * adds unit tests for the per-endpoint rule generation code.
    
    It also reverses the sense of the MARK value on a packet so that a
    packet has MARK==1 iff a profile chain matches it.  This makes
    the logic much simpler to understand and removes the original bug,
    which was caused by conflating "packet was not marked as not
    matched" and "packet was matched".
    
    Fixes #790.

[33mcommit 0541b42299868ec2436ccd4b90f900913655f73a[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Fri Sep 4 11:03:02 2015 +0100

    Improve UT coverage of calico.datamodel_v1

[33mcommit 7a68d97829054ec0afd2a976a8562c777379bed6[m
Merge: e97b2d75 e02f66fc
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Sep 1 14:48:27 2015 +0100

    Merge pull request #787 from projectcalico/further-bundle-update
    
    Further update our release bundle.

[33mcommit e02f66fc837e7feee66e8560a1faf53a525828af[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Aug 28 14:17:43 2015 +0100

    Further update our release bundle.

[33mcommit e97b2d75a9bcc134d035f63a524989ce3e07d4f0[m
Merge: f678a2fb 1d6bbb22
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Aug 26 16:15:39 2015 +0100

    Merge pull request #785 from projectcalico/juju-bundle-update
    
    Update Juju bundle to latest neutron-calico charm

[33mcommit 1d6bbb2267386c119da058fb11c5fbe52b0e96c7[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Aug 26 15:38:23 2015 +0100

    Update Juju bundle to latest neutron-calico charm

[33mcommit f678a2fbe51b141c230c9cf44502d800045356f6[m
Merge: 0cd8ec30 1db12d0e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Aug 26 10:56:02 2015 +0100

    Merge pull request #783 from projectcalico/smc-reduce-logs-spam
    
    Remove a couple of logs that are too verbose at scale.

[33mcommit 1db12d0e75a51fbefca3cea0dab943b5fb9b80f2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Aug 26 10:45:52 2015 +0100

    Remove a couple of logs that are too verbose at scale.

[33mcommit 0cd8ec3010d093127311c0a6a17b13031fa65ada[m
Merge: 76976d01 311c2236
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Aug 25 18:08:30 2015 +0100

    Merge pull request #781 from projectcalico/smc-rev-version
    
    Rev Calico version to sort out pre-release build dependencies

[33mcommit 311c22364ee394c11085357decdaee719fcb9662[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Aug 25 16:01:03 2015 +0100

    Rev Calico version to sort out pre-release build dependencies on build server.

[33mcommit 76976d015ec0589ba7b7bb0cee1a17d7172a0df4[m
Merge: 6a2398b0 0cae0a36
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Aug 25 15:56:57 2015 +0100

    Merge pull request #780 from projectcalico/remove-old-repo-refs
    
    Remove references to retired github.com/Metaswitch urls (replaced with github.com/projectcalico)

[33mcommit 0cae0a36d0cb59ccd39f9804df863c9d1fb2c349[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Aug 25 15:39:26 2015 +0100

    Remove references to retired github.com/Metaswitch urls (replaced with github.com/projectcalico)

[33mcommit 6a2398b02775cec2902c93be84744d80d045a85b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Aug 25 10:13:06 2015 +0100

    Move python-posix-spawn dependency to calico-felix.

[33mcommit 3298c3d82b89b0c85f5010cca0a360c0f7f4a65b[m
Merge: fd76308d dae1d65a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Aug 24 16:37:27 2015 +0100

    Merge pull request #778 from projectcalico/smc-posix-spawn
    
    Replace fork() with posix_spawnp()

[33mcommit dae1d65a783f78f188e29e42770365c2d4ac8d70[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 24 15:15:56 2015 +0100

    Add install instructions for posix-spawn on RHEL.

[33mcommit 8dd3c2fcd1f99dc93b8392fdc68a21e32d4e3ace[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 24 14:50:32 2015 +0100

    Add posix-spawn pre-req to tox.ini.

[33mcommit fd76308d3dcf2aeae9afac1a5b207713586315aa[m
Merge: 3ba04e94 7d2ec34d
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Aug 24 14:43:07 2015 +0100

    Merge pull request #779 from projectcalico/juju-bundle-update
    
    Update name of etcd side of etcd-proxy relation to match new etcd charm

[33mcommit 73d2f96cb22d0ff5318fc2f448f5ea19298a47d7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 24 14:42:55 2015 +0100

    Add posix_spawn support for the PyPy version of gevent.

[33mcommit 7d2ec34d78c12d72a127649f52146c6c51446c11[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Aug 24 14:31:37 2015 +0100

    Update name of etcd side of etcd-proxy relation to match new etcd charm

[33mcommit 7d20a4d2e167ace5cae336e4c4f07ed85bae0d6d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 24 11:23:15 2015 +0100

    Tidy up posix_spawn Popen implementation.  Add comments, minor cleanups.

[33mcommit 4acc7608cd9534b19e0343fe45b0fbf7168355f1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 24 10:59:36 2015 +0100

    Update posix-spawn version.

[33mcommit 5e5fa207fd39e7e86b3aaa989954a39aab7c509d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 24 10:58:39 2015 +0100

    Add dependency on python-posix-spawn deb.

[33mcommit c885e67f30857003b95dc4a183d098aff86b2a20[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 17 18:00:31 2015 +0100

    Encode arguments to posix_spawn.

[33mcommit 81744f16a655fd387c5d6d304f29416d7abead46[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Aug 14 19:03:41 2015 +0100

    First stab at a posix_spawnp variant of check_call.

[33mcommit 3ba04e940ca562401d3cc560728f5053e1ca9f39[m
Merge: 990b8091 2fba5a69
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Aug 21 14:49:19 2015 +0100

    Merge pull request #776 from projectcalico/juju-bundle-update
    
    Update bundle to use Project Calico versions of charms, and Kubernetes version of etcd charm

[33mcommit 2fba5a6958f323187c6431ff1935e88a15ca815d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Aug 21 14:32:46 2015 +0100

    Update bundle to use Project Calico versions of charms, and Kubernetes etcd charm

[33mcommit 990b8091ccd9c2af2a600770dc7d238dffcd4d58[m
Merge: 4e3bd5cf 541bec41
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Aug 19 15:22:40 2015 +0100

    Merge pull request #774 from projectcalico/awlc/oslo
    
    Fix import for oslo_config in t_etcd

[33mcommit 541bec4191890ea0bbfc628e1d8c9dddc3494603[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Wed Aug 19 15:09:25 2015 +0100

    Fix import for oslo_config in t_etcd

[33mcommit 4e3bd5cf37ec517bb0135212607157f910b9b0eb[m
Merge: 146650a6 f7b18467
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Aug 19 14:49:25 2015 +0100

    Merge pull request #773 from projectcalico/bundle-update
    
    Built-in bundle links move to project-calico.

[33mcommit f7b18467e9fd0b8312fd884e37e60c8a0adfa9f8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Aug 19 14:37:49 2015 +0100

    Built-in bundle moves to project-calico.
    
    etcd is excluded as we're deprecating that charm shortly.

[33mcommit 146650a6f37b5281da6965e3e811d4ec9c18a7e7[m
Merge: e59e2705 8f6c8990
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Aug 18 08:22:41 2015 +0100

    Merge pull request #767 from projectcalico/docs
    
    Improve Openstack upgrade documentation

[33mcommit 8f6c8990b578bfcd4313e4971276c7109996e870[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Aug 17 13:59:16 2015 +0100

    Improve Openstack upgrade documentation

[33mcommit e59e27057b4725696130f65584fb6defd94dd139[m[33m ([m[1;33mtag: 1.0.0[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Aug 14 13:42:38 2015 +0100

    Version 1.0.0-1

[33mcommit 32985d2f112fcf664ffd0ce0e689971b4c630889[m
Merge: 16e8dcbe 3df8cc52
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Aug 14 11:29:04 2015 +0100

    Merge pull request #764 from projectcalico/docs
    
    Docs updates

[33mcommit 16e8dcbe6b6234e1ecf8d62f28c5495961ced79f[m
Merge: a58c0a67 7a84284a
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Aug 14 11:26:15 2015 +0100

    Merge pull request #765 from TrimBiggs/fix-broken-links
    
    Clean up links in ReadTheDocs

[33mcommit 3df8cc52d346c2bda267c0f2b0bc26c328908736[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Aug 14 11:16:34 2015 +0100

    Docs markups, and enhance BIRD GR config

[33mcommit 7a84284a2b5b27c3a62039225be31818d87d14eb[m
Author: Tim Briggs <timothydbriggs@gmail.com>
Date:   Thu Aug 13 10:50:49 2015 -0700

    Clean up links in ReadTheDocs

[33mcommit d4738d541121d929296e323ac83e7af25e6792cc[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Aug 11 19:15:59 2015 +0100

    Update ubuntu-opens-install.rst
    
    Minor tweak

[33mcommit 0d90c746f3706728d535c60ebc2643b248656ff7[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Aug 11 19:15:11 2015 +0100

    Update redhat-opens-install.rst
    
    Minor tweak

[33mcommit d09fe0826b430a88fbd910a1417d948b6e43cdb7[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Aug 11 18:55:33 2015 +0100

    Specify section names for OpenStack configuration options

[33mcommit 9ced8ee91109602656f8f7c9d68c6738baf60c53[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Aug 11 18:07:02 2015 +0100

    Document BIRD graceful restart

[33mcommit ee561d0432ad64c036883512cde86b74b259b8cd[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Aug 11 16:40:22 2015 +0100

    Add restart dnsmasq step to upgrade procedure

[33mcommit a58c0a6725d1f706af21f704bd5f03baebb2a2e9[m
Merge: 75eb5399 0b910042
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Aug 11 14:21:20 2015 +0100

    Merge pull request #761 from projectcalico/docs_updates
    
    Minor ordering changes in OpenStack installation landing page

[33mcommit 75eb5399c299a1fba1db23de96fe96d5b72a09a6[m
Merge: 4746928a bffdf2bc
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Aug 11 14:14:59 2015 +0100

    Merge pull request #763 from projectcalico/fuel_plugin_catalog
    
    Update Fuel docs - Calico plugin is now certified and available for dâ€¦

[33mcommit bffdf2bcf7d981fe093be922c023f003e5e5a472[m
Author: Emma Gordon <emma@projectcalico.org>
Date:   Tue Aug 11 13:38:01 2015 +0100

    Update Fuel docs - Calico plugin is now certified and available for download from the Fuel Plugin Catalog

[33mcommit 0b91004214f9138911a893166ab4ca65790d9c10[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Aug 11 13:14:27 2015 +0100

    Update openstack.rst

[33mcommit 23ad318607249f92f9a4fece0aec7431b625c434[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Aug 11 13:13:43 2015 +0100

    Update openstack.rst

[33mcommit a53d99966e28e8ff167a926229ba5d7481a0752d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Aug 11 13:02:39 2015 +0100

    Also mention requirement for a Fuel master

[33mcommit 4746928a68775adf4c50aec14718fed0c5d11bbc[m
Merge: 83087d7f 8737a9e6
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Aug 11 12:30:29 2015 +0100

    Merge pull request #762 from projectcalico/lr2_bird6_docs_fix
    
    Corrected instructions for filter in bird6

[33mcommit 8737a9e6f7da1101310d2d21dbf283c02f9da715[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Aug 11 12:25:49 2015 +0100

    Corrected instructions for filter in bird6

[33mcommit 6617c48131b25a4d11f99731db6a0f919dfea29f[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Aug 10 18:35:26 2015 +0100

    Minor ordering changes in OpenStack installation landing page

[33mcommit 83087d7f6f08f855beea63a7b4412ac7d04e0f22[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Aug 10 14:50:17 2015 +0100

    Version 0.29~rc1

[33mcommit e0f6bb56016a0c5b2e3b526ff14bba15749f4863[m
Merge: d11ae589 12978590
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Aug 10 14:47:06 2015 +0100

    Merge pull request #760 from projectcalico/md4-bird-gr
    
    Add 'graceful restart' to generated BIRD config files

[33mcommit 129785907776a521fd6cd7b92c52af27fcbef9f6[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Aug 10 14:41:05 2015 +0100

    Add 'graceful restart' to generated BIRD config files

[33mcommit d11ae5891a1bf56641c1654e4a46f58c2ebf4323[m
Merge: 91b92a29 55bb2b01
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Aug 10 12:02:56 2015 +0100

    Merge pull request #758 from projectcalico/awlc-docs
    
    Fix links for repo move, and other small docs fixes

[33mcommit 55bb2b014560a3121a90351604ae0ffe99c25f9c[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Sat Aug 8 07:25:51 2015 +0100

    A few formatting and spelling tweaks in the docs

[33mcommit 7e0714f49eb981b24d4693ea525f4a600dcac67e[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Sat Aug 8 07:25:32 2015 +0100

    Update links to calico-docker for repository move

[33mcommit 91b92a29ecae1cbb8b51576f28327f00fc28e8c3[m
Merge: 94f322d1 41212cfc
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Aug 5 16:50:27 2015 +0100

    Merge pull request #757 from projectcalico/md4-ignore-broken-pypy-gevent
    
    Don't use gevent 1.1b2, which doesn't work with PyPy

[33mcommit 41212cfc18395d505653b7377c8365a484587ed6[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Aug 5 16:40:15 2015 +0100

    Don't use gevent 1.1b2, which doesn't work with PyPy

[33mcommit 94f322d1587fdc112d5d3a66304cb28474414c2e[m
Merge: d67d6e8f f6e3c180
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Aug 5 16:07:10 2015 +0100

    Merge pull request #755 from projectcalico/smc-mtu-config
    
    Add configuration of IP-in-IP MTU.

[33mcommit f6e3c1803d9dbaef7c96f4ced302039c9a8d6dae[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Aug 4 16:40:05 2015 +0100

    Add configuration of IP-in-IP MTU.
    
    Fixes #754.

[33mcommit d67d6e8f19f45fafdeade1c16aaf4bc628177b85[m[33m ([m[1;33mtag: 0.28[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Aug 4 17:39:55 2015 +0100

    Version 0.28

[33mcommit 5880fa7c5818128a9ef35594c75b2f237f28ab92[m
Merge: aac0ed1a 6a8e1dbc
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Aug 3 13:14:09 2015 -0500

    Merge pull request #753 from projectcalico/fuel_docs_external_connectivity
    
    Clarify external connectivity expectations in fuel docs

[33mcommit 6a8e1dbc5730dd39f58636e999de2fdb7ac49ff4[m
Author: Emma Gordon <emma@projectcalico.org>
Date:   Mon Aug 3 11:34:49 2015 +0100

    Clarify external connectivity expectations in fuel docs

[33mcommit aac0ed1a1ce169ccaadf73c73e622dfc7de0c29e[m
Merge: e566b93b cb4787c0
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Aug 3 09:52:25 2015 +0100

    Merge pull request #752 from projectcalico/smc-config-restart
    
    Take copies of host/global config so that they don't get clobbered.

[33mcommit cb4787c033fa1822bfc35948187ad50a8ba69b41[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Aug 3 09:39:24 2015 +0100

    Take copies of host/global config so that they don't get clobbered.

[33mcommit e566b93b84a846eb0a01b472ec720fffd24fce99[m
Merge: a72cb358 0b1758a5
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jul 31 16:01:41 2015 +0100

    Merge pull request #749 from projectcalico/smc-config-restart
    
    Check config on resync and restart if changed

[33mcommit 0b1758a57876130c1ca7c14dd70a7e469580b06e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 31 15:00:29 2015 +0100

    Update changelog.

[33mcommit 6b026dbbfcccabafa696e81b7b87673740281584[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 31 14:58:47 2015 +0100

    Add UT for _load_config().

[33mcommit ecc3c01952572dea3db8a665be6ce8541b71afe3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 31 13:54:10 2015 +0100

    Code review markups.

[33mcommit be5887dbe99d3d7637cd2147e7ec4e875af43d78[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 31 11:43:30 2015 +0100

    Work in progress on UTs for die-on-config-change.

[33mcommit 074f3d80d9d888b6006c23a22296cede4af90fc2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 31 11:43:04 2015 +0100

    Switch to recursive read when reading config to get an atomic snapshot.

[33mcommit c7595b6bd3493828c3bb4a5ea357b9e15ca92ba5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jul 30 19:35:19 2015 +0100

    Track config changes and die only if the config changes.

[33mcommit 353f0a3cba416596173533ace88b068707002e42[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jul 27 16:09:05 2015 +0100

    Die (in order to be restarted) if felix's config changes while it is running.

[33mcommit a72cb358175c08b199aace664e321e7915d39722[m
Merge: e384c728 e27d836c
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Jul 31 12:03:36 2015 +0100

    Merge pull request #751 from projectcalico/smc-ipt-refresh
    
    Update changelog.

[33mcommit e27d836c4febc102896d588dc0d303fd388be663[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 31 11:44:05 2015 +0100

    Update changelog.

[33mcommit e384c728793f587c7341db9bf8f233671fd7a224[m
Merge: 4f236ebf c4141b80
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Jul 31 09:57:52 2015 +0100

    Merge pull request #729 from projectcalico/smc-ipt-refresh
    
    For robustness, periodically refresh iptables chains

[33mcommit 4f236ebf46e4f1468ddcc32ccf944b8184b4c009[m
Merge: a48a73ea 0ce6058f
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jul 29 16:42:12 2015 +0100

    Merge pull request #746 from projectcalico/awlc_repolinks
    
    Update links to reflect the organisation/repo change

[33mcommit a48a73eab070afb2133168682161e0598c6aab22[m
Merge: b7d008af d99250cb
Author: Alex Chan <alex@alexwlchan.net>
Date:   Wed Jul 29 13:43:45 2015 +0100

    Merge pull request #747 from projectcalico/fuel_docs_fix
    
    Update OpenStack page for 6.1 Fuel integration

[33mcommit d99250cb19493460964f61d1e30c44b76d13da25[m
Author: Emma Gordon <emma@projectcalico.org>
Date:   Wed Jul 29 12:32:04 2015 +0100

    Update OpenStack page for 6.1 Fuel integration

[33mcommit 0ce6058f38613d597f35cc51771240e37993fac3[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Wed Jul 29 09:44:42 2015 +0100

    Update links to reflect the organisation/repo change

[33mcommit b7d008af142cfe9bceb59fe9baa5680391dd3e9e[m
Merge: c5b7de6b 85f208c7
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Jul 29 00:19:01 2015 +0100

    Merge pull request #743 from Metaswitch/fuel_6.1_docs_update
    
    Update Fuel integration docs for Fuel 6.1

[33mcommit c5b7de6b14d1732842ea5f0173518912a5174c02[m
Merge: 579c3168 b3f35fd3
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jul 28 14:35:11 2015 +0100

    Merge pull request #745 from Metaswitch/awlc_uts_readme
    
    Updated unit test instructions in README

[33mcommit b3f35fd300495e4b2955e443bb88b70a61966ff4[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Tue Jul 28 14:21:25 2015 +0100

    Updated unit test instructions in README

[33mcommit 579c31688111172aec16e76580e38d7319e11809[m
Merge: 448e6ba5 01be8ba4
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jul 28 13:18:12 2015 +0100

    Merge pull request #744 from Metaswitch/awlc_imports
    
    Remove a few unused imports

[33mcommit 01be8ba420b049d340bc41f5cfc96a641373609d[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Tue Jul 28 12:51:35 2015 +0100

    Remove a few unused imports

[33mcommit 85f208c7a1672c14b0f1d0cc5f70296f0841931f[m
Author: Emma Gordon <emma@projectcalico.org>
Date:   Mon Jul 27 18:36:22 2015 +0100

    Update Fuel integration docs for Fuel 6.1

[33mcommit c4141b80b716977ff51ef70135b2dcd734b403e0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jul 27 15:34:49 2015 +0100

    Add UT for refresh_iptables itself.

[33mcommit 2d83cc6fff20110fdd163e260c9ad5ffa89c6fcc[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jul 27 14:46:11 2015 +0100

    Add UT for ensure_rule_inserted.

[33mcommit 8b55dc3ab26d674bf7f79329c8c5179800521629[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jul 27 14:11:06 2015 +0100

    Add some UTs for iptables refresh.

[33mcommit 1edd84fffbfa8567fbe2aba58dd6dec38b7bf1b7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jul 27 14:10:39 2015 +0100

    Do defensive iptables refresh if cleanup spots a problem.

[33mcommit 145e20266f448e554908674a3b1a832cc0190215[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 14:10:22 2015 +0100

    Fix up UTs.

[33mcommit c6ec35474e7bca5a5b3904a45c1a0704df7d8cce[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 13:54:36 2015 +0100

    During a refresh, refresh stubbed out chains too.

[33mcommit e97b5ff6dc2bb3a1951a57285b530e31bd3a06d4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 13:41:04 2015 +0100

    Make iptables refresh interval configurable.

[33mcommit 1c485c9b64d0bd22200223348397f3af993ecb27[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 13:31:03 2015 +0100

    Re-apply inserts/deletions when refreshing iptables.
    
    * Split out the insert/remove function into utility methods.
    * Track which inserts/removes we've done.
    * Always explicitly mark rule as removed in masquerade manager,
      required handling of 'doesn't exist' error in IptablesUpdater.
    * Rename a few methods that were now confusing.
    * Actually do the refresh of the rules at the end of the transaction.

[33mcommit 9cb849346a99d1926c15978ee796a763c3aabd9f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 13:27:55 2015 +0100

    Include table name in IptablesUpdater qualifier.

[33mcommit d601b780c2b8897db10bec32937e43bd3c48cc72[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 13:27:31 2015 +0100

    Fix that nat table's IptablesUpdater.cleanup() wasn't called.

[33mcommit fb3893030a3fdc8e898c0f3dfc0ba67f794fe6b6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jul 17 13:26:37 2015 +0100

    Add qualifier to Actor.__str__.

[33mcommit 69e11770efa4846d254d57309df49be149ef2a78[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 15 17:04:40 2015 +0100

    Implement periodic refresh of iptables.

[33mcommit 7ca711b92dd4901a7eea534d00c3fa8edee65ee8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 15 16:38:43 2015 +0100

    Add refresh_iptables message to IptablesUpdater and call from cleanup.
    
    Re-applies the cached copy of the expected iptables state to the kernel.

[33mcommit a92e9937249d24a479ad6ecea961f5fc26650b6e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 15 16:07:06 2015 +0100

    Store iptables updates in IptablesUpdater.
    
    Preparation for being able to preiodically re-apply changes.

[33mcommit 448e6ba5febc3dc709c1f591e03386e36da9f769[m
Merge: 0afa4f3c 0e4f8980
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jul 24 06:22:17 2015 +0100

    Merge pull request #742 from Metaswitch/cdl-comments-faq
    
    minor edit change

[33mcommit 0e4f8980dfbe78b8b139b4bb10603f5e131ef9a9[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Jul 23 16:59:54 2015 -0700

    minor edit change

[33mcommit 0afa4f3cec5592cdb07fef5a50f8db7781bd5e45[m
Merge: 8c40675e 984b0dcc
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jul 22 14:49:45 2015 +0100

    Merge pull request #740 from Metaswitch/docs/faqs
    
    Some frequently asked questions.

[33mcommit 984b0dcca9a7a02529cc190bd5b0e55c39c688b6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 22 14:38:48 2015 +0100

    Remove microsegmentation Q

[33mcommit b2a8f283c9bf8814a82d24f0532d75dc4b63fa8f[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Wed Jul 22 13:57:25 2015 +0100

    Minor modification to overlapping addresses text
    
    Feels a bit disingenuous to imply this is supported today.

[33mcommit f201513baed7edf7dd5e55d709902e2d0b193fc6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 22 12:20:31 2015 +0100

    Some frequently asked questions.

[33mcommit 8c40675e2bfafa6506b2f9f6823a5a88315d3853[m
Merge: 3824e6b3 0f5e78ce
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jul 21 18:18:22 2015 +0100

    Merge pull request #739 from Metaswitch/bug/error_level
    
    Don't log about bad JSON at such a high level.

[33mcommit 0f5e78ce680afa9c4d04c7a44e6da2a9ca06678d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 21 18:00:21 2015 +0100

    Don't log about bad JSON at such a high level.

[33mcommit 3824e6b3e03d0828359872859a4e267f625c8027[m
Merge: a91d8a74 a3c295a6
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jul 21 15:59:14 2015 +0100

    Merge pull request #738 from Metaswitch/bug/resync-failures
    
    Tolerate ports being deleted mid-resync

[33mcommit a3c295a6959c859668366eaa8e13857263e1e4df[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 21 08:34:23 2015 +0100

    Tolerate ports being deleted mid-resync

[33mcommit a91d8a745c2857848406e98437fc144be884e7a7[m
Merge: 2deeacc6 2b73b6b3
Author: Lance Robson <lancelot.robson@gmail.com>
Date:   Mon Jul 20 10:08:26 2015 +0100

    Merge pull request #737 from Metaswitch/gevent-busted
    
    Gevent broke their newly-added PyPy support

[33mcommit 2b73b6b3777ab7e611fd366db22ace9cf09026c4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jul 20 09:52:06 2015 +0100

    Gevent broke their newly-added PyPy support

[33mcommit 2deeacc64839e111f2a4f8e4dd1b2fc4ac42aae0[m
Merge: a2fa8bcd a3f27370
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Sat Jul 18 20:29:59 2015 +0100

    Merge pull request #736 from Metaswitch/ddr
    
    added downward default to recommendations section

[33mcommit a3f27370b54ea6e97e8c4ecd0ae401958a66093f[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Sat Jul 18 12:06:18 2015 -0700

    added downward default in recommendations

[33mcommit 86a8db981df1bd216a685b8bb2458902cf49a7d9[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Sat Jul 18 12:01:48 2015 -0700

    added downward-default in the recommendation

[33mcommit a2fa8bcd9c4bc04716ca983371b3aaffcd3a7e2b[m
Merge: d0398cc1 6d7e8d61
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Sat Jul 18 09:40:01 2015 +0100

    Merge pull request #735 from Metaswitch/downward-default
    
    Downward default

[33mcommit 6d7e8d61847f794da1733c723468039275f1301e[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Jul 17 18:34:10 2015 -0700

    fixed some syntax nits

[33mcommit 2e2c7769e0e63a1bcd2bef3030ba1307c16ea1d3[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Jul 17 18:29:05 2015 -0700

    added the 'downward-default' model

[33mcommit d0398cc1f395a0296fada50e27f13da78f9d50f4[m
Merge: fa58eda4 830758bf
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Jul 17 18:12:23 2015 -0700

    Merge branch 'master' of github.com:Metaswitch/calico

[33mcommit fa58eda4ad044b098a6c0701e2ae012c2095a55b[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Jul 17 17:59:52 2015 -0700

    new diagrams for downward default

[33mcommit 830758bfa61bb49d6842e48ad586477e596b40db[m
Merge: 3429099d 67ebcc10
Author: Alex Pollitt <alex.pollitt@metaswitch.com>
Date:   Thu Jul 16 10:04:30 2015 -0700

    Merge pull request #734 from Metaswitch/eepyaich-patch-1
    
    Remove references to concepts which cause confusion

[33mcommit 67ebcc10eb1b512388591fd40224f08da815c6f9[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Thu Jul 16 17:24:48 2015 +0100

    Remove references to concepts which cause confusion

[33mcommit 3429099d677bec0caa3dd9b8d69d1553304741ca[m
Merge: 9d03d77a d3f0da3c
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Jul 16 14:07:51 2015 +0100

    Merge pull request #731 from Metaswitch/bug/resync_filtering
    
    Filters must be lists.

[33mcommit d3f0da3c608f06ff336bbe5b83854f6bb59f921b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 16 13:59:10 2015 +0100

    Filters must be lists.

[33mcommit 9d03d77a701b413ae1d2f98a9b5defb50c25a031[m
Merge: aa0847ec d6f1ebe0
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Jul 16 10:04:34 2015 +0100

    Merge pull request #730 from Metaswitch/dhcp-checksum-workaround
    
    Merge in 0.27.1 release

[33mcommit aa0847eca149860609b7249cb6b7b8d744e3efb0[m
Merge: 88fd4590 43d1912b
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Jul 16 09:03:33 2015 +0100

    Merge pull request #728 from Metaswitch/metrics/occupancy
    
    Add process statistics to SIGUSR1 diags

[33mcommit 43d1912b0dbaac0aee937ef7a0e10576715b16b1[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 16 08:14:05 2015 +0100

    Add unit test for diags dumps

[33mcommit d6f1ebe0ca0ef952da0b99a52a31324a8a88f0ea[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Jul 15 17:30:13 2015 +0100

    Version 0.27.1

[33mcommit 73f5e3097d847eda302e71f8953840348028ac3a[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Jul 15 17:26:42 2015 +0100

    Revert "Remove DHCP checksum fix from Calico compute node install process (Neutron does it instead)"
    
    This reverts commit 58364a15887aada3c017ba4409e509c125722ef6.

[33mcommit ee75cbf10cc51fac4e55bbffe15a9e812337ba4a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 14:44:13 2015 +0100

    Clear statistics state between tests

[33mcommit b9192cff4710a19329c998545154cab2e0a7f0b3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 14:10:35 2015 +0100

    Changelog update

[33mcommit 0c089c7ad56a0820b54ac2f5f17ba598d8011752[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 14:09:00 2015 +0100

    Add process statistics to SIGUSR1 diags

[33mcommit 88fd45907c229013f8c6081656b3179ffa6fac3c[m
Merge: 890b004a e0cae3fe
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Jul 15 11:51:48 2015 +0100

    Merge pull request #727 from Metaswitch/bugfix/prevIndex
    
    Python-etcd does not like keyword arguments

[33mcommit e0cae3fee097c45730272c3ed2ae7888bdeecfcc[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 11:41:43 2015 +0100

    Apparently I can't mock

[33mcommit c78616e6f6daf255f7de18d22f4f7aad497535de[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 11:32:14 2015 +0100

    Catch python-etcd kwargs mistakes

[33mcommit d13efbe86f81b575c4d9b7b311096c9b979c0176[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 11:26:42 2015 +0100

    Apparently you can't have trailing commas and **

[33mcommit 333033c86e6a2a7aa364393a8c48e0a10bd46e82[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 15 11:12:01 2015 +0100

    Python-etcd does not like keyword arguments

[33mcommit 890b004a4d8890e0cde78ae0ebf63e4a8f71de5a[m
Merge: 81a24e2d b8696005
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jul 14 21:15:35 2015 +0100

    Merge pull request #726 from Metaswitch/smc-doc-ep-to-host
    
    Add DefaultEndpointToHostAction to docs.

[33mcommit b8696005aebf0a3fedf1c6859f22d80eff4932e2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jul 14 20:02:29 2015 +0100

    Add DefaultEndpointToHostAction to docs.

[33mcommit 81a24e2db4282d56c5a9959042ceb9d953155667[m
Merge: 0ccfdd1d 0180199c
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jul 14 15:08:39 2015 +0100

    Merge pull request #712 from Metaswitch/refactor/resync
    
    Refactor the resync code.

[33mcommit 0ccfdd1de9fa5dd784e3aba46ac4dda22096745b[m
Merge: beb5f886 79ef1913
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jul 14 15:08:24 2015 +0100

    Merge pull request #711 from Metaswitch/feature/more-resync
    
    Fix up incorrect data in etcd during Neutron resync

[33mcommit beb5f8867d284ee86bfc189bfd9a2beaddf72b8e[m[33m ([m[1;33mtag: 0.27[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Jul 14 12:00:06 2015 +0100

    Version 0.27

[33mcommit 84785248c146af14e9d2eba837bf870c4b64c004[m
Merge: 387381eb cd02edc1
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jul 13 18:06:53 2015 +0100

    Merge pull request #722 from Metaswitch/mock26
    
    Pin mock and coverage versions.

[33mcommit cd02edc1775af77ade7734bf010c4ba7bfad2369[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jul 13 14:07:11 2015 +0100

    Pin mock and coverage versions.
    
    Both mock and coverage have had recent upgrades that break everything.
    Let's just not worry about that by pinning the versions.

[33mcommit 0180199c403afa045776e90cbe0678ba2115a64d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 7 15:59:10 2015 +0100

    Common endpoints

[33mcommit 6201b8137b0354ffe01ee330d821e3e5858f0714[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 7 15:42:43 2015 +0100

    Minor code review markups

[33mcommit 9b180f11e2c3809559cdaeebdeda1238cd7717b6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jul 6 09:19:45 2015 +0100

    Write good data if bad data is found

[33mcommit 1deeaddd35c03aa8d6198bfebd2ca49cb4f360dd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 12:54:59 2015 +0100

    Refactor some repeated code.

[33mcommit f26ef483ce17609b3c4582d7b10825a50e4654e0[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 12:45:41 2015 +0100

    Refactor port resync code.

[33mcommit 2539edea888535424e715d84f51ce80a0facf8c5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 12:35:35 2015 +0100

    Refactor profile resync code.

[33mcommit 79ef1913ad7a0268c2a04182b943cc2e7592ec18[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 9 15:04:09 2015 +0100

    Don't forget to get fixed IPs

[33mcommit 1a57db5336a80d13a737fbab77b2059503dafea7[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 7 07:58:54 2015 +0100

    Use named constant for etcd timeout

[33mcommit 4d6266dc6003c19991118ac72e8b4dc7f786c9fd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jul 6 09:07:29 2015 +0100

    Clarify t_etcd namedtuples

[33mcommit ac0d2ff31f846f92875362283404284b9faecbac[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jul 6 08:55:15 2015 +0100

    Minor cleanups of resync code

[33mcommit 5dfa88a80d803e9005801f8a7cb22cd3d5b25ae1[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 11:17:06 2015 +0100

    Test that profiles are fixed in resync

[33mcommit 48e2a5970907c5df1172a5946259cfa5803b1265[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 11:16:47 2015 +0100

    Use clearer name for profile from etcd

[33mcommit 4141525995640ee0cef4c8e1af95916a750f3920[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 11:04:48 2015 +0100

    Unit test port fixup during resync

[33mcommit 48a403e4213fcf1ed6cb25bb6d6225fb44cc3348[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 11:04:35 2015 +0100

    Missing arguments to the Profile constructor

[33mcommit 45461c69938874275049c8de7d1df8f86ab8dcf6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 11:04:08 2015 +0100

    It's spelled prev_index

[33mcommit 82cb6df0f01f46ad3aa1b3dcf0af3fc309380378[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 3 11:03:44 2015 +0100

    Missing argument to get_port

[33mcommit 463b5420b63e240952df52e713874be37060b6f0[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 2 16:26:27 2015 +0100

    Do atomic-CAS for Neutron resync

[33mcommit a3317b066c4fc4be84cca9a943458f50e7b9bab6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 2 16:16:27 2015 +0100

    Reconcile profiles that are in error

[33mcommit 842888f7dde0c4e3652fd3fe953f411d11f656c8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 2 16:16:16 2015 +0100

    Add support for getting profile data from etcd

[33mcommit 8147f0bf241a461a7cb8995a36f6dc69cc49a016[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 2 15:33:06 2015 +0100

    Fix errors in etcd data during port resync

[33mcommit 63bbcd5e6504f956cfdc18626f4b909a1d7bbaee[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 2 15:32:04 2015 +0100

    Add support for getting endpoint data from etcd

[33mcommit 387381ebc74e17295ba5e753f9489dd53f533c0d[m
Merge: bb3ff4bc 85ff0ed5
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jul 9 14:18:06 2015 +0100

    Merge pull request #714 from Metaswitch/bugfix/fixed-ip-reads
    
    Get all fixed IPs for a port

[33mcommit bb3ff4bc551b841b45387cb48428528aa5372972[m
Merge: cbb92d2b 1830e7dd
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jul 7 18:46:00 2015 +0100

    Merge pull request #715 from Metaswitch/rr-config-typo
    
    Trivial typo fix

[33mcommit 1830e7dd2e75a5ec62a95cb29ebace4209c0792c[m
Author: Tom Denham <tom@tomdee.co.uk>
Date:   Tue Jul 7 09:36:21 2015 -0700

    Trivial typo fix

[33mcommit 85ff0ed5027bab40671688e703616cee854eac64[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 7 15:29:24 2015 +0100

    Fixup broken unit tests

[33mcommit 4ecaf3568af52ef9cc29662a3b94672540056f05[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 7 15:03:35 2015 +0100

    Wrong context object

[33mcommit 5512ce7dd50db414f161bddcef17b0846a1466ac[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jul 7 14:00:50 2015 +0100

    Get all fixed IPs for a port

[33mcommit cbb92d2be88dc026ba6efcb4a238d949a02c1eea[m
Merge: 256844c8 23fd741f
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Jul 2 16:08:21 2015 +0100

    Merge pull request #687 from Metaswitch/smc-resync
    
    Implement felix periodic resync.

[33mcommit 23fd741f81726f74c1ada7bfc4eeb79bd0fccdd4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jul 2 14:31:04 2015 +0100

    Fix typo in configuration.rst.

[33mcommit 3b6f2cceae9b281420483b80eceabb1e9522c14b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 1 16:25:07 2015 +0100

    Remove superfluous setting of force_reprogram.  Beef up UTs.

[33mcommit 6297dcbd3215f20e32772ce7ebe5d4b50542e300[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 1 16:04:59 2015 +0100

    Add UT for IpsetManager.apply_snapshot.

[33mcommit 38a4d8969342bbe1c77125f4dd6cd20e9d66effb[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 1 15:37:49 2015 +0100

    Add UT for periodic resync function.

[33mcommit a2ef1d31f3f92bdf40c3758d1896932918619091[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 1 08:54:38 2015 +0100

    Update configuration.rst with new config variables.

[33mcommit 04af9f06dcf859448146c1c2531e7050d85a7f55[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 24 15:44:53 2015 -0700

    Make sure that a snapshot application forces reprogramming of the dataplane.

[33mcommit 773ac611390dfd6642c8ad5555eb343a0ce922bc[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 1 15:26:19 2015 -0700

    Implement periodic resync.
    
    * Move etcd polling into a worker greenlet.
    * Start another greenlet to periodically trigger a resync.

[33mcommit 256844c8612a7e8385dc8b0deb7fb87f94c9ff2e[m
Merge: 0335e2fd 58364a15
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Jul 2 11:35:17 2015 +0100

    Merge pull request #710 from Metaswitch/md4-40-remove-dhcp-checksum
    
    Remove DHCP checksum fix from Calico compute node install process (Neutron does it instead)

[33mcommit 0335e2fd1c63315bbb25ae37516eb659404011c9[m
Merge: 32aae556 92721f3e
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jul 1 15:32:17 2015 +0100

    Merge pull request #612 from Metaswitch/smc-limit-fork-concurrency
    
    Limit our shell-out concurrency.

[33mcommit 58364a15887aada3c017ba4409e509c125722ef6[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Jul 1 15:01:01 2015 +0100

    Remove DHCP checksum fix from Calico compute node install process (Neutron does it instead)

[33mcommit 92721f3e3face9df577fd7a443c210ff5a76b45d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 1 14:43:30 2015 +0100

    Tune max-fork limit.

[33mcommit bc8bfcb295d0101c1d9de0e3d8934ff50130c9d3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 22 08:48:13 2015 -0700

    Limit shell-out concurrency in Felix.

[33mcommit 32aae55688b2824d6e2738a3383eb1b014452be7[m
Merge: a462cb57 68934cb4
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jul 1 10:17:11 2015 +0100

    Merge pull request #708 from Metaswitch/smc-fix-missing-ipset
    
    Fix missing call to ensure_exists().

[33mcommit 68934cb4b7401ffcf1e79f907c44f3765b7d3e83[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jul 1 09:42:38 2015 +0100

    Fix missing call to ensure_exists().
    
    Add UT to avoid further regression.
    
    Fixes #707.

[33mcommit a462cb575b558c94a3e9605e396258598a9948ca[m
Merge: fde77a1d 1ff7f526
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Jun 30 14:56:43 2015 +0100

    Merge pull request #703 from Metaswitch/eph_clairify_readme
    
    Improve high level description of Calico in the README file.

[33mcommit 1ff7f526e38d6265074814b83842d29a751bc87e[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Jun 30 13:51:50 2015 +0100

    Additional markups

[33mcommit fde77a1d7bc4380cfa6fc206721788b035058424[m
Merge: a6c315fc 97f7e508
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Jun 30 12:58:50 2015 +0100

    Merge pull request #706 from Metaswitch/md4-ubuntu-respawn-limit
    
    Stop restarting Felix on Ubuntu if it fails more than 5 times in 10 seconds (consistent with Red Hat behavior)

[33mcommit 97f7e5086520440909eaa77232b2795eb6d93d55[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Jun 30 11:56:00 2015 +0100

    Stop restarting Felix on Ubuntu if it fails more than 5 times in 10 seconds (consistent with Red Hat behavior)

[33mcommit a6c315fc2e66a3b4ab2da932e46b6b497035db9b[m
Merge: fe4cf0a2 49725f5d
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Jun 30 11:25:26 2015 +0100

    Merge pull request #704 from Metaswitch/update_bundle
    
    Update Juju bundle

[33mcommit 49725f5df86bbb35c3d41675808f8bac90b0b425[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 30 11:23:42 2015 +0100

    Update Juju bundle

[33mcommit 5883fd76d90e6b54662dca1ff497ea678ee65da8[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Jun 30 11:14:23 2015 +0100

    Improve messaging in README file

[33mcommit fe4cf0a25edaf1a8f26684f410fea2631905cd50[m
Merge: 31477b50 75d3bb7a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jun 30 08:14:59 2015 +0100

    Merge pull request #702 from Metaswitch/awlc_futils
    
    Minor tidy-ups in futils.py

[33mcommit 75d3bb7aaaa8c02315a6378e18d62c62e55cf6bf[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 29 23:16:04 2015 +0100

    A few more very minor tidy-ups in futils.py

[33mcommit 6a97f92db41f3527764bd520a5a2063f3d027381[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 29 23:06:39 2015 +0100

    Add UTs for 'by' argument in StatsCounter.increment()

[33mcommit 6708824406561870d7dd3c46b67c4810c37173b4[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 29 22:51:26 2015 +0100

    Correct unused arguments in stats counter

[33mcommit 31477b50826dc6d3bf92f543ed7177694813aa3f[m[33m ([m[1;33mtag: 0.26[m[33m)[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 29 11:51:42 2015 +0100

    Version 0.26

[33mcommit 3efe48b9b9d0281560b3f19f37361aef2e9ff227[m
Merge: 505e81ba 4b46e1f0
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 29 10:50:04 2015 +0100

    Merge pull request #700 from Metaswitch/issue/699
    
    Restart Felix on failure on RHEL systems

[33mcommit 505e81ba9216f63d5acfcf7416f5e7031c3d14a3[m
Merge: 94b0cdb1 44dc6bf0
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Jun 29 10:21:09 2015 +0100

    Merge pull request #701 from Metaswitch/issue/120
    
    Remove unused time_ms method

[33mcommit 44dc6bf0584f9f251ff9f82764ed099f8ae858ee[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 29 09:42:49 2015 +0100

    Remove unused time_ms method

[33mcommit 4b46e1f00a56d317afc272f0b93a993537f8d83e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 29 09:01:17 2015 +0100

    Restart Felix on failure on RHEL systems

[33mcommit 94b0cdb1669478dd96528f8ea47ac8a708f089bc[m
Merge: b36ed8e9 66ff37c7
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Jun 25 11:37:05 2015 +0100

    Merge pull request #694 from Metaswitch/nn-release
    
    nn-release: Create Calico patch if it doesn't already exist

[33mcommit 66ff37c767171d2389c6ed184d4368d278c4e791[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jun 25 10:59:36 2015 +0100

    nn-release: Create Calico patch if it doesn't already exist

[33mcommit b36ed8e99400c10c96c067dcae729dd273e780bc[m
Merge: b1eac74e cc75dad2
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jun 25 10:47:16 2015 +0100

    Merge pull request #693 from Metaswitch/ut-fix
    
    Fix UT broken by collision of #684 and #681.

[33mcommit cc75dad2d489b2b51895bbf4d88e830ba89b64b9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jun 25 10:39:45 2015 +0100

    Fix UT broken by collision of #684 and #681.

[33mcommit b1eac74ed5ba31e833ab2099999330888601827f[m
Merge: 67805529 38d08e64
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jun 25 10:16:56 2015 +0100

    Merge pull request #684 from Metaswitch/smc-fix-ipv6-rs
    
    Accept router solicit messages, block router advertisements.

[33mcommit 67805529706b4c6a869bab33d9f5a4d343bdd291[m
Merge: d74419bf 34fce4d6
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Jun 25 09:08:59 2015 +0100

    Merge pull request #685 from Metaswitch/smc-docs-improve
    
    Docs updates

[33mcommit 34fce4d6babfc1ea2889623cbd48e8d2b9b82569[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 24 10:35:12 2015 -0700

    Update changelog.

[33mcommit cbfea870b01344cc3184880df5992348491ffbb5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 24 10:33:56 2015 -0700

    Doc review markups.

[33mcommit ea013d781d42c0eb6ba3164fa660a4323a89566a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 16:17:07 2015 -0700

    Start a securing-calico doc.

[33mcommit da0dae23fd013e18aaaafe70da1b64581bce20b0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 15:52:16 2015 -0700

    Update security-model doc.

[33mcommit d74419bfe86a45382bf69e901efa9bd267d92f43[m
Merge: 53d7515d 62c864a0
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Jun 25 08:53:52 2015 +0100

    Merge pull request #688 from Metaswitch/issue/647
    
    Delay starting of resync thread.

[33mcommit 53d7515d210bb14bb18e21edb1efea0401508f5a[m
Merge: fde9fdce 287b55fa
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jun 24 18:03:05 2015 +0100

    Merge pull request #692 from Metaswitch/awlc-docs-indent
    
    Fix indentation in Ubuntu install doc

[33mcommit 287b55facfa302b503fda2781403556452b52939[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Wed Jun 24 17:41:53 2015 +0100

    Fix indentation in Ubuntu install doc

[33mcommit fde9fdce1fbac55eac11fdf5ed2da85f3064d6d0[m
Merge: c141cd1e 149eef24
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 24 14:53:55 2015 +0100

    Merge pull request #691 from Metaswitch/issue/683
    
    Clarify that 'here' means 'in this section'

[33mcommit 149eef24d4f1fa8530219fc229c7ea0859a1e81d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 14:51:40 2015 +0100

    Clarify that 'here' means 'in this section'

[33mcommit 62c864a0edb54c5ec2d1ce7fce8a9ffbe295a7f5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 09:36:52 2015 +0100

    Delay starting of resync thread.

[33mcommit c141cd1e3eaa5c14d88ece0b92fb630dfbe24e91[m
Merge: df56eac2 91dc016a
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 24 14:39:31 2015 +0100

    Merge pull request #690 from Metaswitch/issue/689
    
    Tolerate missing keys during atomic delete

[33mcommit 91dc016a8139db2a959c13fbc0937babf9b21c55[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 10:20:35 2015 +0100

    Cleanup docstrings for atomic deletion methods

[33mcommit df56eac271830ebb667434f761dd19926d5dd732[m
Merge: c83bef8e 920c1fa6
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 24 10:14:28 2015 +0100

    Merge pull request #238 from Metaswitch/toxpypy
    
    Add PyPy support to Tox.

[33mcommit c83bef8e3903dddcf608673aaf2cc6cdf09dcdeb[m
Merge: 389ff26d fac02091
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 24 10:12:42 2015 +0100

    Merge pull request #678 from Metaswitch/issue/616
    
    Documentation to increase conntrack table size

[33mcommit bceb48e001b58a4f419b4d59d848c1678166cc7c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 10:12:35 2015 +0100

    Tolerate missing keys during atomic delete

[33mcommit 389ff26de276715e875a4e7c1f0b9a4e1aebd749[m
Merge: a26dc6f4 95fcd8e9
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 24 10:12:11 2015 +0100

    Merge pull request #682 from Metaswitch/logging
    
    Fix log rotation problems

[33mcommit 920c1fa67be1ff297c9af31e267309f1767f8ef2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 10:02:48 2015 +0100

    Don't mock out all of time, again.
    
    This is 1d5f1489, moved to the new library module

[33mcommit 95fcd8e9bae35ff5c416e0403c5ac71e3b304cb5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 08:51:05 2015 +0100

    Changelog entry for #682

[33mcommit 0c3b1e6f4d3ece03e5d3a21550c0895957357e4a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 08:50:03 2015 +0100

    Don't rotate small log files

[33mcommit a26dc6f40b98dc32fa118fd1f703f13c926ad93e[m
Merge: 85d0ad83 86ed0161
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jun 24 08:47:35 2015 +0100

    Merge pull request #681 from Metaswitch/smc-streamline-conntrack
    
    Streamline conntrack rules, move to top-level chains

[33mcommit 86ed0161eff8f6dfeae67bddcd0b30b8d384b140[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 24 08:35:47 2015 +0100

    Move comment back to parent code

[33mcommit fac0209111caaa320d86454e06b8c5877cb414a8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 22 16:08:07 2015 +0100

    Documentation to increase conntrack table size

[33mcommit 85d0ad83fdb9b5dc69de68a33e2d4fd511eec118[m
Merge: 5fdafb3c 09c3be9e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jun 24 08:19:31 2015 +0100

    Merge pull request #686 from Metaswitch/smc-etcd-dev-docs
    
    Improve developer docs around etcd polling.

[33mcommit 09c3be9e01722827c2476925fc3fe5433f6ef302[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 16:57:15 2015 -0700

    Improve developer docs around etcd polling.
    
    Rename start_etcd_watch to be generic to facilitate other
    implementations.

[33mcommit 08ffd1efab45ffd0d36f9045cd7af913e12ab95f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 14:30:07 2015 -0700

    Tidy up global rules generation and add some UT.

[33mcommit 8bde78f03719ab76e829bae93f34f9811fe815cd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 14:08:14 2015 -0700

    Add UTs for _build_input_chain.

[33mcommit eb02511c6e29879815424799d47c7ca80754aa54[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 12:21:59 2015 -0700

    Update changelog.

[33mcommit 38d08e64cd2298c58ab6b5e95798b10692adbbb4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 12:07:26 2015 -0700

    Accept router solicit messages, block router advertisements.
    
    As a router, clients send us RS packets and we respond with
    RA packets.  This worked before because there's a periodic
    RA broadcast anyway.

[33mcommit 43dae8d948024eb08d79e840ba566eaabed97f97[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 23 10:10:19 2015 -0700

    Move conntrack rules to top, above less-important ICMP rules.

[33mcommit 5fdafb3ccaec8640168a92db904f4ff8ace1d21a[m
Merge: b9e74a06 2da2d4fc
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 23 17:09:07 2015 +0100

    Merge pull request #670 from Metaswitch/smc-refactor-fetcd
    
    Refactor etcd watcher: split off dedicated polling greenlet.

[33mcommit 60438792c573fe50cc417a40a8b116187be5b7f4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 23 13:41:22 2015 +0100

    Add Felix log rotation to RPM files

[33mcommit cefc4901459c4be642fa93db1ac2b4a6d18d4727[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 23 13:38:40 2015 +0100

    Stop Felix rotating its own logs

[33mcommit b4aae478372445bd15f1eca8288938cc540acbc8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 22 17:18:49 2015 -0700

    Move conntrack entries to higher-level chains.  Remove blanket ICMPv6 ACCEPT.

[33mcommit 9c165e9b4124d7aadab46d27a45f99314d1d3d15[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 22 16:57:22 2015 -0700

    Rework input chain to return early if packet is not from managed interface.

[33mcommit 2da2d4fc37756578c20ca0828933fc3f280d7f57[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 19 10:41:30 2015 -0700

    Refactor etcd watcher: split off dedicated polling greenlet.

[33mcommit b9e74a066e4a2daa23e96cb353609645a5dda61f[m
Merge: 3e416777 fe308bd4
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Jun 22 16:20:16 2015 +0100

    Merge pull request #662 from Metaswitch/smc-fix-ipam-pool-parse
    
    Handle bad JSON in IPAM pool.

[33mcommit fe308bd42aa556f690c6966c111bca64311c4f58[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 22 16:13:22 2015 +0100

    Add changelog entry for #662.

[33mcommit 393e1c6eb0362b25fab008a99c8af6371e6615ff[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 16:59:04 2015 -0700

    Handle bad JSON in IPAM pool.
    
    Fixes #657.

[33mcommit 3e41677713f21c0bae1936535b88850b64c8d4a3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 22 15:48:18 2015 +0100

    Fix broken unit test

[33mcommit 0d1fd4316bf6263c626d4badc5bd5cfebce97b22[m
Merge: fab3c182 b1ab9b69
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 22 15:38:09 2015 +0100

    Merge pull request #677 from Metaswitch/issue/132
    
    Warn when using non-Calico network type

[33mcommit b1ab9b69721132fcda85f36ab5938a88e5c062ed[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 22 15:31:30 2015 +0100

    Warn when using non-Calico network type

[33mcommit fab3c182c6bef9e5656fc4bdbe4c21809488fc33[m[33m ([m[1;33mtag: 0.25[m[33m)[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 22 14:09:12 2015 +0100

    Version 0.25

[33mcommit 446f229eee144c31b5887538c992f1ecdc0cce7f[m
Merge: 3637774e 27485627
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 22 13:11:26 2015 +0100

    Merge branch 'smc-fix-delete-rules'

[33mcommit 2748562764e6285357ca0c22fb551f6f0c6f3390[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jun 22 12:14:10 2015 +0100

    Minor markups to comments, plus an assert for code quality.

[33mcommit 1997a19bf3834aae9de2a4a44bd7952fd15f706f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 19 11:41:51 2015 -0700

    Fix that profile chains weren't being stubbed out.
    
    * When a profile chain was deleted or failed validation, we
      were aliasing that to {}, which is the empty chain,
      instead of deleting the chain.
    * Spotted that we were still catching CalledProcessError
      instead of FailedSystemCall in a few places, fixed those
      up.
    * Fixed up some comments and docstrings.

[33mcommit 3637774e564ebdabf553e0bed6f3d0d8b377c30d[m
Merge: 531caf13 49c792b8
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Jun 22 11:12:56 2015 +0100

    Merge pull request #637 from Metaswitch/issue/517
    
    Use neutron agent-delete in install instructions

[33mcommit 531caf1360a558fd83afa22b1c9e9eb616583479[m
Merge: d1bdf1d4 4f206a5e
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 22 11:09:25 2015 +0100

    Merge pull request #623 from Metaswitch/smc-squash-conntrack-flows
    
    When an IP (or whole endpoint) is removed, remove conntrack entries

[33mcommit 4f206a5e39d8e4b1e74a86c7134051b403c69f50[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jun 22 10:55:26 2015 +0100

    Remove some accidentally added code in conntrack fix.

[33mcommit d1bdf1d4f03194bcfcd2487341cc94f7166b3850[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 22 10:27:23 2015 +0100

    Fix typo in CONTRIBUTING.md

[33mcommit 0e6c01c75a152745557b816df657c4f725eb956b[m
Merge: 26243b70 748f7763
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jun 19 20:47:21 2015 +0100

    Merge pull request #674 from Metaswitch/smc-fix-log-error
    
    Fix TypeError caused by incorrect string format args.

[33mcommit 748f7763cb29f90ec29b9d3168cf4443d021b4a3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 19 12:13:11 2015 -0700

    Fix TypeError caused by incorrect string format args.

[33mcommit e11694a0ba478d45b6c88ba6b35ffd6a9add2de3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 19 10:16:11 2015 -0700

    Add UT for remove_conntrack_flows.

[33mcommit 26243b7054c7a8cae37bb7f161d490f6026aedf7[m
Merge: b7120af9 45cf9698
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jun 19 17:45:37 2015 +0100

    Merge pull request #655 from Metaswitch/md4-update-rhel-instructions
    
    Update RHEL install instructions.

[33mcommit b7120af959ffbdddafebf1062775911cab2cec95[m
Merge: d178cccb 48bcec5c
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 15:51:46 2015 +0100

    Merge branch 'smc-input-chain-policy'

[33mcommit 48bcec5c3b15bbd2af560345d561ab8e02b5b0cc[m
Merge: ed90a822 dc620e4f
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 15:51:11 2015 +0100

    Merge branch 'master' into smc-input-chain-policy
    
    Conflicts:
            calico/felix/frules.py

[33mcommit d178cccbda9e68bf936b6d511a30e20109b3241e[m
Merge: dc620e4f cc36d887
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jun 19 15:47:52 2015 +0100

    Merge pull request #663 from Metaswitch/smc-cleanup-devices
    
    Minor cleanups to devices.py.

[33mcommit dc620e4fc6a95c874bfdb3bec99814305171085e[m
Merge: 7ffd29e7 3b6346e1
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jun 19 14:32:49 2015 +0100

    Merge pull request #667 from Metaswitch/dns
    
    Allow DNS through the INPUT table as well

[33mcommit 3b6346e1573e2acbf3de3266163b8b0c8a958b1d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 14:02:30 2015 +0100

    Allow DNS through the INPUT table as well

[33mcommit 1bf004ab2676aef2f192c411b6ab9d5d6b425f12[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 11:49:39 2015 +0100

    Force GC to make tests pass on PyPy

[33mcommit a1e9c31390e34c116eccd339728e4877b062a229[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 11:48:52 2015 +0100

    Remove old reference to aclmanager tests

[33mcommit 7ffd29e7ebcdab37f5ddd6a0a879656e4d338886[m
Merge: 628057a1 33eb8fef
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jun 19 11:35:22 2015 +0100

    Merge pull request #665 from Metaswitch/icmpv6
    
    Allow ICMPv6 traffic needed for DHCP to the host

[33mcommit 33eb8fefb252e5199d7b5fe8d96ee1c8218a8f0b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 10:34:20 2015 +0100

    Interface match on IPv6 rules

[33mcommit c58098fc6ba85699633567d43ed21f876099db15[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 10:30:56 2015 +0100

    Allow ICMPv6 traffic needed for DHCP to the host

[33mcommit 628057a1847d3bf5546a9835c5b5e9d8e670f71a[m
Merge: c2279e70 c2868822
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Jun 19 09:39:17 2015 +0100

    Merge pull request #664 from Metaswitch/issue/644
    
    Version keys in etcd data model doc

[33mcommit c286882274fe985b321c82cfdca7c7594dcfdf87[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 09:34:23 2015 +0100

    Version keys in etcd data model doc

[33mcommit d2dfcfc723c8e0dbcb86a10f2f69a7b27b6079ac[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 19 09:29:21 2015 +0100

    PyPy specific test dependencies

[33mcommit 45cf9698ff50d3345814ad2c8f43cbfea9bd3182[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Jun 19 08:54:21 2015 +0100

    Further warning under etcd proxy section

[33mcommit 18456a068a79a78e16e34817ad9deba63edba785[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 17:58:30 2015 -0700

    Update changelog.

[33mcommit 30610880b7debff0762605532835ddfc33c2e5e4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 17:55:48 2015 -0700

    Add conntrack as a dependency.

[33mcommit cc36d88768e733811dab4f425c59c69dcee3ece8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 17:45:20 2015 -0700

    Minor cleanups to devices.py.

[33mcommit 860a8b87ce0f171f3b7c98891dcea93aa69291ae[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 17:44:05 2015 -0700

    Code-review markups.
    
    - Move cleanup call to set_routes.
    - Specify address family on conntrack call.

[33mcommit 66a9565e1ce57a333335c7755b690540420f58d1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 4 11:25:26 2015 -0700

    When an IP (or whole endpoint) is removed, remove associated conntrack entries.

[33mcommit ed90a8224b7192ebcc59611e156e3d99d1eeb3da[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 16:19:04 2015 -0700

    Reinstate jump from input chain to from-endpoint chain.
    
    Allows services to be hosted on the host.

[33mcommit e72af3f0a4057edc860132e484c8adbac6620f0f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 18 16:19:00 2015 -0700

    Allow default endpoint-to-host action to be specified in config.

[33mcommit bb7c5c398f25f9eb992560fb5ceec48777c45317[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Jun 18 20:14:33 2015 +0100

    Fix formatting of BIRD step in RHEL instructions

[33mcommit 41223b20a3ddfb958821a82944e661dddda9df65[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Jun 18 20:09:19 2015 +0100

    Fix indentation of 'curl --insecure' warning

[33mcommit c2279e70568c71881b1f1ddb8cbbb7702e1b97a5[m
Merge: 835cdff5 e14b9d24
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jun 18 16:54:30 2015 +0100

    Merge pull request #658 from Metaswitch/pr/636
    
    Changes.md update for pr 636

[33mcommit e14b9d24767dd968a11cfd7944cec6fc08b63f5b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jun 18 13:54:13 2015 +0100

    Changes.md update for pr 636

[33mcommit 835cdff5be2a48e57e4c486a6e793110b8821603[m
Merge: 7281ae4a 1963a04c
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jun 18 13:17:24 2015 +0100

    Merge pull request #636 from Metaswitch/issue/196
    
    Separate FORWARD and INPUT chains in Felix

[33mcommit 1963a04cb66ada2607153fc8a3b8518a96119fd0[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jun 18 13:06:32 2015 +0100

    Add conntrack to INPUT chain

[33mcommit 2477fd0fd80c5599c0cd2f2c15eff2e549ab66ee[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jun 18 13:06:20 2015 +0100

    Re-add async=False

[33mcommit 49c792b85abf68bf1d8a05fcd74e315ea7fee831[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jun 18 08:39:33 2015 +0100

    Delete the agent first, then remove it from Neutron

[33mcommit 6b6c285ced8a462b20d598f719c03a80cc2ff654[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 15 18:33:27 2015 +0100

    Remove inconsistent 'sudo' command from RHEL BIRD script step - most of the other steps require root, but none of them specify it

[33mcommit 216859781b611d5641c32cab76b968b778923fe7[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 15 18:29:38 2015 +0100

    Remove repeated development tools install step

[33mcommit ed0013599ec25c0fa0d01807ccb6a9fc870a5f81[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 15 17:45:20 2015 +0100

    Add warning message for etcd download SSL expiry error

[33mcommit 7281ae4ad10ee16b884247c7f83eab7430967fa2[m
Merge: bbb23b0d ac4a770d
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Jun 15 08:23:14 2015 -0700

    Merge pull request #653 from Metaswitch/windows/unit-test
    
    Allow failure to install diag dump handler

[33mcommit 3db19cf47c138d09ffdb7b0a1158d42e3df7ffa8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 13:27:02 2015 +0100

    Doc markup

[33mcommit bbb23b0dbcda8f8cf2af1c38de1daf24c124530a[m[33m ([m[1;33mtag: 0.24[m[33m)[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 11:47:12 2015 +0100

    Version 0.24

[33mcommit 609f627affea2387bdfc952015ac4c83f08c853c[m
Merge: d69be15a c8a9742a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Jun 15 11:24:32 2015 +0100

    Merge pull request #641 from Metaswitch/issue/635
    
    Setup the CalicoNotifierProxy early

[33mcommit c8a9742aedc13cdaf9b7afafe813fab00dc332d8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 11:18:05 2015 +0100

    Clean up unit test

[33mcommit 11f96544e4d3f671e8d22ecfec14203323518099[m
Merge: 9037cd84 d69be15a
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 09:36:02 2015 +0100

    Merge branch 'master' into toxpypy
    
    Conflicts:
            calico/openstack/test/test_plugin.py

[33mcommit ac4a770d77a48108b444453cc5b1a5759443fd21[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 09:29:16 2015 +0100

    Allow failure to install diag dump handler

[33mcommit 31d49423ca722dcca248ff93841ffb0a32b03b7b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 09:16:47 2015 +0100

    Switch to put all rules in felix-INPUT chain

[33mcommit 1ede51e08a174f5700a7249e1475689422639198[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 9 13:49:45 2015 +0100

    Skip the DHCP rules elsewhere

[33mcommit dd768e14a27664d7b621bfc287fb384491738867[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 9 13:47:27 2015 +0100

    Move metadata allow rule to inbound chain

[33mcommit c047cbe7ddef5694fa20429a98790a2d9f5651c0[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 9 13:47:15 2015 +0100

    Test the inbound chain

[33mcommit 3fc113b0e073687ea9917527cd9d325982cc4217[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 9 13:30:00 2015 +0100

    Separate FORWARD and INPUT chains in Felix

[33mcommit 8387191fa7f77c5b4991d64efdcd1d23237ccb3c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Jun 15 08:46:41 2015 +0100

    Defensive assertions

[33mcommit d69be15a4392e985beddf4180f6fb30da7ec99d9[m
Merge: 2b1b580b db076003
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Fri Jun 12 17:12:33 2015 -0700

    Merge pull request #651 from Metaswitch/smc-add-masquerade
    
    Add IP masquerade support for private IPAM pools.

[33mcommit db0760032ceaab2f6374873ac2b67b8d58503521[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 10:57:03 2015 -0700

    UTs for validate_ipam_pool.

[33mcommit 9a91d022dcdef0179f42c1b9b85c6a1265c4172d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 10:39:54 2015 -0700

    Fix typo during rebase.

[33mcommit 1046940d0c579bc5413b472312b963f4eae7f028[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 10:36:17 2015 -0700

    Add UTs for ensure_rule_removed.

[33mcommit 410f5260ffedb1217b560214c82823e75407ecf8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 10:19:12 2015 -0700

    Add UTs for MasqueradeManager.

[33mcommit 2417beba804c9436302c3506426b84ea5cd2c2a2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 09:50:37 2015 -0700

    Code review markups for masquerade support.

[33mcommit a2d90150ff47d4955c33a1b609c814e02e29649c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 08:54:30 2015 -0700

    Fix UTs in light of MasqueradeManager.

[33mcommit 1bc0b47722e9f3af635d33872877892e4529e579[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 17:41:16 2015 -0700

    Add IP masquerade support for private IPAM pools.

[33mcommit 2b1b580b519aa50f50df580db7be9d4d979a6172[m
Merge: 46985861 28f1d3f1
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Jun 12 08:39:11 2015 -0700

    Merge pull request #650 from Metaswitch/smc-arb-proto
    
    Add support for arbitrary IP protocols

[33mcommit 28f1d3f1036aa5fdada637fc4d1cc950f4df8bb3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 12 08:23:42 2015 -0700

    Code review markups.

[33mcommit 342e24d77574198e5b6ef3fd14e33b93df558e55[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 11:46:38 2015 -0700

    Code review markups for arbitrary protocol support.

[33mcommit cb9486f32ff862b260d46e601cee40932c0a0534[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 9 14:11:54 2015 -0700

    Add support for matching on arbitrary IP protocols.
    
    Fixes #608.

[33mcommit 492ee9dce997b6557bc1fe4b55b7328f78bb8366[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 12 14:16:14 2015 +0100

    Monkeypatch security_group_rules_updated

[33mcommit 469858615f9989c942789f07cca5831947390a54[m
Merge: c94f1c08 75c866a4
Author: Peter White <peter.white@metaswitch.com>
Date:   Fri Jun 12 11:32:43 2015 +0100

    Merge pull request #611 from Metaswitch/smc-interning
    
    Intern IDs that are likely to be repeated.

[33mcommit 75c866a44b9e385540e4849251a8e178d5c0d736[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 8 14:32:05 2015 -0700

    Code review markups.

[33mcommit f30bdcf7937aef694d55ce190b5ba5481fa18532[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 8 09:42:31 2015 -0700

    Update changelog.

[33mcommit 375f8341f1451db1d5851720f4a2c7a66b582798[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 3 18:02:06 2015 -0700

    Code review markups.

[33mcommit 4ba98c629e163ba8fa0e6df31669eb753b398d79[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 2 14:31:11 2015 -0700

    Intern IDs that are likely to be repeated.
    
    * Intern white-listed fields while parsing JSON dicts and lists.
    * Intern EndpointID fields.

[33mcommit c94f1c08b2b03e4a9d8f047ad69077c18e9cd456[m
Merge: f057ad0d 24471da1
Author: Peter White <peter.white@metaswitch.com>
Date:   Fri Jun 12 10:19:57 2015 +0100

    Merge pull request #649 from Metaswitch/smc-fix-port-validation
    
    Allow 0 as a valid port for match rules.

[33mcommit f057ad0df1e75b98c6cea97333aeff382a202e94[m
Merge: cbac6cda df6f2a63
Author: Peter White <peter.white@metaswitch.com>
Date:   Fri Jun 12 10:19:30 2015 +0100

    Merge pull request #619 from Metaswitch/smc-add-stats-dump
    
    Sprinkle stats counters through felix.

[33mcommit df6f2a63bd690c1b1113c301bbf3e1b8fa7d6859[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Fri Jun 12 10:18:42 2015 +0100

    Update CHANGES.md with stats line.

[33mcommit 6c3645e33635edf78d62ff8e83bd4b6abc610330[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 15:00:03 2015 -0700

    Code review markups and UTs for stats function.

[33mcommit abb9a85ce32548aae89148f1d1e4b70d335dafd3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 5 16:53:27 2015 -0700

    Fix import ordering in felix.py.

[33mcommit 962b16a0bcf4893cc8794eaf1d9528d9a40ed6ec[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 3 15:55:41 2015 -0700

    Sprinkle stats counters through felix.
    
    * SIGUSR1 triggers a stats dump.

[33mcommit cbac6cda71cf920b3f9ca426464a95e5547c5c85[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 15:03:37 2015 -0700

    Fix failing UT caused by set ordering assumption.

[33mcommit 24471da1bb4e335c71324d8f713bcd2b347672ee[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 11:26:26 2015 -0700

    Allow 0 as a valid port for match rules.

[33mcommit e0a2a00b64b7f1ae2c1e72da23205c716f34ef1f[m
Merge: 6f01a75c 58665e6b
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Jun 11 11:15:04 2015 -0700

    Merge pull request #648 from Metaswitch/smc-addl-iface-types
    
    Add support for IP-in-IP interfaces.

[33mcommit 58665e6bed31cd5d25da868e0df561bde0cb4076[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 10:57:57 2015 -0700

    Add UTs for Ipset wrapper class.

[33mcommit 8fbdc2d866323a32cca985346bb9992d22cb882c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Jun 11 10:32:34 2015 -0700

    Code review markups.

[33mcommit 66826b2416743c77b4ecabe84cc64baf8cf85852[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 10 14:39:55 2015 -0700

    Add support for IP-in-IP interfaces.
    
    Allows Calico to be evaluated without reconfiguring the underlying
    fabric to peer with Calico.

[33mcommit 97ca189c180f9c39298c1d54c64051887e122d5c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 10 14:31:12 2015 -0700

    Refactor ActiveIpset to expose low-level synchronous API.

[33mcommit 6f01a75cad6b19e853a504e611b641a306ba215a[m
Merge: f180e5a2 1716160f
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 10 11:33:08 2015 +0100

    Merge pull request #638 from Metaswitch/issue/478
    
    Use uuidgen in Ubuntu openstack install instructions

[33mcommit f180e5a2c103ee14dbf25e1c1023f4daad44ea1c[m
Merge: e2e40982 ee8306f9
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jun 10 11:31:30 2015 +0100

    Merge pull request #642 from Metaswitch/issue/596
    
    Move leader election key to versioned directory

[33mcommit e2e40982f5f0d2c65c31e247d56d4a5d97788bf1[m
Merge: 75a44c99 98eca00e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jun 10 10:38:48 2015 +0100

    Merge pull request #643 from Metaswitch/md4-581-log-levels
    
    Reduce log level of mechanism driver rule writes to prevent spam

[33mcommit 98eca00e3c800416ef1ae50381fc4b0da87e633a[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Jun 10 10:37:25 2015 +0100

    Reduce log level of mechanism driver rule writes to prevent spam

[33mcommit ee8306f9ec1416b8a2cee4a910b56e2fb3d6de6b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 10 10:30:42 2015 +0100

    Move leader election key to versioned directory

[33mcommit f68764af35dde5fbc12a8a1012c43fd3ec93eaff[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jun 10 10:25:05 2015 +0100

    Setup the DB in initialize()

[33mcommit 1716160fe83c1fbb75633fc21adafe2c092a8672[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 9 15:45:52 2015 +0100

    Use uuidgen in Ubuntu openstack install instructions

[33mcommit 75a44c99fa4339b40d2add8af52242e39b17490a[m
Merge: b5242104 f673bd49
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jun 9 16:41:13 2015 +0100

    Merge pull request #639 from Metaswitch/remote_check
    
    Allow different hosts to have different interface prefixes.

[33mcommit f673bd49e7f0aa03db124477970a3fb7353f039d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 9 16:18:37 2015 +0100

    Allow different hosts to have different interface prefixes.
    This is allowed for mixed OpenStack / Docker interop.

[33mcommit dc431d53cda8c1f64406081df32f92e147cd9c01[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jun 9 14:44:23 2015 +0100

    Use neutron agent-delete in install instructions

[33mcommit b5242104b39917c778ac14fe96e31d7b15fbb1e9[m
Merge: 37e46f3b e147f7f3
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 9 09:49:19 2015 +0100

    Merge pull request #610 from Metaswitch/smc-occupancy
    
    Hopefully reduce occupancy.

[33mcommit e147f7f39165353952f34ccd56bb2edfbb2a60b3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Jun 8 09:30:33 2015 -0700

    Update changelog.

[33mcommit 7f3f97ed5e94c0534bce419f13d65a0e294fde7d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Jun 3 14:35:20 2015 -0700

    Code review markups.

[33mcommit 2ed7b96d14f2156fff8ac557be0580060d224861[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 2 13:24:29 2015 -0700

    Reduce occupancy.
    
    * Replace endpoint dict with optimized struct in IpsetManager.
    * Only store endpoints that contribute.

[33mcommit 37e46f3b401132edfe8829ae42a035be60abe871[m[33m ([m[1;33mtag: 0.23[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 8 16:43:11 2015 +0100

    Version 0.23

[33mcommit 1c29bc7ab7e731ce2e22802a5c3e047b665748f3[m
Merge: 7554e7e0 ad255311
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Jun 8 08:26:47 2015 +0100

    Merge pull request #632 from Metaswitch/smc-remove-spammy-log
    
    Remove a couple of spammy logs.

[33mcommit ad2553111fc08042222e47f8a95be8d9ea2e3f47[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Jun 5 14:43:40 2015 -0700

    Remove a couple of spammy logs.

[33mcommit 7554e7e0fcfbf50f928e1aedd11b2257980ca0bc[m
Merge: 41b21f27 0d8515f1
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jun 5 17:54:36 2015 +0100

    Merge pull request #630 from Metaswitch/md4-bird-netlink-spam
    
    BIRD config: remove 'device routes' to stop NETLINK: File Exists log spam

[33mcommit 0d8515f1f86f8b3bee2eb2f7bcd6efda117c494e[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jun 5 15:23:32 2015 +0100

    BIRD config: remove 'device routes' to stop NETLINK: File Exists log spam

[33mcommit 41b21f270f9773398a0395034040725b19a40099[m
Merge: 8473792c 4202ddd9
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jun 5 15:08:27 2015 +0100

    Merge pull request #627 from Metaswitch/md4-etcd-diags-script
    
    Extend diags script: add etcd and rabbit diags

[33mcommit 8473792cbf3ea7c67ff7b115c9ce8146ce8a09bf[m
Merge: 8e49cddf cde29ec1
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jun 5 14:51:07 2015 +0100

    Merge pull request #629 from Metaswitch/dl_rh_doc
    
    Update RHEL install instructions to include kilo.

[33mcommit 4202ddd971fe3bb470493adb6608d5f5bc6b0042[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jun 5 14:39:57 2015 +0100

    Diags script: fix ordering of STDOUT/ERR redirects

[33mcommit 8e49cddf5c0414bd0851e7b9ab0fd62d403bb429[m
Merge: 632708ab 25207248
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Jun 5 14:01:13 2015 +0100

    Merge pull request #628 from Metaswitch/awlc_here
    
    Remove use of 'here' from links in the README

[33mcommit cde29ec1adcbf391d1981e93ea7390a6ea2baabf[m
Author: Dave Langridge <dave@calico.com>
Date:   Fri Jun 5 12:50:21 2015 +0100

    Update RHEL install instructions to include kilo.

[33mcommit 98ab2a84b78ebada3cc07f462c94fc560d337143[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jun 5 11:48:04 2015 +0100

    Extend diags script: add etcd and rabbit diags

[33mcommit 25207248b65911d159104fd8331b9f30075b4ccc[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Fri Jun 5 11:45:35 2015 +0100

    Remove use of 'here' from links in the README
    
    Rather than using 'click here' or similar, it's better to provide
    a short description of where the link goes or what it is.

[33mcommit 632708ab500121ea85ded0c24ecdfd4c824533a2[m
Merge: 483b3299 8496add6
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jun 4 15:24:18 2015 +0100

    Merge pull request #621 from Metaswitch/issue549fix
    
    Issue549fix

[33mcommit 8496add6bb6d9437e0f22856637cdc99489ae953[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jun 3 09:49:13 2015 +0100

    Yet more cleaning up of fields when MAC address changes.

[33mcommit 734b8124752fe51d9bf7aefe9ab22f0b31f764a0[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 2 12:42:07 2015 +0100

    Previous fix broke IPv6 - unbreak it. While we're at it, beef up tests substantially.

[33mcommit 5bf6209a9eaf3e648fa698a09d779449d010cb6a[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 1 16:15:18 2015 +0100

    Reset ARP if MAC address changes.

[33mcommit 483b329981233dd63f42b5e5308e055416a85b80[m
Merge: d20d3c57 798f12b6
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Jun 4 12:48:40 2015 +0100

    Merge pull request #620 from Metaswitch/revert-614-issue549redo
    
    Revert "Issue549redo"

[33mcommit 798f12b6d98c72126fcdf004948d328c95b7fc67[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Jun 4 12:48:13 2015 +0100

    Revert "Issue549redo"

[33mcommit d20d3c5761c14091cebc944de91fde4507b59d80[m
Merge: 52cb80d7 41289d55
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Jun 4 12:01:50 2015 +0100

    Merge pull request #614 from Metaswitch/issue549redo
    
    Issue549redo

[33mcommit 41289d559f8009c132f1418c6e74a9621093ed65[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jun 3 09:49:13 2015 +0100

    Yet more cleaning up of fields when MAC address changes.

[33mcommit b2963bfe28b6b21afcbaf41b59dfd056ccc138d3[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 2 12:42:07 2015 +0100

    Previous fix broke IPv6 - unbreak it. While we're at it, beef up tests substantially.

[33mcommit fd8b2724f73572f002f5ad17b9674a66e31e2303[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 1 16:15:18 2015 +0100

    Reset ARP if MAC address changes.

[33mcommit 52cb80d7240919f377ef6014607dd08fccd6c3cb[m
Merge: 7eca103d b27712be
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jun 3 09:20:33 2015 +0100

    Merge pull request #613 from Metaswitch/smc-fix-unparsable-json
    
    Treat bad JSON as missing data.

[33mcommit b27712becb16236ee040a491039b0bfc03b98984[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Jun 2 16:52:04 2015 -0700

    Treat bad JSON as missing data.

[33mcommit 7eca103dfef29e337df3f6524ae5a0e9630f34e5[m
Merge: 42aa2d50 25de1e3c
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jun 2 20:25:53 2015 +0100

    Merge pull request #609 from Metaswitch/revert-605-issue549repair
    
    Revert "Issue549repair"

[33mcommit 25de1e3cae5c26d9c0ced9a08372693114396bf7[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jun 2 20:25:31 2015 +0100

    Revert "Issue549repair"

[33mcommit 42aa2d50588674ddd82ba01cf84602ac810c20a2[m
Merge: c0770cac c04b42cb
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jun 2 19:10:25 2015 +0100

    Merge pull request #606 from Metaswitch/comments
    
    Add comments to clarify function interfaces.

[33mcommit c0770cac9c19db2a16e1c807657053564a9fd427[m
Merge: bdc944b0 6e917314
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Jun 2 18:53:40 2015 +0100

    Merge pull request #605 from Metaswitch/issue549repair
    
    Issue549repair

[33mcommit bdc944b01610b8b1fb504c124eda815f76353adc[m
Merge: 4156aa9a afcb1e31
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Jun 2 07:50:18 2015 -0700

    Merge pull request #607 from Metaswitch/profile_deletion
    
    Profile deletion

[33mcommit afcb1e3180778bcf9f620c47b29b5ebd79603288[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 2 14:47:53 2015 +0100

    Forget about profiles when they are deleted.

[33mcommit c04b42cb2f9ba8a2ea900e9add82f53290ad2072[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 2 14:22:48 2015 +0100

    Add comments to clarify function interfaces.

[33mcommit 6e917314163a36d7b4054ec54bcc5d37de9146ef[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 2 13:31:05 2015 +0100

    Code review markups to ARP code.

[33mcommit aa84df56e32cf02d06ce7005f6ae94fdae1cccee[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jun 2 12:42:07 2015 +0100

    Previous fix broke IPv6 - unbreak it. While we're at it, beef up tests substantially.

[33mcommit a18e91f6c5eb6fbe8d732e5ebaa8f3cd37967dc8[m
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 1 16:15:18 2015 +0100

    Reset ARP if MAC address changes.

[33mcommit 4156aa9a10cd8b5a8340def27a8cd874bbbf5b79[m[33m ([m[1;33mtag: 0.22.1[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 1 19:39:47 2015 +0100

    Version 0.22.1

[33mcommit 3648f41c3dd0b91b3825cc68e101e70d5d162ebc[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 1 19:35:10 2015 +0100

    Revert "Merge pull request #600 from Metaswitch/issue549arp"
    
    This reverts commit 70cb6f31ab9b8b43dca2f721d2c6a3baec2c2175, reversing
    changes made to 4f647bba7fb93707861aa98b6ae3f9ee1e312dcd.
    
    Conflicts:
            CHANGES.md

[33mcommit 88a8c94231fd96f23db15109d19534a380b7439a[m[33m ([m[1;33mtag: 0.22[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Jun 1 17:17:33 2015 +0100

    Version 0.22

[33mcommit 70cb6f31ab9b8b43dca2f721d2c6a3baec2c2175[m
Merge: 4f647bba b4fee87f
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 1 16:15:18 2015 +0100

    Merge pull request #600 from Metaswitch/issue549arp
    
    Reset ARP if MAC address changes.

[33mcommit 4f647bba7fb93707861aa98b6ae3f9ee1e312dcd[m
Merge: 2d67c291 93388327
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 1 16:15:00 2015 +0100

    Merge pull request #597 from Metaswitch/dl_doc
    
    Changes to ubuntu install instructions to cover kilo

[33mcommit 2d67c291fee54ba4d3260147f2bfe994d6e86a60[m
Merge: 59ce4818 43c765be
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Jun 1 16:10:44 2015 +0100

    Merge pull request #602 from Metaswitch/ipv6-juno-doc
    
    IPv6 doc: mention that Juno needs 'DHCPv6 stateful' mode

[33mcommit b4fee87f0e8376121e345cedbe151bbb4d738817[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jun 1 12:51:03 2015 +0100

    Reset ARP if MAC address changes.

[33mcommit 43c765beba35cd8c4336834ae09e4f0304e8f0dd[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Jun 1 15:32:42 2015 +0100

    IPv6 doc: mention that Juno needs 'DHCPv6 stateful' mode

[33mcommit 93388327c6ffad887ec596ab12b62a07109c1ebe[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Mon Jun 1 14:32:22 2015 +0100

    Tidy up the links for OpenStack installation
    
    It makes more sense for these links to point to the top level of the OpenStack docs, which has a table of contents, than jump straight to the preface.

[33mcommit ff64f819588042cb90e665456ba984a157a1bf07[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Jun 1 14:24:25 2015 +0100

    Yet another minor typo

[33mcommit 84be62ccbde50ce37387cb400b460650e722b10d[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Jun 1 14:23:34 2015 +0100

    Yet another capitalisation change

[33mcommit cc97b9ae1739a5f17c2446151cecda737c36159a[m
Author: Dave Langridge <dave@calico.com>
Date:   Mon Jun 1 13:58:08 2015 +0100

    add instructions for checking libvirt version

[33mcommit bee386ae5c8ee5e4ce292dadec7255f3ae282135[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Jun 1 13:33:31 2015 +0100

    Additional markups on the Kilo instructions

[33mcommit 59ce481814b4b8068000340cb87f56756f0a7174[m
Merge: 5af1e2c1 24d75726
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Jun 1 11:27:46 2015 +0100

    Merge pull request #598 from Metaswitch/awlc_docs_minor
    
    Minor tidy-ups in architecture.rst

[33mcommit 24d75726126299f814a59af5bea08b8ef1618136[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 1 10:35:47 2015 +0100

    Fix file permissions

[33mcommit 95cf228fcc66818258175b8cbdd7d3b25f4c0110[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 1 10:35:13 2015 +0100

    Minor formatting tweaks in Red Hat install doc

[33mcommit 614506efec2f2426a9d47ceb703b71d1281c5dfd[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Mon Jun 1 10:27:57 2015 +0100

    Minor tidy-ups in architecture.rst
    
    * Fix a spelling mistake
    * Consistent hyphenation of the word "plugin"
    * Consistent use of -ise/-ize in the same document

[33mcommit e58dfa128ad3b2579ddaf4f2000a8e2953174c06[m
Author: Dave Langridge <dave@calico.com>
Date:   Mon Jun 1 07:58:59 2015 +0100

    Fix kilo case

[33mcommit b84ee7dfb90f5924026e3a0e6576831e8cbda477[m
Author: Dave Langridge <dave@calico.com>
Date:   Fri May 29 16:34:51 2015 +0100

    And again!

[33mcommit 660b46d25d0317382953df0f60520a2275e5b09d[m
Author: Dave Langridge <dave@calico.com>
Date:   Fri May 29 16:33:16 2015 +0100

    fix for alex

[33mcommit 09ae7d963fbd83c5b150cea606a7ac09fbabc2c0[m
Author: Dave Langridge <dave@calico.com>
Date:   Fri May 29 15:32:39 2015 +0100

    fix syntax

[33mcommit 33136bdff556973636e0b5ef1a719968afc2e550[m
Author: Dave Langridge <dave@calico.com>
Date:   Fri May 29 15:27:02 2015 +0100

    Update ubuntu install docs
    
    Updated the ppa description to include kilo.

[33mcommit 5af1e2c18d7225122e036bac3471f0d7532a3097[m
Merge: 1f0a184f 11554e11
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 29 11:31:27 2015 +0100

    Merge pull request #591 from Metaswitch/logging_moved
    
    Migrate to oslo logging when needed.

[33mcommit 11554e11b5715e1a146a5820f6ff53ea7dc900f7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 29 11:21:22 2015 +0100

    mech_calico: Assert False in get_mappings
    
    I believe this is preferable because I don't think we actually
    configure any interface mappings in a Calico installation.  Hence,
    while the code using interface_mappings looks plausible, it might
    actually fail in an unclear way, and I'd rather know clearly if
    get_mappings was actually called.

[33mcommit 1f0a184f9950cb589106135ae612f37fa1acf5ce[m
Merge: 09204460 69455162
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri May 29 10:52:25 2015 +0100

    Merge pull request #593 from Metaswitch/issue542interface
    
    Suppress exception triggered when removing routes from device being râ€¦

[33mcommit 09204460c725b4d88f8db6e6a8704913a63817a0[m
Merge: 02766999 d1fd5ad7
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 28 15:58:30 2015 +0100

    Merge pull request #530 from Metaswitch/smc-tree-dispatch
    
    Implement tree-based dispatch chains.

[33mcommit 0276699900a825d2344972104aed61cf37f4e51b[m
Merge: fd13a530 1c6bae94
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu May 28 15:53:53 2015 +0100

    Merge pull request #594 from Metaswitch/issue460repair
    
    Fix bad assert left in after fix to issue 460

[33mcommit 1c6bae94f8177dd4d8f54ef6c06d30a2d7a120cb[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 28 14:33:41 2015 +0100

    Fix bad assert left in after fix to issue 460

[33mcommit 694551629e62f101fed44dd7c889a0201967a4ea[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 28 10:04:49 2015 +0100

    Suppress exception triggered when removing routes from device being removed.

[33mcommit fd13a53094f6f310a2359071246c35155338b049[m
Merge: fc9e03ec 09d99bca
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu May 28 12:16:20 2015 +0100

    Merge pull request #554 from Metaswitch/bird-rr-docs
    
    Initial documentation for 'bird as RR'

[33mcommit 09d99bca787c8cb394f770b24caf33048b37738f[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu May 28 12:11:50 2015 +0100

    Fix formatting bug in Ubuntu install doc

[33mcommit 9b15912707a855a597c097aa8e98d03e183d1759[m
Merge: 0005592b fa4413b4
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu May 28 12:08:03 2015 +0100

    Merge branch 'bird-rr-docs' of github.com:Metaswitch/calico into bird-rr-docs

[33mcommit fa4413b489119903e832b810e9b18e0bc2d43daf[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 22 14:13:41 2015 +0100

    Fix permissions

[33mcommit 6b9cfdad42194782783457aaa94852ee37b671cc[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 22 14:07:55 2015 +0100

    Tiny formatting tweak in Bird RR docs

[33mcommit 08c48e8be9008c8f0af64262b871df0637014849[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 22 13:52:37 2015 +0100

    Additional documentation tweaks to rationalise the RHEL and Ubuntu BIRD instructions.

[33mcommit ac220fa24c5f9a34b5670f18b0866734b8d88598[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 09:32:35 2015 +0100

    Note about gen-bird-conf script

[33mcommit 324871f3dc583347636ee22860319385a791dd7b[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Tue May 19 09:23:50 2015 +0100

    Remove stray character from 'bird as RR' docs

[33mcommit e3cb149085a1a4e91ed01a402fcf7e499943806c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 08:33:11 2015 +0100

    Initial markups

[33mcommit 55ffc1e6202a27c842958ee1460411d3ec3f18ea[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 18 16:49:08 2015 +0100

    Initial documentation for 'bird as RR'

[33mcommit 0005592b109e739a1c893a261b896d9430a0dd43[m
Merge: fd180fb6 9ff80378
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu May 28 11:49:14 2015 +0100

    Resolve merge conflicts

[33mcommit fc9e03eca0f2d99836d0cb1b21a37d08eeaeb10c[m
Merge: fd180fb6 acdbd682
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu May 28 10:47:12 2015 +0100

    Merge pull request #563 from Metaswitch/issue460charset
    
    Test that characters are valid in tags, rules and endpoints.

[33mcommit fd180fb64002e40753467e376625accfbbc0a17e[m
Merge: 233a808b 121d5857
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu May 28 10:30:13 2015 +0100

    Merge pull request #590 from Metaswitch/awlc_issue534
    
    Increase number of file descriptors in calico-felix.conf

[33mcommit 233a808b592f0d7272cd5d9b29a66956a75476cb[m
Merge: 142a9b9f b1502f32
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu May 28 10:28:53 2015 +0100

    Merge pull request #574 from Metaswitch/issue566logs
    
    Fix failure to log when Ready flag missing.

[33mcommit 121d5857ca4f019352e2db5a82ba088ae806d11f[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu May 28 10:28:11 2015 +0100

    Increase number of file descriptors in RHEL 7

[33mcommit 142a9b9f1428847a370a84cc5ca2e0f3635798d1[m
Merge: 483a14bd fb802481
Author: Ed Harrison <ed@projectcalico.org>
Date:   Thu May 28 10:27:29 2015 +0100

    Merge pull request #592 from Metaswitch/issue585faq
    
    Update FAQ section on saved state.

[33mcommit fb80248145f8fc13447ff3365fd436412bd2c0c8[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 27 12:39:21 2015 +0100

    Update FAQ section on saved state.

[33mcommit 1b7d069708888b286e0fefd6fe4a99b4e47aefd2[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu May 28 09:30:40 2015 +0100

    Add Debian file and changelog

[33mcommit c17b70ca941ee973af9ebd30d6aa48008bdc0e9e[m
Merge: 3f477a92 483a14bd
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Thu May 28 09:29:26 2015 +0100

    Merge branch 'master' into awlc_issue534

[33mcommit db7c67e8a62faebbe8176e545a7d71e86b7980a4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 27 11:54:24 2015 +0100

    Extra Kilo overrides

[33mcommit a643e65647369e638e302cad2fd4d024e43a11ee[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 27 11:32:23 2015 +0100

    Migrate to oslo logging when needed

[33mcommit 483a14bdf497301e9fb8d2157fef00946f6aeaed[m
Merge: 57fd7803 89d785c2
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 27 11:28:27 2015 +0100

    Merge pull request #588 from Metaswitch/gc-logging
    
    Do not log from weakref callbacks.

[33mcommit 3f477a928e5d34bd4129a8b1fda6e37e7bd652c6[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Wed May 27 10:18:34 2015 +0100

    Increase number of file descriptors in felix.conf

[33mcommit 89d785c293c291ab7c2a836b9bf34dc9d60ad950[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 27 10:05:05 2015 +0100

    Update changelog for GC logging fix

[33mcommit d729f16f3ed9f2ec2b97bd53d4b1d81671121349[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 26 13:44:16 2015 +0100

    Do not log from weakref callbacks.
    
    See #587 for details

[33mcommit 57fd7803a2bb197f6c3f94847725e641d9e6ccd6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 27 10:08:04 2015 +0100

    Changelog entry for #586

[33mcommit 04d92eaf4380b0349941706d2590c38cea7ee1bd[m
Merge: 62536ca4 ed8ad15d
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 27 10:06:46 2015 +0100

    Merge branch 'vif-details-mac-address'

[33mcommit ed8ad15d8f69650d38c759f054328ccd263f62a4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 22 23:01:15 2015 +0100

    Neutron driver: specify fixed MAC address for Calico TAP interfaces

[33mcommit 62536ca4202cf5eda501fd628dacdf7883d63861[m[33m ([m[1;33mtag: 0.21[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue May 26 17:37:57 2015 +0100

    Version 0.21

[33mcommit a36cb95dad42f9b434b6ed65d7d197fa27ef795d[m
Merge: df977a61 63fffbfa
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue May 26 17:26:42 2015 +0100

    Merge pull request #589 from Metaswitch/md4-ha-docs
    
    Initial documentation for HA

[33mcommit 63fffbfaec669f710113cf13cd4ea95978a70184[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue May 26 17:16:41 2015 +0100

    Docs: minor wording fix

[33mcommit 784e6f18a36f55bd2fcf130c03ffa5c2ea0bd378[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue May 26 16:55:17 2015 +0100

    Docs: update Red Hat install guide to permit HA

[33mcommit a8fd6fb80c9679fc5bd985130d80ec6195799aae[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue May 26 16:35:05 2015 +0100

    Docs: update Ubuntu install guide to permit HA

[33mcommit 24578f720db7ff7bab233f20d54643b9f02c959f[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue May 26 16:34:28 2015 +0100

    Docs: disambiguate etcd upgrade instructions

[33mcommit bd7a6d039db673051963cc64445ecde50d7d2c7d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue May 26 16:34:01 2015 +0100

    Docs: remove API and RPC workers restrictions from configuration guide

[33mcommit acdbd682b18c9f2ba0ee828502c61ac7f3bbec5c[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon May 18 15:30:18 2015 +0100

    Firewall characters in tags, rules and endpoints.
    In the process, add validation code tests.

[33mcommit df977a61a36a5a8b8901e96a2122e0beb9bc7e05[m
Merge: 38e565dc fc658290
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 22 16:49:53 2015 +0100

    Merge branch 'proxy-arp-clarification'

[33mcommit fc6582900407d507b72a3cfb1c79eff58af4a12c[m
Merge: 66d05f9b 38e565dc
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 22 16:49:39 2015 +0100

    Merge branch 'master' into proxy-arp-clarification

[33mcommit 38e565dcabeb39905e1722c2b578a5539401bc6d[m
Merge: 175709ff 0f5a19a7
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri May 22 16:14:02 2015 +0100

    Merge pull request #583 from Metaswitch/awlc-permissions
    
    Fix permissions in docs

[33mcommit 66d05f9bd3ce7829595582ab6bb2a3556801f334[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 22 14:47:41 2015 +0100

    Clarify the docs on our usage of Proxy ARP

[33mcommit 0f5a19a7ec20dcf09bf1c36de09dd9526310c094[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 22 14:16:05 2015 +0100

    Fix permissions in docs

[33mcommit 9ff803783acd0a48973d43c068567e788262c138[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 22 14:13:41 2015 +0100

    Fix permissions

[33mcommit 637c2b5868f0bf7ea0255df3b23b08dafed40af3[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 22 14:07:55 2015 +0100

    Tiny formatting tweak in Bird RR docs

[33mcommit 529d7dd5d6edf62b7bcc2b76f162bceb89244955[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 22 13:52:37 2015 +0100

    Additional documentation tweaks to rationalise the RHEL and Ubuntu BIRD instructions.

[33mcommit 175709ff434f55ca04cd83eb7583a5a00688f463[m
Merge: 51028c5b 5ace6380
Author: Alex Chan <alex@alexwlchan.net>
Date:   Fri May 22 12:22:21 2015 +0100

    Merge pull request #582 from Metaswitch/mailing_list_typo
    
    Fix incorrect underline build warning in docs

[33mcommit 5ace63803b1aa4b118a6c942dfaf5f94deb98646[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 22 12:17:00 2015 +0100

    Fix incorrect underline build warning in docs

[33mcommit 51028c5bfbaa1cd596cdb3f6069c2d773b0087e4[m
Merge: 38d1c0ec 92ac8390
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 22 12:14:19 2015 +0100

    Merge pull request #576 from Metaswitch/upgrade-doc
    
    Initial upgrade procedure documentation

[33mcommit 92ac8390bb2fbe5390e2bfdbf61ede320142983f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 22 11:45:54 2015 +0100

    Upgrade docs markups

[33mcommit d1fd5ad70dffefc81ab95b03e7f30ba8acde6991[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 21 16:58:31 2015 -0700

    Self-review markups for tree-based dispatch.

[33mcommit d67b2d9507e52ef17a6e6c3db0448c8a2bc269c6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 12 16:52:29 2015 -0700

    Implement tree-based dispatch chains.
    
    Only support a root chain and a single layer below that
    based on the first character of the endpoint's suffix.

[33mcommit 38d1c0ec83e9f5436ed8ecd86b00c03a42143e2c[m
Merge: 335f9b75 18c563b9
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu May 21 20:12:57 2015 +0100

    Merge pull request #579 from Metaswitch/smc-fix-kill-call
    
    Only kill the elector greenlet if it is running.  Fix kill args.

[33mcommit 18c563b91c96511f7fc36bef459cf111e7c1913b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 21 11:52:18 2015 -0700

    Only kill the elector greenlet if it is running.  Fix kill args.

[33mcommit 335f9b7517ea81619e668877a03463ae5c242b67[m
Merge: 2cd9e8bb 405b16ef
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu May 21 09:42:27 2015 -0700

    Merge pull request #575 from Metaswitch/issue212metadata
    
    Ensure that metadata is not blocked by over-restrictive rules on outbâ€¦

[33mcommit 2cd9e8bbe21a0f79077ae3b6ca762382a38a8146[m
Merge: 6d8cfe96 9eff5373
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu May 21 17:32:22 2015 +0100

    Merge pull request #577 from Metaswitch/awlc-smallfix
    
    Tiny fixes to mech_calico.py

[33mcommit 5d33412069fb882698d7f5b6d55021aa367f34ff[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 21 16:13:29 2015 +0100

    Initial upgrade procedure documentation

[33mcommit 405b16ef9aadd53f442b58d60058eac45d95507a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 21 15:37:18 2015 +0100

    Ensure that metadata is not blocked by over-restrictive rules on outbound traffic.

[33mcommit b1502f32193f1b18a1e1e34b5fe42b795b4c0749[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 21 13:47:21 2015 +0100

    Fix failure to log when Ready flag missing.

[33mcommit 6d8cfe9684ee2b9d9e12c1d5635d41ebd8582253[m
Merge: 4442ded6 3354e495
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 21 13:19:37 2015 +0100

    Merge pull request #568 from Metaswitch/smc-validation-uts
    
    Validate and canonicalise IPs and MACs at validation time.

[33mcommit 4442ded6a891b8d452e55aaaaa9dcb8892394812[m
Merge: d649e655 34fdb973
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed May 20 10:59:28 2015 -0700

    Merge pull request #567 from Metaswitch/smc-fix-ipset-cleanup
    
    Fix ipsets cleanup to correctly iterate through stopping ipsets.

[33mcommit 9eff537325230470e11be7cba41646952918fc54[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Wed May 20 16:01:52 2015 +0100

    Small fixes to mech_calico.py
    
    * Fix the link to the architecture document (the old link was
      404'ing and out-of-date)
    * Remove an unused module import
    * Fix a typo in a comment

[33mcommit d649e655503fe520935c863604be40b31b7b207d[m
Merge: 69518a00 948e34dd
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Tue May 19 16:52:55 2015 -0700

    Merge pull request #570 from Metaswitch/smc-handle-delete-knf
    
    Handle EtcdKeyNotFound from atomic delete methods.

[33mcommit 948e34dd2b96f1428391d84e7e1a3aec620109a1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 19 16:29:32 2015 -0700

    Handle EtcdKeyNotFound from atomic delete methods.
    
    Gets raised instead of ValueError if the key is not present at all.

[33mcommit 69518a004e9fa9fed20c9cfcf509fb3f9fa08c5c[m
Merge: 3e2c12be 28f8cfd3
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue May 19 23:26:51 2015 +0100

    Merge pull request #565 from Metaswitch/etcd-doc-error
    
    Error in etcd data model docs

[33mcommit 3354e4957402f3793ca5428ea40d0ce8c4d26514[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 19 11:38:36 2015 -0700

    Validate and canonicalise IPs and MACs at validation time.
    
    Add UT for validation, fix various minor issues found while
    adding UT.

[33mcommit 34fdb973e73331bfd9e9e0f6cc8e00a31e748e6a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 19 10:58:57 2015 -0700

    Fix ipsets cleanup to correctly iterate through stopping ipsets.
    
    Add UT to make sure it stays fixed.

[33mcommit 3e2c12bef060d529460d1576001063c3691c15ff[m
Merge: 9d2498c7 971dc3e4
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue May 19 09:42:39 2015 -0700

    Merge pull request #564 from Metaswitch/etcd-exception-handling
    
    Improved etcd exception handling

[33mcommit 28f8cfd3f930d9fe4ba72ed757af1d04f2648425[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 14:07:39 2015 +0100

    profile_id -> profile_ids

[33mcommit 971dc3e47d80f9589f55894abdc282fb41d7a007[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 11:48:54 2015 +0100

    Handle cluster ID changes on API actions

[33mcommit 323bd8c121399a3bfcb0dde52e6759922684e392[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 11:09:01 2015 +0100

    Catch specific error for CAS

[33mcommit 9d2498c7dbba0ee23e4476b5d21a7eab53bc8f40[m
Merge: 8b41f8a3 ac23b24c
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue May 19 10:56:51 2015 +0100

    Merge pull request #561 from Metaswitch/changelog
    
    Start a changelog

[33mcommit 8b41f8a3973832480aa738d8292b358e76753763[m
Merge: e52c3cb3 5328e53d
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue May 19 10:54:09 2015 +0100

    Merge pull request #562 from Metaswitch/etcd-proxy-config
    
    Remove unnecessary config lines from etcd config

[33mcommit 5328e53df9566290802340e2d4a97e2ffd8066a8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 10:48:27 2015 +0100

    Remove unnecessary config lines from etcd config

[33mcommit e52c3cb3550bd264d890130a266834553e6a3dbc[m
Merge: 080e96d7 ee38b235
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue May 19 10:42:55 2015 +0100

    Merge pull request #560 from Metaswitch/commentfix
    
    Tweak comment about logging exception.

[33mcommit ac23b24cd77468acf518eaef96fc5949d17b801b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 10:41:17 2015 +0100

    Start a changelog

[33mcommit ee38b235372338ca028732abc8e4d801b7b78a44[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue May 19 10:31:00 2015 +0100

    Tweak comment about logging exception.

[33mcommit 080e96d7ac7df245ab4b207389134ccd2a072314[m
Merge: f4199d75 a54c961f
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue May 19 10:18:20 2015 +0100

    Merge pull request #511 from Metaswitch/feature/neutron-ha
    
    Neutron HA feature branch

[33mcommit 26d277413687243dc45dcb0d9bd7758edca5d6e4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 09:32:35 2015 +0100

    Note about gen-bird-conf script

[33mcommit c042a8cbdefe608a846858720e9fd1fc18fb4a9a[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Tue May 19 09:23:50 2015 +0100

    Remove stray character from 'bird as RR' docs

[33mcommit e003a2c7aa3c742038c1a5dc6d3f4b04a41f7039[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 19 08:33:11 2015 +0100

    Initial markups

[33mcommit a54c961f1b43c6d1726f2bdeac9fb00a329b9b8d[m
Merge: e2152f3d f73a6015
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue May 19 08:08:16 2015 +0100

    Merge pull request #558 from Metaswitch/smc-transport-etcd-excs
    
    Various fixes found through manual FV

[33mcommit e2152f3dd9ed9febc7558c1a99cdd7e0934c2661[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 16:44:39 2015 -0700

    Fix intermittent UT failure.

[33mcommit f73a6015cc5498cf0021813c2d70c1b2a65fb44d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 16:31:36 2015 -0700

    Reduce and randomise the Elector's retry timer.
    
    Avoids a long wait if etcd is restarted, for example.

[33mcommit c5423df37937b5aa08bc8794801c6d99c84ce409[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 16:11:21 2015 -0700

    Fix incorrect call to python-etcd CaS API.

[33mcommit 19f8306783c5402c68946835f3992492129284d0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 16:11:15 2015 -0700

    Simplify exception handling.

[33mcommit 9c5c3fce49594dc819171ce99eb8d12576a3c0a8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 15:00:01 2015 -0700

    Handle EtcdClusterIdChanged in etcd transport.
    
    * Reinit client and elector.
    * Have Elector forcefully shut down its greenlet to avoid
      temporary overlap with dying greenlet.
    * Use decorator to handle exception in each API call.

[33mcommit 13b231b5e16b0f269a5ba4545099ba195c8cfd9e[m
Merge: 8420e83b f4199d75
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 13:13:57 2015 -0700

    Merge remote-tracking branch 'origin/master' into feature/neutron-ha
    
    Conflicts:
            calico/felix/test/test_profilerules.py

[33mcommit 8420e83bcaaca7219706937edd4d284d497e798a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 10:27:10 2015 -0700

    Convert chain names list to set to avoid order issues in UT.

[33mcommit f4199d753274fd4159c041ac590dee2f3a28170d[m[33m ([m[1;33mtag: 0.20[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon May 18 17:56:46 2015 +0100

    Version 0.20

[33mcommit 46085cb9fb9e96b9447c03756479ccfc002fdd1d[m
Merge: 3d8b92ee 1e340e77
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon May 18 18:33:22 2015 +0100

    Merge pull request #555 from Metaswitch/smc-fix-delete-order
    
    Convert chain names list to set to avoid order issues in UT.

[33mcommit 1e340e77b2ff97b4ee774b407b8acb60e08ae20b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 10:27:10 2015 -0700

    Convert chain names list to set to avoid order issues in UT.

[33mcommit 25a44943525a78a78d825ba447040bd0a6e0df61[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 18 09:46:37 2015 -0700

    Fix new ProfileRules UTs, which were incorrect after multi-profile support added.

[33mcommit e7507d0bf0295ad8ac0292a634d186b8c8d8fed5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 18 16:49:08 2015 +0100

    Initial documentation for 'bird as RR'

[33mcommit 000ea45687f2c88e2a34aa57c0a13c2d5c71fa2d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 18 14:16:31 2015 +0100

    Actually become master on election success

[33mcommit 417d9708bfbc11151a3d862c66f08fb9ad4ff329[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 14 15:10:13 2015 -0700

    Add UTs for ProfileRules class.  Clean up code.

[33mcommit c25404956117a568d33ad15a7f2cb4372c3b996e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 12 19:09:13 2015 -0700

    Work in progress on making profiles only update on change.

[33mcommit 3d8b92ee083127741a9d3d3b554e7298beb5ab71[m
Merge: c4ce6ad6 5f7b454c
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon May 18 12:57:16 2015 +0100

    Merge pull request #531 from Metaswitch/smc-profile-opt
    
    Clean up ProfileRules class, optimise and add UTs

[33mcommit aaa4d3f64a1ceebbe327e55e1198a0fa6e0421c1[m
Merge: b134eb3c 2a653084
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 18 08:31:17 2015 +0100

    Merge remote-tracking branch 'origin/smc-ha-fixes' into feature/neutron-ha
    
    Conflicts:
            calico/election.py

[33mcommit b134eb3cb428ebcb67bb6321220b59dd40c7b263[m
Merge: 44b26919 66245165
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon May 18 08:29:20 2015 +0100

    Merge pull request #545 from Metaswitch/election-failure
    
    Don't exit because we failed to remain master

[33mcommit 2a653084bc89660f190dacb48eac90d97bca5b17[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 15 16:26:03 2015 -0700

    Start periodic resync thread from initialisation rather vice versa.
    
    * Resync thread was only running in the parent process.
    * But Electors got started lazily in the children.
    * If parent didn't win the election, periodic resync didn't
      happen.
    
    This change:
    
    * Starts the periodic resync lazily.
    * Defensively checks the PID and re-initialises everything if
      it changes.
    * Adds the ability to stop the Elector so we can recreate it.

[33mcommit 44b2691972c6293e0c1db364726d98b95b1a48b7[m
Merge: 1b961478 47af1557
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri May 15 21:32:51 2015 +0100

    Merge pull request #547 from Metaswitch/smc-fix-leader-key-expire
    
    Handle etcd deletion-like actions in leader election.

[33mcommit 1b96147874ecd26e57c963dbca67f7732e63c54f[m
Merge: 8db159ce aa76cf51
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri May 15 13:00:50 2015 -0700

    Merge pull request #548 from Metaswitch/smc-felix-dir-delete
    
    Handle directory deletion in Felix.

[33mcommit aa76cf5165010fe7a887cad67fecf6ca7c6d98bd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 15 12:01:24 2015 -0700

    Handle directory deletion in Felix.

[33mcommit 47af15578ec5716341aa60347df5de8d31ff14e0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 15 11:44:03 2015 -0700

    Handle etcd deletion-like actions in leader election.

[33mcommit c4ce6ad60bb92e7b65804ab03cdd6d9584dcebdd[m
Merge: 458c1f75 fc059316
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 15 17:43:06 2015 +0100

    Merge pull request #544 from Metaswitch/awlc_docs
    
    More small changes to docs

[33mcommit 662451659e9c6fc54abdc6ca50f91bf431dd145e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 16:22:43 2015 +0100

    Don't exit because we failed to remain master

[33mcommit 8db159ced409571233d5c2348b85a1a0a88e6747[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 17:12:47 2015 +0100

    Profiles is a generator

[33mcommit fc059316b3335310ac4c299ca419b48ae2199c35[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 15 17:03:23 2015 +0100

    fixed parentheses; oops

[33mcommit 0f406bb6f8049f847fbef80a2c3abe8f85d011d2[m
Merge: b78ac1f4 4a902f18
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri May 15 17:01:41 2015 +0100

    Merge pull request #546 from Metaswitch/resync-delete-profiles
    
    Ensure resync actually deletes profiles

[33mcommit 4a902f188a074786cdfcff3de0222386c06b6d29[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 16:40:55 2015 +0100

    Ensure resync actually deletes profiles

[33mcommit 199b35756265d46ee1f6abbf7d4709bc8f67b0cb[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 15 15:11:37 2015 +0100

    small tweaks to configuration.rst

[33mcommit 3119adca295e0bab561307986f7730abb9e4e2a6[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 15 14:55:46 2015 +0100

    fix spelling and hyphenation in architecture.rst

[33mcommit 14a92c748381a26e98599208d6d9ba7f45f93196[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Fri May 15 14:50:27 2015 +0100

    add missing word in etcd doc

[33mcommit b78ac1f4025687863d37f6abb5a356f7dd52ece0[m
Merge: 06671252 5a412f56
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 13:53:01 2015 +0100

    Merge remote-tracking branch 'origin/smc-add-graceful-restart' into feature/neutron-ha

[33mcommit 458c1f7584c40a7c20bf0b07cc2a77c44ece1400[m
Merge: 96d8dc89 5a412f56
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri May 15 11:29:35 2015 +0100

    Merge pull request #493 from Metaswitch/smc-add-graceful-restart
    
    Make felix restart graceful

[33mcommit 066712521b476c96c517fcbcb1688219823fdd9d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 11:19:13 2015 +0100

    Don't forget to update Neutron on all create events

[33mcommit 2ede877706c624977c3b3fa776cb46f939b3f7e3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 10:19:37 2015 +0100

    Cleanup test code

[33mcommit 1335ea7fd8d4cdf9181923d4370caea4db40c241[m
Merge: 5bd53059 96b6744b
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 09:45:19 2015 +0100

    Merge branch 'reentrancy' into feature/neutron-ha
    
    Conflicts:
            calico/openstack/mech_calico.py

[33mcommit 96b6744b7c5064138d9e785ca965787dc3b27879[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 09:37:30 2015 +0100

    Use bullet points

[33mcommit 5bd530597a4ae7b6b8f622ffe7876232e1bcfc86[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 09:23:11 2015 +0100

    Move election key

[33mcommit bc45315d6ce62263999d996f3e97bc18cc758512[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 15 09:22:04 2015 +0100

    Leader election does handle forking

[33mcommit 5f7b454ca5d728111a3505b11bc1705bc4bb015f[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 14 15:10:13 2015 -0700

    Add UTs for ProfileRules class.  Clean up code.

[33mcommit d17f30c97f619f220d860f6fe19dfbd97d187cf4[m
Merge: eea94686 bf100703
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu May 14 16:22:24 2015 +0100

    Merge pull request #538 from Metaswitch/security_group_bindings
    
    Force lookup of security group bindings

[33mcommit ae338178b46e859f3b6dffa1e19519f330f3782c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 16:02:30 2015 +0100

    Fix tests

[33mcommit bf1007039f97d8236f8bcfed873054d9c5c1317c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 16:03:06 2015 +0100

    No plugin_context

[33mcommit 26f7e331da27e9037922a7cd481e133c3f3cd245[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 14:33:50 2015 +0100

    Force lookup of security group bindings
    
    This guarantees that we have up-to-date security group information.
    For some reason unbeknownst to me, the get_port call does not
    actually return up-to-date information.

[33mcommit 75001fe4f41b67feef20edfe432403180a850ff2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 14:26:22 2015 +0100

    Initial reflow

[33mcommit f442f2d0c109ef2cf7f27ced2ff06c7b0b6f022d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 11:40:19 2015 +0100

    Tests need status fields for ports

[33mcommit 6bbffa4182d3bff3a1c76ce098c5bbb3a0d3d953[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 11:22:59 2015 +0100

    Log on creating unbound ports

[33mcommit 40b714fc52dfd3b23589392543c7971697f3092a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 11:12:55 2015 +0100

    Don't process port status change events

[33mcommit 6a4c04295391dce9caafff167f5815f5cae17a8c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 11:02:04 2015 +0100

    Do not create unbound ports

[33mcommit eea94686491ffc48a452e40e85b90ac602e38838[m
Merge: 03f262fc b30f2276
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu May 14 08:32:45 2015 +0100

    Merge pull request #519 from Metaswitch/neutron-changes
    
    [WIP] Neutron changes for HA

[33mcommit b30f2276317a8f5841d485b979380933557b33d4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 14 08:23:24 2015 +0100

    Tests expect 'profile_ids' now

[33mcommit 03f262fc00dd79b51d2b3e9e5fd88de05b3cd06a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed May 13 17:55:39 2015 -0700

    Fix UT mismatch between master and feture branch.

[33mcommit 833b4bc6e2861fc1f33668e4d2fff8eaea814231[m
Merge: 7b0459ba 96d8dc89
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed May 13 17:51:29 2015 -0700

    Merge remote-tracking branch 'origin/master' into feature/neutron-ha

[33mcommit 7b0459ba2b2885168392a32847d563503ee05a00[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed May 13 11:56:23 2015 -0700

    Squelch eventlet's exception printing in the election tests.

[33mcommit c3545511e8785307f41f094d857ca83efafb0712[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed May 13 11:42:14 2015 -0700

    Fix broken log statement.

[33mcommit 96d8dc8994904647e20df1b5628173bb9a42c1d5[m
Merge: 6d0047c1 786f1621
Author: Ed Harrison <ed@projectcalico.org>
Date:   Wed May 13 18:03:48 2015 +0100

    Merge pull request #533 from Metaswitch/awlc-ubuntudocs
    
    Some small fixes to docs

[33mcommit 81e5f67de5a089e43d27ef732b4d36b987ca8db1[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed May 13 17:45:19 2015 +0100

    Plugin should write profile_ids to profile_ids, not profile_id

[33mcommit 786f1621257c62e36dfaeba2c1c66386719e335b[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Wed May 13 17:43:11 2015 +0100

    Fix formatting bug in RHEL install docs

[33mcommit 6d0047c1c3ec0462262c46a2e91715040f554954[m
Merge: 58566ecb bf08c5ae
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 13 17:02:51 2015 +0100

    Merge pull request #525 from Metaswitch/smc-add-txn-ut
    
    Add some UTs for the iptables Transaction code.

[33mcommit 58566ecb7b8e20f86a95bc873e278204c821e2c7[m
Merge: 8b5939fb 97f151bd
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 13 16:40:02 2015 +0100

    Merge pull request #526 from Metaswitch/smc-add-frules-ut
    
    Add UT for iptables rules generation

[33mcommit 6aa8cf592a5b5e092253c840d72660c34c8203b7[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 13 16:14:50 2015 +0100

    Only override the elector for the mechanism driver

[33mcommit bf90f68c2da6ab0b760a9d1ecf1568cae2aad965[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 13 16:12:59 2015 +0100

    Test no resync when not master

[33mcommit b2e2329dadec2226d13033efb2ef7346c7e1c129[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 13 16:08:06 2015 +0100

    Unit tests now ignore election

[33mcommit bc6201d8a11064012993ac14333f1d8dc6e9f834[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 13 15:49:33 2015 +0100

    Delay state initialization because of forking

[33mcommit cc64f0b59b57a377b1ea24de08f63cb3674255ea[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 13 15:27:31 2015 +0100

    Basic election integration

[33mcommit 6fa4d1dd9eb180f9edf226f1256f1c1e5e3dcb73[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 13 10:15:21 2015 +0100

    No longer need to intercept this message

[33mcommit 97d369f40744420a1c79415ff59125989a4f4239[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 12 09:01:02 2015 +0100

    Recurse up the etcd keyspace to delete dirs

[33mcommit 12ec79dddfaa966cb1f7fecb9da59ff987da7740[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 12 08:32:20 2015 +0100

    Try to delete workload directories

[33mcommit 246dc2bd3c43a8606c7a745beef3c905becd7484[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 16:42:11 2015 +0100

    Python 2.6 doesn't understand dict comprehensions

[33mcommit 03ee5a0a04548242a3ea8d7a99299731ecb78739[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 16:32:27 2015 +0100

    Remove unused constants

[33mcommit 9ce82daeb342c924f91811245a2b9e81fc7a8d50[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 16:31:36 2015 +0100

    Update unit tests for new architecture

[33mcommit 0cff01c41950b693367e0087361c8d543d918194[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 16:29:52 2015 +0100

    Handle missing keys at start of day

[33mcommit 1be27fb7a145824d644ee8f061fc292b08ca6cd4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 16:28:37 2015 +0100

    Correctly handle missed migrations

[33mcommit 38f671dcda4be93f9074e9894902e5b1e0cada47[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 15:16:24 2015 +0100

    Write config during resync

[33mcommit d1da4cf0dbe0f0bd524290bb6207c8dcfa0e7e31[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 15:16:07 2015 +0100

    Don't read deleted ports!

[33mcommit aee3458842d2dd97d9117cf4ab5a8f877fdb2847[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 15:15:52 2015 +0100

    Correct method name

[33mcommit be111ec90c12a06f7dc74f3dacffac8d090f2f68[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 14:48:26 2015 +0100

    Must pass context

[33mcommit 21f1ec6f973035c31aeb98fe1050a90fb6b9967e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon May 11 08:41:57 2015 +0100

    Only overwrite missing groups

[33mcommit 59b2eb65d28abef17616228b3443ea1227d0251f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 16:10:57 2015 +0100

    Remove old file copies

[33mcommit 9c1c00a481579901937933964a1ff0cb1fa26932[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 15:06:38 2015 +0100

    Try to clean up directories

[33mcommit ef0cd10f2158596b72fcf807ff5f4747eb8df921[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 14:37:58 2015 +0100

    Remove refcount stuff

[33mcommit ab75336e987d75f203fcc7710ab878125beba999[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 14:06:49 2015 +0100

    Use _plugin_context

[33mcommit 3faa64d2bc26729a5b2d7f88e2a09cd4e5c7806b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:54:02 2015 +0100

    No self.

[33mcommit b66bfa2824c2fcffa70313cbb00c4001e438245b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:48:50 2015 +0100

    Don't forget to get the db

[33mcommit c6c8f2ce99d01d3721bedb831abeb65c765aeba2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:46:01 2015 +0100

    More logging

[33mcommit d6397780b31193b061c2a2e9ac7c17e732f32585[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:35:36 2015 +0100

    filter => filters

[33mcommit 14dd94516ee0775d9678a61e53f6abd1f52cf62b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:35:27 2015 +0100

    Catch exceptions in resync thread

[33mcommit 7f78297bc6f53df531245c1041347c797aae9faf[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:09:48 2015 +0100

    Support adding/removing profiles

[33mcommit 9ac0a07e1904ca6bb5c08a2fbffcf4812730e9e7[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 13:09:07 2015 +0100

    Minor code tidies

[33mcommit d8c3897a50e07bddf85ef727ec0bdf6abe13ea70[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 11:44:48 2015 +0100

    Support atomic delete

[33mcommit 55fa09e52f51091a6a8135b7d15f9ca81aa293d2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 11:37:49 2015 +0100

    Implement get_endpoints

[33mcommit 2742aad03e48182b1a3c2bf46b49eb43a59460cd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 10:20:50 2015 +0100

    Resync stub

[33mcommit ee4ded4daa2a18254e47ec9fb0b2a3fbf5360673[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:56:53 2015 +0100

    Other unused imports

[33mcommit 542a49ae5a6bbfb0744cae3f195d07a59f0279a9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:56:05 2015 +0100

    Remove unused import

[33mcommit f196551a8f52265a9622c5a654e6eedb4be12609[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:44:59 2015 +0100

    Resynchronizing is not a transport job

[33mcommit 97c37f08f4ac7ade1eac20df7a1d8968ef7f5ac9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:43:04 2015 +0100

    security_group_updated is not needed

[33mcommit fc5490d43c12ebb94bc9a15679a094772f9959f6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:42:19 2015 +0100

    Transport no longer handles endpoint updated

[33mcommit 8af02c5082c23ff7ddc1d956b02955c0e3b7525e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:36:35 2015 +0100

    Remove unneeded profile functions

[33mcommit f5ba898cbfa26c78d7dbed6e92133bd42ea5038d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:35:22 2015 +0100

    Multiple security groups per port

[33mcommit c5e3cc5627600527b9c19e950a5bf21643432931[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:26:45 2015 +0100

    No longer pass profiles in port creation

[33mcommit af4b0daeb7da96aaf1c9503ba4542b8c813646f8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:23:23 2015 +0100

    Initial steps towards one profile per group

[33mcommit 4d0563c7ed9caaf7ff15cb6cf09dedcef4787e0e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 8 08:08:29 2015 +0100

    Incremental security profile change

[33mcommit 50fd0b5dce77dc200bdad2c53682cc575727b9e8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 11:11:50 2015 +0100

    Layout

[33mcommit 559f7311a02528b11459c978fa6bfbaed20d59ec[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 11:08:27 2015 +0100

    Write profile to etcd

[33mcommit 3123b83f6e2650c6e7e653fea9bb41f5be477c0c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 10:53:08 2015 +0100

    Write port to etcd

[33mcommit 5aba9292eae06b2a3f4ec98976d7f3ae59cee8cb[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 10:51:43 2015 +0100

    Methods without "self" aren't methods.

[33mcommit 52a535a305b614bdbced63905274c001636c02e6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 10:43:51 2015 +0100

    Idealise transport API

[33mcommit c39b780d41f1addde7c47d26f81a8a61b981951b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 09:41:14 2015 +0100

    Remove transport abstraction

[33mcommit 6f7dff3e1cf335c10dd369dd4a2dee3c677cbe4f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 09:39:45 2015 +0100

    Don't inject the logger

[33mcommit c830b23e6855f1aac1efd36a83684b63f09b3341[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 09:35:05 2015 +0100

    Remove transport state

[33mcommit 78676777ba8ebad3f160da286b895f925f0c15c2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu May 7 08:57:04 2015 +0100

    Initialize isn't guaranteed to be called

[33mcommit a1145ca354a949c1f6d272f073b466e753e52d54[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 6 17:14:34 2015 +0100

    Initial spike for get_security_profile

[33mcommit 10e64150765ca7ad554212110d6fe1ee87f422b3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 6 16:24:40 2015 +0100

    Unified format for endpoint_created calls

[33mcommit c58aa35d14765d5cfb427aefa9d3fd0f137c0ddc[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 6 16:01:41 2015 +0100

    Remove satisfied TODO

[33mcommit 2f3722af915ba307c88b0beea2eff64f2e7e202f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 6 15:59:45 2015 +0100

    Further minor code tidies

[33mcommit 2d114f31f4e84c18a33d1bbd78426494c1a38b45[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed May 6 15:52:00 2015 +0100

    Define the ideal structure

[33mcommit 412da53cee57f41e74984ce4889e01bd0ae410e2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 5 14:47:12 2015 +0100

    Rearrange to keep postcommit methods together

[33mcommit 03a26c12057173547302dac4b18e54ee8b2f80a0[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 5 14:46:54 2015 +0100

    Create temporary backups of current files

[33mcommit c64ea41683a921cfc617d8202cd7d278b60436cf[m
Merge: 4dcee30e feb2286a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed May 13 13:33:43 2015 +0100

    Merge pull request #528 from Metaswitch/elections
    
    Elections

[33mcommit feb2286aa8122ddc9fa14b4674d0fd56a188f14b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 13 11:50:25 2015 +0100

    Minor code review markups

[33mcommit 4dcee30ec01268cde4890166e7489f6995e07124[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 13 10:44:19 2015 +0100

    Cosmetic tidies after changes to add multiple profile support.

[33mcommit 2e5aaaf751274d888f756156c67ddc809c31f0d1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 12 19:09:13 2015 -0700

    Work in progress on making profiles only update on change.

[33mcommit 5a412f56da7f9a283f3633507b80de2747d2a540[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 12 10:56:42 2015 -0700

    Add UTs for IptablesUpdater.

[33mcommit 784ec41c3f60fdb91cc2ea35478bbbfc6f43ecf5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue May 12 10:54:49 2015 -0700

    Minor IptablesUpdater fixes:
    
    * Move read from dataplane onto actor's greenlet.  This is
      more correct: the resource is only touched from the Actor's
      greenlet.  It also makes UT easier.
    * Cast list of deleted chains to set() to allow set operation.

[33mcommit e33e7aab21dfa243e00cdd4b42deeda7fdd835cd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 8 13:40:18 2015 -0700

    UTs and minor fixes for IpsetManager.

[33mcommit 0e563010d227572b3934f240bb5cd91fae302851[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu May 7 17:38:15 2015 -0700

    Add support for list of profiles on endpoints.
    
    * Profiles are executed in order.  First accept or deny wins.
    * The default if there is no match is to drop the packet.
    * Single-profile case passed some basic FVs.
    
    Caveats:
    
    * Since we need to return from a chain rather than accept,
      and we need to distinguish explicit return the implicit
      end-of-chain return.  I have used the MARK action to
      distinguish the cases.
    * The combination of anti-spoof and profile dispatch in the
      from-endpoint chains is now suboptimal (3nm rules, where
      we could do n+3m instead).
    * The tag index is now 4 levels deep which would be a problem
      if we had an endpoint with many IPs, many profiles and
      many tags per profile.  This could be decomposed into
      multiple smaller indices.

[33mcommit 1afb25e1887b4f262ddf7c3ae36fb40fd9c57c69[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 12 14:42:39 2015 +0100

    Fix tests expecting AssertionError

[33mcommit 69cbbb3e068062daffd8888e6cec8c889d72885f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 12 14:37:49 2015 +0100

    Minor code tidies

[33mcommit b21c009f7ff6cae1ca538446905a3b71a2409638[m
Author: Alex Chan <alex.chan@metaswitch.com>
Date:   Tue May 12 14:04:41 2015 +0100

    Minor markups to Ubuntu/OpenStack install doc
    
    * Fix capitalisation of Neutron and RAM disk
    * Add colons where appropriate
    * Make it clear that there are two links in the OpenStack
      installation instructions

[33mcommit 657e727468c6c6c7ee13ce93fb88643339572440[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu May 7 11:39:31 2015 +0100

    Full tests and code tweaks.
    - Fix up to use eventlet not greenlet
    - Do not terminate on election errors
    - Use passed in etcd client object

[33mcommit defd9e122f05b7526c5a47f632f78238dc877d23[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed May 6 17:36:03 2015 +0100

    Add election capability

[33mcommit 10e8c635d7b81aaa63e063170fb8611dee74d9df[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 12 09:21:55 2015 +0100

    Update to new new data model

[33mcommit 382dc0dbb23771ca9a0c9268713725d38cbf2c3f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 5 15:17:56 2015 +0100

    Remove restriction on profile deletion

[33mcommit 634306f5753d123ed9a17e095539a75f6178af3e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 5 13:56:25 2015 +0100

    Missing comment

[33mcommit 5c4350bc2b43955f9d43b8247db9009e1e6b72a6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 5 13:53:47 2015 +0100

    Add datamodel helpers

[33mcommit d7a24521173a02e18b9d3df2e2cf974d73c5b001[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue May 5 11:53:22 2015 +0100

    Add profile refcount key

[33mcommit 9ba67619f56cd14cd6a090640994f6579fa4998b[m
Merge: 35af9313 bf08c5ae
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 11 16:34:17 2015 -0700

    Merge branch 'smc-add-txn-ut' into smc-add-graceful-restart

[33mcommit 35af931378dd37533c3b9d81634ef56957653f10[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 11 16:21:27 2015 -0700

    Adjust UT to assert thet cleanup dies on exception.
    
    * We now catch exceptions in the layer below the UpdateSplitter.
    * Any exceptions that leak through to the UpdateSplitter are fatal.

[33mcommit c0e83f9ddbd631cbcfdb2a74615dc4c04c3ccd33[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 21 14:43:05 2015 -0700

    Add graceful restart support.
    
    * Track the chains that are really in the dataplane.
    * Don't flush or stub out chains that already exist until
      end of GR window.

[33mcommit 97f151bdd90f0c9e43449c0286a14c2f91d92601[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 11 15:22:22 2015 -0700

    Add UT for iptables rules generation.

[33mcommit bf08c5aec0a95f895e33d178e63e4b2fa513f5bd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 11 14:35:37 2015 -0700

    Add some UTs for the iptables Transaction code.

[33mcommit 8b5939fbe397a36b4ef6f374b700e15916dc1ece[m
Merge: d268eb81 c1d0f070
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Mon May 11 14:35:18 2015 -0700

    Merge pull request #524 from Metaswitch/smc-fix-slow-uts
    
    Mock out gethostbyname so we don't have to wait for timeouts during UTs.

[33mcommit c1d0f07022efbf12ee63121b694bb33de5bff367[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 11 13:43:33 2015 -0700

    Mock out gethostbyname so we don't have to wait for timeouts during UTs.

[33mcommit d268eb810a1e5f5ae4f1bbc863956c2068a3a6d4[m[33m ([m[1;33mtag: 0.19[m[33m)[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon May 11 12:36:49 2015 +0100

    Version 0.19

[33mcommit ab2fdeccdea580ad81c2d7ce9a4ab462a3d811a8[m
Merge: 9f1ac5c7 392af880
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon May 11 12:24:46 2015 +0100

    Merge pull request #514 from Metaswitch/nn-release
    
    Add script that automates the merging required for a Debian/Ubuntu package

[33mcommit 9f1ac5c751531afb8e7aa389c3c8efa9c66f6b70[m
Merge: c7820a1c 3994e140
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Fri May 8 14:52:03 2015 -0700

    Merge pull request #523 from Metaswitch/smc-fix-ref-leak
    
    Fix reference leak in felix caused by reference cycle.

[33mcommit 3994e1407da6008c350aae9aad093f6a587a788b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 8 14:42:07 2015 -0700

    Add FV-level test that genuinely leaks an exception.

[33mcommit cd4eae0e13a725d7c7146b21f52a01397190ffdd[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 8 14:24:34 2015 -0700

    Core review markups and cleanups to ref-tracking code.

[33mcommit fcf7354e35a57130d5f3fbdf2a436a484eb1c687[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 8 11:15:45 2015 -0700

    Fix reference leak in felix caused by reference cycle.
    
    Stop attaching the message to the ExceptionTrackingRef beause
    it indirectly holds a reference to the TrackedAsyncResult.

[33mcommit c7820a1c7f826e64f7143b6187ca62a29cc5b223[m
Merge: 5e3ba73d 57259586
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Fri May 8 13:44:09 2015 -0700

    Merge pull request #522 from Metaswitch/smc-fix-ipset-ep-index
    
    Actually save off the endpoints in the endpoint index.

[33mcommit 5725958619dd356d350425a4872cc60dd42980f7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri May 8 10:07:03 2015 -0700

    Actually save off the endpoints in the endpoint index.

[33mcommit 392af880ff3c88a9299f9ea41277451b5d881f9f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed May 6 15:28:23 2015 +0100

    Add script that automates the merging required for a Debian/Ubuntu package

[33mcommit 5e3ba73d70dbc1872bd2e0696f7a68f6760c2fe6[m[33m ([m[1;33mtag: 0.18[m[33m)[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue May 5 16:34:07 2015 +0100

    Version 0.18

[33mcommit ae144fd25f22c52e78eef4bd67ded273ef67ecba[m
Merge: 20a4b505 8e94a3b8
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue May 5 14:54:13 2015 +0100

    Merge pull request #484 from Metaswitch/issue329optparse
    
    Reinstate ability to take file path as command line parameter.

[33mcommit 20a4b50550d5f114a51b06cf1c3d1fe9896d3721[m
Merge: 87504cf0 a6414cce
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue May 5 14:29:16 2015 +0100

    Merge pull request #496 from Metaswitch/issue402cfgdocs
    
    Update documentation of configuration for Felix.

[33mcommit a6414cce822572c5a0b06f79451887c2237b8ace[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue May 5 14:16:13 2015 +0100

    Wording tweaks based on previous version of config documentation.

[33mcommit 8e94a3b89aa530c20921ceaafe5b30feffd6d9ba[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue May 5 12:33:13 2015 +0100

    Markups to config file specification - tidy exception handling

[33mcommit 32fb7ea0556c65bc445d2ba0169f7329693e512b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 15:26:17 2015 +0100

    Reinstate ability to take file path as command line parameter.

[33mcommit 87504cf0e939f6de7e713a2c0e2120fca758182d[m
Merge: a55eb69a 768ecafa
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue May 5 12:01:40 2015 +0100

    Merge pull request #494 from Metaswitch/splitter-review
    
    Code review and tests for UpdateSplitter

[33mcommit a55eb69a4661e587807d7857a53e08b03a762e65[m
Merge: f6d74cf0 42ca3206
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue May 5 11:31:24 2015 +0100

    Merge pull request #491 from Metaswitch/issue466filter
    
    Issue466filter

[33mcommit f6d74cf0f622736ff8ebcb0a1858442841682234[m
Merge: bf5c2a43 9e6ede5f
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue May 5 11:07:32 2015 +0100

    Merge pull request #508 from Metaswitch/smc-fix-plugin-threading
    
    Fix plugin threading

[33mcommit 9e6ede5f8af988b6c2b839038419eed57e8222c5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 4 16:41:31 2015 -0700

    Fix up UT environment to include neutron.common.exceptions.

[33mcommit c4d018e489dc7bb9df4de917b0cb3aaf14bb9275[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 4 15:57:54 2015 -0700

    Protect all access to the security groups dict.
    
    Prevents us from clobbering newly-added SGs form the periodic resync.

[33mcommit 6b85c60a7bed3a1c338b4429cbf9439e64bfe568[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 4 15:20:12 2015 -0700

    Be resilient to ports disappearing while loading SG members.

[33mcommit dd4ec7da44ec2cf8de0c9f5ac0b6ba3644053480[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 4 15:01:45 2015 -0700

    Remove race in needed_profile cleanup by using a semaphore.

[33mcommit 4063ee244d48a99c062afb7537a9f2ca696362ab[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon May 4 13:48:13 2015 -0700

    Close race between resync and access to self.sgs in plugin.

[33mcommit ed47335a2eff818d11b91144774a77424e6937ca[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 1 14:53:22 2015 +0100

    Missing sec group retries

[33mcommit bf5c2a435b4b36ede6325f2098823ab9b1aa2963[m
Merge: 169d2da2 b22d4a4d
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Sun May 3 16:27:16 2015 +0100

    Merge branch 'ap-add-docker-to-readme'

[33mcommit b22d4a4dfadd33feabcaf66a20fd3c55818c9cb4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Sun May 3 16:27:05 2015 +0100

    Cleanup README line length

[33mcommit cc27fb09c64a1ffda31e1b375fb25a2bec54f6c4[m
Author: Alex Pollitt <alex.pollitt@metaswitch.com>
Date:   Sun May 3 07:59:40 2015 -0700

    Update README.md

[33mcommit 169d2da2ae6533dcb2c8f0c31595a088936decdf[m
Merge: 7af9aa2c 19ea5ebb
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri May 1 18:45:06 2015 -0700

    Merge pull request #505 from Metaswitch/workload-id
    
    Plugin: provide correct workload ID - fixes #445

[33mcommit 19ea5ebb5e0ddc778c6e488340bc065f11419276[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 1 18:01:09 2015 +0100

    Plugin: provide correct workload ID - UT updates

[33mcommit eee06ac016aa5107ad8ddb8a71dfb2c8c92c6842[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 1 17:45:59 2015 +0100

    Plugin: provide correct workload ID - fixes #445

[33mcommit 7af9aa2ceec64c4d62c0ae48b52fe6b3ec1da4a3[m
Merge: d71276cd 3fb3878e
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 1 17:36:47 2015 +0100

    Merge pull request #504 from Metaswitch/new_mailing_lists
    
    Document the new mailing lists

[33mcommit 3fb3878e3d733a44264ffbd8391b0381dc063b89[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 1 17:36:10 2015 +0100

    Update involved.rst

[33mcommit 7da97b1c45471b83d87f12b658abae93748548f7[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri May 1 17:16:46 2015 +0100

    Document the new mailing lists

[33mcommit d71276cda008c0a759eaba627f94f6b64d3bf04a[m
Merge: 19668b42 3136c1b4
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri May 1 17:00:09 2015 +0100

    Merge pull request #499 from Metaswitch/smc-host-tracking
    
    NEEDS FV Replace endpoint ID with tuple that includes host and workload too.

[33mcommit 19668b4215fe236254c220756d4da64718754da3[m
Merge: 068b268b 52e12494
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri May 1 16:57:13 2015 +0100

    Merge pull request #503 from Metaswitch/md4-ubuntu-fstab-typo
    
    Docs typo fix: incorrect etcd mount in fstab

[33mcommit 068b268b43dfb730f3db2d3b16572709995832ee[m
Merge: f0dc5a1d a62347b2
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri May 1 16:54:49 2015 +0100

    Merge pull request #500 from Metaswitch/smc-refcount-codereview
    
    Code review markups to refcount.py.

[33mcommit f0dc5a1d6f7a24aa2acf29bd6e6edeeabeabd050[m
Merge: 841d7096 c8bab5e0
Author: Matt Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri May 1 16:54:14 2015 +0100

    Merge pull request #497 from Metaswitch/md4_review
    
    Felix Review comments and some UT

[33mcommit c8bab5e098f79b051413ba3948119ab94d4f57d9[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri May 1 16:28:18 2015 +0100

    Remove comments

[33mcommit 52e124945c8b5393bb1ec4176d0c409eeb9a7f07[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri May 1 15:01:27 2015 +0100

    Docs typo fix: incorrect etcd mount in fstab

[33mcommit 841d7096cd9b557d3a658ee7ba1ba75220d2ecc3[m
Merge: b4858e62 1c621720
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri May 1 13:39:56 2015 +0100

    Merge pull request #501 from Metaswitch/reorder-ops
    
    Don't process endpoint creation until start-of-day complete

[33mcommit 1c62172059284d125cbe2b85c33a85720453a840[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri May 1 11:24:31 2015 +0100

    Don't process endpoint creation until SOD complete

[33mcommit a62347b219243b45d3a8cdc58855c3e34edadcd2[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 30 16:20:20 2015 -0700

    Code review markups to refcount.py.

[33mcommit 3136c1b498eedbdae2646804a3d6bcf93075f16e[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 30 15:30:38 2015 -0700

    Replace endpoint ID with tuple that includes host and workload too.
    
    Removes assumption that endpoint_id is globally unique, which
    doesn't hold during a VM migration.
    
    Lays the groundwork for handling host and workload deletion
    without a resync.

[33mcommit fc2f4e8c7d43077ecca589e03b0fb12f81a4b833[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Apr 30 18:43:48 2015 +0100

    Felix review and some UT (actor, refcount)

[33mcommit 8066145d25b6b2393d3d14d4ed88976bb68f6a5c[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Apr 30 16:35:15 2015 +0100

    Update documentation of configuration for Felix.

[33mcommit 768ecafa3ffcc04d919d7cc7ae87056ea5222115[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 30 16:09:42 2015 +0100

    Clarify that mapping is dict

[33mcommit b4858e629334ae211a57cc5055e1ec068aa007c0[m
Merge: e6c32645 de8179aa
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Apr 30 15:43:57 2015 +0100

    Merge pull request #495 from Metaswitch/rhel7-doc
    
    RHEL7 doc: fix formatting of Calico repo config

[33mcommit de8179aae46a5ef445d5abe34ff29081c8e2fd1a[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 30 12:31:53 2015 +0100

    RHEL7 doc: don't mention Icehouse

[33mcommit 3fcfe74a171950ceecf39562546fd0e25fa31234[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 30 12:29:26 2015 +0100

    RHEL7 doc: fix formatting of Calico repo config

[33mcommit 9a647b00a55b2f638bd833265730a93a42407a71[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 30 09:39:08 2015 +0100

    Unit tests for the UpdateSplitter

[33mcommit e6c32645de0e42f9f5e9975e65b9ee66a5e91d60[m
Merge: c6380c37 ed33a35c
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Apr 29 18:45:01 2015 -0700

    Merge pull request #492 from Metaswitch/smc-log-spam
    
    Various log tuning/improvements

[33mcommit ed33a35c61d233abf0d999b52d6528ad1bc2ed36[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 14:30:46 2015 -0700

    Add endpoint and profile IDs as comments in iptables chains.
    
    Makes it much easier to relate the chains back to the IDs.

[33mcommit 6846226f9c31c5297543edce21349278b2f738e5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 13:44:14 2015 -0700

    Add actor life-cycle logging.

[33mcommit 554b427eac4f06a62dc157fccdee85b867825156[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 13:34:14 2015 -0700

    Clean up devices exception logging.

[33mcommit 76fb5ea55bc7af181f134928187150053e1934a7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 13:24:56 2015 -0700

    Tidy up etcd exception logging.

[33mcommit 856a73989c3afca85db98b092d25af31c052736d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 12:28:59 2015 -0700

    Suppress start-of-day iptables-restore errors from CaS-type operations.

[33mcommit c6380c37633367d703a2e0be024e3ad87dd187b9[m
Merge: 9ba9c641 b07a268d
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Wed Apr 29 17:07:19 2015 -0700

    Merge pull request #490 from Metaswitch/iptablesreview
    
    Re-apply iptables review comments with fix

[33mcommit b07a268dc89f0744c089ce40056edcbcd3d5dd02[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 11:45:39 2015 -0700

    Revert rename of _Transaction.updates, it is referenced by IptablesUpdater.

[33mcommit c1322bf9683c4c376996672409a7d4c47b487f46[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 29 11:42:57 2015 -0700

    Revert "Revert "Initial code review markups for iptables updater.""
    
    This reverts commit 31b06a718b6672e048ac197530f93b4db6e3401d.

[33mcommit 9ba9c64136618f680097684bb8a98118cb3f9894[m
Merge: cec06c31 7d5ae6f4
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Wed Apr 29 16:58:54 2015 -0700

    Merge pull request #362 from Metaswitch/smc-support-multiple-ips
    
    Partial support for anycast, cleanup/comment ipsets code

[33mcommit 7d5ae6f42957127f69e6693f5248ee117f26dd88[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Sat Apr 25 11:42:08 2015 -0700

    Code review markups.  Track dirty tags and update en-masse.

[33mcommit a702b5ccf08360b6fcd3f22580407226a90edeb6[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 14 17:23:35 2015 -0700

    Minor cleanups and self-review markups.

[33mcommit 4e63f4b822ee43ff2a460fe1a706a3f98655bcec[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 14 17:13:53 2015 -0700

    Fix missing delete when cleaning up ip address.

[33mcommit 2dd642dcb023b5df97eeb7c032c76f310b12074d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 14 15:16:24 2015 -0700

    Fixes and cleanups: move updates into lower level methods.

[33mcommit 40320f8aa6a5e5e19df3bb9b89012488fbe92345[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 14 14:13:48 2015 -0700

    Minor fixes: typos and incorrect indexing into dicts.

[33mcommit 268e5bf9d344ccf7144a94ea8b1e37caf48be2b8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 13 18:02:47 2015 -0700

    Work in progress on cleanup/support for anycast IPs.

[33mcommit 42ca320663ad578d7b16c46da503378320b0ad15[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Apr 29 12:40:34 2015 -0700

    cut and paste doh... - v4 default address used in v6 config file

[33mcommit edd9592a3c5c15dfa5da9160daeb70fdc3b74ca0[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Apr 29 12:38:28 2015 -0700

    syntax cleanup, prettified, and default filter added back in.

[33mcommit cec06c310882bfce95d27d6b5f6dcf261326514a[m
Merge: a9acf259 04f8fe65
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Apr 29 11:56:45 2015 -0700

    Merge pull request #485 from Metaswitch/issue422logging
    
    Allow disabling of screen logging

[33mcommit 04f8fe658c3b995e0e740301b8eeab055c180e9d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 16:10:08 2015 +0100

    Ensure no logs are made to screen in mainline with
    screen logging disabled

[33mcommit a9acf259083a2e02610743bb83c3de199a5fef01[m
Merge: 529a26f1 81526278
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Apr 29 11:51:30 2015 -0700

    Merge pull request #472 from Metaswitch/isssue407config
    
    Allow for config to be read from config files.

[33mcommit 7787449e5f999d415b728f1c6020a5ff011f9ae6[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Apr 29 11:45:13 2015 -0700

    changed bgp_export policy to be interface of origin based

[33mcommit 529a26f1e39230b72248627e917509171d43d652[m
Merge: 297291e8 fb71cebb
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Apr 29 18:43:31 2015 +0100

    Merge pull request #488 from Metaswitch/retire_RHEL65_instructions
    
    Retire RHEL 6.5 instructions until we can fix them up, or are convinced ...

[33mcommit 81526278fb8f879f5b4e1a57d9c006e27080b80e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 28 15:34:27 2015 +0100

    Code review feedback

[33mcommit e21cd075f366ebd6b417bb13062f0d29687877f3[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Apr 27 17:19:56 2015 +0100

    Allow for config to be read from config files.

[33mcommit fb71cebb67114c3175da5abf19fad4b12a0d6e16[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Wed Apr 29 18:37:33 2015 +0100

    Retire RHEL 6.5 instructions until we can fix them up, or are convinced there is no demand.

[33mcommit 297291e88ecb4af5bafa28b3b7d61c2f1d7b440d[m
Merge: 87afa894 7d002860
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Wed Apr 29 09:50:50 2015 -0700

    Merge pull request #487 from Metaswitch/common
    
    Remove invalid module reference

[33mcommit 7d002860bb7b6357421db69e114df291bac59b22[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Apr 29 17:47:21 2015 +0100

    Remove invalid module reference

[33mcommit 22296e12c21ef098da06a435024e06818642474c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Apr 29 16:19:56 2015 +0100

    Docstrings for UpdateSplitter

[33mcommit 87afa894042b74428db668bd0a710a816381346b[m
Merge: d392a59d 31b06a71
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 15:44:05 2015 +0100

    Merge pull request #483 from Metaswitch/revert-448-iptablesreview
    
    Revert "Initial code review markups for iptables updater."

[33mcommit 31b06a718b6672e048ac197530f93b4db6e3401d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 15:43:20 2015 +0100

    Revert "Initial code review markups for iptables updater."

[33mcommit d392a59d6ef65aa9d0b2b3963fb6475991f5cd87[m
Merge: 79b0e9ad fbe64e9b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Apr 29 11:58:57 2015 +0100

    Merge pull request #481 from Metaswitch/stringtypes
    
    Fix missing import in common

[33mcommit fbe64e9b3724f55210562dc469ddfaf8d5ea27ea[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 11:43:41 2015 +0100

    Fix missing import in common

[33mcommit 79b0e9ad05babc29163c14d861afc4eb353c954d[m
Merge: c02e699e 5384ba38
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 11:53:48 2015 +0100

    Merge pull request #448 from Metaswitch/iptablesreview
    
    Initial code review markups for iptables updater.

[33mcommit c02e699e4b30b9c008fe81eb281ce5da4b19778f[m
Merge: 61c3f260 7cb30201
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Apr 29 11:37:22 2015 +0100

    Merge pull request #479 from Metaswitch/smc-rhel-docs
    
    Address some RHEL 7 install instruction issues:

[33mcommit 61c3f26048c86432b4a8b50e667a810262f93c43[m
Merge: 3fd1b4a5 041bd0cf
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 29 09:22:13 2015 +0100

    Merge pull request #471 from Metaswitch/dispatch_chains
    
    Dispatch chains review and test.

[33mcommit 7cb302016cdf0261bcbe703e762dde686977d737[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Apr 29 09:05:40 2015 +0100

    Minor grammar markups

[33mcommit 24797b25c03e7c87217a1287761f309f767ce220[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 28 19:25:34 2015 -0700

    Address some RHEL 7 install instruction issues:
    
    - improve some wording.
    - remove dependency on wget, which isn't installed by default
    - add missing yum install lines for python-etcd deps
    - use uuidgen to generate a unique etcd cluster token
    - fix etcd mount point and use "mount -a" rather than a manual
      mount command.

[33mcommit 5384ba381893203b1afe8772bde5f76db6ceff4d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 28 14:09:34 2015 -0700

    Code review markups for fiptables.py.

[33mcommit 6f4a2937bdc3e9f0f4a26d851c50c31d794ebc02[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Apr 23 17:00:28 2015 +0100

    Initial code review markups for iptables updater.

[33mcommit 3fd1b4a596f50fb2a40ed208d8b69c12e2934034[m
Merge: c3cc9fb1 ebe1fd6e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Apr 28 18:29:42 2015 +0100

    Merge pull request #475 from Metaswitch/intermittent
    
    Reinstate etc after overwriting import.

[33mcommit ebe1fd6e165d0792365e88554462b58056550f7a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 28 16:54:33 2015 +0100

    Reinstate etc after overwriting import.

[33mcommit c3cc9fb1d4c3bf8c1f643eb346bf6cf1c66ec5bf[m
Merge: ddbd0ec1 a8beeb97
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Apr 28 16:36:46 2015 +0100

    Merge pull request #473 from Metaswitch/openstack_fetcd
    
    Move common validation code to single place.

[33mcommit a8beeb97c3819611fdb560c598319bee7ee981ac[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 28 16:29:11 2015 +0100

    Move common validation code to single place.

[33mcommit 041bd0cf9205593c1669ea5bb73cadbd71d773e1[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 28 14:40:03 2015 +0100

    Clarify DispatchChains comparison logic

[33mcommit d7310ed1d0031e43d132a297822084b7e296af56[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 28 11:36:01 2015 +0100

    Add unit tests for DispatchChains

[33mcommit cd987b0a9930cbddfd51fce217cccf80b10888bd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 28 11:35:37 2015 +0100

    Refactor DispatchManager API to not use dicts
    
    Dictionaries are unnecessary here, given that we never use the things they
    map to. Let's just not!

[33mcommit a96a086054c0102640967d052291ba5d56f633dd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 28 09:29:20 2015 +0100

    Minor code tidies in dispatch.py

[33mcommit cb9ce9a51af43643ccb317c28c423bee1772250b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 28 10:42:28 2015 +0100

    Move utility functions to frules

[33mcommit ddbd0ec15a4481c12ad562fe30a59e2e2d5b1518[m
Merge: d4c9a84c c039cd61
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Apr 28 10:16:25 2015 +0100

    Merge pull request #469 from Metaswitch/awlc-wrapping
    
    Tidy up line wrapping in RHEL install docs

[33mcommit c039cd613c937027d75b4be20e3a87b8ee9b5e45[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Tue Apr 28 09:10:31 2015 +0100

    Tidy up line wrapping in RHEL install docs

[33mcommit d4c9a84c22717de0141be78ed0fe0d8a0147ae5d[m
Merge: 5e91fa87 f2c762a2
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 27 19:03:58 2015 +0100

    Merge pull request #464 from Metaswitch/eph_redhat_restart_felix_instructions
    
    Document that Felix requires a config file, or it won't start on RHEL

[33mcommit f2c762a2d7da5b9e76ff90c3373cad39608947bd[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Apr 27 18:01:05 2015 +0100

    Document that Felix requires a config file, or it won't start on RHEL

[33mcommit 5e91fa8779229d325d39f7dd841f07949425be13[m
Merge: be4eab95 f6db9e74
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Apr 27 18:54:41 2015 +0200

    Merge pull request #463 from Metaswitch/eph_rhel65_instructions
    
    Note that RHEL 6.5 instructions are not yet complete

[33mcommit f6db9e74da0fc8ac9a956f7d555486b78dec43ea[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Apr 27 17:43:40 2015 +0100

    Note that RHEL 6.5 instructions are not yet complete

[33mcommit be4eab9574a02b2a8d4b8f263c23b3d97509604c[m[33m ([m[1;33mtag: 0.17[m[33m)[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Apr 27 16:02:42 2015 +0100

    Version 0.17

[33mcommit d4dcd0cbec0659b55c5a1df06e7eee41c2f20e58[m
Merge: 600fe853 023d6f4e
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Fri Apr 24 14:48:57 2015 -0700

    Merge pull request #452 from Metaswitch/smc-fix-icmp-code-whitelist
    
    Add "icmp_code" to whitelist of allowed rule fields.

[33mcommit 023d6f4e8a10e1cc6fda5b80dd8f2193bc7af8b5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 24 14:24:34 2015 -0700

    Isolate rule parsing failure to individual rule.

[33mcommit c483d825f44775c47695ad3fb9d8f9cbc37ba8c3[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 24 11:41:38 2015 -0700

    Prevent programming of ICMP type 255, which the kernel treats as wildcard.

[33mcommit 8314e2b93c130775d8bede3f87aff6faeb8126ec[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 23 14:52:05 2015 -0700

    Add "icmp_code" to whitelist of allowed rule fields.
    
    Also beef up UTs and validation to check whitelist against rules.

[33mcommit 600fe853bdd3218011de5c6a584b14e1e517cb74[m
Merge: 489d8ecc 2491b853
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 24 18:37:46 2015 +0200

    Merge pull request #457 from Metaswitch/smc-fix-icmp6-missing-target
    
    Add missing jump target to ICMPv6 from endpoint rule.

[33mcommit 2491b853fe331c89d3a59ce40d183bfc23cc4b34[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 24 09:25:42 2015 -0700

    Add missing jump target to ICMPv6 from endpoint rule.

[33mcommit 489d8ecc72d4acc251fc7eea3cdc732ee3edfce4[m
Author: Brook-Roberts <brook.roberts@metaswitch.com>
Date:   Fri Apr 24 16:57:46 2015 +0100

    Fix numbering in ubuntu-opens-install.rst

[33mcommit 7abf8a9597f0ed05f34171e188f94064fe4d1dd0[m
Merge: f532cb2d 796dc7bc
Author: DaveLangridge <dave.langridge@metaswitch.com>
Date:   Fri Apr 24 16:53:08 2015 +0100

    Merge pull request #456 from Metaswitch/rhel65_install
    
    Don't setuid on RHEL 6.5.

[33mcommit f532cb2d2eabb5129c1407158b64bdc5b654be3f[m
Merge: 99d57b30 59559c2f
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 24 15:38:51 2015 +0100

    Merge branch 'ahrkrak-patch-1'

[33mcommit 59559c2fb6bc654f79f228d6d555d5d9d8b8f1c5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 24 15:38:31 2015 +0100

    Wrapping lines

[33mcommit 796dc7bc792e9c12a262e953ddd25883d83d89da[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 24 09:16:04 2015 +0100

    Don't setuid on RHEL 6.5.

[33mcommit e338e58be8ce5dc6561b16f94fb06e1311dbb8c2[m
Author: ahrkrak <andrew.randall@gmail.com>
Date:   Thu Apr 23 17:15:47 2015 -0700

    Update openstack.rst
    
    make it clearer that first bullet sets are separate options not four combined requirements

[33mcommit 99d57b303daf4a2b67a7cb52a17e99d4a9ebe16f[m
Merge: 2ff29494 6cd142d5
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Thu Apr 23 17:05:43 2015 -0700

    Merge pull request #437 from Metaswitch/smc-idempotent-ipset
    
    Make ipset sync idempotent.

[33mcommit 6cd142d591060e4ffd41809a0b4cddc075110d27[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 23 16:50:46 2015 -0700

    Code review markups.

[33mcommit ed759e7bfa4820e20893ef6067f99a80ed6df850[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 23 15:44:33 2015 -0700

    Fix missing stdin argument to Popen, beef up diags for ActiveIpset.

[33mcommit 1dea9b6c4c3cd4e537976367b1892b17ccb22faf[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 23 14:43:17 2015 -0700

    Prevent ActiveIpset from recreating ipset after on_unreferenced().

[33mcommit 2ff2949420d0b078cf1b3fc55e2a5452c5244e13[m
Merge: c0852873 6c39bc35
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Thu Apr 23 11:50:42 2015 -0700

    Merge pull request #450 from Metaswitch/md4-fix-tox-uts
    
    Use commit id instead of tag in tox dependency

[33mcommit dd37c4cdbcde10c07e82a81f6b1de6024897250d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 23 11:06:56 2015 -0700

    Code review markups.
    
    * Use futils.check_call where possible.
    * Unconditionally delete ipsets during cleanup.

[33mcommit 6c39bc3514fa7a6c93271cfa38dd2408a66555a1[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Apr 23 18:08:19 2015 +0100

    Use commit id instead of tag in tox dependency
    
    For some reason using the tag seems to cause (intermittent?) failures in our
    UTs.  It seems to be resolved by reverting to the commit id, so I'm just going
    to do that rather wasting time investigating.

[33mcommit c08528737e3cc973d0fe88c350f4a3d78fdcffb6[m
Merge: 353b171f 4caa3ba7
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Apr 23 17:32:08 2015 +0100

    Merge pull request #449 from Metaswitch/rhel-etcd-docs
    
    Rhel etcd docs

[33mcommit 353b171fd1a00b1143f297b19486c75c20737855[m
Merge: 25a10cfd 4d51b161
Author: Ed Harrison <ed@projectcalico.org>
Date:   Thu Apr 23 15:27:36 2015 +0100

    Merge pull request #447 from Metaswitch/bundleupdate
    
    Update bundle for etcd architecture

[33mcommit 4d51b16178a9c49f457bfaeacf5d90afecccc006[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 23 14:43:50 2015 +0100

    Update bundle for etcd architecture

[33mcommit 4caa3ba750abf7f4cb8381a4fe0b3e3432bee8df[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 23 11:09:38 2015 +0100

    Copy etcd binaries to the right place

[33mcommit 8158721e007319566e089d665e6924d273a84585[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 23 10:53:17 2015 +0100

    After reboots

[33mcommit 16abb342a0991e6f46215797100daa5bec281870[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 23 10:31:26 2015 +0100

    Run etcd on startup

[33mcommit 25a10cfdc0a68c366e733ef00b3439979a19fe1c[m
Merge: 3e4cb8df 6f8a205b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Apr 23 10:25:12 2015 +0100

    Merge pull request #426 from Metaswitch/smc-copy-cluster-id
    
    When reconnecting, copy old cluster ID from previous etcd Client

[33mcommit 6f8a205bb318e0c8ff6b04160b5f58518960974c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 23 10:05:58 2015 +0100

    Fix my own review markups

[33mcommit 2d335a16e16ba3c872660933e76dcf7f810c7e3c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 23 09:38:31 2015 +0100

    RHEL install markups

[33mcommit e3f5b43a1bb9dc8b49c7fe7a159a2c465d18ae02[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 22 11:52:23 2015 -0700

    Fix cluster UUID check.  Copy UUID from old client to new, fix typo in arg name.

[33mcommit 3e4cb8dfbbd3736bf7499b5dffb492d1e3ecabac[m
Merge: 8d2fa2e8 711878a4
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Wed Apr 22 14:29:18 2015 -0700

    Merge pull request #441 from Metaswitch/smc-log-improvements
    
    Beef up syslog format, add a couple of additional logs.

[33mcommit 37d9f3e98c4cbb1235847085879d4956ef6ecede[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 22 10:50:03 2015 -0700

    Make ipset uperations idempotent.
    
    * always create, flush and build temp ipset.
    * always swap.
    * always delete temporary set.

[33mcommit 8d2fa2e8d1620dbdff7aee682f91d4ceeb65c1de[m
Merge: f491adad fefbc2e9
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Apr 22 15:01:31 2015 +0100

    Merge pull request #442 from Metaswitch/rpm-deps
    
    Correct some Debian and RPM packaging dependencies

[33mcommit fefbc2e93b8c68dda8cf417422d8821c92d05fac[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Apr 22 14:37:39 2015 +0100

    Packaging: add dependency of Felix on net-tools, for the arp command (fixes #146)

[33mcommit 57ceba6435d3b53edabccbab13f0bd3d09ee2d73[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Apr 22 14:05:30 2015 +0100

    RPM packaging: remove ACL manager and ZMQ deps; add python-gevent (fixes #435)

[33mcommit 2d1c4130981bc947d3313455e235a3fed168315b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Apr 22 14:04:27 2015 +0100

    Debian packaging: python-gevent is not actually needed on controller

[33mcommit 711878a49cca70b60d1e1d2fce8d971346f55fc1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 21 17:18:34 2015 -0700

    Beef up syslog format, add a couple of additional logs.

[33mcommit f491adad726fda635cb62dfcba6895cd06f902e6[m
Merge: 97892077 5b03ece7
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Apr 21 15:31:26 2015 +0100

    Merge pull request #434 from Metaswitch/karma
    
    Karma...

[33mcommit 5b03ece7e6f1654b81fe2025858aa94c42e9b0c7[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Apr 21 15:29:59 2015 +0100

    Fix RPM version

[33mcommit 978920778960206d9d70035fd53ae2286e44ea10[m
Merge: 61411ecf e553a79b
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 15:14:59 2015 +0100

    Merge pull request #432 from Metaswitch/contributingmarkups
    
    Cleanup toctree for contribution doc

[33mcommit 61411ecfd3933d9fa111a5e5221015989e01e19e[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Apr 21 15:12:45 2015 +0100

    RPM Version 0.16

[33mcommit c5e43fc5e8f666620523a5c1af6b832695ba0baf[m
Merge: d472f0e0 590ea213
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 14:20:20 2015 +0100

    Merge pull request #433 from Metaswitch/readme-update-again
    
    Further README cleanup

[33mcommit e553a79b8787c29da17c238b2c424c9fffda9a85[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 14:19:10 2015 +0100

    Update contribute.rst
    
    For consistency...

[33mcommit a78b8fd5e6f81272e06ed7763b99fe282a1a20f1[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 21 13:58:49 2015 +0100

    The letter 'a' is tricksy

[33mcommit 590ea21323584a987ddb3e9a6dc7d544b3b363da[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 21 13:50:56 2015 +0100

    Further README cleanup

[33mcommit d472f0e066059d845bbce740f7fac7e4a27f34ce[m
Merge: f990bce7 707b4e2e
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 21 11:56:41 2015 +0100

    Merge pull request #430 from Metaswitch/comments
    
    Fix up a range of commnents.

[33mcommit 9410964329b09c98a2f4d1ecf3852af4723ed9e4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 21 11:51:49 2015 +0100

    Cleanup toctree for contribution doc

[33mcommit 707b4e2e9149eb72c7080216832318d0b947b6cf[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 21 11:39:19 2015 +0100

    Fix up a range of commnents.

[33mcommit f990bce7dd0e980327f25d9c0a00602c0078ec09[m
Merge: 0dd754d2 c84bb9fa
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 21 11:46:52 2015 +0100

    Merge pull request #431 from Metaswitch/python-versions
    
    Don't unnecessarily pin versions

[33mcommit c84bb9fafc81890665e5eef5143d9e4a8be8093d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Apr 21 11:44:03 2015 +0100

    Don't unnecessarily pin versions

[33mcommit 0dd754d29bb4cd6dafde4f60693dad0b7932b9d9[m
Merge: 916f6fbf 93428a2d
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Apr 21 11:40:18 2015 +0100

    Merge pull request #428 from Metaswitch/eph-contribution-guidelines
    
    Adding contribution guidelines to the docs

[33mcommit 93428a2d39b7d95aa62eacf81a4d8c9b37e1016c[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 11:16:58 2015 +0100

    Tidy up line lengths

[33mcommit a155acfeebfdec8e0c12369c7b5875cd952a8018[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 11:16:10 2015 +0100

    Revert "Tidy up line lengths"
    
    This reverts commit cd0eb65eca8c4fb2814f09a45343377b3f9f2656.

[33mcommit cd0eb65eca8c4fb2814f09a45343377b3f9f2656[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 11:13:29 2015 +0100

    Tidy up line lengths

[33mcommit 05a82c1b3060071305db66c6235b03bc5a47f643[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 11:01:07 2015 +0100

    Update contribute.rst
    
    Added links to the contributor agreements.

[33mcommit 89ac3cf8ec05c81a1a97f3275d189f95103761a6[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Tue Apr 21 10:37:23 2015 +0100

    Update involved.rst

[33mcommit 916f6fbf90d79ffcf39983ce4a9ac3619695f6ff[m
Merge: 5dfa323e f246eea1
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Apr 21 08:51:01 2015 +0100

    Merge pull request #406 from Metaswitch/smc-cleanup-config
    
    Clean up config loading (code review markups).

[33mcommit f246eea184e21fe06e229515073729df216de365[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 17:30:59 2015 -0700

    Code review markups.

[33mcommit 5dfa323e01afef3fc05387a9fbaa89d220b14949[m
Merge: 2b2cb124 dd35819d
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Mon Apr 20 17:06:37 2015 -0700

    Merge pull request #417 from Metaswitch/smc-defensive-timeouts
    
    Be more defensive in etcd polling, catch various HTTP-related exceptions...

[33mcommit dd35819d0057efcf124f5f54a8d51a1e1eb1c1ea[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 16:16:32 2015 -0700

    Add httplib errors into excepts.

[33mcommit 2d568433c980430b8870712747e49f602d4c0750[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 16:08:24 2015 -0700

    Increase severity of socket.timeout warning.

[33mcommit 60a3fcd2936aaf34113b32a2f76d85a0d48039c5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 15:27:26 2015 -0700

    Fix missing continue: use setting of response as a gate in fetcd.py.

[33mcommit 2b2cb124d15c9af16d4e86bacafb85bb31378f14[m
Merge: ab7476dd 7c3e44cf
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Mon Apr 20 14:54:01 2015 -0700

    Merge pull request #421 from Metaswitch/smc-fix-icmp
    
    Fix ICMP rule generation in plugin; add missing support for ICMP code

[33mcommit 7c3e44cfab440b3f546de619120321dc12a986fa[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 13:29:08 2015 -0700

    Code review markups.

[33mcommit 59665bab13987d8b07110df9363f32e960a612b0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 12:45:50 2015 -0700

    Validate plugin data agsint felix's validation routines.

[33mcommit ac86a3addf2d8c1c74d72c6aab72c4e197e998c1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 12:40:15 2015 -0700

    Add felix support for ICMP code, firewall values.

[33mcommit ab7476ddd0bb1a163921ab197a3817f56a3e0cfc[m
Merge: a88b1bce a8c65049
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Apr 20 20:30:41 2015 +0100

    Merge pull request #418 from Metaswitch/smc-fix-log-msg
    
    Fix missing arg to log message.

[33mcommit 294b65e25d84cf7fa47078874e788bd5f3934f38[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 12:26:51 2015 -0700

    Add UTs for ICMP rule generation.
    
    - Move rule calculation out to own function for ease of testing.
    - Add UTs.

[33mcommit a88b1bceea90526e881185559abbb8fcbf64d042[m
Merge: cdd8c60e 54914dc8
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Apr 20 20:26:10 2015 +0100

    Merge pull request #420 from nbartos/comment
    
    Remove incorrect comment.

[33mcommit d4a3f07ee9ef40f9a031129b148c9d32ec12b899[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 12:13:25 2015 -0700

    Fix plugin to set only icmp_type/code and not port range for ICMP.

[33mcommit 54914dc84c70087d135baac71287fe79b83ea4c1[m
Author: Nick Bartos <nick@pistoncloud.com>
Date:   Mon Apr 20 12:12:07 2015 -0700

    Remove incorrect comment.
    
    It looks like this got added when someone was copying code from a
    previous block, but it didn't get corrected.

[33mcommit a8c65049a7e2f79f69b5110924a98f28c5fb5cc5[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 10:44:26 2015 -0700

    Fix missing arg to log message.

[33mcommit d4cc8aea518d57796e6644ed031005751b9ac653[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 10:31:03 2015 -0700

    Fix import order in felix.py to invoke gevent monkey-patch first.

[33mcommit 549f964b3bb9d1dea0ab57300c335cd513d316b7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 10:25:08 2015 -0700

    Be more defensive in etcd polling, catch various HTTP-related exceptions.

[33mcommit cdd8c60e43215f05f6a17334547c2a31b5d8c245[m[33m ([m[1;33mtag: 0.16[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Apr 20 18:13:12 2015 +0100

    Version 0.16

[33mcommit bfb68c421d58476180a33563f9d7409bc4dd125b[m
Merge: bdf4183b 9b2e65cf
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Apr 20 18:01:02 2015 +0100

    Merge pull request #295 from Metaswitch/etcd-docs
    
    Initial etcd documentation.

[33mcommit 9b2e65cf1ebca5252cbf3c2029722c8c74ac70ee[m
Merge: 63b8dd31 c9d2c4ab
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 20 18:00:18 2015 +0100

    Merge pull request #416 from Metaswitch/remove-calico-config
    
    Remove calico configuration placeholder from etcd data model

[33mcommit c9d2c4ab9801e930d6d09cd5d90b957728385616[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Mon Apr 20 17:58:23 2015 +0100

    Update etcd-data-model.rst

[33mcommit bdf4183b4d26a559fe0ffc9938d05ea48381cdef[m
Merge: 821ee80e b3116691
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 20 17:56:54 2015 +0100

    Merge pull request #413 from Metaswitch/smc-fix-decref-assert
    
    Add missing async argument when decrefing actor.

[33mcommit 821ee80e9b6a0fe48b647ca082c95fee867b7565[m
Merge: 071ee43a 9b9b93c4
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 20 17:44:58 2015 +0100

    Merge pull request #411 from Metaswitch/readme-update
    
    Clean up README links.

[33mcommit 9b9b93c4747e6898dd001cb774749bd77dfebefa[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Apr 20 17:42:31 2015 +0100

    Remove the UTs link

[33mcommit b3116691a5b929b5258713b85951e5a083d28f91[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 20 09:33:48 2015 -0700

    Add missing async argument when decrefing actor.

[33mcommit 071ee43ae968c84d7699252a70940bed0dfaf3a8[m
Merge: f7026f6d ba6d704f
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 20 15:47:50 2015 +0100

    Merge pull request #412 from Metaswitch/update-pythonetcd
    
    Depend on recent version of python-etcd

[33mcommit ba6d704f9fa1a68dce5790958ec8a70c8b8b29b3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Apr 20 15:17:26 2015 +0100

    Depend on recent version of python-etcd

[33mcommit 7d59f81e8bdabea65eed095903591a971ade695e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Apr 20 15:00:55 2015 +0100

    Clean up README links.

[33mcommit be0ef4a57c84f1727a18cc41615d6e8bf624cc1b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Apr 20 14:46:02 2015 +0100

    Etcd install instructions for RHEL

[33mcommit 2a345ced8b760add1e59f409808516feb5e8d272[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Apr 20 13:24:21 2015 +0100

    Remove references to ACL manager from RHEL docs

[33mcommit 63b8dd317d8c4fddf67accd98a816037ede49672[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Sat Apr 18 08:30:27 2015 +0100

    Doc: Change dashes to double dashes in etcd command args

[33mcommit f7026f6d00c7a27274b5bd0845c426e7f4f2477a[m
Merge: f5c12da9 5eb79db7
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Fri Apr 17 15:59:08 2015 -0700

    Merge pull request #404 from Metaswitch/smc-handle-dir-delete
    
    Handle deletion of profiles without a resync.

[33mcommit 5eb79db7672026f7c885af5ffa414697f9b6167b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 17 15:49:29 2015 -0700

    Code review markups.  Make more code common in datamodel_v1.py.

[33mcommit 1ea39ca5f49211bbb7e45720e2e2b4b0133959e1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 17 14:50:20 2015 -0700

    Fix missing async argument.

[33mcommit 77bb0c83b972f792987efbe1edc3c6f9de765e03[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 17 13:38:23 2015 -0700

    Clean up config loading (code review markups).

[33mcommit f5c12da934e0158367149fd3f0e23333b9732662[m
Merge: a0c24229 026329db
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Fri Apr 17 13:25:41 2015 -0700

    Merge pull request #391 from Metaswitch/plugin-etcd-disappearance
    
    Plugin etcd disappearance

[33mcommit 026329db81375b585d573d410f569eb329dd3df9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 17 13:17:03 2015 -0700

    Code review markups: catch additional etcd error.

[33mcommit 829974683ff40d1e6df1327ec2e3fbf1aa127c89[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 17 12:00:22 2015 -0700

    Add UTs for new (and existing) datamodel code.

[33mcommit 02198b313179355d5093857a982cb613f1f10795[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 17:40:57 2015 -0700

    Handle deletion of profile directories explicitly.  Avoid resync.

[33mcommit 35bb425685e76782f01b9562e41c2535dfb59c6b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 17 18:23:46 2015 +0100

    Expect EtcdKeyNotFound instead of KeyError

[33mcommit 8ff42e9854f3e4953584be870e0442193c8aebdf[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Apr 17 00:22:49 2015 +0100

    Plugin/etcd: be resilient to etcd reset after enumerating profile keys

[33mcommit 15bcb3b7739cb0db0dad3918317b1c8259b3ebae[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Apr 17 00:05:25 2015 +0100

    Plugin/etcd: testing for etcd resets

[33mcommit a0c2422949528666b72d50f0d2a14494f0306e1f[m
Merge: 2263808c 6eaae271
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Fri Apr 17 10:37:30 2015 -0700

    Merge pull request #387 from Metaswitch/smc-add-version
    
    Synchronise data model with v1 specification.

[33mcommit 6eaae2712b1533283398718e65461eca5094fad8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Fri Apr 17 10:22:09 2015 -0700

    Minor code review markups.

[33mcommit 2263808c19e089ca5588a71b835c90a3a4246f94[m
Merge: 024cb32f 3c1e1c4a
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Apr 17 17:55:35 2015 +0100

    Merge pull request #389 from Metaswitch/plugin-etcd-addr
    
    [RFC] Plugin/etcd: allow configuration of etcd host and port

[33mcommit b5500f44d5b30059ec68b4099f31f7d2270b7740[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 17 17:11:14 2015 +0100

    Minor review markups to the datamodel versioning change

[33mcommit 75095ec885d896a4f4b4c6d0d0bc86c1b4b91996[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 18:49:06 2015 -0700

    Fix UT, missing mock.

[33mcommit 4e47decac53cd7a69d9dee1b35b1adbd38885285[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 18:01:36 2015 -0700

    Fix read before init of self.my_config_dir.

[33mcommit 9663d5640b9d8cf7a88d6c300397fd1b8f1c65c9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 15:36:00 2015 -0700

    Move remaining key calculations to datamodel lib.

[33mcommit 67d3e16073b9e22718c94afa903ed9689f60eaba[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 15:25:48 2015 -0700

    Make more code common, move more key generation to data model.

[33mcommit 6aba46ece318335c118361851a40da0c0a7d5989[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 15:02:10 2015 -0700

    Update felix to use v1 of the data model.  Make definitions common.

[33mcommit c74e190ffeeda9b54a36b645708cba7310cb7214[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 14:29:02 2015 -0700

    Update plugin to v1 of the data model.

[33mcommit f8e73f92ef9766d9a0d4e7aa6f168a6a1274657d[m
Merge: 9842cd92 7e86b112
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Apr 17 16:40:55 2015 +0100

    Merge pull request #400 from Metaswitch/doc-felix-cfg
    
    Doc: update for reduced set of configurable felix.cfg settings

[33mcommit 024cb32f6a4f236a024c1926fa0aa420464155fe[m
Merge: ed95d116 8c659fee
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Apr 17 16:39:14 2015 +0100

    Merge pull request #378 from Metaswitch/smc-fix-batch-calc
    
    Fix calculation of batch-affected chains and deletable chains.

[33mcommit ed95d11650c08dc4cc85e6bbce02fdde50954bb9[m
Merge: 39d92243 007a5670
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Apr 17 16:24:08 2015 +0100

    Merge pull request #401 from Metaswitch/etcd_key_not_found
    
    Update Felix to expect EtcdKeyNotFound exception from python-etcd 0.3.3,...

[33mcommit 007a56700e6e9255cab23f99a164033015636138[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Apr 17 16:20:34 2015 +0100

    Update Felix to expect EtcdKeyNotFound exception from python-etcd 0.3.3, not KeyError from 0.3.2

[33mcommit 7e86b112115b260627ad362b3a0cd4f795786495[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 17 16:15:41 2015 +0100

    Doc: update for reduced set of configurable felix.cfg settings

[33mcommit 9842cd921dabae9bdbf7c6fb846c1a845d69ee85[m
Merge: 476ee37c 2f2a78e0
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Apr 17 16:01:14 2015 +0100

    Merge pull request #399 from Metaswitch/doc-plugin-etcd-config
    
    Document new plugin config for etcd location

[33mcommit 476ee37c4e1d3f04a28b03878e5563c88c6009bd[m
Merge: 7f7b65dd ca8d6e2e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Apr 17 16:00:33 2015 +0100

    Merge pull request #397 from Metaswitch/eph-etcd-arch-update
    
    Clarified etcd's role as source of truth (or not)

[33mcommit 2f2a78e0a5565c77eab6263ee1a8eb9339c3670a[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 17 15:56:52 2015 +0100

    Document new plugin config for etcd location

[33mcommit ca8d6e2e6643f461a60bf04293986ffdbc08671b[m
Author: Ed Harrison <ed@projectcalico.org>
Date:   Fri Apr 17 15:50:38 2015 +0100

    Clarified etcd's role as source of truth (or not)

[33mcommit 3c1e1c4a994e10548aea2735858b3ebd71ad0407[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Thu Apr 16 23:19:44 2015 +0100

    Plugin/etcd: allow configuration of etcd host and port

[33mcommit 39d922430541b0e40d4226e8483252b59ab7111c[m
Merge: ccc6bf72 8b39875a
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 17 15:17:06 2015 +0100

    Merge pull request #396 from Metaswitch/plugin-key-not-found
    
    Plugin/etcd: expect EtcdKeyNotFound instead of KeyError

[33mcommit 8b39875ae8cf3e1977697d6525151a51a5889565[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Apr 17 15:10:15 2015 +0100

    Plugin/etcd: expect EtcdKeyNotFound instead of KeyError

[33mcommit 7f7b65dda818d04cfd96694f6920061bbf775125[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:31:53 2015 +0100

    Prevent Sphinx getting overeager with code blocks

[33mcommit 3a24a14325b9edb7a6b7e4fb658f63d156e5546a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:24:56 2015 +0100

    Missing copyright statement.

[33mcommit df3ce2880acdbd409cef3a13bf60ace65ccb648f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:24:46 2015 +0100

    Fixup some wording

[33mcommit 489d496050eee1a583839f4f5e2afd4abf9e91b5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:12:02 2015 +0100

    Discuss cluster tokens.

[33mcommit 61d3b5c25047a22264d58646cdf6d6aee4cbfb9b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:10:45 2015 +0100

    Fixed width fonts!

[33mcommit 5d44d7ed75d16b54261e852d4ae0b6307966074f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:09:15 2015 +0100

    Reflow table

[33mcommit ae1197115781cfeba7ff3291ca914dd6173bf79f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 14:09:07 2015 +0100

    Fixup indentation errors.

[33mcommit 179dfd6d55a6595d2e75ce71c46b806adcaa9589[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 13:47:58 2015 +0100

    Remove old architecture doc

[33mcommit 61cea75b6e5f88fb8c4ac6d7a2f40676129afc9d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 13:45:05 2015 +0100

    Use Sphinx ..note:: directives

[33mcommit b1b8017f4ea89338d81b77ef9ab3156c4546d9f8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Apr 17 13:42:04 2015 +0100

    Fixup PPA pin

[33mcommit 024221c31f9ff97dae90a6c53aa4f3f3159a5dd8[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Thu Apr 16 18:22:32 2015 +0100

    Deleted old etcd-architecture doc

[33mcommit e220bcfd71ea95beddbe3fcef25ada20fa0b7c6c[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Thu Apr 16 18:21:52 2015 +0100

    replace architecture doc with etcvd version

[33mcommit 2255421f2816361e62cc71ec7b9e484902266bb7[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Thu Apr 16 15:32:17 2015 +0100

    Removed ACL manager references, added warnings, etcd ramdisk

[33mcommit cb25d98949cfc8496e9d0ef4d2691f149d52d96f[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Apr 14 15:16:19 2015 +0100

    Fixed Juno pinning instruction

[33mcommit 2c5c28829366918955f3bc05d417ce4b1075792b[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Apr 14 14:56:48 2015 +0100

    Removed spurious instruction in Ubuntu install

[33mcommit 9ba796f5c2210ec27df1727d4e5b437c17b17d1e[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Apr 14 11:53:42 2015 +0100

    Fixing a missed sudo

[33mcommit db67da9900aa2dd44b2547456eb1265e0b2c1d36[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Apr 14 11:40:02 2015 +0100

    Made use of sudo consistent.

[33mcommit 5569692571e710dbcd5761c9734bd2336bbb4671[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Apr 13 17:02:33 2015 +0100

    Removed ACL manager references from involved and fuel-integration

[33mcommit aecd55daa5342ebe621e9b1092b0c99e2b9f5acd[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Apr 13 16:59:22 2015 +0100

    Further ACL manager references in configuration.rst

[33mcommit b7fcdd897ab34854dbeb4723a5be2c8bce5d8348[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Apr 13 16:23:28 2015 +0100

    Removed ACL manager references

[33mcommit 6934504aabeac91c4ac01ef827d1aa97b0beb7e6[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Apr 13 15:32:12 2015 +0100

    Compute and Control install on Ubuntu changes

[33mcommit f676ad964ecb79496c3bc6302392ee88e95c9871[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 27 08:44:45 2015 +0000

    Further review markups.

[33mcommit c5b22affdb8ed6e3a7ced22de5057d7a00ef722d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 15:12:36 2015 +0000

    Further markups.

[33mcommit 801d0a464177b3ba0ec8367e6a189cbf4ba3df48[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 13:36:23 2015 +0000

    Markups for @alexwlchan

[33mcommit b012ce5afc81d31941139b9bdfb903848fab66c2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 13:14:16 2015 +0000

    Use new documents in 'understanding'.

[33mcommit 4304ee14676ebb18d18cd496bfd0947427f57d24[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 13:06:55 2015 +0000

    Add calico data model document.

[33mcommit 5380a18c9463b99c4b0ae87da37b1b9ef940a018[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 10:52:17 2015 +0000

    Initial etcd architecture document.

[33mcommit ccc6bf7277e151acdd485fefa9562c4830b0851a[m
Merge: 6ae768ec 63ecad02
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Apr 17 10:34:57 2015 +0100

    Merge pull request #380 from Metaswitch/smc-add-logging
    
    Improve logging around IDs, refcounting and iptables programming.

[33mcommit 6ae768ec4ac79f48bb27a13d6fcf5c3d66fc7a17[m
Merge: d6dd8052 aa83310b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Apr 17 10:26:17 2015 +0100

    Merge pull request #377 from Metaswitch/smc-dont-resync-as-much
    
    Don't resync when config changes

[33mcommit aa83310bd76e570b9777f4382b14c219bf844377[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 16:46:43 2015 -0700

    Don't resync when config changes, just log.

[33mcommit d6dd805254d0ac8d2f6a40d63058575a67a6bf29[m
Merge: 436f931f 8a22a599
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Thu Apr 16 17:01:09 2015 -0700

    Merge pull request #376 from Metaswitch/smc-avoid-conc-cleanups
    
    Avoid concurrent cleanups

[33mcommit 436f931f2eecaf1b58c3006db3df35381e9a143b[m
Merge: 03b253d9 3be7b668
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Thu Apr 16 16:11:23 2015 -0700

    Merge pull request #379 from Metaswitch/smc-conservative-cleanup
    
    Be more conservative about finding orphaned chains.

[33mcommit 03b253d974b943a86cafc2931b687aefe630db8b[m
Merge: de3c0bb7 8f97ad49
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Thu Apr 16 15:33:15 2015 -0700

    Merge pull request #384 from Metaswitch/smc-cluster-id-check
    
    Reconnect to etcd if cluster ID changes.

[33mcommit 8a22a599df0d1199d830de604b6e7208a99bae7a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 13:02:52 2015 -0700

    Code review markups.

[33mcommit 8f97ad49c3d50f58ff9be0eb617cf802258f27f9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 16 12:03:37 2015 -0700

    Ask for cluster ID checking.

[33mcommit de3c0bb7293951e78c77d0e07cc444b4791ef462[m
Merge: 80614783 a45aafb6
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Apr 16 12:16:35 2015 +0100

    Merge pull request #381 from Metaswitch/plugin-config-writes
    
    Plugin/etcd: Only write config values when not already correct

[33mcommit a45aafb68f048c4c80fd9a8d90bae2314892e5ce[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 16 11:12:57 2015 +0100

    Plugin/etcd: Log when we need to write /calico/config values into etcd

[33mcommit 688a4d57264799e6ce545a96411bc0dea51c7f87[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 16 11:07:09 2015 +0100

    Plugin/etcd: Log when we need to write /calico/config values into etcd

[33mcommit 48559e4665063d12011b3893133ebefad4ef1a3c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 16 10:00:48 2015 +0100

    Plugin/etcd: Only write config values when not already correct

[33mcommit 80614783aa9ae3442a3a16d5ef1e5d22656bf52a[m
Merge: 8cfd43ad 105541c2
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Wed Apr 15 20:23:30 2015 -0700

    Merge pull request #375 from Metaswitch/smc-fix-endpoint-update
    
    Fix endpoint updating

[33mcommit 105541c2f7cc8c139c37b87ffacc0cf34f8650a9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 19:30:02 2015 -0700

    Reprogram endpoint chain when only profile changes.

[33mcommit 63ecad02c1a24b5ff40b3c9a2a83a8d2db9fd050[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 19:38:01 2015 -0700

    Improve logging around IDs, refcounting and iptables programming.

[33mcommit 3be7b6685ee853b8d8864344a0daf991378bde3a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 19:35:51 2015 -0700

    Be more conservative about finding orphaned chains.
    
    Don't delete chains that are marked as required even if the
    dataplane says they're not referenced.

[33mcommit 8c659feef02091c1dcb427169b2a776d041f7c97[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 17:08:52 2015 -0700

    Fix calculation of batch-affected chains and deletable chains.

[33mcommit bf56a82125f6d7a51be2eecdbb4dddbade5188b0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 15:42:48 2015 -0700

    Add additonal diags.

[33mcommit 6cc415fb114803ab0f5cecf564f13c6225971151[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 14:19:58 2015 -0700

    Turn UpdateSplitter into an Actor to avoid concurrent cleanups.

[33mcommit 6f0080032d08ab266199fccfdda6c2dc43ef6f62[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 14:19:31 2015 -0700

    Fix incorrect assert in devices.py.

[33mcommit 8cfd43ada070d04c1338eb904cabdeb62e1bc70f[m
Merge: 8bf40667 83bb0c45
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Wed Apr 15 19:50:48 2015 -0700

    Merge pull request #369 from Metaswitch/smc-fix-iptables-lock
    
    Add --wait to iptables call used to list tables.

[33mcommit 737b0b36d082db4738a6ab54f95778140aead4f1[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 17:43:32 2015 -0700

    Handle missing old profile in endpoint update.

[33mcommit 8bf40667a17bd097a9adba96432b4cc69db470e4[m
Merge: 19b6f630 b4d3159e
Author: robbrockbank <rob.brockbank@metaswitch.com>
Date:   Wed Apr 15 17:28:29 2015 -0700

    Merge pull request #372 from Metaswitch/smc-fix-actor-batching
    
    Fix needs_own_batch processing and add UT.

[33mcommit b4d3159ebfd8cb66a6223731d6419ed76dfc4564[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 16:03:48 2015 -0700

    Fix needs_own_batch processing and add UT.

[33mcommit 83bb0c457299a718f24c1144b06c01fc6635a776[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 14:01:20 2015 -0700

    Don't resync when Ready flag is rewritten as true.  Improve surrounding logs.

[33mcommit 178e08457cce60864c2033d33161363ba85b85a7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 13:33:39 2015 -0700

    Add --wait to iptables call used to list tables.
    
    Fixes issue 368.

[33mcommit 27fb7d98142d85e34002e23426c019bfcb4ba025[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 15 11:40:17 2015 -0700

    Reconnect to etcd if cluster ID changes.
    
    * Peg python-etcd to our forked version.
    * Catch exception and resync in fetcd.py.

[33mcommit 19b6f630546a05bdde2453523b3772705339622f[m
Merge: 6d97b4b2 3537481d
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Apr 15 15:46:15 2015 +0100

    Merge pull request #365 from Metaswitch/let_felix_default_hostname
    
    Comment out options in example felix.cfg so Felix can use its defaults

[33mcommit 3537481d624137345fc28127ea635ec6c876c758[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Apr 15 15:42:09 2015 +0100

    Comment out options in example felix.cfg so Felix can use its defaults

[33mcommit 6d97b4b2d4b2ab569e1a2f500d299ac0070dce0c[m
Merge: e97b9210 3fcbc471
Author: Shaun Crampton <smc@metaswitch.com>
Date:   Tue Apr 14 18:04:19 2015 -0700

    Merge pull request #358 from Metaswitch/smc-polling-workaround
    
    Workaround for etcd polling issue

[33mcommit 3fcbc471eee21c8be575af2b8ad878d558758d1c[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 14 15:24:41 2015 -0700

    Reconnect to etcd whenever we hit a timeout.
    
    Works around an apparent python-etcd/urllib3/httplib bug where
    the connection is getting reused even though we didn't get a
    response.

[33mcommit 2159b7c51a76988e164bc211fa0194bf418773c4[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 14 14:09:03 2015 -0700

    Reinstate modifiedIndex tracking, needed to avoid lots of spurious
    polling in Docker land.

[33mcommit e97b92103e49c7e6d00d6f5380c988fe6507ec31[m
Merge: 24913127 03126668
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 14 12:22:21 2015 +0100

    Merge pull request #354 from Metaswitch/copyright-2015
    
    Copyright 2015

[33mcommit 0312666831cf85adb3fa66e95c9a3458ceeb2d77[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Apr 14 12:07:57 2015 +0100

    2015 copyright for two more files that I missed before

[33mcommit 24913127b0a0b1e1450c1be1353af9bf71e56897[m
Merge: 4067ae3e 33111ac5
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 14 11:37:12 2015 +0100

    Merge pull request #353 from Metaswitch/plugin-ut
    
    Plugin UT: reclaim testing that was wrongly in zmq-specific test class

[33mcommit bef0e393e7365eab61fb75845b68e80a5c7645ff[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Apr 14 11:22:08 2015 +0100

    Add copyright statements to doc source files

[33mcommit 35086d688f9ec75db9cad66aa1ffcfb47ec03081[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Apr 14 11:12:24 2015 +0100

    Add 2015 as a copyright year

[33mcommit 33111ac555cd04a20d50d0110abd7ea6fda070e3[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Apr 14 11:07:02 2015 +0100

    Plugin UT: reclaim testing that was wrongly in zmq-specific test class

[33mcommit 4067ae3eb5fba1f3098c8bcb2777eab3184bd90e[m
Merge: 9969a1e4 f8b6a61d
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 14 10:10:07 2015 +0100

    Merge pull request #352 from Metaswitch/smc-fix-missing-config
    
    Be resilient to missing per-host config.

[33mcommit 9969a1e48f3f114e7bb2229c36fe1805e787bd28[m
Merge: f6f673fa 0d4ca6a0
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 14 10:03:54 2015 +0100

    Merge pull request #347 from Metaswitch/smc-speculative-deb-fix
    
    Add python-gevent as a dependency for the debs.

[33mcommit f8b6a61d5292fc76e8a110448273bd735dba95d0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 13 17:22:48 2015 -0700

    Be resilient to missing per-host config.

[33mcommit 0d4ca6a0f20d476be2d1b3ac2c2b8c3c35d70664[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 13 12:36:19 2015 -0700

    Add python-gevent as a dependency for the debs.

[33mcommit f6f673faa08c93293277b294100d78fbdcfa834f[m
Merge: 38b2344e d4d676ef
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 13 19:01:40 2015 +0100

    Merge pull request #346 from Metaswitch/config_test2
    
    Add Felix config unit tests

[33mcommit d4d676ef8ea93ab634921df33db91c571da2b037[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Apr 13 18:57:52 2015 +0100

    Fix Felix address config unit tests

[33mcommit ede9cb9f5f0808fa599e1355a1deb72fc235fadd[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Apr 13 18:29:53 2015 +0100

    Add Felix config unit tests

[33mcommit 38b2344e6e2ad5e04a04cb220350e820b61d22d1[m
Merge: 534fb327 363199bd
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 13 17:14:03 2015 +0100

    Merge pull request #344 from Metaswitch/remove_zmq
    
    Remove ACL Manager and all references to it or zmq

[33mcommit 363199bd9fd254fd25512fae2f6d4c7b6b9b310f[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Apr 13 17:07:31 2015 +0100

    Remove ACL Manager and all references to it or zmq

[33mcommit 534fb327b1ffb79c5e318f6d791a0a041f59df9d[m
Merge: ff571550 a28a12b0
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Apr 13 15:06:10 2015 +0100

    Merge pull request #289 from Metaswitch/horizon
    
    Update neutron api doc with horizon notes.

[33mcommit a28a12b0640047fbca2aaf048d1eb70d1cea2c97[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Apr 13 08:47:43 2015 -0400

    Minor horizon doc markups.

[33mcommit ff57155075d51b4fac5124711b07d6a7e46f363a[m
Merge: cc4bec92 f452797c
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 13 13:38:26 2015 +0100

    Merge pull request #307 from Metaswitch/etcd
    
    Use etcd instead of 0mq

[33mcommit f452797cfbdce16069b3c237844838e393b3ff5f[m
Merge: b32421bc d08fe336
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 13 13:37:04 2015 +0100

    Merge pull request #321 from Metaswitch/config_test
    
    Config tests

[33mcommit d08fe336ae81f45e218ff32c84e856e815b7b968[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 7 16:34:43 2015 +0100

    Config tests

[33mcommit b32421bc3246a485161247836e1d7cafd18b406d[m
Merge: 900a05a7 1c2eef8a
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Apr 13 11:57:01 2015 +0100

    Merge pull request #334 from Metaswitch/smc-clean-up-iptables
    
    Rework IptablesUpdater to simplify logic

[33mcommit 1c2eef8a9c0eb23229bdb652b40d94d83f57ba62[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 9 18:44:55 2015 -0700

    Implement best-effort deletion of chains.

[33mcommit 9e7c78f30f64c9135d37343af4fe2f2e4a995197[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 9 13:59:44 2015 -0700

    Improve commenting in fiptables.py, remove some unused code, improve calculation caching.

[33mcommit 55790eddbff5b20d918dc19ac819d1e6dc7a6f4a[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 16:41:28 2015 -0700

    Markups from self-review.

[33mcommit 97e88479f5104694ac19d167ced3d20b1449cacc[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 16:31:07 2015 -0700

    Force cleanup and ensure_rule_inserted to run in their own batch.
    
    - Makes it much easier to get those operations correct.

[33mcommit a312629732ae24285d0e9bbc6f4a893e8174eca9[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 16:08:19 2015 -0700

    Rename actor_event decorator to actor_message.

[33mcommit aad26985e3e8d0c3ac8d2804302ae042042f9863[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 16:01:05 2015 -0700

    Rework IptablesUpdater to simplify logic.
    
    - Move DispatchChains to own file.
    - Extract out a class to track the state of the current update batch.
    - Let each IptablesUpdater handle only one table (removes a lot of
      indexing pain and some badly-handled corner cases).

[33mcommit cc4bec926570f27781bcafc08e3b8a0cfabb0dda[m[33m ([m[1;33mtag: 0.15[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Apr 10 15:24:39 2015 +0100

    Version 0.15

[33mcommit 900a05a7e7b39ceab3c2a2d948f6d13a6983b1b5[m
Merge: 332e37b3 c6ec52ce
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Apr 9 12:44:15 2015 +0100

    Merge pull request #332 from Metaswitch/smc-startup-config
    
    Rework startup to avoid concurrent access to config object

[33mcommit c6ec52ce2003b8e117b798e5d5269104cb76f212[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 11:23:01 2015 -0700

    Rework startup to initialize config only at start of day.

[33mcommit 332e37b35a5efe8c70afe028d9464bf6c58c2176[m
Merge: f49272dc 4c9354f3
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Apr 9 11:59:01 2015 +0100

    Merge pull request #327 from Metaswitch/smc-add-env-var-override
    
    Let environment override global config file for docker support.

[33mcommit f49272dcab20135a496ceab8f6b5d9b1601afa43[m
Merge: f0ecea51 a8572fac
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Apr 9 11:55:36 2015 +0100

    Merge pull request #331 from Metaswitch/smc-handle-etcd-down
    
    Differentiate between different etcd errors.

[33mcommit f0ecea5169a54cf664ebba5f1613386fe3ba094a[m
Merge: b26c3fb0 b433abe9
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Apr 9 11:09:43 2015 +0100

    Merge pull request #336 from Metaswitch/unicode
    
    Fix failure to parse unicode data when validating ports.

[33mcommit b433abe998755042fa4d44e837e1783844a00833[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Apr 9 11:00:48 2015 +0100

    Fix failure to parse unicode data when validating ports.

[33mcommit 5afe60763ae0e0a7fca68c066173e3b91acae804[m
Merge: 3a08f911 00a61c11
Author: Christopher LIJLENSTOLPE <github@cdl.asgaard.org>
Date:   Wed Apr 8 17:31:08 2015 -0400

    Merge pull request #333 from Metaswitch/l2-rev
    
    L2 rev

[33mcommit 00a61c1146eacf1acd53cf8974bc55b00669b13c[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Apr 8 17:29:40 2015 -0400

    added a route reflector diagram and changed the orig diagram
    
    to meet current standard using in both l2 and l3 diagram

[33mcommit abf31a83a4fca213f6f46bce1ee86e63930b8f55[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Apr 8 16:49:23 2015 -0400

    change to l2 document graphics

[33mcommit a8572facc151f532c0496e420d2be1f1be6d37f8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 12:07:32 2015 -0700

    Fix out-of-date comment.

[33mcommit e2cc71abcb3d979c9ab50657b95f04ff844d92e0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 11:59:31 2015 -0700

    Be more loose on etcd error message matching.

[33mcommit 4c9354f3df6b0e85dbe21e426940456a023a78f0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 09:39:51 2015 -0700

    Code review markups; combine host and port into one variable.
    - Use FELIX_ as prefix instead of section name.

[33mcommit 76a55759831b7e95bdc2270ac84bc89a22dba057[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Apr 8 10:37:35 2015 -0700

    Differentiate between different etcd errors.
    
    - Retry connection failures.
    - Detect sync errors and trigger resync.
    - Let all other errors trigger resync.
    - Use a urllib3 Timeout object to set connect vs read timeout;
      for polling, we want a short connect timeout but a long read
      timeout.

[33mcommit b26c3fb0cf39148f0a749bd47f598c86d46e0474[m
Merge: 591ade0e 6bd33557
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Apr 8 12:20:21 2015 +0100

    Merge pull request #322 from Metaswitch/smc-check-ipt-script
    
    Add script to validate iptables assumptions.

[33mcommit c689e6bfcafe75da51069a913664dedc1a2a07c8[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 14:48:48 2015 -0700

    Let environment override global config file for docker support.
    
    - felix now allows GLOBAL_ETCDHOST and GLOBAL_ETCDPORT to be
      specified.

[33mcommit 6bd335571cf0e16868be2b27a0036ee0a1816408[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 14:10:56 2015 -0700

    Add script to validate iptables assumptions.

[33mcommit 591ade0e543c0a91a891565907ff6407c3f4a856[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 6 17:09:02 2015 -0700

    Make sure cleanup ignores ipsets that it doesn't own.

[33mcommit 60a66f247ca2581e0f0b52ee0df9a0bdc36deb52[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 11:37:57 2015 -0700

    Code review markups.

[33mcommit 7d183c97aed9b494e817419977ba0700998fbef7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 6 17:08:43 2015 -0700

    Do resync when config changes.

[33mcommit b5cd9417e1ee7acfd3231b10d8cfeadf0a6c0706[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 6 17:08:14 2015 -0700

    Add snapshot support to dispatch chains to avoid flapping chain at start of day.

[33mcommit f03a9070f13d750646322c1577eb631b93877b2d[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 13:09:52 2015 -0700

    Implement start-of-day cleanup.

[33mcommit 37a30c3202e9891319864c8f3feaf9b8ace7a7bc[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Mon Apr 6 15:48:57 2015 -0700

    Remove limit of 15 ports in a rule.  Generate multiple rules for long port lists.

[33mcommit b48e350d373d6e0ad08d50de57723681921354a0[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 13:07:50 2015 -0700

    Fix plugin to set the dst_port of an inbound rule.

[33mcommit 7cf74bfb107e2697636564723b29f33b79722e1b[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 13:06:52 2015 -0700

    Fix failure to make progress if delete fails due to chain still being referenced.

[33mcommit 7fef56648e4af3584b6cc0faf972f093be722f76[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 2 16:14:50 2015 -0700

    Fix endpoint asserts by keeping track of what we've increffed.

[33mcommit 19ef6cf77a9e25341414d3ce08a66d0a1fc93130[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 13:06:11 2015 -0700

    Make queues unbounded and reinstate actor.py commenting.

[33mcommit b01c519c76691e98fedad7a41a606340c038deba[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Tue Apr 7 12:44:46 2015 -0700

    Implement ready flag, delays start-up of felix until set.

[33mcommit 3a08f911a9cb683ca3c48e46d3f3c950e8264922[m
Merge: 51d46228 bb1d1d55
Author: Christopher LIJLENSTOLPE <github@cdl.asgaard.org>
Date:   Tue Apr 7 10:34:45 2015 -0400

    Merge pull request #302 from Metaswitch/nj-l3-review
    
    NJ review comments on L3 interconnect doc

[33mcommit 8e322541f7c81460844e8547bf7e3bcfd0493541[m
Merge: cf2beb87 8d617cbf
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Apr 7 14:45:25 2015 +0100

    Merge pull request #319 from Metaswitch/issue316
    
    Do not terminate if interface deleted under our feet.

[33mcommit bb1d1d55d8562df88e1118c871343d18d194a258[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 31 13:45:22 2015 +0100

    l3-interconnect doc: Fix "100m,000's" typo

[33mcommit 13b817ee1936acca0e83b5fe0f879991914f0376[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 31 13:43:08 2015 +0100

    l3-interconnect doc: Say "endpoint" consistently, not "end-point".

[33mcommit 972ec59fa58042c5a3abd16406eeefee0a3d0373[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 31 13:40:16 2015 +0100

    l3-interconnect doc: Say "endpoint" consistently, not "end point".

[33mcommit 0356f13d0ab8ecd22379e3a58e2ed049ad05ba4d[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 31 13:36:16 2015 +0100

    l3-interconnect doc: Capitalize Felix

[33mcommit 0856bc6288509db0c79713db39f79cb853aa12e1[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 31 13:34:36 2015 +0100

    l3-interconnect doc: Fix "it's" typos

[33mcommit 157f31524bd4c564676885f2102a33abc52af3f2[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 31 13:33:44 2015 +0100

    l3-interconnect doc: Fix overlong hyphens

[33mcommit 51d46228ff6bdfbc3cfb1593a5c7de875027f1b2[m
Merge: accca4f8 2db0d754
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 7 12:04:52 2015 +0100

    Merge pull request #303 from Metaswitch/awlc-docs
    
    Fix small spelling, capitalization and hyphenization mistakes in docs

[33mcommit 8d617cbf1a48d6d1ba3ca2ca4f087e6e3d85de11[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 7 11:14:59 2015 +0100

    Do not terminate if interface deleted under our feet.
    Also minor comment tidy ups after fixing commenting of that routine.

[33mcommit cf2beb874b9d6284802bf35f304dbe6babe0ef08[m
Merge: 097ed6f5 85b15fb4
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Apr 7 10:49:28 2015 +0100

    Merge pull request #315 from Metaswitch/smc-whitelist-ip-version
    
    Whitelist ip_version as a valid rule attribute.

[33mcommit accca4f84e92553f045d50db784c391b69fe686f[m
Merge: 0d91b29b 31e4e975
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Thu Apr 2 19:54:18 2015 +0100

    Merge pull request #314 from Metaswitch/awlc-calicodocs
    
    Purge all mentions of the calico-docs repository

[33mcommit 31e4e9757654b5c5d8dd78ace25728d8c5e8e2e9[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Apr 2 19:49:17 2015 +0100

    Revert link to say "here"

[33mcommit b21caeb7098972568bf8aa3f77ee833eb6ef5750[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Thu Apr 2 19:35:57 2015 +0100

    Purge all mentions of the calico-docs repository

[33mcommit 85b15fb4ac5e7a83008030dea5ec63ffcf7014ce[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Thu Apr 2 11:14:51 2015 -0700

    Whitelist ip_version as a valid rule attribute.

[33mcommit 097ed6f5ad6d0de6ed007c82876e99d8a85463d1[m
Merge: 8cca0692 453012ff
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Apr 2 18:09:29 2015 +0100

    Merge pull request #313 from Metaswitch/plugin-config
    
    Plugin/etcd: Provide config that Felices need, in etcd data

[33mcommit 453012ff99631620aaa8e5e8fbcb3a34eb3933e4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 2 16:18:26 2015 +0100

    Plugin/etcd: Provide config that Felices need, in etcd data

[33mcommit 8cca0692411de256ac5a496ab1460f2ef6ebf7c4[m
Merge: c90f3ef8 3055d92b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Apr 2 15:27:49 2015 +0100

    Merge pull request #310 from Metaswitch/no-calico-key
    
    No calico key - fixes #308

[33mcommit 3055d92b78e42aa2d473e8db77d6e08f89b7fc71[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 2 15:17:48 2015 +0100

    Plugin/etcd: Handle when /calico and its subkeys don't exist yet

[33mcommit f26815973cab3ef2ac9ec115857da5698fa961f4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Apr 2 15:16:53 2015 +0100

    Plugin UT: Make etcd simulation raise KeyError like the real etcd does

[33mcommit c90f3ef8c3bb69b4453bb8022d0f6525bf4c5b95[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 11:25:11 2015 +0100

    Adjust tests for etcd default.

[33mcommit d8e18451adbbb9c2d672be25cf695c286a78766e[m
Merge: 3bb76929 e248bd16
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 11:21:14 2015 +0100

    Merge remote-tracking branch 'origin/plugin-ut-extra' into etcd

[33mcommit 3bb76929df0d61a09fc2a3ebf80092d594aeb03b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 11:05:04 2015 +0100

    Further gevent/etcd changes.

[33mcommit f5c46afc2362f4dafff12bfefea0ff2ec123890a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 10:58:54 2015 +0100

    Enable Etcd transport.

[33mcommit c05a3a6d40ff79fcb53ca3cc0a55c0be8ac9211c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 10:57:11 2015 +0100

    Check interface state using flags, not operstate.

[33mcommit 225e187beeb64fd921194e6afcd050a25a959246[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 10:50:07 2015 +0100

    Exception.message is deprecated.

[33mcommit 7720b6332c42ee8ba1460dfcfae179efde5b1c91[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 10:44:39 2015 +0100

    Add module dependencies for testing Python 2.6

[33mcommit 8aa15682838fc9dd83f7277f4f6ee1bfce2e144e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Apr 2 10:21:57 2015 +0100

    Take calico/felix from gevent-proto branch.

[33mcommit 0d91b29b0b5111df29ae044106ed82af80596cd8[m
Merge: c7eaa930 0b7d5fcd
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Apr 1 17:20:23 2015 +0100

    Merge pull request #305 from Metaswitch/awlc-search
    
    Improve search results in docs with short search tokens

[33mcommit 0b7d5fcd0c66a2931910e105e299a588a369ecc6[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Wed Apr 1 17:07:56 2015 +0100

    Fix modes

[33mcommit 930532448cb8693c7f5d94b5f5935aec86064f7b[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Wed Apr 1 16:39:33 2015 +0100

    Remove "Edit on GitHub" link from search results page
    
    The ReadTheDocs theme puts an "Edit on GitHub" link in the top right-hand
    corner of every page. This is great, except for the search page, which is
    created by a template rather than a *.rst file, so the link to "Edit on GitHub"
    is broken on search pages. This commit means that link isn't shown on the
    search results page.

[33mcommit c1b5b56ce594988df7c3093f332625675f61dadf[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Wed Apr 1 16:25:26 2015 +0100

    Small JavaScript fixes

[33mcommit da6c9c0425dc3d5d2b1c0106d28e826e53b3efa2[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Wed Apr 1 15:34:34 2015 +0100

    Improve search results in docs with short search tokens
    
    Search results with tokens with length <= 2 would fail silently, and not give
    the user any explanation as to why they weren't seeing any results. This fix
    removes those tokens from the search, and prints a warning to the user that
    said tokens have been removed.

[33mcommit c7eaa9303a6988da4424e17fd88b14026b4835f9[m
Merge: 262d819c a8c2996c
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Wed Apr 1 12:16:48 2015 +0100

    Merge pull request #304 from Metaswitch/analytics
    
    Add Google Analytics to our docs

[33mcommit a8c2996cdb5ea23e2d722ef03f105ac630775fce[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Apr 1 11:13:32 2015 +0100

    Add Google Analytics snippet for Calico.

[33mcommit 68bd12da1a5f086c197b5ab44fc9660fb409d761[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Apr 1 11:08:29 2015 +0100

    Use local copy of RTD theme.

[33mcommit e248bd16b593247feeffbd75f2436e932b2235be[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Apr 1 10:16:50 2015 +0100

    Plugin/etcd: Specify ip_version in etcd profile data

[33mcommit 2db0d754142c7166b27cdce76219e0554a857506[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Tue Mar 31 21:55:06 2015 +0100

    Fix small spelling, capitalization and hyphenization mistakes
    
    * Fix capitalization of "Unix" and "OpenStack".
    * Change "Felices" to "Felixes" to be consistent with the rest of the
      docs.
    * Improve link to "Why Calico" blog post in FAQs.
    * Fix link to license to reflect the retirement of the calico-docs
      repo.
    * Replace en dashes with hyphens where appropriate.
    * Fix spelling errors.

[33mcommit 262d819caeb8c0d131da43b04b48af0813f464d2[m
Merge: fba7f548 04d1b4cc
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Tue Mar 31 08:59:44 2015 -0700

    Merge branch 'cdl-l2-rev'
    
    Fixed some minor grammar annoyances in the l2 doc.

[33mcommit 04d1b4ccdd16fa8472791de3429cec10cd4ff65e[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Tue Mar 31 08:52:02 2015 -0700

    minor grammar tweaks

[33mcommit fba7f548e4863b956c6980b53cd1df4808a2cbcc[m
Merge: 62626053 73f095cc
Author: Alex Chan <github@alexwlchan.fastmail.co.uk>
Date:   Tue Mar 31 10:57:48 2015 +0100

    Merge pull request #301 from Metaswitch/awlc-docs
    
    Small typo and formatting fixes for docs

[33mcommit 73f095cc11d17017f1a742bfd23ae496a431e574[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Tue Mar 31 10:21:31 2015 +0100

    fix line wrapping

[33mcommit 8ba25957c11a19dae95e8ee512d3477c60d1ecce[m
Author: alex.chan@metaswitch.com <alex.chan@metaswitch.com>
Date:   Tue Mar 31 09:54:10 2015 +0100

    Small typo and formatting fixes for docs
    
    * Add quotes around the title of the final question on the FAQs page to bring
      it in line with the style of the other titles on the page.
    * Fix formatting of `eth0` in `fuel-integration.rst`.
    * Fix list formatting in `opens-chef-install.rst`.
    * Add missing text to `redhat-opens-install.rst`.
    * Fix indentation in `redhat-opens-install.rst`.
    * Fix indentation in `ubuntu-opens-install.rst`.
    * Tidy up a couple of links.
    * Replace hyphens with en dashes in a few places.

[33mcommit 62626053673ef83a0dcf499155a3baa15367f56f[m
Author: Alex Pollitt <alex.pollitt@metaswitch.com>
Date:   Mon Mar 30 09:01:10 2015 -0700

    Update docker.rst

[33mcommit 8997d72f694f3489ed489d74ddad35ea5f4ca868[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 22:42:45 2015 -0700

    another rfc typo

[33mcommit 54f3e4f5b7f7c5a70309e1f6448148b3142b8b05[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 22:42:09 2015 -0700

    fixed a rfc reference typo

[33mcommit f2e0af6f365cd92fa416c96cd5717cd3d6d7a729[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 22:15:50 2015 -0700

    fixed a typographical error

[33mcommit 5aa822d207950f1aad9d6cdc5d6819b1aa728000[m
Merge: 3d47230f f065c7cd
Author: Christopher LIJLENSTOLPE <github@cdl.asgaard.org>
Date:   Fri Mar 27 22:14:05 2015 -0700

    Merge pull request #300 from Metaswitch/l3-fabric
    
    L3 fabric

[33mcommit f065c7cd8afa1037d729a98134614a2c2799c196[m
Merge: f5fb52ab dfc2912a
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 22:11:53 2015 -0700

    Merge branch 'l3-fabric' of github.com:Metaswitch/calico into l3-fabric
    
    Conflicts:
            docs/source/architecture.rst

[33mcommit f5fb52abc2eea6d4a3610e764dee23ed85abc989[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 22:07:55 2015 -0700

    added l3 to understanding

[33mcommit 5fc4b545bfdd2f1fe2e83c920a74fbba8504345a[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 21:56:28 2015 -0700

    final draft

[33mcommit 3328e4c78c443dae18072ee275152b3b660cc76b[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 21:24:11 2015 -0700

    finished the as per server model

[33mcommit 397962fcf87d3da25486726fcd537aada3659738[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 21:13:51 2015 -0700

    completed as per rack.  started as per server

[33mcommit 134095e056e9339a51e083977f3e12d3676588b8[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 26 13:12:43 2015 -0700

    typing in the wrong window, committing same... :(

[33mcommit 77997a913a6dccd9d96d515f31ce5cbd8803563a[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 26 13:10:40 2015 -0700

    sp6

[33mcommit 34450ffc785fe42c63f831e8611d7a50da2cfc49[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 19 10:15:39 2015 -0700

    removed the original md source

[33mcommit b48c854acd031435ce5a0b76c45133e9cd6b8273[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 18 20:19:54 2015 -0700

    graphics update

[33mcommit e444d33a911c1ba3e829e6d4a05083bfb5dffd36[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 18 20:03:07 2015 -0700

    changes to diagrams

[33mcommit 2369f73b0136712b1e7c4789b3cdd8c94a53b752[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 18:46:29 2015 -0700

    moved bgp considerations to appendix

[33mcommit 289545fe7d5ff8f577820cbce09c797d9626be46[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 12:07:24 2015 -0700

    types work

[33mcommit c7d157087c17aaabbef4bce93ee88dec12881d20[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 07:59:44 2015 -0700

    more intro cleanup

[33mcommit 7eaae141b4b6e8c6f3133574ba6733d874295572[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 12 17:38:15 2015 -0700

    changing some numbering and the intro text

[33mcommit e27b7d316c579e8542ef4597e10c8a874cfc19f7[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 11 13:45:24 2015 -0700

    bringing the l3 paper over

[33mcommit 95351f3448ac33a1d0f98b9ddbfdf367ad4131ee[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 11 13:45:03 2015 -0700

    minor edits to l3-interconnectFabric.rst

[33mcommit dfc2912af08e5191a8f8bdd61783bcfff236662d[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 21:56:28 2015 -0700

    final draft

[33mcommit 7d981045465db134179a7342f697cb8c947a3f21[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 21:24:11 2015 -0700

    finished the as per server model

[33mcommit a913fb86a8ef013bc6f7532f4a68e76ce13ef251[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 27 21:13:51 2015 -0700

    completed as per rack.  started as per server

[33mcommit e15099344d53173ec108f063e96ab355f01fa57e[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 26 13:12:43 2015 -0700

    typing in the wrong window, committing same... :(

[33mcommit 4f87b85e2da75d65461de15f53389c0de90923bc[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 26 13:10:40 2015 -0700

    sp6

[33mcommit 3d47230f3be36e22eb72e4e840438ac69afb9c9c[m
Merge: 902c98fd 1a40f7c1
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 26 17:37:21 2015 +0000

    Merge pull request #298 from Metaswitch/fix_apt_pins
    
    Fix apt pin for Ubuntu Juno

[33mcommit 1a40f7c121aef9c54e305899ce0f628ad0585082[m
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Mar 26 16:13:51 2015 +0000

    Correct typo in previous commit

[33mcommit b35ad883f69e23942f69a7b4b546e238cf47eb75[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Mar 26 16:10:04 2015 +0000

    Fix apt pin for Ubuntu Juno

[33mcommit 902c98fd4dc0ce67293ab152aa2b3bd7a77c6af1[m
Merge: 190eb9d1 bf225c93
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Mar 26 16:06:44 2015 +0000

    Merge pull request #296 from Metaswitch/full-stop
    
    Update openstack.rst

[33mcommit bf225c93b39badcba6fc04eb7c5ea1f67a383e05[m
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Thu Mar 26 16:04:27 2015 +0000

    Update openstack.rst
    
    Rogue full-stop causing DCL bullet style catastrophe.

[33mcommit 190eb9d1919c286199df5c68fcbd3fd427eedee1[m
Merge: ebf3b3a0 090d1eed
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Thu Mar 26 15:44:40 2015 +0000

    Merge pull request #294 from Metaswitch/juju-docs
    
    Add simple Juju deployment doc.

[33mcommit 090d1eed5e41042201d835110dbb194364528fdd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 13:17:54 2015 +0000

    Docs markups.

[33mcommit 5d02dbac3f6c2b1108367276975d3a57e908ca3b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 26 11:05:49 2015 +0000

    Add simple Juju deployment doc.

[33mcommit ebf3b3a0dc5d57022210c4333f53516ade81f761[m
Merge: 8e243928 853aec50
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 25 09:40:40 2015 +0000

    Merge pull request #293 from Metaswitch/plugin_db_window
    
    Neutron mechanism driver: always get Neutron DB handle before using it in theoretical start-of-day window

[33mcommit 853aec50fced6456c7490fe035349754bd62d693[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Mar 24 18:31:56 2015 +0000

    Neutron mechanism driver: always get Neutron DB handle before using it in theoretical start-of-day window

[33mcommit 8e2439289b29aaccfcd5d7968e0eed8844c55c4a[m
Merge: 0e8d2ae4 c0641caf
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Mon Mar 23 15:02:40 2015 +0000

    Merge pull request #290 from Metaswitch/high-level-doc
    
    [WIP] High level examples document

[33mcommit 0e8d2ae467bed89d7c3e6fad628ad992e6797272[m
Merge: a96f43cc db27c6c4
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Mon Mar 23 12:28:25 2015 +0000

    Merge pull request #292 from Metaswitch/license_docs
    
    Add third party licenses to docs.

[33mcommit c0641cafa1d67ffcba09c2ffb496d444d58fdac5[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 23 11:46:32 2015 +0000

    'Relatively'

[33mcommit 05596f5f2cebcf9542faf33aac6ebf6da1a103c9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 23 11:45:05 2015 +0000

    Tidy up first worked example.

[33mcommit db27c6c4004507ea2d9d527cbf460965a43ca7a3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 23 10:06:06 2015 +0000

    Add third party licenses to docs.

[33mcommit 4c964938125e81271013a1ee69fea873191be895[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 23 09:31:20 2015 +0000

    Initial draft of single worked example doc.

[33mcommit d73b637957cc7a5a6bc8b280b68e04dd1a855784[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 20 16:01:03 2015 +0000

    Update neutron api doc with horizon notes.

[33mcommit a96f43cc632a1b7b9618bc98525c00e7e2e7eeba[m
Merge: 92582168 388a2028
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Fri Mar 20 15:04:37 2015 +0000

    Merge pull request #288 from Metaswitch/ed-harrison-patch-1
    
    Fix incorrect line break in faq.rst

[33mcommit 388a2028f108dbf847a81fd8c2efb3380188c76f[m
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Fri Mar 20 14:52:57 2015 +0000

    Update faq.rst

[33mcommit bb9b3f03d94b9574c9a556cda99d3b434a60f4fd[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 20 13:58:10 2015 +0000

    Plugin/etcd: OpenStack protocol -1 should not be passed on as is to etcd

[33mcommit 9a2670605c39f544ab413bf60e89b27b56252db0[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 20 13:51:02 2015 +0000

    Plugin/etcd: delete all profile's data, when profile is no longer needed

[33mcommit 15e9863c390fceb5d92f61c5cd14316d2cac5ad3[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 20 13:50:24 2015 +0000

    Plugin UT: test IPv6 addresses and security group updates, with etcd transport

[33mcommit 92582168400588f173ee5d0bdbde371edf3db5bb[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Mar 20 11:29:12 2015 +0000

    Version 0.14

[33mcommit 10d882542bbf99fa6e754e8fede1dbbf69261ef7[m
Merge: 693eef8c 432e706b
Author: DaveLangridge <dave.langridge@metaswitch.com>
Date:   Fri Mar 20 11:25:33 2015 +0000

    Merge pull request #287 from Metaswitch/fuel-doc-updates
    
    Docs: improve Fuel integration instructions

[33mcommit 432e706b99c01805473f2ac94f2ca35b6cbf3fe8[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 20 11:20:55 2015 +0000

    Docs: improve Fuel integration instructions

[33mcommit 693eef8c1c461922f1dcdd1413a34758ddaca610[m
Merge: 49ef999a bf6c7b6e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Mar 20 10:45:06 2015 +0000

    Merge pull request #286 from Metaswitch/debian_diags_install
    
    Install Calico diags script on Debian/Ubuntu as well

[33mcommit bf6c7b6eed39e9117a609ecdb32b5e478f6a693d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Mar 20 10:43:55 2015 +0000

    Install Calico diags script on Debian/Ubuntu as well

[33mcommit c632f234ca538c8e319f5b5269c7fea7d0c01548[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Thu Mar 19 23:26:31 2015 +0000

    Plugin UT: port migration, with etcd transport

[33mcommit c577f30074b22aae0c3dd9a0ba1035f92ddc7848[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Thu Mar 19 21:42:45 2015 +0000

    Plugin UT: port deletion and creation, with etcd transport

[33mcommit f81dbda5cb846d1333910b0e35b63c430217bb46[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 17:32:35 2015 +0000

    Plugin UT: support LOG.info(fmt, p1, p2) as well as LOG.info(fmt % (p1, p2))

[33mcommit 429f0cbd242dda3923c5176d79ca24546c9a7015[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Mar 17 15:36:33 2015 +0000

    More minor plugin tweaks

[33mcommit f682157b765673d600da120d82891417adef335e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Mar 16 16:46:13 2015 +0000

    Fix up problems with over long profile IDs.

[33mcommit 342377d53343904b39f9a1b57f12ebe217faf15a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Mar 18 13:17:01 2015 +0000

    Final changes so that OpenStack mainline works

[33mcommit a67966d098d06508f36eb8a7305318ac9ed98b20[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 19 10:15:39 2015 -0700

    removed the original md source

[33mcommit e56661d6ecfc1039404d09060f11d9076365ec25[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 16:26:39 2015 +0000

    Plugin/etcd: add /tags to profile regexp, so that existing data is processed only once

[33mcommit 992003684b9ff7ca3aa1d32e594911ea7d837416[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 16:25:36 2015 +0000

    Plugin/etcd: handle that read().children only returns nodes with actual values
    
    I had imagined something like 'ls' in a directory, returning both file
    and subdirectory names.  In fact the effect is more like 'tell me all
    the actual files under this directory'.
    
    So, if a profile P exists, we get '/calico/policy/profile/P/tags' and
    '/calico/policy/profile/P/rules', but not '/calico/policy/profile/P'.

[33mcommit f1dad621f9639896384f81cf59e666b41a23443c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 16:21:11 2015 +0000

    Plugin UT: fix stub etcd read to behave the same as the real etcd does

[33mcommit a15f5ec6e77a56f6987d0847eab7c63c164ed23b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 15:18:39 2015 +0000

    Plugin UT: police expected etcd writes

[33mcommit fc7504a8d998a2514b9b92c02684415f58c16ace[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 14:22:38 2015 +0000

    Plugin/etcd: Use recursive=True when reading profiles

[33mcommit c939f1f77081f0e1c114b795f08c3eb74ae16a58[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 14:19:59 2015 +0000

    Plugin UT: simulate etcd database that returns what was previously written to it

[33mcommit 74a10b1ea676a8ad5cce8c2a9c38c821f8ddb948[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 13:52:14 2015 +0000

    Plugin UT: move eventlet hooking code into common library

[33mcommit 03d7f1b8569f0b90c619b4e26fd52f87613aa336[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 13:19:21 2015 +0000

    Plugin UT: make eventlet hooking instance-based instead of class-based

[33mcommit 907b58e4e97ddc4cca67d675079f2843b9d39000[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 19 11:52:41 2015 +0000

    Plugin UT: fixups after removing mech_calico change to switch to etcd transport
    
    Because I am going to propose merging all this UT work into Calico's master branch,
    and we're not yet ready to make that switch on the master branch.

[33mcommit 49ef999ae0a0313a413d8e06ae7c27bb1dd530b3[m
Merge: 4120c7f6 1d99c158
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Mar 19 12:05:53 2015 +0000

    Merge pull request #284 from Metaswitch/sync_docs
    
    Bring forward changes from calico-docs.wiki

[33mcommit 9cad6b58fcda69e1546c9a57b1e0484969a17190[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 18 13:50:43 2015 +0000

    Plugin UT: etcd start of day with two ports but no existing etcd data

[33mcommit 8759166ada25f4d4cddaf872b2079793bd09b978[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 18 12:56:45 2015 +0000

    Plugin UT: etcd start of day with no existing etcd data, no endpoints & default SG

[33mcommit bcd3f0ae47e18fc4c0a3aef3a67dfaf918761da3[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 18 12:37:57 2015 +0000

    Plugin UT: create structure for tests with etcd transport

[33mcommit de4c564002e15fbcfe7c5d783e8e0960705127d0[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 17 18:14:23 2015 +0000

    Plugin UT: fix existing 0MQ-based unit test

[33mcommit c07b36384bc2366942b2a936b6d1e62bdcadfa7d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Mar 16 13:07:23 2015 +0000

    Fix typo in openstack etcd plugin

[33mcommit b564d3f353c2d1df2ffe075249d15cd4a9afded1[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 15:06:54 2015 +0000

    Neutron/etcd: define PERIODIC_RESYNC_INTERVAL_SECS

[33mcommit bc03407480fe4508af81228ddb6a02b609b04b1c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 15:06:39 2015 +0000

    Neutron/etcd: handle protocol None properly

[33mcommit 7a47e994a2381eb85554dd9925c820c9cef63a99[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 17:14:07 2015 +0000

    Neutron/etcd: handle security group update event

[33mcommit a5ae5c8c12d7b42e0ad6081ae8f545c75b4a21b0[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 16:53:19 2015 +0000

    Neutron/etcd: handle individual endpoint events

[33mcommit 458bb48ffc252ccc01314cac281346c21ace7b24[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 16:34:05 2015 +0000

    Neutron/etcd: JSON-encode when writing data to etcd

[33mcommit f16c507b5ce06eccf602c719d26922e5feee0353[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 16:30:27 2015 +0000

    Neutron/etcd: implement resync of security groups

[33mcommit fa8429fd87f601bf62e63c23c2f1203a685ea37b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 13:23:20 2015 +0000

    Neutron/etcd: simpler and better etcd/OpenStack reconciliation
    
    As well as looking simpler, this new algorithm works correctly if
    there happen to be multiple old etcd keys corresponding to the same
    endpoint ID (e.g. following migration through a sequence of hosts).
    In that case the previous algorithm could wrongly _remove_ correct
    etcd data for a current OpenStack endpoint.

[33mcommit eebbb2853479d5824ecea252ce74d4068353e613[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 12:44:40 2015 +0000

    Neutron/etcd: implement port_profile_id

[33mcommit 11fc29fb7eb1c26345e850f23c3d1b49f756365c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 9 15:05:37 2015 +0000

    Neutron driver: write etcd transport

[33mcommit 4120c7f65aaf9f9ab3af96cc3a7596407f90d1b2[m
Merge: 116cb9f1 64156c34
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Mar 19 09:53:24 2015 +0000

    Merge pull request #282 from Metaswitch/start-flag
    
    Neutron driver: reinstate start_flag reporting so web UI correctly shows...

[33mcommit 1d99c158e080ecc417bf46f604696cda929e417e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 19 09:27:21 2015 +0000

    Fixup some rendering.

[33mcommit ecef0cb51bd1a43e971c54efa9b96e264ac8ae9e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 19 09:10:44 2015 +0000

    Fixup indentation.

[33mcommit 357af785252babda68423860ebbca5e5353dec84[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 19 09:09:11 2015 +0000

    Bring forward changes from calico-docs.wiki

[33mcommit 34ec51d6e309fabbf01fefbd4d03a91197e7e329[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 18 20:19:54 2015 -0700

    graphics update

[33mcommit 567f9d955e67d5545be9cdf5d6e3c96de12ce427[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 18 20:03:07 2015 -0700

    changes to diagrams

[33mcommit 64156c34d10509f8f9ccb2621d9415deb11e2533[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 18 17:34:39 2015 +0000

    Neutron driver: reinstate start_flag reporting so web UI correctly shows Calico agent status

[33mcommit 116cb9f1b0735755198952b1a4fbd7518f94b500[m
Merge: ab2e5183 4d8bd738
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Wed Mar 18 11:45:14 2015 +0000

    Merge pull request #281 from Metaswitch/neutron-api
    
    Add FAQ link to Neutron API doc.

[33mcommit 4d8bd73818f67a968456efa13ad09d2a00d8203e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 18 11:38:57 2015 +0000

    Add FAQ link to Neutron API doc.

[33mcommit ab2e5183caa45ae8973ec0a7272712b70fe22f58[m
Merge: ec8a46e5 50401911
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Wed Mar 18 11:10:22 2015 +0000

    Merge pull request #279 from Metaswitch/neutron-api
    
    [WIP] Document describing our use of the Neutron API.

[33mcommit 504019114a65f02606a6db24719d53011ee8a768[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 18 11:00:42 2015 +0000

    More quotas detail.

[33mcommit 6b751b1390418b2110913741350f47f51fbc1007[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 18 10:40:25 2015 +0000

    Doc review markups.

[33mcommit 179ac91ca0baa58f7818010fdb9ea1e6dbefcfad[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 18 10:32:47 2015 +0000

    Be explicit about neutron/physical networks

[33mcommit ec8a46e5bd008172124d3e9d89ef1a440335880a[m
Merge: 1fdd33f4 90a99beb
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 17 19:45:47 2015 +0000

    Merge pull request #278 from Metaswitch/strip
    
    Remove unnecessary unit tests doc

[33mcommit 6bf6d2cb4b11e2a4bedddd3bde19f3f3ffcf39e8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 17 17:02:14 2015 +0000

    Link to neutron API doc from understanding.

[33mcommit 11b6bc578de52a9ff80333ec86297dd8d958ec8a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 17 17:00:42 2015 +0000

    Add initial neutron API discussion document.

[33mcommit 90a99bebab9ee5a5540d3f8921316cc586fbc482[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 17 16:59:00 2015 +0000

    Remove unnecessary unit tests doc

[33mcommit 1fdd33f4031ca431b33e1c5ab3a748052406856d[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 18:21:30 2015 +0000

    Docs: avoid showing all individual FAQs, on the index page

[33mcommit 0ffde27370bebc28f350a2aa0978f577df7ca75d[m
Merge: d2c97cab d5a6594e
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 18:19:23 2015 +0000

    Merge pull request #277 from Metaswitch/lr2-faq
    
    Lr2 faq

[33mcommit d2c97cab0e48d5d3fde5a0777dfc8dfe4b492a71[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 18:17:07 2015 +0000

    Docs: rebalance framing text between index and first level section pages

[33mcommit 6b4df7defcfcc96c23a14c4a1e50df4e0638653b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 17:38:52 2015 +0000

    Docs: put high level sections into the order that we now want

[33mcommit 074d2a02e2130b1020ef48f04eed68e9f33f9223[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 17:31:57 2015 +0000

    Docs: retitle 'Deploying and Running Calico' to 'Using Calico'

[33mcommit d5a6594ed53c6225e729400c0909aae44a832d1d[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Mar 16 18:12:37 2015 +0000

    Changes from NJ feedback

[33mcommit 6feffafdb7f29d0069542b8435c7970672a1474d[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Mar 16 18:11:17 2015 +0000

    Fixed up rebase errors and changed What to Why

[33mcommit 2812499c4a438a1f9c2dc496f2c6ff5c8f9f003d[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Mar 16 18:05:53 2015 +0000

    Removed question we don't have the answer to

[33mcommit c061a23065b6bbe4108d172034196347fc89932f[m
Merge: da632c50 7f11b2b8
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Mar 16 18:00:41 2015 +0000

    Merge branch 'lr2-faq' of https://github.com/Metaswitch/calico into lr2-faq

[33mcommit da632c503d2ddddbf28edc4a067794a4271a915f[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Mar 16 16:30:12 2015 +0000

    Updated PCI-DSS answer

[33mcommit 836643660ce60b51bec55fc862329b87ea1b0a62[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Fri Mar 13 16:13:33 2015 +0000

    Added more FAQs

[33mcommit a361a85d7212b64daed0231c48e41f643cd41991[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Fri Mar 13 10:16:19 2015 +0000

    Added .idea/ to .gitignore
    
    Pycharm keeps its config in .idea/.  Don't want to check this in.

[33mcommit 7a41ebfbb1245cdcc20e5e4fe834154efec85718[m
Merge: 943b0d31 5af8b8b1
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Mar 16 17:19:14 2015 +0000

    Merge pull request #275 from Metaswitch/logging-unicode-error
    
    Neutron/zmq: Don't log a byte sequence that might not be a valid Unicode string

[33mcommit 5af8b8b18728f89ed62ecdf6ee5e14c97b4be849[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 16:44:00 2015 +0000

    Neutron/zmq: Don't log a byte sequence that might not be a valid Unicode string

[33mcommit 943b0d312c4f12a5fb38d1b66616ac64756b0f8f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 16:31:01 2015 +0000

    Docs: correct code to build using sphinx_rtd_theme, both locally and on the RTD website
    
    (as advised by
    http://docs.readthedocs.org/en/latest/theme.html#how-do-i-use-this-locally-and-on-read-the-docs)

[33mcommit 7f11b2b871705bf41d4f1605750de2902ee8dcb0[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Mar 16 16:30:12 2015 +0000

    Updated PCI-DSS answer

[33mcommit 5eeb914d197ff59479e843ee7332aeea9aab5cfe[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 16:28:33 2015 +0000

    Revert "Docs: build using sphinx_rtd_theme, same as on readthedocs"
    
    This reverts commit aad2516d594b6cab3ab86fa5435cbe01bd385c36.

[33mcommit 71c6f3da999bfec7cb5e5673d35dab46efc6f877[m
Merge: 08cdf59c c2c3d046
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 16:08:40 2015 +0000

    Merge pull request #274 from Metaswitch/docs-sidebar
    
    Docs sidebar

[33mcommit c2c3d046b04579ceb6d64b5751e97fb174a6af39[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 16:07:48 2015 +0000

    Docs: Create structure for futures material, so as to clean up the sidebar

[33mcommit 8c3ded6ec463f44b4f1e74997725b7eb98516890[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 16:07:22 2015 +0000

    Docs: Create structure for subsections on deployment, so as to clean up the sidebar

[33mcommit c4c00cac1c2da9d9206e4af4f3ed984a83b02904[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 15:52:24 2015 +0000

    Docs: Create subsections of 'What is Calico?' so as to clean up the sidebar

[33mcommit 08cdf59cdd802e8a8ed426df9274d3fcedce5e8e[m
Merge: 7c467ab2 d076653d
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Mar 16 15:48:02 2015 +0000

    Merge pull request #273 from Metaswitch/doc-review
    
    Docs: fix duplicate "potentially"

[33mcommit 83a78b050be637fb98c141b4d2bc2eec2ff37c91[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 15:00:20 2015 +0000

    Docs: fix indentation in opens-chef-install.rst

[33mcommit aad2516d594b6cab3ab86fa5435cbe01bd385c36[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 13:28:36 2015 +0000

    Docs: build using sphinx_rtd_theme, same as on readthedocs

[33mcommit 7c467ab294135de0bc7442cea944dc14f858bcb1[m
Merge: 02381193 36085ac3
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Mar 16 12:03:28 2015 +0000

    Merge pull request #268 from Metaswitch/zmq-again-portability
    
    Neutron/zmq: support older pyzmq that doesn't have Again exception

[33mcommit 02381193b74113597d3da7e7f73890d7c3f74ca3[m
Author: Alex Chan <github@alexwlchan.fastmail.co.uk>
Date:   Mon Mar 16 11:02:06 2015 +0000

    Fix link to calico-docker README

[33mcommit d076653d73caf96ece21894ae2686984f575bb50[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 16 10:07:12 2015 +0000

    Docs: fix duplicate "potentially"
    
    Thanks to Alex Chan for noticing and reporting this

[33mcommit ec54979a034eca9306b6c862bd0dbcca3c4fb36e[m
Merge: ce60b843 0eeab7c3
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Mar 16 09:25:23 2015 +0000

    Merge pull request #271 from Metaswitch/doc-review
    
    Doc review: new organization, some new material, and tweaks

[33mcommit 0eeab7c36972f276bb7bcc752b6ffab920afe250[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Sat Mar 14 02:04:42 2015 +0000

    Docs: just say 'Calico', not 'Project Calico', in a few places

[33mcommit ced600481f97f2a1873219da9d9d640ebe4b18ac[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Sat Mar 14 01:44:33 2015 +0000

    Docs: complete what I believe is a useful and sensible organization
    
    - Rename 'Project Calico architecture' to 'Understanding Calico in more detail'.
    - Merge the higher level 'Configuring Calico' with 'Next Steps'.
    - Add a 'Calico with Docker' page.
    - Move Fuel integration page to same area as other Calico+OpenStack
      install methods, and marginally improve its text.
    - Inline the content of 'futures' into the index page.
    - Move stuff on license and acks from Getting Involved to the What is Calico area.
    - Reorg the Next Steps / Configuring Calico / IPv6 pages a little so
      as to eliminate duplicated titles at different levels.
    - Similarly for the higher level Calico-with-OpenStack pages.
    - Move stuff about ML, contribution and pull requests from Support to
      Getting Involved, and add an appropriate reference to the Support
      page.

[33mcommit 3029574222bab5e8e9848531f6d52f71504734c3[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 13 23:56:25 2015 +0000

    Docs checkpoint: overall structure, and complete on the 'what Calico is' section
    
    - Laid out an overall structure for the index page, comprising the following areas:
      - Basic Calico understanding
      - How to get involved
      - How to try it out
      - Err, that's as far as I've got for now.  There will probably be at
        least a further 'Future' or 'Roadmap' area.
    
    - Filled out all the basic understanding material, comprising:
      - what it basically does (new)
      - the datapath (from web site)
      - IP addressing and connectivity (from Metacom 'connectivity overview' material)
      - security model (from OpenStack-specific page, made more general)
    
    - Moved 'getting involved' material that was previously on the home
      page into new 'involved' file.

[33mcommit ce60b84334861f355a225f34ef6e13915f98c786[m
Merge: 5f81e85d 9679c1da
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Sat Mar 14 09:30:03 2015 +0000

    Merge pull request #270 from alexwlchan/master
    
    Fix small indentation and spelling mistakes in docs

[33mcommit 9679c1dab65a4f0b4ae6d7f4162e00f5c2e82e92[m
Author: Alex Chan <alex@alexwlchan.net>
Date:   Sat Mar 14 09:06:42 2015 +0000

    Fix small indentation and spelling mistakes in docs
    
    *  Fixes one spelling error, a few capitalization mistakes, and
       one instance where a number was not fully spelt out.
    *  Fixes the indentation of follow-on list items.
    
       Some list items (like this one) span multiple paragraphs. Every
       paragraph needs to be indented, or the rendered output does not
       indent them correctly.
    *  Tidy up links: a couple were broken by escaping issues, and
       for others, I added a slightly more human-readable description
       instead of a raw URL.
    *  Fix other small formatting bugs.

[33mcommit 72d0bdf02164720aee379b70774151df240bb9ba[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 18:47:09 2015 -0700

    added l3 to architecture.rst

[33mcommit 1983f54f823358bd967797185947713ab92c5b81[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 18:46:29 2015 -0700

    moved bgp considerations to appendix

[33mcommit d3b34c2fc46a64106d0b109f7c0fe044003d3c9c[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 12:07:24 2015 -0700

    types work

[33mcommit 36085ac3d430859d9040b44a3cc53770669f3355[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 13 17:28:59 2015 +0000

    Neutron/zmq: support older pyzmq that doesn't have Again exception

[33mcommit 0b8cdf665abc9a4b4a4842723500d3f7e52ac721[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Fri Mar 13 16:13:33 2015 +0000

    Added more FAQs

[33mcommit e48fdfd86c3c31a3cb698f128c0eb4c87ca3cc15[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Fri Mar 13 07:59:44 2015 -0700

    more intro cleanup

[33mcommit 5f81e85dcca7666b7d82769b82cba6da354b247f[m
Merge: 9d7a5fc0 a0ed12eb
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Mar 13 10:59:58 2015 +0000

    Merge pull request #266 from Metaswitch/operstate
    
    Check interface state using flags, not operstate

[33mcommit a0ed12eb2ba5778a6b02b87fd51d714ddde185fa[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 13 10:24:33 2015 +0000

    Check interface state using flags, not operstate

[33mcommit 4e9fabe0528b5202910ca098ee41ef6e4593536e[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Fri Mar 13 10:16:19 2015 +0000

    Added .idea/ to .gitignore
    
    Pycharm keeps its config in .idea/.  Don't want to check this in.

[33mcommit 6f72e997b4556006271e6164d84990c770a9d7a4[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Thu Mar 12 17:38:15 2015 -0700

    changing some numbering and the intro text

[33mcommit 9d7a5fc07292671fa026db58fe3eb0d8845451ee[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 13:56:35 2015 +0000

    Add text to index page.

[33mcommit f89ce656fb6a9d45391a9817039637a23b7e1f76[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 13:53:59 2015 +0000

    Remove reference to old architecture diagram.

[33mcommit 1ed11c42fad878547152ad4b4952cf71dd179387[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 13:52:10 2015 +0000

    Add 'technical details' doc section.

[33mcommit 1347ffe86cedc27ad2a36ffe83dc2a419281cc96[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 13:41:53 2015 +0000

    Add 'future work' documentation section.

[33mcommit 59fde73946969cfb9d558505a7a95ff3f4bd5fbc[m
Merge: fe5ee8a5 16433ab4
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Mar 12 13:34:54 2015 +0000

    Merge pull request #256 from Metaswitch/docsupdates
    
    Updates to documentation

[33mcommit 16433ab43bade249c6b3e4e65cdf76f9f9028328[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 13:34:34 2015 +0000

    Clarify IPv6 logic further.

[33mcommit fe5ee8a51da0274c2510898c1ecb5e99f8e6196e[m
Merge: feb9c017 a532ce71
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Mar 12 13:22:11 2015 +0000

    Merge pull request #264 from Metaswitch/ed-harrison-patch-1
    
    Fix broken link to architecture doc

[33mcommit a532ce71f11bc92dd9e87eaacaa1459e2cc970e2[m
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Thu Mar 12 12:45:15 2015 +0000

    Update opens-install-inst.rst

[33mcommit 5e4c0c120135243b8bd87c237b260fc130636a3a[m
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Thu Mar 12 12:30:04 2015 +0000

    Update home.rst

[33mcommit feb9c017f765c2e3681959b3c872940506835c1a[m
Merge: 167ca102 bfc869bd
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Mar 12 11:49:00 2015 +0000

    Merge pull request #263 from Metaswitch/ed-harrison-patch-1
    
    Update arch-felix-and-acl.rst

[33mcommit bfc869bd88c2bd5acfe23f59aa648ee9ae8efcbc[m
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Thu Mar 12 11:36:00 2015 +0000

    Update arch-felix-and-acl.rst

[33mcommit 167ca10258f21283c494c9a73fc8cfe8413a327a[m
Merge: e9e677ed cf563f53
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Mar 12 11:23:53 2015 +0000

    Merge pull request #262 from Metaswitch/plugin-weakref
    
    Use a weakref to driver to break reference loops.

[33mcommit cf563f537d35edaa02cb9b5f4b3373a2dafaac51[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 10:38:09 2015 +0000

    Use a weakref to driver to break reference loops.

[33mcommit e9e677edc2caf56d1da71448b24ca0d2087713ba[m
Merge: 1070ea04 a253f1c1
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 10:28:27 2015 +0000

    Merge remote-tracking branch 'origin/issue255sync'
    
    Conflicts:
            calico/openstack/mech_calico.py

[33mcommit 4e0bb0687eda9d190abd013952ad9c3b7bb32ffc[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 12 08:29:28 2015 +0000

    Further IPv6 language tweaks.

[33mcommit cbaa676ae08410395585f8bf3dab7fc0009ce949[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 11 13:45:24 2015 -0700

    bringing the l3 paper over

[33mcommit 30f38749713ed955e316bbe5c6285015c8e253c9[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Wed Mar 11 13:45:03 2015 -0700

    minor edits to l3-interconnectFabric.rst

[33mcommit 7cacb28e1c0d656dd91b7c8f84648703101215ab[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 11 16:41:53 2015 +0000

    Initial docs review markups.

[33mcommit 1070ea0454b507da716ad90ab5cc19dc44e2b076[m
Merge: 53ba522a 8a7b205d
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 10 12:28:42 2015 +0000

    Merge pull request #258 from Metaswitch/plugin-transport-if-fix
    
    Neutron driver: provide correct DB context in add_port_gateways calls

[33mcommit 8a7b205d4650746af50189ee0518ee0e339afbc2[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 10 12:12:41 2015 +0000

    Neutron driver: provide correct DB context in add_port_gateways calls

[33mcommit 53ba522a8eba4bcff8426944ce07ca42370e4c07[m
Merge: f8192518 d16cda43
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 10 11:15:33 2015 +0000

    Merge pull request #251 from Metaswitch/plugin-transport-interface
    
    Refactor Neutron driver in preparation for etcd transport implementation

[33mcommit d16cda433c338a03a3af3369284875d2f84d2bf5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 10 10:59:48 2015 +0000

    Neutron driver: new dependency on python-six

[33mcommit 9c786adf4020fdc7c345330ec843313040c2a6e0[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Mar 9 13:41:02 2015 +0000

    Neutron driver: split classes into separate modules

[33mcommit 70341e30e5914bcc964d1501a44aa7924707ae6d[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 4 17:28:19 2015 +0000

    Neutron driver: separate OpenStack logic from transport implementation

[33mcommit f8192518c8830310abe3c6cd988cc2bf5575b119[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 10 10:39:56 2015 +0000

    Remove reference to old architecture doc.

[33mcommit a253f1c1ee82aa7a92c7f8367155f92c5d3068fe[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Mar 10 10:36:27 2015 +0000

    Don't finish mechanism driver / ACL Manager audit until the initial GROUPUPDATEs have been sent.
    
    ACL Manager needs to be able to detect audit failures and retry, which it can't do if the driver returns the GETGROUPS response immediately.

[33mcommit e5a62f2ce54080088e5a404f0ea15221ef5785e3[m
Merge: 35571efd 67302a56
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Mar 10 10:06:24 2015 +0000

    Merge pull request #252 from Metaswitch/ed-harrison-patch-1
    
    Delete arch-overview.rst

[33mcommit 67302a568fde37efffa8543a4312b8c25e3866dc[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 10 09:55:52 2015 +0000

    Remove the architecture overview link.

[33mcommit b4646152a9f7b55c596aec95270d6b5bd3bdf4ab[m
Author: Ed Harrison <ed.harrison@metaswitch.com>
Date:   Mon Mar 9 16:07:41 2015 +0000

    Delete arch-overview.rst

[33mcommit 8d0ab05b8dca17fdf9518260593accc2ecae5bb4[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 10 09:41:13 2015 +0000

    Add fuel-integration document.

[33mcommit 93dd4b5785a386d801cd49cc1bfdbd80091de7a9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 9 15:47:50 2015 +0000

    Cleanup IPv6 documentation.

[33mcommit 18c89db1664499823d48525fcd81ea2d76fa2f41[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 9 15:19:13 2015 +0000

    Restructure documentation slightly.

[33mcommit de87842314f34b21e6ca39e975a57b0290168e8b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 9 14:45:07 2015 +0000

    Give a header to 'connectivity in OpenStack'.

[33mcommit 35571efd69d157d2aa785225673a1460a38ec673[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 11:23:07 2015 -0700

    fixed an errant space

[33mcommit 6b0c29ad3a24622a3fc877e1fec031b38570d575[m
Merge: d2161d47 14ad2605
Author: Christopher LIJLENSTOLPE <github@cdl.asgaard.org>
Date:   Mon Mar 9 10:50:43 2015 -0700

    Merge pull request #254 from Metaswitch/cl3-l2-fabric
    
    Cl3 l2 fabric

[33mcommit 14ad26050492e669138626a34440a2089a58e3b8[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 10:46:10 2015 -0700

    changed from blog post to 'tech note'

[33mcommit 821dfc8b514ee71ce62eef0661196671a3e23635[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 10:27:15 2015 -0700

    cleaned up footnotes

[33mcommit dd617f99c627196984580d57a3ec6a626b0fb3d9[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 10:16:22 2015 -0700

    edit to figure

[33mcommit ab3c4f2c6d76e1013b25b2ade69d29dc6896958b[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 10:10:58 2015 -0700

    added pdf version of l2 diagram as well

[33mcommit 9e20a998b98b71e466fe1bd4aeee282c3fb77486[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 10:05:33 2015 -0700

    added architecture index

[33mcommit 578e8664010c8edf9779d416fe8cad722754c33f[m
Author: Christopher LILJENSTOLPE <cdl@asgaard.org>
Date:   Mon Mar 9 10:05:21 2015 -0700

    added l2 interconnect and changed some indexes

[33mcommit d2161d477c36a4759b015d5e7016841fab831daf[m[33m ([m[1;33mtag: 0.13[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Mar 6 18:30:28 2015 +0000

    Calico version 0.13

[33mcommit d97487f4fa73ee57e92dee40c935ec59103cb5fc[m
Merge: d4aafe77 537debad
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Mar 6 17:32:29 2015 +0000

    Merge pull request #247 from Metaswitch/diags_script
    
    Update diags script

[33mcommit 537debad125027e90405ae403a4229001484b3fe[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 6 17:27:41 2015 +0000

    Diags script tidying.

[33mcommit 199e6803d74d41d6d895ccb07cf3f378797c9066[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Mar 6 17:19:10 2015 +0000

    Install diagnostics script as /usr/bin/calico-diags

[33mcommit 3b7e1d3db448a3297012a064cd4538231869bb17[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Mar 6 17:14:21 2015 +0000

    Update diagnostics script

[33mcommit d4aafe7740e6995c65df886ff8ef41a6f7987bd1[m
Merge: d7b72de0 6e5fecc8
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Mar 6 17:05:02 2015 +0000

    Merge pull request #246 from Metaswitch/docs
    
    Indices and tables never work.

[33mcommit 6e5fecc8edf6d23626274ade414d06f3422b3d70[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 6 17:02:44 2015 +0000

    Indices and tables never work.

[33mcommit d7b72de051e70045bcba37fc8a296638e6821f8a[m
Merge: 53327611 3dda5bf2
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Mar 6 16:52:46 2015 +0000

    Merge pull request #245 from Metaswitch/docs
    
    Docs

[33mcommit 3dda5bf2d7bd0562bad5515c117ea3179733bf4b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 6 16:51:52 2015 +0000

    Remove documentation build directory.

[33mcommit e1a3370d884439fa70ccb0264ef66aed2afbb293[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 6 16:49:35 2015 +0000

    Use accurate version number in docs.

[33mcommit 40dbd0e41c91f43f8d33f8b7d165e3cf299f7956[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 6 16:48:45 2015 +0000

    Initial documentation commit.

[33mcommit 53327611b17b54c8bd7e8fddc2a40787624cd068[m
Merge: 4fa482d8 c34bf23f
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Mar 6 11:59:05 2015 +0000

    Merge pull request #243 from Metaswitch/rulelist
    
    Convert Rule parameters to a list of tuples.

[33mcommit 4fa482d81494a54837517f65927e3fca3142d34e[m
Merge: 16b4755e fda27f9e
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Mar 6 10:54:11 2015 +0000

    Merge pull request #244 from Metaswitch/wait
    
    Remove --wait flag from iptables.

[33mcommit fda27f9e788c07454d7f9f717b446b952d02a7c9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Mar 6 10:08:05 2015 +0000

    Remove --wait flag from iptables.

[33mcommit c34bf23fa59c25bbab0b42863587076d8ee58d56[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 18:01:27 2015 +0000

    Change rule ordering.

[33mcommit 9b49057e724fb2937b8172c873fe41cc9c9cdee7[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 17:47:20 2015 +0000

    Convert Rule parameters to a list of tuples.

[33mcommit 16b4755ed0e54e23dbd0f425b9afdc26cc818c9f[m
Merge: 29a368ad 93d7258a
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Mar 5 18:05:53 2015 +0000

    Merge pull request #240 from Metaswitch/unittestflaky
    
    Handle flaky ACL tests by overriding assertDictEqual.

[33mcommit 29a368adc58ef9f20fd5439c3efae526b3149638[m
Merge: bbbd7bd2 fb272a21
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Mar 5 18:04:43 2015 +0000

    Merge pull request #241 from Metaswitch/py26testfixes
    
    Fix unit tests on Python 2.6

[33mcommit fb272a2100d51fc19b882d6211287a65d060c4a1[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 17:23:45 2015 +0000

    Fix unit tests on Python 2.6

[33mcommit bbbd7bd298d27a8ea299bb11158f083b0f6f016d[m
Merge: 2eb09ceb afc43838
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 17:14:45 2015 +0000

    Merge branch 'spikecurtis-felix-ndp-proxy-gw'

[33mcommit afc43838b4b3949d22398a9f84a4127fd8ba3682[m
Merge: 2eb09ceb fca3a195
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 17:14:16 2015 +0000

    Merge branch 'felix-ndp-proxy-gw' of https://github.com/spikecurtis/calico into spikecurtis-felix-ndp-proxy-gw
    
    Conflicts:
            calico/felix/felix.py

[33mcommit 2eb09cebcf51c426c09194371116cc6cb25cd9ff[m
Merge: 6f74d864 c010aed0
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Mar 5 16:27:19 2015 +0000

    Merge pull request #222 from Metaswitch/rhel_service_restarts
    
    Restart Felix and ACL Manager on RHEL

[33mcommit 93d7258ad22590bcbde4b00b997ea040eca63f1c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 15:43:40 2015 +0000

    Cleanup return val and ensure reverse comparison.

[33mcommit c010aed093dc90986a2892a97608d56bbb8b9b7d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Mar 5 15:00:02 2015 +0000

    Temporarily enable output from install hook systemctl enable calls

[33mcommit 0922ed1bbd674706c49d57eee7f6ea430cf10b1e[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Mar 5 14:58:34 2015 +0000

    Add missing python-argparse requirement and suppress superfluous warning

[33mcommit 4a9d870827a62dac2bb6ca4b32dd48538976b1fc[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 12:19:04 2015 +0000

    Handle flaky ACL tests by overriding DictEqual.

[33mcommit 6f74d86403825f06cf9519c249041ca5b8f2072a[m
Merge: a8d4701d 8c8096f0
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Mar 5 11:45:32 2015 +0000

    Merge pull request #239 from Metaswitch/typelogs
    
    Improve a few logs to include IPv4/6 type

[33mcommit 9037cd84d9e212a20ec9cb44f1895b023cc3d687[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 11:37:05 2015 +0000

    Whitelist PyPy tests.

[33mcommit 8c8096f048888037e5fb99075b3fbeede59a4bff[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Mar 5 11:33:37 2015 +0000

    Improve a few logs to include IPv4/6 type

[33mcommit dd6694136b3ee039dbd0d1c928274b4e2f93c43c[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 11:27:18 2015 +0000

    Add PyPy support to tox.

[33mcommit 1d5f1489c386df184124792e82f8627b0a231252[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Mar 5 11:22:19 2015 +0000

    Don't mock out all of time.

[33mcommit fca3a195b8961e2f00f8e8a3284b255a2840769a[m
Author: Spike Curtis <spike.curtis@metaswitch.com>
Date:   Wed Mar 4 15:57:25 2015 -0800

    Collect exceptions, fix typos, bug fix

[33mcommit a8d4701d971ebe4d12ead2aa8e2b4923611feed0[m
Merge: cb81bbd7 db7aacf1
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Mar 4 17:16:52 2015 +0000

    Merge pull request #236 from Metaswitch/tox
    
    If tox fails, so should run-unit-test.sh

[33mcommit db7aacf11b97361f214e79bbb6cd193cba2a7e65[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 16:34:35 2015 +0000

    If tox fails, so should run-unit-test.sh

[33mcommit cb81bbd7e105c137e47917786ad52373c3763155[m
Merge: cbbed47e 8a10c710
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Mar 4 16:19:17 2015 +0000

    Merge pull request #235 from Metaswitch/tox
    
    Use tox to support testing on Python 2.6 as well as 2.7.

[33mcommit 8a10c710ce6f3a4665065154795702ccc62ae759[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 16:09:53 2015 +0000

    Update run-unit-test.sh to use tox.

[33mcommit 3157daabd1458977d6a2c0b31b8b5c5dc7334cf7[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 16:02:58 2015 +0000

    Various small tweaks for code review.

[33mcommit 6ccd64de6115e5604c244f94a92deb2c543d2163[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 15:16:52 2015 +0000

    Exception.message is deprecated.

[33mcommit 495cc8a3d88e28ecabfc621acad460a32fcf9b23[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 15:04:40 2015 +0000

    Enable deepcopy of weakrefs in stub_fiptables.

[33mcommit c72c41ee3c6163e045bb4a92d7393003e63c5879[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 14:20:19 2015 +0000

    Add module dependencies for testing Python 2.6

[33mcommit 85472dd8319e3843a1e11596916a6c4a70ce198d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Mar 4 13:53:17 2015 +0000

    Use upstart jobs for EL6 and remove deprecated SysVinit scripts

[33mcommit b39ba5e58f3cc6244e3610eb94839b01a5accaf2[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Mar 4 12:16:43 2015 +0000

    Use tox to support testing on Python 2.6.

[33mcommit cbbed47ed61a21d076bbaa71b94af07cfa788404[m
Merge: 2780d7d4 671e66b2
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Mar 4 12:09:01 2015 +0000

    Merge pull request #232 from Metaswitch/plugin-ut
    
    Neutron driver UT - further testing, increasing coverage to 85%; also one fix for issue #224

[33mcommit 671e66b28fddb9893803eca1dda75bae7b23aeb7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Mar 4 10:46:19 2015 +0000

    Neutron driver UT: implement test_connectivity_blips

[33mcommit 8e68f213ef69051b9845286137e7d99499ef179f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 3 16:21:01 2015 +0000

    Neutron driver UT: if poll ended by msg arriving, remove it from set of sleepers

[33mcommit 6b9b0ba14b4dc2a48c7c3dffb262ad9719f11b27[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 22:08:49 2015 +0000

    Neutron driver: allow stale Felix heartbeat threads to die (fixes #224)

[33mcommit 2d863cd4587bf690a59d2c9d5315e924f6ea3c81[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 21:49:52 2015 +0000

    Neutron driver UT: test for GitHub issue #224

[33mcommit 7d182fdadb86041a13ddfb8129ab4144c280b62c[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 18:31:49 2015 +0000

    Neutron driver UT: tell coverage that we are using eventlet

[33mcommit 7af5eca1561ec92b83df8e4dadde872ca4adf988[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 18:31:14 2015 +0000

    Neutron driver UT: run much faster

[33mcommit 868f9c9d239e24acfa036b34d53c0057c55bdf6f[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 17:29:33 2015 +0000

    Neutron driver UT: implement sg_rule_update

[33mcommit e3a292581acababa633973dbc6c71cd2ae089b82[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 17:29:08 2015 +0000

    Neutron driver UT: see big assertion diffs, if they occur

[33mcommit 796a27696db260bb64f29127e4a81c33f21dc90d[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 17:28:45 2015 +0000

    Neutron driver UT: exercise the notifier's general attribute proxying

[33mcommit ba1c9b08f190f4c84f049507bc823b9c166b8600[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 16:59:28 2015 +0000

    Neutron driver UT: implement endpoint_deletion

[33mcommit 03d588f4f1adf703cf28ba811cfb65633fa36f03[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 16:49:55 2015 +0000

    Neutron driver UT: cover check_segment_for_agent for an unhandled port type

[33mcommit b2fd0dea7bd12214df453de559788182a9899dad[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 16:49:18 2015 +0000

    Neutron driver UT: implement endpoint_update

[33mcommit a7f57c0050a72fc1203798d11409aa220d4a7c7f[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Mon Mar 2 15:47:04 2015 +0000

    Neutron driver UT: implement acl_connect and call_noop_entry_points

[33mcommit 2780d7d4cba91ccf69bc91767ea74460296ffadf[m
Merge: 30db8c53 107d12e6
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Mar 3 09:23:43 2015 +0000

    Merge pull request #231 from Metaswitch/prerelease-coverage
    
    Install at least v4.0a5 of coverage.

[33mcommit 107d12e6144b15690c3e07aac0dbcd739beaefef[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Mar 3 09:15:45 2015 +0000

    Install at least v4.0a5 of coverage.

[33mcommit 61344215735cf588690144a94db6c34348bc77d7[m
Author: Spike Curtis <spike.curtis@metaswitch.com>
Date:   Mon Mar 2 07:01:04 2015 -0800

    Felix programs proxy NDP

[33mcommit 30db8c5340529f812aece0f411612820129b8ea2[m
Merge: 18e006e1 ac0d3029
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Mar 2 16:41:28 2015 +0000

    Merge pull request #228 from Metaswitch/metadataport
    
    Use default metadata port 8775.

[33mcommit 18e006e13646e38d6a56e0785219312f3144fd72[m
Merge: b5d58c0e 9aadc0cb
Author: Spike Curtis <spike.curtis@metaswitch.com>
Date:   Mon Mar 2 08:40:07 2015 -0800

    Merge pull request #226 from Metaswitch/plugin-ut-catch-exception
    
    Neutron driver UT: catch FelixUnavailable exception, when it is expected

[33mcommit ac0d302955ea6623404c45b60dc27c77cc8ac7a9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 2 16:37:45 2015 +0000

    Clearer metadata config comment.

[33mcommit 41883250ee24cf683ade69bb68ccfdf7452acc79[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Mar 2 15:05:29 2015 +0000

    Use default metadata port 8775.

[33mcommit 9aadc0cbba74a9436199b10007860df813c21181[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 26 11:48:39 2015 +0000

    Neutron driver UT: catch FelixUnavailable exception, when it is expected

[33mcommit b5d58c0e9bad5fd3bfa81fc6ff5633dd40265622[m
Merge: 4238155a 7e8d82f7
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 26 11:36:24 2015 +0000

    Merge pull request #225 from Metaswitch/plugin-unbox
    
    Neutron driver: convert all boxed comments to normal open source style

[33mcommit 7e8d82f7eef9be781b1e05fa0d21e6986081ceb8[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 26 11:34:28 2015 +0000

    Indentation fix

[33mcommit 858791c69f25913b312ce777431ac4cc92f54864[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 26 11:29:54 2015 +0000

    Don't check .dir-locals.el into the repository; keep it locally instead

[33mcommit e2e54afc87f797918adb49691833d0cdefdffdf7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 26 11:09:57 2015 +0000

    Neutron driver: conform to PEP8

[33mcommit a2210e2ff8363b91f48ebf6cddf891b6ea7bc637[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 26 10:55:36 2015 +0000

    Neutron driver: convert all boxed comments to normal open source style

[33mcommit 4238155a5c8b65a0bc26736b9ac50aa5fad89753[m
Merge: 665b1b76 641eca33
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Feb 26 10:45:35 2015 +0000

    Merge pull request #223 from Metaswitch/issue207ports
    
    Do not use port 0 to mean all ports

[33mcommit 641eca3369721cc4a86656e1d2b9646fbfecd415[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Feb 25 09:34:30 2015 +0000

    Do not use port 0 to mean all ports
    Actually, this is valid and required for some protocols, but not tcp, sctp,
    udp or udplite where the only way to specify a port of "any" is to give an
    explicit port range.

[33mcommit f2f5098df0e32c71149a3bf68e25ad3fc41cfedb[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Feb 25 16:39:37 2015 +0000

    Add new systemd services for RHEL7

[33mcommit 665b1b76efa763864aa6ddfde4c597b70c6e1e67[m
Merge: 070edc24 a4edaada
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Feb 25 14:31:07 2015 +0000

    Merge pull request #220 from Metaswitch/fix_rhel6
    
    Fix RHEL6.5 builds

[33mcommit 070edc24c23926f93c8a6e231b36b01790fe2090[m
Merge: 8885fd67 07ceb460
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Feb 25 14:29:36 2015 +0000

    Merge pull request #221 from Metaswitch/lr2_ip6neigh
    
    Added ip -6 neigh to diags script

[33mcommit 8885fd67a80aab3739fa9a84a08f57a2b2eb1ccb[m
Merge: afc3b5a1 cac3f07d
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Feb 25 14:10:03 2015 +0000

    Merge pull request #219 from Metaswitch/issue168ip
    
    Improve handling of invalid IP addresses

[33mcommit a4edaadaac4bf990b10ec00bac4bd482141529a3[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Feb 25 14:05:30 2015 +0000

    Remove some python 2.7 features and fix RHEL6.5 build spec

[33mcommit 07ceb46030188964577440405df5a5cd19d6356b[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Wed Feb 25 11:52:24 2015 +0000

    Added ip -6 neigh to diags script

[33mcommit cac3f07d3f6c55363281d8301dd83e17ba046bbe[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 24 17:29:29 2015 +0000

    Improve IP address testing

[33mcommit afc3b5a1aefefba1ad55034ce34266a7ac275edc[m
Merge: d477cb53 933f4b71
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Feb 24 15:59:39 2015 +0000

    Merge pull request #217 from Metaswitch/issue203args
    
    Change iptables to use long arguments

[33mcommit d477cb534fe934ab3b332f93ea5841e5f50e6c4d[m
Merge: 63600048 a15dc814
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Tue Feb 24 15:55:59 2015 +0000

    Merge pull request #201 from Metaswitch/issue61interface
    
    Make interface name configurable

[33mcommit 933f4b71a8db7932a559e413e0a0acfdebd797be[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 24 15:30:15 2015 +0000

    Change iptables to use long arguments

[33mcommit a15dc814ad50c9a39c440c9425ca9e956fd48ca5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 23 09:24:00 2015 +0000

    Remove configuration of interface name parameters

[33mcommit 5c667063e4e22972eae7786a42391b041a1e3552[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Feb 18 09:15:41 2015 +0000

    Make interface name configurable

[33mcommit 636000488305bf3439dd5c46bb2c7e09c53b6331[m
Merge: a56f16fa 7ac9bfcd
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Feb 24 13:09:42 2015 +0000

    Merge pull request #216 from Metaswitch/python26-compatibility
    
    Remove some more python 2.7 dependencies

[33mcommit 7ac9bfcdabb5954e67e6580b22ffee04e4d40bd4[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Feb 20 18:25:43 2015 +0000

    Remove some more python 2.7 dependencies

[33mcommit a56f16fa87cbb428dfe9c663268b5fc603519ff8[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Feb 23 16:51:45 2015 +0000

    run-unit-test.sh: Do 'coverage html' step, as it's quick and useful for developers

[33mcommit cc506bc05f728ab54b5643cbe0ded121938725e6[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Feb 23 16:49:44 2015 +0000

    run-unit-test.sh: Do 'coverage html' step, as it's quick and useful for developers

[33mcommit 4cd7f8eb2ed6be5afef9e0ee4e0921d810a05fcf[m
Merge: 4f086923 e3b0696e
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Feb 23 16:46:44 2015 +0000

    Merge pull request #215 from Metaswitch/aclinit
    
    ACL Manager should time out start of day processing.

[33mcommit e3b0696e045e220920bbe69e3e5e15f87c2b638b[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Feb 23 16:45:49 2015 +0000

    Downgrade error to warning log.

[33mcommit b08a492b617f80195f7d70dd9f579497e6b30937[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Feb 23 16:42:50 2015 +0000

    Widen the scope of the retry loop.

[33mcommit 7b1dc80e4623fc656020ac329a266a63f00996a3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Mon Feb 23 16:34:03 2015 +0000

    ACL Manager should time out start of day processing.

[33mcommit 4f086923bbc537357b5320f0da170ea496191f67[m
Merge: 3c0fae8c 1a637cd8
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 23 15:55:58 2015 +0000

    Merge pull request #211 from Metaswitch/plugin-connectivity-improvements
    
    Plugin connectivity improvements

[33mcommit 1a637cd8fc981097d3e6cd1200a75a88cf7d51b5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Feb 23 15:46:08 2015 +0000

    Neutron driver: Clarify what heartbeat thread does when no HEARTBEAT response

[33mcommit 5252d2dad698813893d91858fb2da056fcfe558b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Sat Feb 21 16:37:01 2015 +0000

    Neutron driver: relate notifier proxy to the current CalicoMechanismDriver instance

[33mcommit 2b9db87747b8a2580431de840e66358febc4b6bf[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 20 14:48:19 2015 +0000

    Neutron driver UT: test Felix not sending ENDPOINTCREATED response

[33mcommit c49cf9c5bb3bd234a354bc99e7496981671718c6[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 19:39:44 2015 +0000

    Neutron driver UT: test new endpoint processing

[33mcommit 47d2a7f4ed3c8b1da8874a080ed723a54a35254e[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 17:07:03 2015 +0000

    Neutron driver UT: test Felix not sending HEARTBEAT response

[33mcommit 859838560373ece2cc245ba6b17c1b8789a04237[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 15:39:43 2015 +0000

    Neutron driver UT: add structure to help code reuse in variation tests

[33mcommit a9a8f7a3ec6eb37b8f9f12c4d5ce0c6c1d93e702[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 15:21:07 2015 +0000

    mech_calico: Log more clearly if Felix fails to respond to ENDPOINT* or HEARTBEAT

[33mcommit 3c0fae8c3b0d43ca80bae961dde8492289f62df9[m
Merge: b2680edd db3e8dab
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Feb 20 08:24:39 2015 +0000

    Merge pull request #209 from Metaswitch/python26-compatibility
    
    Remove python 2.7 only features so we work on python 2.6 again.

[33mcommit db3e8dab212e1ec6fb89801161e489e3bb5daf7b[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Feb 19 19:24:48 2015 +0000

    Remove python 2.7 only features

[33mcommit b2680edd1a5caf45a6de25a5b9342a9920262986[m
Merge: 09121b05 623b76d3
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Thu Feb 19 14:42:49 2015 +0000

    Merge pull request #202 from Metaswitch/pipdep
    
    We no longer need pip.

[33mcommit 623b76d3248fea3565dc198a0ffaa040f3d3c736[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Feb 19 08:47:29 2015 +0000

    We no longer need pip.

[33mcommit 09121b05530fdfc308dc99b031f25f7860de8993[m
Merge: 1b696463 5f025c19
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Feb 18 12:51:24 2015 +0000

    Merge pull request #200 from Metaswitch/remove-python-iptables-reqs
    
    Remove build and install dependencies on python-iptables

[33mcommit 5f025c19666fff76202296f360552b87229381f3[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Feb 18 12:44:36 2015 +0000

    Remove build and install dependencies on python-iptables

[33mcommit 1b6964632b978e3bd5589f22a67c52a8439a212d[m
Merge: 55eb2f10 f893b830
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Feb 18 11:34:24 2015 +0000

    Merge pull request #193 from Metaswitch/iptablestoshell
    
    Remove python-iptables from Felix

[33mcommit f893b8300e8ffba4923ff39d5168ac7825631ffb[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Feb 18 11:09:38 2015 +0000

    Review markups

[33mcommit 3b86c692d72a24955634ba52a8fab98084477cf6[m
Merge: 5ff41644 55eb2f10
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 17 16:51:07 2015 +0000

    Merge branch 'master' into iptablestoshell
    
    Conflicts:
            calico/felix/felix.py

[33mcommit 5ff4164406b638dd6455d0b2899281b9b601bd91[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 17 13:37:52 2015 +0000

    Beef up testing of iptables code

[33mcommit f52e49d353abdfbab4c753d5982be1eb9dbcc9ef[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 16 14:08:43 2015 +0000

    Code review feedback

[33mcommit f1c13c5efe025ff80dcb047126fc1c6915a97a25[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Feb 12 15:39:40 2015 +0000

    Restructure to remember state

[33mcommit 55eb2f104fcf504281a17d2cb78e86e58ddb4a00[m
Merge: 2b7514c1 2d5e1510
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Feb 13 16:10:23 2015 +0000

    Merge pull request #191 from Metaswitch/plugin-migration
    
    Neutron driver support for live migration

[33mcommit 2b7514c18f08bb07451de74b583c543a2071b485[m[33m ([m[1;33mtag: 0.12.1[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Feb 13 16:01:42 2015 +0000

    Version 0.12.1

[33mcommit b87ff15aea4b13c6cecb53da78ae268fdd9bb09c[m
Merge: b982e6c7 4df1408a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Feb 13 13:18:11 2015 +0000

    Merge pull request #195 from Metaswitch/destroy-absent-endpoint
    
    Send ENDPOINTDESTROYED rsp even when endpoint is unknown (fixes #192)

[33mcommit 4df1408a7113ced684fccf24acc3e5e1d360db20[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 11:45:34 2015 +0000

    More robust exception handling in handle_endpoint{updated|destroyed}

[33mcommit ca5600cc209af6d8ee8f937c2bd2d378c1ea33b2[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 11:28:28 2015 +0000

    Send ENDPOINTDESTROYED rsp even when endpoint is unknown (fixes #192)

[33mcommit b982e6c79af8bb979c86bda6caddfee3bc4e7c77[m
Merge: 451ee30a be403ac3
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 10:55:13 2015 +0000

    Merge pull request #194 from Metaswitch/fix-line-endings
    
    Fix #182: Change Windows-style line endings to Unix-style

[33mcommit be403ac3cbd86095275a4bb73b16142fb2ddaced[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 10:48:48 2015 +0000

    Fix #182: Change Windows-style line endings to Unix-style

[33mcommit 451ee30a26561281e4b1224a5f96a812ffd49fb7[m
Merge: f7b9dacf 702f3b1f
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Feb 13 10:12:22 2015 +0000

    Merge pull request #183 from Metaswitch/smc-fix-ping-delay
    
    Fix delay seen on initial pings

[33mcommit f7b9dacfd0b0f69117d0344bbc448a2186766716[m
Merge: c7c800b6 38f084cf
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Feb 12 18:11:15 2015 +0000

    Merge pull request #169 from Metaswitch/plugin-binding
    
    Make the Neutron driver respect the Neutron config bind_host setting, for its IP address bindings

[33mcommit 35bb88a2c46c1c968b8d11a20805bdf435b5fea0[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Feb 11 10:32:37 2015 +0000

    Fix up tests

[33mcommit 260243b51d4c7b21bd70ad0fbaafb423c78a2aaf[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 9 17:19:59 2015 +0000

    Batch up most shell commands

[33mcommit a9f01cfc168c8c23c1edd8c8d8e8d89c4cde4156[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 9 16:39:02 2015 +0000

    Move all modifications to tables to same place

[33mcommit 3f15203cd878e276ea1a7d80a9f69c4833b1f588[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 9 16:05:35 2015 +0000

    Tidy up various TODO markers.

[33mcommit 41be2722a3c16f646bcc02418716f12825e07f2a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Feb 4 12:22:53 2015 +0000

    Remove python-iptables function

[33mcommit c7c800b6f0322294bbf776eda4c8ed0bdb1140fd[m
Merge: b7d547e1 a725fc4a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Feb 12 15:56:44 2015 +0000

    Merge pull request #179 from Metaswitch/issue176
    
    Fix up typo in felix.py

[33mcommit b7d547e16e2c627944c1c25e599a5ff1eeddc805[m
Merge: 9db04e3f caf97b1a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Feb 12 15:56:31 2015 +0000

    Merge pull request #189 from Metaswitch/issue184deletion
    
    Delete routes when endpoint destroyed

[33mcommit caf97b1a82f7e5f326a16f20fb07b4627ba13eb6[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Feb 12 12:24:58 2015 +0000

    Delete routes when endpoint destroyed

[33mcommit 38f084cf88f576d8cef43047d64b66ab1356d3f5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 11 16:26:32 2015 +0000

    Neutron driver UT: Improve time-related print statements

[33mcommit dd139bb7c90c61295744a7e726d74145692abc4e[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 11 16:24:29 2015 +0000

    Neutron driver UT: Capture stack before doing real sleep

[33mcommit 2f4f11e917ffc08b1f2478e0c3c394c1405264a2[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 11 16:22:27 2015 +0000

    Neutron driver UT: Improve appearance of logging lines

[33mcommit a10ce3992a26f3d11dab706499255bffbd417425[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 11 16:20:04 2015 +0000

    mech_calico: Use spawn instead of spawn_n, so that UT can clean up threads

[33mcommit 3c38fd750361da34f6c9f269c0edd19164bfe856[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Feb 9 12:58:17 2015 +0000

    UT for binding to a specific host

[33mcommit a0830adf5f9571fd79221eba0e8fa06079dc8cb3[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 4 12:33:30 2015 +0000

    mech_calico: Bind as directed by Neutron server's bind_host config

[33mcommit 55b8da7f7c55b91441db833bab55b61fb5cf67a4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Feb 11 16:21:46 2015 +0000

    run-unit-test: Don't keep coverage from previous UT runs

[33mcommit 8266e39b110f0df68b7854dba68d61ec3ee8c5d9[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 15:56:04 2015 +0000

    Print test case name when it starts

[33mcommit 812db7bb71d821f4c9b5a4854779d66ec2a0a030[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 15:39:07 2015 +0000

    Move sleep mocking up to class level, so that it only happens once

[33mcommit b78a21e2987b9194d11d910e66189deb912c57bf[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 14:47:59 2015 +0000

    Correct overall intro comment

[33mcommit 1f10fb70c6c7211e91973c185cb51db5de3c5efa[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 14:38:28 2015 +0000

    Add skeleton for the full plugin UT plan

[33mcommit 826800f7506e2ae9a5f0019600e200f4cb22dea6[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 13:55:11 2015 +0000

    Better doc and organization for setup code

[33mcommit d155e91433cc09ab416612719fd63d251dcfa3c0[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 13:33:13 2015 +0000

    Discard the stub version of zmq imported by previous unit tests (fix)

[33mcommit 2d5e1510a5a2496e4cc5f1f6a06011286409b816[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Feb 12 15:11:55 2015 +0000

    mech_calico: Handle updates that indicate port migration (as in Icehouse)

[33mcommit 92f967d010d0c1c2a2a34ea87af3d0ffb3d9b46e[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Tue Feb 3 21:05:05 2015 +0000

    mech_calico: Handle updates that indicate port migration (as of Juno)

[33mcommit 9db04e3f1836ad406e61c831af9ec4b531866cd5[m
Merge: 58e4cb7f 6a4fedee
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Feb 12 13:44:16 2015 +0000

    Merge pull request #171 from Metaswitch/issue109version
    
    Make Felix log its version ID.

[33mcommit 702f3b1fd160e89f6a6681078bb97048375c28b7[m
Author: Shaun Crampton <shaun.crampton@metaswitch.com>
Date:   Wed Feb 11 09:40:29 2015 -0800

    Fix #164: Disable proxy_delay on taps to avoid delayed proxy ARP response.

[33mcommit 58e4cb7f03b4f88b447f77cc15736752987823b5[m
Merge: 20c8988f f81e1501
Author: lwr20 <lancelot.robson@gmail.com>
Date:   Wed Feb 11 13:18:18 2015 +0000

    Merge pull request #170 from Metaswitch/issue147diags
    
    Various minor diags fixups.

[33mcommit 20c8988f9446a57e0186e7743aa5ece010439e69[m
Merge: 1aa1a231 e864f7d2
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Feb 10 15:36:24 2015 +0000

    Merge pull request #181 from Metaswitch/issue180route
    
    Use ip route replace instead of add

[33mcommit e864f7d27e99033dda628bf7c7725e6e8dd22a04[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 10 13:22:21 2015 +0000

    Use ip route replace instead of add
    Fixes timing window when route exists during live migration

[33mcommit a725fc4a740da64e8576efe0103a6666bf03fac4[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 10 11:02:34 2015 +0000

    Fix up typo in felix.py

[33mcommit 1aa1a23115ed8393b8db8fc4abb05f478ac86f41[m
Merge: aeed87f8 1180bc4d
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Feb 10 10:17:02 2015 +0000

    Merge pull request #173 from Metaswitch/issue172_fix
    
    ACL Manager fix: Suppress superfluous unsolicited ACLUPDATE messages when nothing has changed

[33mcommit 6a4fedee2d9535ba96714065bfc61ac3f18b6424[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 9 14:02:23 2015 +0000

    Make Felix and ACL Manager log the version ID.

[33mcommit 1180bc4d45ce2de7d7b64feb788fbf9bbf7b2ced[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Feb 9 16:25:43 2015 +0000

    ACL Manager fix: Suppress superfluous unsolicited ACLUPDATE messages when nothing has changed

[33mcommit f81e15019230fb3c3635a0433fe82546a14f8998[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 9 13:50:34 2015 +0000

    Various minor diags fixups.

[33mcommit aeed87f8884072dc8fae51e3cfa8404e8ed37c9a[m
Merge: 07062103 6d0a0e09
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Feb 3 10:12:43 2015 +0000

    Merge pull request #155 from Metaswitch/issue37refactor
    
    Issue37refactor

[33mcommit 6d0a0e096aa72eb87930ffb5cb60226ec1cd0ca0[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Feb 2 16:56:12 2015 +0000

    Various minor code markups.

[33mcommit a328b2adbc65e3d00ec86d07607938e70c210cf9[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 29 14:40:17 2015 +0000

    Tighten up resync testing, with bug fix.

[33mcommit ef08bbc1207ba5c7f0419a0dc38831c72f082d90[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 29 14:12:33 2015 +0000

    More timing tests, and fixing of resulting bugs.

[33mcommit cd84f1695d6d6bd361341e7c10bc2e94877042c4[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 29 13:44:16 2015 +0000

    Further testing and minor fixes.

[33mcommit fd4a78ca67ff67fb1c27bfee9dbf648df21448ff[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 28 16:57:56 2015 +0000

    Improve test coverage of fsocket to cover fixes.

[33mcommit 0148dd675d6cd96bf272d2a4c5ef4ea2e4fb9dd0[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 27 19:29:55 2015 +0000

    Fix restart failure on connection error (bug #97)

[33mcommit 293c39f6fb3682f95abc2c5d78c26963ac655f57[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 27 17:42:53 2015 +0000

    Fix issue #133 (lost resync when connection error)

[33mcommit a30b44acab9030cdc67782eaba74ef801124abbc[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 27 16:59:43 2015 +0000

    Initial refactor of fsocket.

[33mcommit 0706210383a86eb2a5ba2268c70610093aacd1e7[m
Merge: 2f1d9aac 699c0e0b
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jan 30 18:11:20 2015 +0000

    Merge pull request #158 from Metaswitch/contributing
    
    Add contributing guidelines.

[33mcommit 2f1d9aac06ee0773c3e4f1f9bc155c9362b180d5[m[33m ([m[1;33mtag: 0.11[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 30 16:23:28 2015 +0000

    Version 0.11

[33mcommit 699c0e0b616bdf1a56a4228c42a1897063aafbaa[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 30 09:02:06 2015 +0000

    Add contributing guidelines.

[33mcommit 1e06d2a948c652af21016f68c917b029260bb21e[m
Merge: ea12ff88 6d2c4b7b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 30 15:43:54 2015 +0000

    Merge pull request #159 from Metaswitch/acl_mgr_clean_exits
    
    Ensure ACL Manager exits cleanly with a log when worker threads crash

[33mcommit ea12ff887a0ad0e3d4aa9facb87c8829e8d29e3d[m
Merge: dbf3c9ba 0ba1cb88
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 30 15:34:07 2015 +0000

    Merge pull request #154 from Metaswitch/plugin-ut
    
    Plugin UT: checkpoint for first review and check in

[33mcommit 6d2c4b7b0533d8a5b343110a89555aea18412962[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 30 15:20:00 2015 +0000

    ACL Manager breaks silently when publisher or subscriber subcomponents crash

[33mcommit dbf3c9ba087078b249dd872359778de64626ca66[m
Merge: 46317a76 6e5c93d5
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 30 13:36:37 2015 +0000

    Merge pull request #157 from alexaltair/aa1-readme-test
    
    Add UT instructions to README.

[33mcommit 0ba1cb88bedc8e25f9842ad5d7c433fd70fb2070[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 12:21:37 2015 +0000

    Discard the stub version of zmq imported by previous unit tests

[33mcommit f1d6f8abd21974fef6f7b92442b0ba2c3f82961d[m
Author: Neil Jerram <neil@ossau.homelinux.net>
Date:   Fri Jan 30 11:33:40 2015 +0000

    Markups from first review

[33mcommit d4f966797d0b54eb11603ec525261ca53d3d0c8d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 30 10:42:25 2015 +0000

    Ensure ACL Manager exits cleanly with a log when ACL store worker thread crashes

[33mcommit 46317a762164ffb9f081d7ac3f3b19f510cd4dd4[m
Merge: 9c581cf5 e435a125
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 30 08:25:27 2015 +0000

    Merge pull request #156 from Metaswitch/network_subscriber_crash
    
    ACL Manager stops listening for network updates silently when a rule ref...

[33mcommit 6e5c93d5216aec753be37445ff7d312b3bfc0472[m
Author: Alex Altair <Alex.Altair@metaswitch.com>
Date:   Thu Jan 29 16:26:48 2015 -0800

    Add UT instructions to README.

[33mcommit e435a125610787a68b66831117d401158dde1e2c[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Jan 29 20:19:37 2015 +0000

    ACL Manager stops listening for network updates silently when a rule references an empty security group
    
    This fixes the bug and adds a unit test case for it.  The symptom is that ACL Manager stops processing any new information from the mechanism driver (it will still respond to Felix with the information it held at the time of failure).

[33mcommit d3b6135c1f0a1db1bb9091aee724961cee1de56f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Jan 28 17:45:42 2015 +0000

    Plugin UT: checkpoint for first review and check in

[33mcommit 9c581cf58064d68ecac2dd66eb342e542e3739d3[m
Merge: cbd85e16 b46e9bd3
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jan 28 15:16:04 2015 +0000

    Merge pull request #124 from Metaswitch/cleanup
    
    General cleanups of ACL manager code.

[33mcommit b46e9bd381ddeba3a6e08b787a88437b4b09163e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jan 20 09:48:03 2015 +0000

    Remove all old-style class and trailing whitespace.

[33mcommit cbd85e16b7a7a018c64e062d7c719d5656663284[m
Merge: ceed860c fd7da827
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jan 28 15:08:43 2015 +0000

    Merge pull request #123 from Metaswitch/acl_manager_logs
    
    Hex-encode binary peer ID in logs.

[33mcommit ceed860cfe399b43ccd2c4f1bfa7aedbe9436d31[m
Merge: 4fb1518a 1bdcf534
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Wed Jan 28 15:07:57 2015 +0000

    Merge pull request #93 from Metaswitch/acl_manager_ut
    
    Acl manager ut

[33mcommit 4fb1518a67ecae6c9b6f063fca18b4a3f3b43388[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Jan 26 17:48:58 2015 +0000

    mech_calico: Fix incorrect comment

[33mcommit d9f1cb18fd705ecfa3c32eb04f14d0b289d555e1[m
Merge: 81283252 c9f1a196
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 23 13:34:49 2015 +0000

    Merge pull request #145 from Metaswitch/improve-heartbeat-logging
    
    mech_calico: Improve heartbeat logging

[33mcommit 1bdcf5343097f21b941fe9c58734c979e1a564cc[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 23 12:31:48 2015 +0000

    ACL Manager fix: Support multiple security groups on a single endpoint
    
    Previously ACL Manager wrote a warning log if an endpoint was in multiple security groups.  Now it aggregates the rules from all the groups, with the restrictions that identical rules are not deduplicated and that the defaults must all be deny.  Also add UTs to regress.

[33mcommit c9f1a1964ea93482637f6b3cdf57474349974caa[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 23 11:47:31 2015 +0000

    mech_calico: Improve heartbeat logging

[33mcommit 81283252059383f82bcebfd8e0212275d118856a[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 23 11:25:28 2015 +0000

    Version 0.10.3~rc3

[33mcommit 75d3592544153b71aa47579e7521641af634d824[m
Merge: 4381f3fa c858a46a
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 23 11:14:47 2015 +0000

    Merge remote-tracking branch 'origin/stable1'

[33mcommit 4381f3fa894c90815eefd142fdd2057756d0504c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 23 10:05:12 2015 +0000

    Debian packaging: correct installation of *.cfg.example files

[33mcommit 0afd4d8e89b8ada6835551cb3af5d77fd185e51e[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 23 10:03:20 2015 +0000

    RPM packaging: correct installation of *.cfg.example files

[33mcommit 1f52ef6832dfcdd327921b63e4483ab76ffd75c0[m
Merge: a8aa089e 4e832b8c
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 23 09:55:42 2015 +0000

    Merge pull request #138 from Metaswitch/require-configs
    
    Require explicit configuration before starting Felix or ACL Manager

[33mcommit 4e832b8cde6311b6c297c790d284b80a0a19db71[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 23 09:46:21 2015 +0000

    Print warning message if we don't start Felix or ACL Manager because of missing config

[33mcommit d211969bc86963be49988d7f7e814365b8e450e9[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 22 11:32:48 2015 +0000

    Require explicit configuration before starting Felix or ACL Manager

[33mcommit c858a46a00d5f0cea318aaa0dda94c21c67e8ca5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 22 11:02:26 2015 +0000

    Version 0.10.3~rc2

[33mcommit a8aa089e7db568b76656adae749d004a4d92bb8f[m
Merge: 6dbf3c3d bb493388
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 22 10:56:43 2015 +0000

    Merge pull request #136 from Metaswitch/stable1
    
    Stable1

[33mcommit bb493388ae88247f203933030f3488a801d416c1[m
Merge: f2009b1f 4b73e971
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 22 10:52:02 2015 +0000

    Merge pull request #135 from Metaswitch/issue133subscribe
    
    If we recreate the ACL SUB connection, resubscribe to everything.

[33mcommit 4b73e97168158c50170f240abaa8a357d3a59dc0[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 21 22:45:32 2015 +0000

    If we recreate the ACL SUB connection, resubscribe to everything.

[33mcommit 6dbf3c3d37288de9a6f1bedb092c1c71fcb0313b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Jan 21 17:26:11 2015 +0000

    Don't depend on Nova for 'tap' and 'port_filter' constants

[33mcommit fa288dba3aba6afee15984f0e31f43758206459c[m
Merge: 5f95b8c6 05a9bd07
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Jan 21 14:05:42 2015 +0000

    Merge pull request #128 from Metaswitch/routed-to-tap
    
    Change from VIF_TYPE_ROUTED to VIF_TYPE_TAP

[33mcommit 5f95b8c6a5494aea155cc283dd4c3e1b2bd0f359[m
Merge: f2009b1f 5b13f7e0
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Jan 21 14:05:02 2015 +0000

    Merge pull request #130 from Metaswitch/rhel7_fixes
    
    Rhel7 fixes

[33mcommit 5b13f7e08a66b8c5d1f448d108bc8f8fe7b93e6d[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Wed Jan 21 10:46:25 2015 +0000

    Code review markups

[33mcommit 88651e4639a563043e1085889cfa6d9155db4fcc[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Jan 20 17:07:59 2015 +0000

    Use correct config file path for BIRD on Red Hat systems

[33mcommit d80f194ab419c8103c1d7b30436f25e65a4b125a[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Jan 20 10:01:48 2015 +0000

    Update RHEL BIRD starting mechanism (it's now a packaged install, instead of a source build)

[33mcommit f2009b1fc713da6958b4d7da44d6886aab6c47e0[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Tue Jan 20 17:46:34 2015 +0000

    Version 0.10.3~rc1

[33mcommit 82c2f53f293bda70c9d71bd2d8d1523d12ec1834[m
Merge: e41acb6c 8fb25ae4
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jan 20 17:34:22 2015 +0000

    Merge pull request #129 from Metaswitch/issue121resync
    
    Ensure that felix handles resyncs with 0 endpoints

[33mcommit 05a9bd07da877868ba73424854a6d592bf5b2f37[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Jan 20 17:32:40 2015 +0000

    Get VIF_* constants from nova.network.model instead of neutron.extensions.portbindings
    
    So that we no longer need to add any VIF_* constants to Neutron

[33mcommit 8fb25ae42254ac965173e76dbb272d49926fab82[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 20 16:30:40 2015 +0000

    Ensure that felix handles resyncs with 0 endpoints

[33mcommit 8b453782d7f48224fa831236b2083f75e197d949[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Jan 20 15:03:01 2015 +0000

    Change from VIF_TYPE_ROUTED to VIF_TYPE_TAP

[33mcommit e41acb6c163d05599fec694f678a106e82fb957a[m
Merge: a1eda8f7 7e8d86c8
Author: lwr20 <lancelot.robson@gmail.com>
Date:   Tue Jan 20 14:11:05 2015 +0000

    Merge pull request #125 from Metaswitch/issue68diags
    
    Add initial diags collection file

[33mcommit 7e8d86c85acb18c2e5b23c95c314559856b41543[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 20 10:31:52 2015 +0000

    Add initial diags collection file

[33mcommit fd7da82710d2927ed64c02ebe2f289a776b2fdb6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jan 20 09:43:27 2015 +0000

    Hex-encode binary peer ID in logs.
    
    We shouldn't log out binary data into log files. Resolves #106.

[33mcommit a1eda8f7578473e6e262a2fe509e25f2336171fd[m
Merge: 6b0c9741 aa13af4f
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 19 15:43:10 2015 +0000

    Merge pull request #119 from Metaswitch/test
    
    Test interface_up and refactor route removal code.

[33mcommit aa13af4fa7d8336f174d069b03da01da2c085f3a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 17:17:30 2015 +0000

    Finish refactor of route add/remove code.

[33mcommit c7c7c3aaf466af37fb8e632b959b08ce34d143dc[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 17:14:56 2015 +0000

    Add initial tests for endpoint code.

[33mcommit 6f10e4dd1875161a95e79626e191388372d02a3a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 17:04:35 2015 +0000

    Unit tests for interface_up.

[33mcommit 6b0c9741463754667ea87e10cec6832c4e532d88[m
Merge: 91d001fc f055d173
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jan 16 16:20:31 2015 +0000

    Merge pull request #118 from Metaswitch/builds
    
    There are no more *.ini files to install.

[33mcommit f055d1734b93b97f0ead06b1cbbe02902643df4d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 16:15:54 2015 +0000

    There are no more *.ini files to install.

[33mcommit 91d001fc07f5e7cb26d9918bccba5fe9ec71a222[m
Merge: 61f8e598 59e92a81
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 16 15:57:36 2015 +0000

    Merge pull request #94 from Metaswitch/remove-old-calico-neutron-agent
    
    Delete old (pre-Felix) Calico agent

[33mcommit 61f8e598a53dc464fe63bd5cde806ec4594b0231[m[33m ([m[1;33mtag: 0.10.2[m[33m)[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 13:46:48 2015 +0000

    Version 0.10.2

[33mcommit 3c11195978aa1bdfb52e40d316be831d2d316dde[m
Merge: 704614f8 54f9112e
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 16 13:29:18 2015 +0000

    Merge pull request #107 from Metaswitch/version
    
    Bring python version number up to date.

[33mcommit 704614f8a655ac9bd8b8a19f5243d924381c77c8[m
Merge: edb81820 bb34fa05
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 16 12:05:12 2015 +0000

    Merge pull request #117 from Metaswitch/netlink_err
    
    Prevent Felix programming interfaces that are down

[33mcommit bb34fa059104e1f4c5ce5bf752b68127bb79d9d1[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 11:28:09 2015 +0000

    Prevent Felix programming interfaces that are down

[33mcommit 608b60e2fc65409769c85bb990566546102e49eb[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 16 11:40:42 2015 +0000

    Fix BIRD config file templates for RHEL7

[33mcommit edb8182074f9b2a60ce1fe434eff957a36e30da5[m
Merge: b29e65cb 6be3f59d
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Fri Jan 16 11:14:22 2015 +0000

    Merge pull request #115 from Metaswitch/string_formatting
    
    Remove trailing string cat characters.

[33mcommit 6be3f59d8930ae65507bdd7b388a227069849165[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jan 16 11:10:22 2015 +0000

    Remove trailing string cat characters.
    
    The '+' has lower precedence than the '%', which means that these lines
    cause TypeErrors.

[33mcommit b29e65cb774f22526908c4206e757a4f7187766d[m
Merge: 4e7abac1 a4064917
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 16 10:24:15 2015 +0000

    Merge pull request #114 from Metaswitch/issue111
    
    mech_calico: Send periodic heartbeat to ACL managers on 'networkheartbeat' subscription

[33mcommit a4064917efc433490d1fe91a29c663d89349418b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 16 10:20:24 2015 +0000

    mech_calico: Send heartbeats every 30 seconds, not every 10

[33mcommit 7bdb498f045cf8b72d6922cf1d0b539b085ec634[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 16 10:19:54 2015 +0000

    ACL Manager: Correct timeout on network API heartbeats and code review style markup

[33mcommit f852d57adb6ab6459f18ddb7be48f63140621ee0[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Jan 16 10:10:52 2015 +0000

    ACL Manager: exit if networkheartbeat timeout is exceeded

[33mcommit 5805a2bf125f68a1c1c043446a7c64f0f7934df9[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 16 09:33:52 2015 +0000

    mech_calico: Send periodic heartbeat to ACL managers on 'networkheartbeat' subscription

[33mcommit 4e7abac11a2a4ffab088aac7bc778ade9e552633[m
Merge: 67a74579 166c89d8
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jan 16 09:12:44 2015 +0000

    Merge pull request #112 from Metaswitch/connections
    
    Fix Felix keepalives

[33mcommit 166c89d8ab7f93635d43df056be327a33def69af[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 15 17:35:52 2015 +0000

    Call send_multipart correctly when responding to heartbeats

[33mcommit 67a74579c24af801df201f8bbc1efb3e35ef9083[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 15 17:29:04 2015 +0000

    Set CALICODEPS to none when doing Debian builds

[33mcommit b7c27cb7703bfdcf83a3e41e343bf86e1894ade5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 15 16:08:59 2015 +0000

    If a connection restarts, treat outstanding message as lost

[33mcommit b5bc355c355ec942bfff5effb5a3f9688f093325[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 15 14:37:09 2015 +0000

    Fix Felix keepalives

[33mcommit 54f9112e1c67636956159bd52e07107d36d4b1e6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jan 15 11:29:33 2015 +0000

    Bring python version number up to date.

[33mcommit f6623b9466c50da34a5b999f9e1642e5b593919f[m[33m ([m[1;33mtag: 0.10[m[33m)[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Thu Jan 15 11:00:22 2015 +0000

    Version 0.10

[33mcommit f50b8a9c4a7bf39706ece5f46b8b8b35c3c1ff0a[m
Merge: 133593e4 fbb22a78
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jan 14 17:48:26 2015 +0000

    Merge pull request #103 from Metaswitch/issue80accept
    
    Restructure rules so that DROP default still works.

[33mcommit 133593e461f69c859f11f3ce06101f8df92af0de[m
Merge: b83db963 c0a1f46b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jan 14 17:47:23 2015 +0000

    Merge pull request #105 from Metaswitch/issue95portrange
    
    Add support for port ranges

[33mcommit fbb22a78312187a35e901a6343e92258759d9e84[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 14 17:39:07 2015 +0000

    Split felix-MAIN into felix-INPUT and felix-FORWARD

[33mcommit c0a1f46bfa465439f3bec3ee6547f1aa475604d5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 14 13:30:17 2015 +0000

    Add support for port ranges
    Includes some extra tests to get better coverage of area changed.

[33mcommit 1e1cf9332b83e02aa6ac2b50815744c60d412a2b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 13 15:47:32 2015 +0000

    Restructure rules so that DROP default still works.

[33mcommit b83db9638cfe41c7008ebd976aa1548544d8493b[m
Merge: ad8fd262 ea0aa2b0
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jan 14 09:28:27 2015 +0000

    Merge pull request #102 from Metaswitch/issue99coverage
    
    Replace fix to remove coverage of test code.

[33mcommit ea0aa2b091fe25670d8c6a6e331ecc7dd48f0b91[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 14 09:22:21 2015 +0000

    Replace fix to remove coverage of test code.
    Has drive-by fix of two methods with same name in test code.

[33mcommit ad8fd262f1a622676f99e3fc311c4f51f039717b[m
Merge: c9fdac67 7c53ba08
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jan 14 09:11:47 2015 +0000

    Merge pull request #101 from Metaswitch/issue98term
    
    Do not hang in termination in zmq.

[33mcommit 7c53ba083d882324bd400431885f925a18880258[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 13 17:29:14 2015 +0000

    Do not hang in termination in zmq.

[33mcommit c9fdac670c3bff2eb0bfb438c293152d5a8ae2cc[m
Merge: ede05ecb 472576ef
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jan 14 08:56:51 2015 +0000

    Merge pull request #100 from Metaswitch/issue99test
    
    Turn off coverage for non-production test code.

[33mcommit 472576ef858e2993a73ebf26bf1f1634fa0e18c8[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 13 17:17:14 2015 +0000

    Turn off coverage for non-production test code.

[33mcommit ede05ecbe0ec83176f5757040e998c75c9b4f3ab[m
Merge: 04f044ad c40fdb50
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Jan 12 14:48:14 2015 +0000

    Merge pull request #59 from Metaswitch/issue36
    
    Remove unneeded dropping of DHCP packets.

[33mcommit c40fdb50d99cd180273a6b20456790431a9a5c37[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 7 11:26:50 2015 +0000

    Retire unneeded dropping of DHCP packets.

[33mcommit 04f044ad6920ea1f87e8104158607d519e14b443[m
Merge: 7d87232a 69dcc34a
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Jan 12 14:12:37 2015 +0000

    Merge pull request #96 from Metaswitch/issue35iptcversion
    
    Remove workaround for (now fixed) python-iptables bug.

[33mcommit 69dcc34a0f3ff192558dc91e337b0549af430c43[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 12 13:31:47 2015 +0000

    Improve last fix to avoid duplicate rules.

[33mcommit ce48b5710091ced90dc14dd9391aaef81e86e117[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 12 11:48:56 2015 +0000

    Remove workaround for (now fixed) python-iptables bug.

[33mcommit 59e92a8110e928614ec0b3c6d6d50c0163947abe[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Jan 9 15:08:04 2015 +0000

    Delete old (pre-Felix) Calico agent

[33mcommit 7d87232aec1da9d9cf708254e1c0e1ab833d0f5c[m
Merge: 6ec203ab dae3f14f
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Jan 8 18:13:15 2015 +0000

    Merge pull request #92 from Metaswitch/minor
    
    Various code tidies, including logging fixes

[33mcommit dae3f14ffe4ed332391d888d5803c8f469d1d4f7[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 8 17:16:15 2015 +0000

    Do not leak ipsets for endpoints which have been removed.

[33mcommit 6ec203abbb7f0269b5ac39da4705e8b1c15ef83a[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 8 16:20:37 2015 +0000

    Tell BIRD to run on "br-mgmt" interface, for setups migrated from OVS to Calico

[33mcommit 15d1dd136f1727bf5c9239df77624ec94ba5a091[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 8 15:41:22 2015 +0000

    Various code tidies, including logging fixes
    Fixes various logs, including some that had invalid parameters.
    Avoids using "id" where we mean "endpoint id suffix".

[33mcommit 83601b62bf7f3e227f08b61bfea796deea50140f[m
Merge: 3ecf5b63 655260b6
Author: lwr20 <lancelot.robson@gmail.com>
Date:   Thu Jan 8 14:38:54 2015 +0000

    Merge pull request #91 from Metaswitch/tmp
    
    Typo in config.py prevented logging to file!

[33mcommit 655260b6512cf4e77fc12b2fda7386cd443b01ec[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Jan 8 13:26:32 2015 +0000

    Fix dull log file problem.

[33mcommit 3ecf5b63b465d584803d5a2d9a0b8ef24d894a0c[m
Merge: 3a81fdc5 e23d3464
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Jan 8 10:59:15 2015 +0000

    Merge pull request #90 from Metaswitch/issue79spoterror
    
    Handle errors from failure to connect to Felix

[33mcommit e23d3464204bf258a4f619896e53183e29a999f8[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 7 16:20:07 2015 +0000

    Handle errors from failure to connect to Felix

[33mcommit 3a81fdc55ea2184998f2813c7f154845d961fc00[m
Merge: f53b27dd 5849bb75
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jan 7 17:12:02 2015 +0000

    Merge pull request #87 from Metaswitch/port80
    
    Fix up missing dst file in metadata rule (introduced by testing fixes).

[33mcommit 5849bb756b5c69ea1d1c517f5ec80bf862214061[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Jan 7 16:20:55 2015 +0000

    Fix up missing dst file in metadata rule (introduced by testing fixes).

[33mcommit f53b27dd40bd241f8156459990ae622a77595535[m
Merge: 4db1c1da 161a48d2
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jan 6 18:53:35 2015 +0000

    Merge pull request #86 from Metaswitch/cfg
    
    Fix incorrect spelling of LocalAddress in comments.

[33mcommit 161a48d23b91f8548fdfd5f1fc7e39072806076a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 16:06:21 2015 +0000

    Fix incorrect spelling of LocalAddress in comments.

[33mcommit 4db1c1da63789bf593f8610397c105cfad8c8dc8[m
Merge: 5e43e154 760ce1f0
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jan 6 15:48:17 2015 +0000

    Merge pull request #82 from Metaswitch/issue73host
    
    Resolve issue #73 (allow explicit specification of bind address)

[33mcommit 760ce1f06b869bfd91b28b4a7d16e2eb66ed37c3[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 15:43:06 2015 +0000

    Dull merge error resolved.

[33mcommit 7687117c866270c09ea625773b37035c4eae3109[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 12:13:51 2015 +0000

    Final review markups.

[33mcommit aedc260229c2f599058f266e33715b8915fd33a4[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 11:41:31 2015 +0000

    Review markups - allow hostnames as well as IP addresses.

[33mcommit f934dfb3328372130722068f524f8c4f1cf04b73[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 17:22:05 2015 +0000

    Add bind address to ACL manager.

[33mcommit 905868ab3ad9353027632645b34ddb154ba5bc4f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 17:16:12 2015 +0000

    Allow the IP address of Felix to be explicitly specified.

[33mcommit 5e43e154e18cc989d8fd4d404c9016ab848f954a[m
Merge: 7b409efd dbd299ed
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 15:11:51 2015 +0000

    Merge pull request #85 from Metaswitch/common_logging_config
    
    Made acl_manager logging config work like felix config

[33mcommit 7b409efde9d62d4d8de261798d58896e004b8474[m
Merge: 427504a8 ce5e4255
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jan 6 15:10:22 2015 +0000

    Merge pull request #84 from Metaswitch/issue77hostname
    
    Resolve issue #77 (allow Felix hostname to be explicitly set)

[33mcommit dbd299edcb1fd8299d36a756d23192af08497dfb[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Tue Jan 6 14:55:18 2015 +0000

    Made acl_manager logging config work like felix config

[33mcommit ce5e425581d7f2751e2e79d7dee02649bdfa47f3[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 14:53:50 2015 +0000

    Allow explicit configuration of Felix hostname.

[33mcommit 1e486c4aca1eea2b3d34c4fc77fda12d11279e49[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 14:53:27 2015 +0000

    Fix unit tests running on Windows, broken in earlier commit.

[33mcommit 427504a89a5cba9efa8b8b418308243c7ee63774[m
Merge: b2836f4a 571991c5
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jan 6 14:12:56 2015 +0000

    Merge branch 'syslog'

[33mcommit 571991c5c914613b494bb3da652548be5b89dc68[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Jan 6 14:12:41 2015 +0000

    Tidy up whitespace.

[33mcommit 44a99a9a6a343b3b2093d6e976ba5e02c0d8036e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 16:53:27 2015 +0000

    Set up syslog better - so works on ubuntu.

[33mcommit 62d2d38e0b43b978528f3c14d393f04fab488d59[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Sat Dec 20 12:42:36 2014 +0000

    Log out daemon name to syslog.

[33mcommit b2836f4aac4fe4dd152bd398380c68795ad2b238[m
Merge: 5e426c22 28550337
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Jan 6 13:25:13 2015 +0000

    Merge pull request #64 from Metaswitch/requirements
    
    pip requirements files

[33mcommit 5e426c226e24986540ccbebf28d29e104c179101[m
Merge: be6d4aa0 37762a72
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jan 6 10:30:02 2015 +0000

    Merge pull request #69 from Metaswitch/testing
    
    Add unit tests for Felix

[33mcommit 37762a72e3dd432aa5c3bf0efdb83f205e53413e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Jan 6 10:06:54 2015 +0000

    Final review markup

[33mcommit be6d4aa082fd6c6c10b4bac9a3b17fc3fc3e587a[m
Merge: 8de65c33 b56bfe51
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 16:48:09 2015 +0000

    Merge pull request #81 from Metaswitch/turn_off_logs
    
    Allow loggers to be turned off

[33mcommit b56bfe51ad0e41c35b2be62048f7f91603c8c157[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Jan 5 15:04:53 2015 +0000

    Clarified what NONE log-level means

[33mcommit ee9dd76be538cf8f1fbe5eecdce36b41d6188eb6[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 14:42:53 2015 +0000

    More review markups.

[33mcommit 8d03c8306095125c6873ae2729dbc3c07b5b4693[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 14:29:23 2015 +0000

    Various code review markups.

[33mcommit b740d464a45dbabae962ad83f5bdbe28f34c9f9a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Sat Dec 20 12:18:05 2014 +0000

    Felix now exits with non-zero status code on error.

[33mcommit 96228d4aa82b64b85687ae12cbcd252f2f2d9dae[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Dec 18 10:18:12 2014 +0000

    Remove python-dev dependency

[33mcommit d03095cd5658c8971f2bee13648a5bf4e65417f9[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Dec 15 18:32:38 2014 +0000

    Version 0.9

[33mcommit e3284e8bd674d1aff43ba5168bace3526d033abd[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Dec 12 15:35:33 2014 +0000

    Version 0.9~rc1

[33mcommit 249cbf334ba7bc33d70c192f2774a90da2d15e64[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 13:21:52 2014 +0000

    Ensure BIRD6 can make correct routing decisions.
    
    This is the same fix as 08c0741 for BIRD6. Weirdly, BIRD6 was missing
    default route filters. This didn't seem to cause a problem in the systems
    we've used, but it looks odd so I added a safety check for it anyway.

[33mcommit 45ebae32a83f24cbbd73405614310bc5b64e233f[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 13:20:04 2014 +0000

    Ensure BIRD gets all kernel routes in its table.
    
    If BIRD doesn't have the default route in its routing table it can get
    astonishingly confused about what routes are reachable. This change
    ensures that, rather than filtering the default route out when its
    imported from the kernel, we filter it out when exporting the route via
    BGP.
    
    This ensures that BIRD can make the correct decisions about routing,
    without confusing every other node.

[33mcommit 8f6b5f87f180795fae21b11ce69bfa8be2dac742[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Dec 10 14:09:21 2014 +0000

    Move CalicoMechanismDriver back here (i.e. out of Neutron tree)

[33mcommit 9b204b0184fd7ad01eba1983b2ea7366f88005d9[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Dec 10 11:54:43 2014 +0000

    Move CalicoMechanismDriver back here (i.e. out of Neutron tree)

[33mcommit cab9344070eafa3db7961ce58f4980f97d5149e9[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Jan 5 14:00:18 2015 +0000

    Broadened check of logfile
    
    to catch the empty string case

[33mcommit f9c0c8fbb2a4afe60c0c13f8659572a2dc0e5e42[m
Author: Lancelot Robson <lancelot.robson@metaswitch.com>
Date:   Mon Jan 5 13:34:59 2015 +0000

    Allow a new log level: NONE which disables that log handler.
    
    For issue #72.

[33mcommit 8de65c336f7ffcf805d0391ed290c8dfed9599ac[m
Merge: d935aca8 729fe278
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Jan 5 09:28:53 2015 +0000

    Merge pull request #74 from Metaswitch/retcode
    
    Felix error code.

[33mcommit 285503370c89c547e527e45da61b35f81a640ae3[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 25 09:10:06 2014 +0000

    Set minimum python-iptables version.

[33mcommit 729fe278a95678d58dd4ac45b3f0e34a3ecbc5bd[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Sat Dec 20 12:18:05 2014 +0000

    Felix now exits with non-zero status code on error.

[33mcommit d935aca8e5935d449c1d880b03cfb5befd3e0e3c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Dec 18 10:18:12 2014 +0000

    Remove python-dev dependency

[33mcommit 46de0b05e059a863c631d8a4faa35a20ac6e3b33[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 17:25:19 2014 +0000

    Turn coverage on by default, so not required on command line.

[33mcommit 9e6b130d99cc2cb9f8c24890006eadfdb895a268[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 16:18:18 2014 +0000

    Minor tweaks to try and get it ready for review.

[33mcommit 364fd9d5dfb81b05924b4f3bb6ac86afa63e0c35[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 16:06:33 2014 +0000

    Add tests that ipsets really do get set up.

[33mcommit e0dc8b3b46839f76fc0bbde1c657f31e278f1fc2[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 15:11:07 2014 +0000

    Refactor ipset management into its own module.

[33mcommit 13d8bcd5493163d2b0be91c8d4481c93accd6488[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 14:16:49 2014 +0000

    Refactor ipsets utility code for easier testing.

[33mcommit d6bb5b1cfc5cac1d582fc8fd0141ad18fab10b4d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 13:12:38 2014 +0000

    Document unit tests.

[33mcommit 9d9a3985c0e8a7957ed174fb309f159656d18c35[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 11:30:39 2014 +0000

    Various code tidies.

[33mcommit 928ee77676029e28647de3a4e55894e540694e44[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 17 09:35:40 2014 +0000

    Move truncate_rules from fiptables to frules to ease testing.

[33mcommit ef248ea1ec3c2a1fc48fe242ea7c5f487a8e39d9[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 21:29:13 2014 +0000

    Be consistent with assertEqual vs. assertEquals

[33mcommit a7cbe11e9688f7058b554484a80e39ec9ad20880[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 21:25:35 2014 +0000

    Rename finterface as device, which is just clearer

[33mcommit cf7c6b1ac87893ccf8f04eee8efd3c0a681bb595[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 21:17:50 2014 +0000

    Add testing explicitly of the futils module.

[33mcommit f0e9f88e5011b5a182515c9bc92088237590dad5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 16:20:34 2014 +0000

    More tweaks of mocking to allow better coverage for futils.

[33mcommit cdff7047a6affcd52f04dd0d538c93f05dd1fe97[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 16:16:33 2014 +0000

    Stop the Felix tests breaking the finterface tests.

[33mcommit 37f44f1163d5a7e487fce5521fcc98bc9d109df5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 15:40:08 2014 +0000

    More and more tests - 83% coverage now.

[33mcommit 0a92c5b30a1ee15c454b1612ae91df9d5e2070bd[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 14:58:06 2014 +0000

    Mysterious bug in frules that must have slipped through CI.

[33mcommit 61f9797be6349da3d747d1421de6d22498f2a6ba[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 12:51:48 2014 +0000

    Minor changes to felix to help with testing.
    Includes trivial bug fix catching invalid messages.

[33mcommit d0cccc34f1dc3040815ca3914dfc4737f28f0472[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 12:50:48 2014 +0000

    Add testing of finterface fixing up a poor log in the process.

[33mcommit 2694a2bcc9ad992de425e3df0a7ae861c6eea521[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 16 12:50:10 2014 +0000

    Add coveragerc so only pick up Felix coverage.

[33mcommit 161444bda265301c26cb46f7ab6101ca8bdd2fa9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Dec 16 09:29:02 2014 +0000

    Add eventlet dependency.

[33mcommit 5f70d1179bcf036f85e291b44e30186b4ff7d62a[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Tue Dec 16 09:27:38 2014 +0000

    Document virtual environments.

[33mcommit 9d648c806b96947d0c5bdde17e7ec2722c762fa6[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Mon Dec 15 18:32:38 2014 +0000

    Version 0.9

[33mcommit 58a7af9033e2224fe4983322d898862efae3be61[m
Author: Matt Dupre <matthew.dupre@metaswitch.com>
Date:   Fri Dec 12 15:35:33 2014 +0000

    Version 0.9~rc1

[33mcommit e63f3617affcc7dbc55a17d2d452d17ddb35d1db[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 19:31:08 2014 +0000

    Add plugin requirements.

[33mcommit 67c61166b27c07191cf70b1945442d4b104068c6[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 19:26:38 2014 +0000

    Explain the new requirements policies.

[33mcommit a5dfc32ed39d6b43af0a8cdf01b9112fd236ca9c[m
Merge: 8532a33d 48737438
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Dec 11 13:57:58 2014 +0000

    Merge pull request #65 from Metaswitch/birdconfig
    
    Update BIRD configuration.

[33mcommit 487374383ff38d9e49cd697c28148bc8d64596a9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 13:21:52 2014 +0000

    Ensure BIRD6 can make correct routing decisions.
    
    This is the same fix as 08c0741 for BIRD6. Weirdly, BIRD6 was missing
    default route filters. This didn't seem to cause a problem in the systems
    we've used, but it looks odd so I added a safety check for it anyway.

[33mcommit 08c07431e0d5fe9ad8049d3acce4886aba2357d8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 13:20:04 2014 +0000

    Ensure BIRD gets all kernel routes in its table.
    
    If BIRD doesn't have the default route in its routing table it can get
    astonishingly confused about what routes are reachable. This change
    ensures that, rather than filtering the default route out when its
    imported from the kernel, we filter it out when exporting the route via
    BGP.
    
    This ensures that BIRD can make the correct decisions about routing,
    without confusing every other node.

[33mcommit 3f251c9e7306988407bd43b4ea9ae0a1837fc8b8[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 08:48:01 2014 +0000

    Conditionally install extra dependencies.

[33mcommit 4f22253abd96da64fd3775db8c31e71884022238[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Dec 11 08:46:53 2014 +0000

    Add basic requirements files for Felix and ACL Mgr

[33mcommit 0fd98821bcd2f9d2203e1e332309a852d8a71645[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 10 15:03:59 2014 +0000

    First working mocked out tests that validate initial rules.

[33mcommit 8532a33d20b66d5397debb40addf910d1f52d50d[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Dec 10 14:09:21 2014 +0000

    Move CalicoMechanismDriver back here (i.e. out of Neutron tree)

[33mcommit 488dcd8a51d7c6a1a2f03789001c2139b16de85c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Dec 10 11:54:43 2014 +0000

    Move CalicoMechanismDriver back here (i.e. out of Neutron tree)

[33mcommit 3a6071688d4aa3d67a721fc1ae5a4c5ecf6753d8[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 10 10:16:28 2014 +0000

    More tweaks to test infrastructure.

[33mcommit 86fd9bf0a4b0c1cd776b714a4c1e59dff2835f89[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 9 19:05:54 2014 +0000

    Add some very simple test infrastructure stubbing out much function.

[33mcommit 427360c038677cdc97514cfd18027de78a72e994[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 9 16:00:32 2014 +0000

    Add very basic stub ZMQ module.

[33mcommit 5247f776e059d304808e0be5a38c902e889e841f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 16:31:35 2014 +0000

    Fix bad exception log.

[33mcommit c136eaaa6c09c1e020c67b3a373d8c5b5ea310c9[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 16:06:41 2014 +0000

    Add tests with fix for issue52.

[33mcommit 26df049b1bffc34a4aa7948b017831105397a9e6[m
Merge: e79f232b 81efd543
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Dec 10 10:33:41 2014 +0000

    Merge pull request #62 from Metaswitch/bugfix
    
    Fix incorrect function path causing Felix crash

[33mcommit 81efd5436d255f1c288b42de9d2982387eea1a02[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 10 10:29:20 2014 +0000

    Fix incorrect function path causing Felix crash

[33mcommit e79f232b2057272834ff2bed00511c2f4a3d7f09[m
Merge: c6396b0e 1e99e0a2
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 9 16:14:31 2014 +0000

    Merge pull request #57 from Metaswitch/logging
    
    Common logging code

[33mcommit 1e99e0a2bae55baad3a7e9bf220787985a28b9ab[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Dec 9 16:10:34 2014 +0000

    Fix import statements for logging.

[33mcommit c6396b0e13ecc7902cbb5ac054f9452c4e8b4629[m
Merge: e12de8c4 c0dad9aa
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Mon Dec 8 11:03:24 2014 -0800

    Merge pull request #60 from Metaswitch/issue52
    
    Issue52 - firewall input plugin and ACL addresses

[33mcommit c0dad9aa0aba9abece7539ae653978a782a5c99f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 17:25:35 2014 +0000

    Updated config code to firewall against invalid addresses.

[33mcommit 444576c597f234e585b56cb5ab766562eb7414b4[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 15:50:35 2014 +0000

    Firewall against bad plugin or ACL addresses

[33mcommit e12de8c4077496de683684402eab08ee7eff55e8[m
Merge: c16a0ceb b6e39938
Author: Matthew Dupre <matthewdupre@users.noreply.github.com>
Date:   Mon Dec 8 12:22:29 2014 +0000

    Merge pull request #58 from Metaswitch/issue56
    
    Improve resync handling code, resolving issue56

[33mcommit b6e39938003082e6d0c2de6ba650c977cc4bc39d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 12:18:25 2014 +0000

    Simplify the if test by removing extra duplicate test.

[33mcommit a595d4c19e08ad1f2af8871fba5cc37409121c5d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 12:03:02 2014 +0000

    Tidy up some confusing code relating to resync counts.

[33mcommit 100b477fdb9d7687fc0bc0a134fcf220a9c09fca[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 8 12:02:28 2014 +0000

    Force the resync count to be an integer.

[33mcommit 90b395f7a57b2ecb774eb7aa99a44c306c950e03[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Dec 5 13:16:49 2014 -0800

    Replace ACL manager logging with common code.

[33mcommit 4a7a0ce1967a6a34eb11362a10edb44ab9a4ae5d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Dec 5 13:13:29 2014 -0800

    Replace Felix logging with common log functions.

[33mcommit fd24718439cbce615db4caf609279ea21e248c12[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Dec 5 13:10:31 2014 -0800

    Add common logging setup functions.

[33mcommit c16a0cebbab0ba49e44d1ee77baebb78f5f96868[m
Merge: 78c9e02e c8b93125
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Dec 5 09:16:59 2014 -0800

    Merge pull request #50 from Metaswitch/tests
    
    Test code

[33mcommit c8b9312525f9522f71bf24c37e1daafbb408d8f0[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Dec 3 14:30:55 2014 +0000

    More minor code markups.

[33mcommit 78c9e02e299cedc70aa4a34af107498515c08794[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Dec 1 14:18:19 2014 +0000

    Don't include upstart jobs for Felix and ACL manage in calico-compute RPM

[33mcommit 680ab959b7904897f91086e6dc8ce69f612e0710[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Dec 1 13:59:23 2014 +0000

    RPM packaging fixes

[33mcommit aafc7590e2edc8820f8bcfc057d189090b935beb[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Dec 1 10:14:47 2014 +0000

    More code tidies (including a real bug).

[33mcommit 7aeef1127256342cc0a751e5a5dd5e652f1d4140[m
Merge: 5bfad2ce 669027af
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Nov 28 10:48:11 2014 +0000

    Merge pull request #53 from Metaswitch/version-pinning
    
    Pin Calico package versions to each other

[33mcommit 669027af3ebd24ec379db0d6bef3697574c4d21c[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Nov 28 10:19:33 2014 +0000

    Pin Calico package versions to each other

[33mcommit 429a7131494a305e1e3b6829f9002996a71f38f7[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 27 16:37:54 2014 +0000

    Code review markups.

[33mcommit fbb4710014458b58acfad74e8d249f14c2128882[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 27 11:00:44 2014 +0000

    Stub out fiptables properly.
    Can now do minimal test of felix init.

[33mcommit 2ce62de736896d1c7ba8e0dd93bc1079e8ef7d26[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 25 10:09:05 2014 +0000

    Add .coverage to .gitignore

[33mcommit 06b6006aa4fce8518ca8fde51e419cad97428e83[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 16:02:40 2014 +0000

    Having got coverage working, a couple of tests.

[33mcommit 5e972aa4dbf6f0a10ba20786d6bc43f6da03e4bf[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 15:39:09 2014 +0000

    Add some config file tests

[33mcommit 57682c49ec429cc893d0ac579a7f84fea5c6ce3b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 14:38:28 2014 +0000

    Move config logic around so it can be tested.

[33mcommit f7df45c01e3a0212ea81198d3eef9833bdcb254b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 13:27:49 2014 +0000

    Simplify test framework. Still no actual tests...

[33mcommit e784533522159cefaaa8741d5bc61100cdc6d9fa[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 12:14:15 2014 +0000

    Tidy up Felix use of system calls.

[33mcommit c91aa9d34893a8c23b7c2fe9b57cd9bd6783aa8f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 11:33:39 2014 +0000

    Minor fix after some testing of the new code.

[33mcommit a807709d56cd270e776b0e32f3153ef6cf9efcb4[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 24 10:56:33 2014 +0000

    More refactoring to allow mocking out of iptables code.

[33mcommit 2fbbcf0a4beb6828787e2e188cfab0355cca4e9b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 20 14:36:46 2014 +0000

    Remove some iptc knowledge from frules.

[33mcommit 58bfedebd75ceacd78681c3d8098914fc4d1bb34[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 20 13:47:50 2014 +0000

    Move iptables specific stuff into its own module.
    Not complete, but works in this state, so committing now!

[33mcommit 86077fa8c66cd91afd5fb1f05c060a066668ed29[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 20 13:17:31 2014 +0000

    Basic restructuring - start reorg of futils

[33mcommit b7d06e4362949b786ad06c606d95ce648de91e9b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 20 13:17:08 2014 +0000

    Initial test infrastructure - no real tests yet.

[33mcommit 5bfad2cead0c4ce2e632d0e59c238d278a1652e5[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 24 11:31:33 2014 +0000

    Harmonize content and presentation of copyright notices

[33mcommit b900bc877afe31cd50f563bbc29c8ea9014d8a10[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Nov 21 19:29:06 2014 +0000

    Version 0.8

[33mcommit d7208933c251877a8d84b0fd33464a93d3de4531[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Nov 21 12:01:37 2014 +0000

    Version 0.8~2

[33mcommit bf91a2f6c3f99c770db616ceb6d55e4d63264c11[m
Merge: 2528c88d fbbf901c
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Nov 20 14:23:35 2014 +0000

    Merge pull request #49 from Metaswitch/metadata
    
    Metadata

[33mcommit 2528c88dae9469d3a769f0556060f5a0fe2506e2[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Nov 20 13:31:50 2014 +0000

    More changes to bump version to 0.8

[33mcommit eaf02a950d4665be7b39f4197c53e1c88f8ae77f[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Nov 20 13:06:32 2014 +0000

    Version 0.8~1

[33mcommit fbbf901ce02125946947733b1254434941f5c71a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 20 10:48:37 2014 +0000

    Ban traffic to the loopback address from VMs
    (unless for metadata)

[33mcommit a1907f409f74d8dd9808f3ae110aaf080dba125c[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Nov 20 09:40:32 2014 +0000

    Allow address as well as IP for metadata.

[33mcommit 55b33d7e1a8e9275e40706e027cea511131d01b6[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Nov 19 15:41:02 2014 +0000

    Add Metadata IP and Port configuration to Felix

[33mcommit 41c93f29bf1070002dd2a7b9c089eb42cbdd8258[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Nov 19 15:39:54 2014 +0000

    Config file tweaks.
    Comment out values matching defaults.

[33mcommit 46788d15c736a213a12a2e5c9f5525e57fb323e2[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Nov 19 15:35:59 2014 +0000

    Handle ACLUPDATE for deleted endpoint.

[33mcommit 492aad0327486ccc160b7022011a9ae198b9ee0b[m
Merge: 56b697ff 4550e575
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Wed Nov 19 11:44:46 2014 +0000

    Merge pull request #48 from Metaswitch/issue38a
    
    Fix more issues with issue38 code.

[33mcommit 4550e5757bfe7fcab58ab6f0117b630c6c9fcdc8[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 18 17:26:00 2014 +0000

    Fix more issues with issue38 code.
      Allow DHCP for IPv6 too
      Fix up getting in / out interfaces backwards

[33mcommit 56b697ff254c48a8b6b34bef7dc75c9e4b7eba74[m
Merge: 19ce0f83 1346620f
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 18 14:52:58 2014 +0000

    Merge pull request #47 from Metaswitch/dhcp
    
    Unblock outgoing DHCP. Bug in fix to issue38.

[33mcommit 1346620fa1d651f4fbb2e23c2de39fca45ff3847[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 18 14:48:27 2014 +0000

    Unblock outgoing DHCP. Bug in fix to issue38.

[33mcommit 19ce0f83a1afce8a7e945439c52ab70cbb8c8d48[m
Merge: 8aa56392 4c2ebce4
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 18 13:36:03 2014 +0000

    Merge pull request #45 from Metaswitch/issue39
    
    Fix up ICMP rules for all ICMP.

[33mcommit 4c2ebce49f4ae4cddd3b4440ddc20f02ed781f1f[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 18 12:07:25 2014 +0000

    Various code review markups ready for merging.

[33mcommit 8aa563925110d6bfecf71ca602daea98be29286c[m
Merge: 9bbd22d6 b9c9c9e2
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 18 11:06:43 2014 +0000

    Merge pull request #46 from Metaswitch/cifix
    
    Fix bug where duplicate rules created.

[33mcommit b9c9c9e24973dff6ee39ae65d39fb3c85573574e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 18 11:00:00 2014 +0000

    Fix bug where duplicate rules created.

[33mcommit 4af90d0d538d8d0ec171ea8c3b8365c593be3bb5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 17 16:24:16 2014 +0000

    Fix up ICMP rules for all ICMP.

[33mcommit 9bbd22d6d310221468e1fa96e58bf459e8cf83d8[m
Merge: 0967dba5 c104b927
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 17 15:15:35 2014 +0000

    Merge pull request #44 from Metaswitch/issue39
    
    Fix for https://github.com/Metaswitch/calico/issues/39

[33mcommit c104b9275e575606391999e635f994c4eee2fb6d[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 17 14:56:53 2014 +0000

    Code review markups.

[33mcommit d5657fa9f48e9abc4b26a6a6aaf53ba3a977dee9[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 17 09:12:31 2014 +0000

    Minor typo fixes.

[33mcommit 16a24d8ac93a2514039775f2d0db97779814889b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 14:47:55 2014 +0000

    Some trivial code tidy left over from the merges.

[33mcommit f33e412a5686aeb9466214be7d2d7f584b0cd21a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 15:40:38 2014 +0000

    Clean up code and tidy up ready so that accept default rules can work.

[33mcommit 0967dba568279a0b0d5b4af54b4c8b1b2a89cf08[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 11 17:21:26 2014 +0000

    Update RPM packaging to match Debian/Ubuntu changes for source preparation

[33mcommit d88b1ac94fe3fabd5e5812e02633d9842bfe60ec[m
Merge: 4f396023 aa069fbc
Author: neiljerram <nj@metaswitch.com>
Date:   Tue Nov 11 16:56:04 2014 +0000

    Merge pull request #42 from Metaswitch/plw
    
    Two bug fixes

[33mcommit aa069fbc91f186b7f0fd2ea06b7ae5dfb6c3233b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 16:15:03 2014 +0000

    More readability fixes

[33mcommit f80d252f13b76b3a079c5653ece634a70062d95a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 16:07:36 2014 +0000

    Tweak CIDR fix for readability.

[33mcommit 0447da7408d2d9e0ec5035c8ab1ee50710d13eed[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 14:09:39 2014 +0000

    Allow for CIDRs that match all addresses.

[33mcommit 80243db4b0373932e2f7225276dd0723a1bad8e2[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 13:48:21 2014 +0000

    Fix so that use destination port even when matching on source address.

[33mcommit 4f39602385c8d8f46584ae20d015f1c329425dc4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Tue Nov 11 12:50:56 2014 +0000

    Update packaging to support source package creation and upload

[33mcommit cdd398070231421f9b706f410ed7e3a5a1b9bbf0[m
Merge: fb42b611 b18be5f8
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Nov 11 12:45:29 2014 +0000

    Merge pull request #41 from Metaswitch/markups2
    
    Reams of code markups after internal review.

[33mcommit b18be5f87ef605f67f9ed9943976b9d9b42a68ca[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 10 11:04:27 2014 +0000

    Reams of code markups after internal review.

[33mcommit fb42b6119686beaa0f3433469b0f4ff14b0f6d12[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 10 16:29:37 2014 +0000

    Project Calico version 0.6.4

[33mcommit 74d9a0adf20844b863a2fad16c7da991734abd63[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Nov 10 15:52:04 2014 +0000

    Project Calico version 0.6.3

[33mcommit 52c201865ffc4e6ed4b62b33deb544cf6e642736[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Nov 7 15:41:39 2014 +0000

    Project Calico version 0.6

[33mcommit 7e0cbcc5a72c109049d2f36173d4b19eb209f509[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Nov 5 22:16:03 2014 +0000

    Put in candidate workaround for looping in iptables configuration.

[33mcommit a42ac03c2d7abc31ab482ac17f91ebe7f9bacb69[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Nov 3 12:32:32 2014 +0000

    Fix bug where tap address got wrong MAC address.

[33mcommit 4ea708dccdc312e1be0fd1acdd31963e386194d3[m
Merge: ac09910d fababc24
Author: neiljerram <nj@metaswitch.com>
Date:   Fri Oct 31 12:12:14 2014 +0000

    Merge pull request #27 from Metaswitch/plw
    
    Fix up dull typo in IP removal code.

[33mcommit fababc2465c2435ab68b86f7f843b2d85c54068e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 16:46:34 2014 +0000

    Fix up dull typo in IP removal code.

[33mcommit ac09910d785cbc41a75119a26b1f6f1d684f1738[m
Merge: e31f5c3e ac74d3b8
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 16:16:57 2014 +0000

    Merge pull request #25 from Metaswitch/plw
    
    More minor changes and code tidy up

[33mcommit ac74d3b8357aa39ee4aaa36715206b1c127954e1[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 15:49:18 2014 +0000

    Clean up logic when removing unused IPs.

[33mcommit a886dbb4458e81b5188c67d1bea5257330002440[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 15:31:15 2014 +0000

    Remove IPs from an endpoint when they are removed by the API.
    Also, some minor code tidies.

[33mcommit c8170d9efdd686544901d5d38f977c0c0a1ad2a8[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 15:09:13 2014 +0000

    More minor refactoring and code tidy up.

[33mcommit e31f5c3eb6f872f41bf37c84d7f947abbbce2538[m
Merge: 73b20618 d53d574b
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 14:07:12 2014 +0000

    Merge pull request #23 from Metaswitch/plw
    
    Please can we take this lot - various bug fixes and code tidies.

[33mcommit d53d574b5ec2afa1af99e609d81e1e57b78f5a03[m
Merge: c7546a50 35e89c76
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 14:04:40 2014 +0000

    Merge branch 'plw' of github.com:Metaswitch/calico into plw

[33mcommit c7546a50e6f267cd48947c9d65adf8cddffb5939[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 14:03:48 2014 +0000

    ACL manager was sending a three part message for keepalives. Make it a
    two part message like the others.

[33mcommit 56dbbdbc556a93c4f6336ae6b6e09c3cbd47ffe4[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 12:42:04 2014 +0000

    Minor cosmetic edits.

[33mcommit cf144ddb4721968ef6821887acb4541a02e3304b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 12:23:35 2014 +0000

    Subscribe to ACL heartbeats to avoid timing it out continuously.

[33mcommit ff9bb36511c1617393a8569dc664239279de9b47[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 12:01:35 2014 +0000

    Allow for the state of endpoints to be disabled.

[33mcommit 73b206189e8d8bdf72d3e9847e556cd2dcaa6cbb[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Oct 30 13:33:32 2014 +0000

    RPM packaging: Run Calico services as root, not as 'neutron'

[33mcommit 3c7a95d2f18d24f4bc8ae532e4c496f61ecaebd2[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Oct 30 13:14:23 2014 +0000

    Packaging: calico-felix needs dependency on python-dev(el)

[33mcommit 33d989ac21d7898a4faadd12b67e84b43eef22ed[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Thu Oct 30 13:13:21 2014 +0000

    RPM packaging: start and stop Calico services on install/uninstall

[33mcommit 35e89c7613a44cb8100dd402053a7eb37632ad82[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 12:42:04 2014 +0000

    Minor cosmetic edits.

[33mcommit 15f86ee737401ee2f4aa567186abfcb2f23d212c[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 12:23:35 2014 +0000

    Subscribe to ACL heartbeats to avoid timing it out continuously.

[33mcommit f28bce146fcb0df8a32260d89371910f794b67ee[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Oct 30 12:01:35 2014 +0000

    Allow for the state of endpoints to be disabled.

[33mcommit 26a169adb7ced0d42d71849d7b643e0ca52ba323[m
Merge: 06c58b2b 5e298b59
Author: neiljerram <nj@metaswitch.com>
Date:   Thu Oct 30 08:51:08 2014 +0000

    Merge pull request #21 from Metaswitch/plw
    
    Today's testing

[33mcommit 5e298b593eca2569d4bee1395976d8dd8a3de5ee[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 17:09:19 2014 +0000

    Do not get confused during second resync and delete endpoints.

[33mcommit ac1664adbc87c10768cd7f1c360606b9270fe70a[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 16:01:05 2014 +0000

    Speculative fix for problem with icmp ip6tables rules.

[33mcommit 378b7a6962c27ff52ce23afe8708b956604766ae[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 15:10:56 2014 +0000

    GETACLUPDATE response may arrive before tap interface created; handle it.

[33mcommit e81721e41e891166fbd4af03b0977e20b9f68d2b[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 14:24:52 2014 +0000

    Fix up bug where we created IPv6 sets as IPv4, then crashed.

[33mcommit 1672fae86de8ac7053329bb72887d830cea7dfc2[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 12:11:06 2014 +0000

    Stop using "state" completely - "conntrack" seems more reliable.

[33mcommit d3559452a5d31b5cf2be4a057ba0bff4708b794c[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 12:03:48 2014 +0000

    Fix small bugette in handling of endpoint retry.

[33mcommit eed3af31cc481848e622d4e85afe8a1b6ef8c4f5[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Wed Oct 29 10:50:16 2014 +0000

    Add ep_retry code.

[33mcommit 06c58b2b3c35167e303f6fc1927806657b944271[m
Merge: 06779157 20526c60
Author: neiljerram <nj@metaswitch.com>
Date:   Tue Oct 28 17:18:48 2014 +0000

    Merge pull request #20 from Metaswitch/plw
    
    Neil - can you please take a look at this, and merge when you are happy with it. Thanks.

[33mcommit 20526c603b9f5dfcf53b6b59ac952b4fde457ebf[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Oct 28 17:11:05 2014 +0000

    Finally fix dull issue with python-iptables, state and IPv6.

[33mcommit c69edd3d12befa285d141888db38cb080533645e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Tue Oct 28 16:36:45 2014 +0000

    Many more updates. Apart from intermittent iptables issues, mostly
    working well. Next action is to fix those.

[33mcommit abcab3c600be0f8cbcf6b3da231dd6451bbdf15e[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Oct 27 16:49:57 2014 +0000

    Fix dull bug where we never left long enough for resync responses to
    return on a slow system, ignoring the config values.

[33mcommit a3838f073a18d3373755b2b2e796d2a845fca773[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Oct 27 16:37:11 2014 +0000

    Minor logging enhancement.

[33mcommit 06779157e8de079ab533611ac48896e5ad816314[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 16:32:15 2014 +0000

    Project Calico version 0.5

[33mcommit 18ea5b8dd16247b69e1bdd78a8305eafeadab5db[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 16:16:20 2014 +0000

    RPM packaging fixes

[33mcommit 7a7833c0724b99227a7f0db69a00c26b9c6409da[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 15:59:31 2014 +0000

    Update RPM packaging for newly added components

[33mcommit 84427aef4a72cbb35d4b23740160fc344106beb1[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Oct 27 15:49:16 2014 +0000

    IP v6 support and minor bug fixes.

[33mcommit 0ea11ce667939d886f0acbba327d5b0f61089a96[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 14:38:20 2014 +0000

    Fix ACL Manager startup

[33mcommit c6c00781eba69695ae98c10552b3641e19d9cd0b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 14:22:01 2014 +0000

    Move mkdir_p utility to a properly common place

[33mcommit 17ac9be7985a3d37b0d35bcb781cb6917917e0d4[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 14:20:05 2014 +0000

    Remove old agent function that is now handled by Felix

[33mcommit 7649a266950f1abfffd18b65164749e16ff303b7[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 12:28:11 2014 +0000

    felix.cfg: point by default to plugin and ACL manager on 'controller'

[33mcommit ed90d2b0914df7d55749d29dc7184d27209b5f03[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 12:18:51 2014 +0000

    Integrate new ACL Manager code into Calico install/packaging

[33mcommit 34afd6f7ab422240d3f1390382403d69121fa8d0[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 12:18:32 2014 +0000

    var/run/calico should be owned by root, not neutron

[33mcommit b888f70f4145666bf8cad881934d9ce6bc1e39fa[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Mon Oct 27 10:30:06 2014 +0000

    New ACL Manager component

[33mcommit 6deac97fbd971a815a17730c3ce3f0a79dcde720[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Mon Oct 27 10:40:05 2014 +0000

    Remove useless trace definition

[33mcommit c6c2cd2d8b49b5c3671f8ddefa586b625065e355[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Oct 24 18:35:57 2014 +0100

    Felix: logging domain is now calico.felix.felix, and already set correctly

[33mcommit 6075a19fcc3c71c6762f9fa13480f2d3d1b8e600[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Oct 24 17:37:38 2014 +0100

    Felix: make directory for log file, if necessary

[33mcommit a65393cd7659a7225d88007a1a36c349d8181d2b[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Oct 24 16:44:32 2014 +0100

    Integrate new Felix code into Calico install/packaging

[33mcommit 8bf960693eb6edf2dcc7c48da69371ccc46fe7ca[m
Author: Neil Jerram <Neil.Jerram@metaswitch.com>
Date:   Fri Oct 24 15:42:56 2014 +0100

    New Felix component

[33mcommit 1f53c4f157aa386a27bf3552490ba7f7ecbb8f0a[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Tue Oct 21 12:38:56 2014 +0100

    Move the Calico mechanism driver from here to Neutron repository

[33mcommit a3d94dd061309771c9a604c4843a871c90738902[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Fri Sep 26 10:58:21 2014 +0100

    Project Calico version 0.4.1

[33mcommit a0b6fa81581d6b71f9a80fb84135498c0bf116d4[m
Merge: d558d68d ea5a49e7
Author: neiljerram <nj@metaswitch.com>
Date:   Fri Sep 26 10:35:53 2014 +0100

    Merge pull request #16 from Metaswitch/ipv6-fixes
    
    Install generator script and template for BIRD6 config

[33mcommit ea5a49e78e736228cc3776b0bcfe8a8440a3b304[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Sep 24 11:24:34 2014 +0100

    Install generator script and template for BIRD6 config

[33mcommit d558d68d7f6d8cdcf27425710aaca599c57fbcae[m
Merge: 568434cd 98731433
Author: neiljerram <nj@metaswitch.com>
Date:   Fri Sep 19 09:56:50 2014 +0100

    Merge pull request #13 from Metaswitch/plw
    
    Correct some comments and add support for em* interfaces.

[33mcommit 987314339a136fabc08d7f198784d01fdf8509d9[m
Author: Peter White <peter.white@metaswitch.com>
Date:   Thu Sep 18 14:33:55 2014 +0100

    Correct some comments and add support for em* interfaces.

[33mcommit 568434cd23310e0e5a5ca14bb906a73ff6cea6ec[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Tue Sep 16 17:32:28 2014 +0100

    Project Calico version 0.4

[33mcommit aea1e733c2b154cbc5e747e2e64772112076cd88[m
Merge: 279351c8 59ba0757
Author: neiljerram <nj@metaswitch.com>
Date:   Tue Sep 16 17:25:23 2014 +0100

    Merge pull request #11 from Metaswitch/ipv6
    
    Calico enhancements for Calico/IPv6 connectivity

[33mcommit 59ba07579daa5f1bdb25ba13c164c8d3d51f885a[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Tue Sep 16 17:23:00 2014 +0100

    Only enable proxy ARP on a TAP i/f when setting up an IPv4 address

[33mcommit f70f346de4d889589ca9441c41ca388de6cbba8d[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Mon Sep 15 15:38:01 2014 +0100

    Add BIRD6 sample config and config generator script

[33mcommit 1a8ecb947c67e8629cae9b996115470363576b9b[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Mon Sep 15 15:19:36 2014 +0100

    Persistently enable IP forwarding when Calico package is installed

[33mcommit ac09acb9b06834c6cff29ea396d23cded9e2810b[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Sep 4 14:19:18 2014 +0100

    IPv6: implement IPv6 equivalent of static ARP entry setup

[33mcommit 279351c88ed58b873096c2dd29f5bb0749240722[m
Merge: 1c98f693 aa5d2daf
Author: neiljerram <nj@metaswitch.com>
Date:   Mon Sep 15 15:09:25 2014 +0100

    Merge pull request #9 from Metaswitch/linuxbridge-dep
    
    Changes to remove unnecessary dependencies on linuxbridge code

[33mcommit aa5d2daf2211793deaf4152e2b2e2a6cd3de34ac[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Aug 13 13:46:03 2014 +0100

    RPM spec: remove dependency on linux bridge package

[33mcommit 5c98c97a3bbe32e61227bc504e3a0e564eb8b328[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Aug 13 13:43:02 2014 +0100

    Remove dependency on Linux Bridge agent config
    
    The neutron.plugins.linuxbridge.common.config module executes code when it
    is imported, so this isn't quite as simple as just removing the import
    line: in addition we need to add code for the few bits of config setup
    that we actually want, namely:
    
    - the 'polling_interval' config option
    
    - calls into neutron.agent.common.config to do common agent config to do
      with the root helper and agent state reporting.

[33mcommit db269542cc5595d48c9a5689ca5487064d7e5cdc[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Aug 13 12:55:08 2014 +0100

    Remove processing of interface mappings
    
    Processing of interface mappings, and the associated
    'physical_interface_mappings' config entry, was inherited from the Linux
    Bridge agent code.  In non-Calico OpenStack setups, interface mappings are
    used to:
    
    - give a name (e.g. "physnet1") to each subnet that one or more compute
      node is externally connected to
    
    - specify, on each compute node, which of that node's network interfaces
      is connected to that subnet
      (e.g. "physical_interface_mappings = physnet1:eth0")
    
    - specify how that subnet can be partitioned to transport OpenStack data,
      e.g. by using VLANs on it
      (e.g. "network_vlan_ranges = physnet1:100:299").
    
    Calico doesn't need any of this:  (1) It doesn't do any L2 partitioning of
    the external network, so doesn't need anything like network_vlan_ranges.
    (2) It relies on normal IP routing, set up dynamically by BGP, to decide
    which of the external subnets to use for transport OpenStack data.
    
    In addition, and even in the Calico agent, "physical_interface_mappings" is
    used - if configured - to generate a unique ID for the agent - one that
    distinguishes it from other agents running on other compute nodes.  However
    we haven't been configuring physical_interface_mappings in our setup, and
    there is a fallback algorithm that generates the ID by enumerating all
    Ethernet devices and taking the first one's MAC address.  We can continue
    to rely on that fallback, as we already have been.
    
    Therefore we can remove all of the interface_mappings processing.

[33mcommit 4c3b4aeb8f1b2ef67c4af9a6c520f9d39b039216[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Aug 13 12:30:53 2014 +0100

    Remove 'lconst' dependency on neutron.plugins.linuxbridge.common
    
    This dependency is only used for pre-Havana versions of OpenStack.
    Calico requires Icehouse or later, so we can replace the relevant code
    by an error that announces this, and remove the dependency.

[33mcommit 1c98f693b6b56b9f33450e39fead39d270b53d5a[m
Merge: 32a10a7c ad612989
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Fri Jul 25 13:36:12 2014 +0100

    Merge pull request #7 from Metaswitch/birdconf
    
    Import routes from all ethernet interfaces.

[33mcommit ad612989810d9c65d20e5f1dc08c993e3360ebe9[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 25 10:40:04 2014 +0100

    Import routes from all ethernet interfaces.
    
    This resolves a problem whereby bird determines that some routes
    are unreachable when they can only be accessed over interfaces
    that are not named eth0.

[33mcommit 32a10a7cef78db4373eaab5fb6a1fb9bff8c3d92[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 24 17:38:59 2014 +0100

    Fix Ubuntu upstart job so that calico-compute runs after iptables-persistent

[33mcommit d9f6dc86b62724668cbc76e76d02f84808845f55[m
Merge: abf3e5b7 e936a50e
Author: neiljerram <nj@metaswitch.com>
Date:   Mon Jul 21 10:54:13 2014 +0100

    Merge pull request #5 from Metaswitch/0.3-rc1
    
    Changes for 0.3 release

[33mcommit e936a50eb31c9c2c4a20aa3b386a8cfd9b697b77[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Fri Jul 18 10:42:19 2014 +0100

    Project Calico version 0.3

[33mcommit b2528d7f1f115c3c4b82d4980e601e145d559efa[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Fri Jul 18 16:27:23 2014 +0100

    Don't reject INPUT and FORWARD packets by default on the compute host

[33mcommit 190fd5a48aceaf94fd6e7617a273e721bf204496[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 13:57:40 2014 +0100

    Enhance how we (re)start BIRD to work for RHEL as well as for Ubuntu

[33mcommit 87e44af0bbba4e1050def005e71e419d0d54d667[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 13:56:45 2014 +0100

    Don't assume that /etc/bird already exists when generating BIRD config

[33mcommit 85626748410d6ad49f291f875f7f9a2cb5ba73a6[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 12:57:46 2014 +0100

    Depend on openstack-neutron-linuxbridge, for "from neutron.plugins.linuxbridge.common import config"

[33mcommit 493e326bab5773c9b9cf7cb978a7020aade24f50[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 12:30:37 2014 +0100

    Use iptables -D on RHEL 6.5 instead of iptables -C, for avoiding duplicate DHCP checksum rules

[33mcommit 408b49fa37aa051affe60fde239255ed3749faad[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 12:22:43 2014 +0100

    Enable calico-compute service in the usual runlevels

[33mcommit 84ee2ab68b170ab7fb235161d9341ae2ec2c7fa1[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 12:20:28 2014 +0100

    Install config files under /etc, not /usr/etc

[33mcommit 1253431d7aa683e71c1804b18a6ffaab313b573e[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 11:01:53 2014 +0100

    RPM spec: Don't depend on BIRD, as BIRD isn't available in RPM form for RHEL 6.5

[33mcommit 07c17e03298784166d5cb14c19e2ca7fbae553fc[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jul 17 11:00:47 2014 +0100

    Add automatic (un)installation steps for RPM-based install

[33mcommit abf3e5b7abcb17046d7db35695ccd041efb7c53e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 16 16:16:04 2014 +0100

    Fixup metadata bugs.

[33mcommit e9e64ae10945dd5916d8b63602e5fd57c9730ad5[m
Merge: 643ee307 2d67f979
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Wed Jul 16 15:45:49 2014 +0100

    Merge pull request #4 from Metaswitch/metadata
    
    Add metadata function to Felix.

[33mcommit 2d67f9794867490cfe81a639d09315d62a4d401e[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 16 15:44:56 2014 +0100

    Correctly install new CLI helpers.

[33mcommit 77ba9875528a9d7d8e0d511ca5e9973327b7800d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Wed Jul 16 15:43:41 2014 +0100

    Clarifying comments.
    
    From NJ's code review.

[33mcommit 643ee307fc5fd4c9c54956d46f603273155e47ee[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Jul 16 13:52:54 2014 +0100

    Add automatic (un)installation steps for RPM-based install

[33mcommit 2dd9a15bc72677a187d37a0c79d717bcecaa0259[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Wed Jul 16 13:51:53 2014 +0100

    Correct dependency names for RHEL environment

[33mcommit 611f153f9f35cf5b5c9f59192f7d313df8c10bae[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 11 13:36:09 2014 +0100

    Must use DNAT, not REDIRECT.

[33mcommit 7cefe4bbd28a8aec13b0fb14ac572ff0b279f44d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 11 10:28:25 2014 +0100

    Enable and disable local routing.

[33mcommit 06be96fc3327aa8daf72121376ffa25144fa7d5d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 11 10:26:37 2014 +0100

    Mention upcoming ACL task.

[33mcommit b8d0a7b31756a5451e73fe17ac2013195a74571d[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 11 10:20:44 2014 +0100

    Define commands for enabling local routing.

[33mcommit 72fcf4be9659fb1f15902fc041949ad7d7a944ab[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 11 10:10:07 2014 +0100

    Launch the metadata proxy, set up NAT.

[33mcommit 0525d8234dd48d8f0fc15c196a4544ecd5fe9465[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jul 11 10:06:04 2014 +0100

    Define metadata-proxy-related options.

[33mcommit c2b2f4e268ad1eb8210aea30b28bea0069093eed[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Tue Jul 8 16:20:42 2014 +0100

    Updates to RPM build script
    
    - Specify branch to build
    - Copy all rpm/* files into SOURCES, not just *.patch

[33mcommit 30adbfe35e03cabd6272cb89e3c811eacf1ee7ed[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Mon Jul 7 13:22:01 2014 +0100

    Make build.sh executable

[33mcommit 9eae73a9e92984b48119e8c1c2fdb9d6647bbd43[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Fri Jul 4 15:42:52 2014 +0100

    RPM packaging for Project Calico - version 0.2

[33mcommit 8e4ca828facac80e4033851a3323d53b227ecaa9[m
Merge: e98f875c 3fd6942b
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Thu Jul 3 10:02:16 2014 +0100

    Merge pull request #2 from Metaswitch/warning_logs
    
    Drop the severity of function entry log to DEBUG.

[33mcommit 3fd6942be12e3c575e15ef42a91464e3f24dab64[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Thu Jul 3 09:12:16 2014 +0100

    Drop the severity of function entry log to DEBUG.

[33mcommit e98f875caad99e14721b7d192505d8b568adc463[m
Merge: 011686d5 f97e4f83
Author: neiljerram <neil@ossau.homelinux.net>
Date:   Tue Jul 1 15:52:16 2014 +0100

    Merge pull request #1 from Metaswitch/qa-0.2
    
    Project Calico version 0.2

[33mcommit f97e4f83f544a3c67d9a5392859ed3fc102f07e0[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Tue Jul 1 15:21:11 2014 +0100

    Project Calico version 0.2
    
    - Make iptables rule for DHCP checksum filling persist across
      compute node reboots.
    
    - Add firewall_driver config to calico_agent.ini.

[33mcommit 011686d5806cc20277b415e28e1ce5c31d634932[m
Author: Cory Benfield <cory.benfield@metaswitch.com>
Date:   Fri Jun 27 10:24:48 2014 +0100

    Repace README.txt with README.md.

[33mcommit 66f919c642446f31c964cdbf6a412a6aa1c048d6[m
Author: Neil Jerram <nj@metaswitch.com>
Date:   Thu Jun 19 17:11:40 2014 +0100

    Project Calico version 0.1
